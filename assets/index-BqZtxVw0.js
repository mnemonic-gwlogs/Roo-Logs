var Kz=Object.defineProperty;var Gz=(e,t,n)=>t in e?Kz(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var Vb=(e,t,n)=>Gz(e,typeof t!="symbol"?t+"":t,n);function Yz(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in e)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(e,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var Sg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ks(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var $E={exports:{}},ox={},FE={exports:{}},xn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lh=Symbol.for("react.element"),Xz=Symbol.for("react.portal"),Qz=Symbol.for("react.fragment"),Zz=Symbol.for("react.strict_mode"),Jz=Symbol.for("react.profiler"),e6=Symbol.for("react.provider"),t6=Symbol.for("react.context"),n6=Symbol.for("react.forward_ref"),r6=Symbol.for("react.suspense"),i6=Symbol.for("react.memo"),a6=Symbol.for("react.lazy"),dj=Symbol.iterator;function s6(e){return e===null||typeof e!="object"?null:(e=dj&&e[dj]||e["@@iterator"],typeof e=="function"?e:null)}var RE={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},BE=Object.assign,zE={};function ef(e,t,n){this.props=e,this.context=t,this.refs=zE,this.updater=n||RE}ef.prototype.isReactComponent={};ef.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};ef.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function UE(){}UE.prototype=ef.prototype;function G1(e,t,n){this.props=e,this.context=t,this.refs=zE,this.updater=n||RE}var Y1=G1.prototype=new UE;Y1.constructor=G1;BE(Y1,ef.prototype);Y1.isPureReactComponent=!0;var fj=Array.isArray,WE=Object.prototype.hasOwnProperty,X1={current:null},VE={key:!0,ref:!0,__self:!0,__source:!0};function HE(e,t,n){var r,i={},a=null,s=null;if(t!=null)for(r in t.ref!==void 0&&(s=t.ref),t.key!==void 0&&(a=""+t.key),t)WE.call(t,r)&&!VE.hasOwnProperty(r)&&(i[r]=t[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];i.children=c}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:lh,type:e,key:a,ref:s,props:i,_owner:X1.current}}function o6(e,t){return{$$typeof:lh,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Q1(e){return typeof e=="object"&&e!==null&&e.$$typeof===lh}function l6(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var mj=/\/+/g;function Hb(e,t){return typeof e=="object"&&e!==null&&e.key!=null?l6(""+e.key):t.toString(36)}function tg(e,t,n,r,i){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var s=!1;if(e===null)s=!0;else switch(a){case"string":case"number":s=!0;break;case"object":switch(e.$$typeof){case lh:case Xz:s=!0}}if(s)return s=e,i=i(s),e=r===""?"."+Hb(s,0):r,fj(i)?(n="",e!=null&&(n=e.replace(mj,"$&/")+"/"),tg(i,t,n,"",function(u){return u})):i!=null&&(Q1(i)&&(i=o6(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(mj,"$&/")+"/")+e)),t.push(i)),1;if(s=0,r=r===""?".":r+":",fj(e))for(var o=0;o<e.length;o++){a=e[o];var c=r+Hb(a,o);s+=tg(a,t,n,c,i)}else if(c=s6(e),typeof c=="function")for(e=c.call(e),o=0;!(a=e.next()).done;)a=a.value,c=r+Hb(a,o++),s+=tg(a,t,n,c,i);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return s}function dp(e,t,n){if(e==null)return e;var r=[],i=0;return tg(e,r,"","",function(a){return t.call(n,a,i++)}),r}function c6(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var oa={current:null},ng={transition:null},u6={ReactCurrentDispatcher:oa,ReactCurrentBatchConfig:ng,ReactCurrentOwner:X1};function qE(){throw Error("act(...) is not supported in production builds of React.")}xn.Children={map:dp,forEach:function(e,t,n){dp(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return dp(e,function(){t++}),t},toArray:function(e){return dp(e,function(t){return t})||[]},only:function(e){if(!Q1(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};xn.Component=ef;xn.Fragment=Qz;xn.Profiler=Jz;xn.PureComponent=G1;xn.StrictMode=Zz;xn.Suspense=r6;xn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=u6;xn.act=qE;xn.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=BE({},e.props),i=e.key,a=e.ref,s=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,s=X1.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)WE.call(t,c)&&!VE.hasOwnProperty(c)&&(r[c]=t[c]===void 0&&o!==void 0?o[c]:t[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];r.children=o}return{$$typeof:lh,type:e.type,key:i,ref:a,props:r,_owner:s}};xn.createContext=function(e){return e={$$typeof:t6,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:e6,_context:e},e.Consumer=e};xn.createElement=HE;xn.createFactory=function(e){var t=HE.bind(null,e);return t.type=e,t};xn.createRef=function(){return{current:null}};xn.forwardRef=function(e){return{$$typeof:n6,render:e}};xn.isValidElement=Q1;xn.lazy=function(e){return{$$typeof:a6,_payload:{_status:-1,_result:e},_init:c6}};xn.memo=function(e,t){return{$$typeof:i6,type:e,compare:t===void 0?null:t}};xn.startTransition=function(e){var t=ng.transition;ng.transition={};try{e()}finally{ng.transition=t}};xn.unstable_act=qE;xn.useCallback=function(e,t){return oa.current.useCallback(e,t)};xn.useContext=function(e){return oa.current.useContext(e)};xn.useDebugValue=function(){};xn.useDeferredValue=function(e){return oa.current.useDeferredValue(e)};xn.useEffect=function(e,t){return oa.current.useEffect(e,t)};xn.useId=function(){return oa.current.useId()};xn.useImperativeHandle=function(e,t,n){return oa.current.useImperativeHandle(e,t,n)};xn.useInsertionEffect=function(e,t){return oa.current.useInsertionEffect(e,t)};xn.useLayoutEffect=function(e,t){return oa.current.useLayoutEffect(e,t)};xn.useMemo=function(e,t){return oa.current.useMemo(e,t)};xn.useReducer=function(e,t,n){return oa.current.useReducer(e,t,n)};xn.useRef=function(e){return oa.current.useRef(e)};xn.useState=function(e){return oa.current.useState(e)};xn.useSyncExternalStore=function(e,t,n){return oa.current.useSyncExternalStore(e,t,n)};xn.useTransition=function(){return oa.current.useTransition()};xn.version="18.3.1";FE.exports=xn;var g=FE.exports;const lx=Ks(g),d6=Yz({__proto__:null,default:lx},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f6=g,m6=Symbol.for("react.element"),h6=Symbol.for("react.fragment"),p6=Object.prototype.hasOwnProperty,g6=f6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x6={key:!0,ref:!0,__self:!0,__source:!0};function KE(e,t,n){var r,i={},a=null,s=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(s=t.ref);for(r in t)p6.call(t,r)&&!x6.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:m6,type:e,key:a,ref:s,props:i,_owner:g6.current}}ox.Fragment=h6;ox.jsx=KE;ox.jsxs=KE;$E.exports=ox;var l=$E.exports,wy={},GE={exports:{}},qa={},YE={exports:{}},XE={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(Z,xe){var _=Z.length;Z.push(xe);e:for(;0<_;){var D=_-1>>>1,ue=Z[D];if(0<i(ue,xe))Z[D]=xe,Z[_]=ue,_=D;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var xe=Z[0],_=Z.pop();if(_!==xe){Z[0]=_;e:for(var D=0,ue=Z.length,S=ue>>>1;D<S;){var Y=2*(D+1)-1,B=Z[Y],ee=Y+1,de=Z[ee];if(0>i(B,_))ee<ue&&0>i(de,B)?(Z[D]=de,Z[ee]=_,D=ee):(Z[D]=B,Z[Y]=_,D=Y);else if(ee<ue&&0>i(de,_))Z[D]=de,Z[ee]=_,D=ee;else break e}}return xe}function i(Z,xe){var _=Z.sortIndex-xe.sortIndex;return _!==0?_:Z.id-xe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();e.unstable_now=function(){return s.now()-o}}var c=[],u=[],d=1,f=null,h=3,m=!1,p=!1,x=!1,v=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Z){for(var xe=n(u);xe!==null;){if(xe.callback===null)r(u);else if(xe.startTime<=Z)r(u),xe.sortIndex=xe.expirationTime,t(c,xe);else break;xe=n(u)}}function N(Z){if(x=!1,w(Z),!p)if(n(c)!==null)p=!0,Oe(j);else{var xe=n(u);xe!==null&&fe(N,xe.startTime-Z)}}function j(Z,xe){p=!1,x&&(x=!1,b(E),E=-1),m=!0;var _=h;try{for(w(xe),f=n(c);f!==null&&(!(f.expirationTime>xe)||Z&&!$());){var D=f.callback;if(typeof D=="function"){f.callback=null,h=f.priorityLevel;var ue=D(f.expirationTime<=xe);xe=e.unstable_now(),typeof ue=="function"?f.callback=ue:f===n(c)&&r(c),w(xe)}else r(c);f=n(c)}if(f!==null)var S=!0;else{var Y=n(u);Y!==null&&fe(N,Y.startTime-xe),S=!1}return S}finally{f=null,h=_,m=!1}}var k=!1,C=null,E=-1,R=5,T=-1;function $(){return!(e.unstable_now()-T<R)}function I(){if(C!==null){var Z=e.unstable_now();T=Z;var xe=!0;try{xe=C(!0,Z)}finally{xe?re():(k=!1,C=null)}}else k=!1}var re;if(typeof y=="function")re=function(){y(I)};else if(typeof MessageChannel<"u"){var ce=new MessageChannel,ve=ce.port2;ce.port1.onmessage=I,re=function(){ve.postMessage(null)}}else re=function(){v(I,0)};function Oe(Z){C=Z,k||(k=!0,re())}function fe(Z,xe){E=v(function(){Z(e.unstable_now())},xe)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(Z){Z.callback=null},e.unstable_continueExecution=function(){p||m||(p=!0,Oe(j))},e.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<Z?Math.floor(1e3/Z):5},e.unstable_getCurrentPriorityLevel=function(){return h},e.unstable_getFirstCallbackNode=function(){return n(c)},e.unstable_next=function(Z){switch(h){case 1:case 2:case 3:var xe=3;break;default:xe=h}var _=h;h=xe;try{return Z()}finally{h=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(Z,xe){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var _=h;h=Z;try{return xe()}finally{h=_}},e.unstable_scheduleCallback=function(Z,xe,_){var D=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?D+_:D):_=D,Z){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=_+ue,Z={id:d++,callback:xe,priorityLevel:Z,startTime:_,expirationTime:ue,sortIndex:-1},_>D?(Z.sortIndex=_,t(u,Z),n(c)===null&&Z===n(u)&&(x?(b(E),E=-1):x=!0,fe(N,_-D))):(Z.sortIndex=ue,t(c,Z),p||m||(p=!0,Oe(j))),Z},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(Z){var xe=h;return function(){var _=h;h=xe;try{return Z.apply(this,arguments)}finally{h=_}}}})(XE);YE.exports=XE;var b6=YE.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v6=g,Wa=b6;function mt(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var QE=new Set,wm={};function Au(e,t){Ed(e,t),Ed(e+"Capture",t)}function Ed(e,t){for(wm[e]=t,e=0;e<t.length;e++)QE.add(t[e])}var sl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ky=Object.prototype.hasOwnProperty,y6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,hj={},pj={};function w6(e){return ky.call(pj,e)?!0:ky.call(hj,e)?!1:y6.test(e)?pj[e]=!0:(hj[e]=!0,!1)}function k6(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function N6(e,t,n,r){if(t===null||typeof t>"u"||k6(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function la(e,t,n,r,i,a,s){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=s}var Ei={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ei[e]=new la(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ei[t]=new la(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ei[e]=new la(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ei[e]=new la(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ei[e]=new la(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ei[e]=new la(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ei[e]=new la(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ei[e]=new la(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ei[e]=new la(e,5,!1,e.toLowerCase(),null,!1,!1)});var Z1=/[\-:]([a-z])/g;function J1(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Z1,J1);Ei[t]=new la(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Z1,J1);Ei[t]=new la(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Z1,J1);Ei[t]=new la(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ei[e]=new la(e,1,!1,e.toLowerCase(),null,!1,!1)});Ei.xlinkHref=new la("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ei[e]=new la(e,1,!1,e.toLowerCase(),null,!0,!0)});function ek(e,t,n,r){var i=Ei.hasOwnProperty(t)?Ei[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(N6(t,n,i,r)&&(n=null),r||i===null?w6(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bl=v6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,fp=Symbol.for("react.element"),nd=Symbol.for("react.portal"),rd=Symbol.for("react.fragment"),tk=Symbol.for("react.strict_mode"),Ny=Symbol.for("react.profiler"),ZE=Symbol.for("react.provider"),JE=Symbol.for("react.context"),nk=Symbol.for("react.forward_ref"),Sy=Symbol.for("react.suspense"),jy=Symbol.for("react.suspense_list"),rk=Symbol.for("react.memo"),Wl=Symbol.for("react.lazy"),e5=Symbol.for("react.offscreen"),gj=Symbol.iterator;function Sf(e){return e===null||typeof e!="object"?null:(e=gj&&e[gj]||e["@@iterator"],typeof e=="function"?e:null)}var Nr=Object.assign,qb;function Vf(e){if(qb===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);qb=t&&t[1]||""}return`
`+qb+e}var Kb=!1;function Gb(e,t){if(!e||Kb)return"";Kb=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),a=r.stack.split(`
`),s=i.length-1,o=a.length-1;1<=s&&0<=o&&i[s]!==a[o];)o--;for(;1<=s&&0<=o;s--,o--)if(i[s]!==a[o]){if(s!==1||o!==1)do if(s--,o--,0>o||i[s]!==a[o]){var c=`
`+i[s].replace(" at new "," at ");return e.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",e.displayName)),c}while(1<=s&&0<=o);break}}}finally{Kb=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Vf(e):""}function S6(e){switch(e.tag){case 5:return Vf(e.type);case 16:return Vf("Lazy");case 13:return Vf("Suspense");case 19:return Vf("SuspenseList");case 0:case 2:case 15:return e=Gb(e.type,!1),e;case 11:return e=Gb(e.type.render,!1),e;case 1:return e=Gb(e.type,!0),e;default:return""}}function Cy(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case rd:return"Fragment";case nd:return"Portal";case Ny:return"Profiler";case tk:return"StrictMode";case Sy:return"Suspense";case jy:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case JE:return(e.displayName||"Context")+".Consumer";case ZE:return(e._context.displayName||"Context")+".Provider";case nk:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case rk:return t=e.displayName||null,t!==null?t:Cy(e.type)||"Memo";case Wl:t=e._payload,e=e._init;try{return Cy(e(t))}catch{}}return null}function j6(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Cy(t);case 8:return t===tk?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function mc(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function t5(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function C6(e){var t=t5(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,a.call(this,s)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function mp(e){e._valueTracker||(e._valueTracker=C6(e))}function n5(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=t5(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function jg(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ay(e,t){var n=t.checked;return Nr({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function xj(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=mc(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function r5(e,t){t=t.checked,t!=null&&ek(e,"checked",t,!1)}function Py(e,t){r5(e,t);var n=mc(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Dy(e,t.type,n):t.hasOwnProperty("defaultValue")&&Dy(e,t.type,mc(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function bj(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Dy(e,t,n){(t!=="number"||jg(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Hf=Array.isArray;function yd(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+mc(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Ty(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(mt(91));return Nr({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function vj(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(mt(92));if(Hf(n)){if(1<n.length)throw Error(mt(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:mc(n)}}function i5(e,t){var n=mc(t.value),r=mc(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function yj(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function a5(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function My(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?a5(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var hp,s5=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(hp=hp||document.createElement("div"),hp.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=hp.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function km(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var tm={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A6=["Webkit","ms","Moz","O"];Object.keys(tm).forEach(function(e){A6.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),tm[t]=tm[e]})});function o5(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||tm.hasOwnProperty(e)&&tm[e]?(""+t).trim():t+"px"}function l5(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=o5(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var P6=Nr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ey(e,t){if(t){if(P6[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(mt(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(mt(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(mt(61))}if(t.style!=null&&typeof t.style!="object")throw Error(mt(62))}}function Oy(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Iy=null;function ik(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var _y=null,wd=null,kd=null;function wj(e){if(e=dh(e)){if(typeof _y!="function")throw Error(mt(280));var t=e.stateNode;t&&(t=mx(t),_y(e.stateNode,e.type,t))}}function c5(e){wd?kd?kd.push(e):kd=[e]:wd=e}function u5(){if(wd){var e=wd,t=kd;if(kd=wd=null,wj(e),t)for(e=0;e<t.length;e++)wj(t[e])}}function d5(e,t){return e(t)}function f5(){}var Yb=!1;function m5(e,t,n){if(Yb)return e(t,n);Yb=!0;try{return d5(e,t,n)}finally{Yb=!1,(wd!==null||kd!==null)&&(f5(),u5())}}function Nm(e,t){var n=e.stateNode;if(n===null)return null;var r=mx(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(mt(231,t,typeof n));return n}var Ly=!1;if(sl)try{var jf={};Object.defineProperty(jf,"passive",{get:function(){Ly=!0}}),window.addEventListener("test",jf,jf),window.removeEventListener("test",jf,jf)}catch{Ly=!1}function D6(e,t,n,r,i,a,s,o,c){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var nm=!1,Cg=null,Ag=!1,$y=null,T6={onError:function(e){nm=!0,Cg=e}};function M6(e,t,n,r,i,a,s,o,c){nm=!1,Cg=null,D6.apply(T6,arguments)}function E6(e,t,n,r,i,a,s,o,c){if(M6.apply(this,arguments),nm){if(nm){var u=Cg;nm=!1,Cg=null}else throw Error(mt(198));Ag||(Ag=!0,$y=u)}}function Pu(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function h5(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function kj(e){if(Pu(e)!==e)throw Error(mt(188))}function O6(e){var t=e.alternate;if(!t){if(t=Pu(e),t===null)throw Error(mt(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var a=i.alternate;if(a===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return kj(i),e;if(a===r)return kj(i),t;a=a.sibling}throw Error(mt(188))}if(n.return!==r.return)n=i,r=a;else{for(var s=!1,o=i.child;o;){if(o===n){s=!0,n=i,r=a;break}if(o===r){s=!0,r=i,n=a;break}o=o.sibling}if(!s){for(o=a.child;o;){if(o===n){s=!0,n=a,r=i;break}if(o===r){s=!0,r=a,n=i;break}o=o.sibling}if(!s)throw Error(mt(189))}}if(n.alternate!==r)throw Error(mt(190))}if(n.tag!==3)throw Error(mt(188));return n.stateNode.current===n?e:t}function p5(e){return e=O6(e),e!==null?g5(e):null}function g5(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=g5(e);if(t!==null)return t;e=e.sibling}return null}var x5=Wa.unstable_scheduleCallback,Nj=Wa.unstable_cancelCallback,I6=Wa.unstable_shouldYield,_6=Wa.unstable_requestPaint,Rr=Wa.unstable_now,L6=Wa.unstable_getCurrentPriorityLevel,ak=Wa.unstable_ImmediatePriority,b5=Wa.unstable_UserBlockingPriority,Pg=Wa.unstable_NormalPriority,$6=Wa.unstable_LowPriority,v5=Wa.unstable_IdlePriority,cx=null,mo=null;function F6(e){if(mo&&typeof mo.onCommitFiberRoot=="function")try{mo.onCommitFiberRoot(cx,e,void 0,(e.current.flags&128)===128)}catch{}}var Fs=Math.clz32?Math.clz32:z6,R6=Math.log,B6=Math.LN2;function z6(e){return e>>>=0,e===0?32:31-(R6(e)/B6|0)|0}var pp=64,gp=4194304;function qf(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Dg(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,a=e.pingedLanes,s=n&268435455;if(s!==0){var o=s&~i;o!==0?r=qf(o):(a&=s,a!==0&&(r=qf(a)))}else s=n&~i,s!==0?r=qf(s):a!==0&&(r=qf(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,a=t&-t,i>=a||i===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Fs(t),i=1<<n,r|=e[n],t&=~i;return r}function U6(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function W6(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,a=e.pendingLanes;0<a;){var s=31-Fs(a),o=1<<s,c=i[s];c===-1?(!(o&n)||o&r)&&(i[s]=U6(o,t)):c<=t&&(e.expiredLanes|=o),a&=~o}}function Fy(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function y5(){var e=pp;return pp<<=1,!(pp&4194240)&&(pp=64),e}function Xb(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ch(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Fs(t),e[t]=n}function V6(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Fs(n),a=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~a}}function sk(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Fs(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var Un=0;function w5(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var k5,ok,N5,S5,j5,Ry=!1,xp=[],nc=null,rc=null,ic=null,Sm=new Map,jm=new Map,Gl=[],H6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sj(e,t){switch(e){case"focusin":case"focusout":nc=null;break;case"dragenter":case"dragleave":rc=null;break;case"mouseover":case"mouseout":ic=null;break;case"pointerover":case"pointerout":Sm.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":jm.delete(t.pointerId)}}function Cf(e,t,n,r,i,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[i]},t!==null&&(t=dh(t),t!==null&&ok(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function q6(e,t,n,r,i){switch(t){case"focusin":return nc=Cf(nc,e,t,n,r,i),!0;case"dragenter":return rc=Cf(rc,e,t,n,r,i),!0;case"mouseover":return ic=Cf(ic,e,t,n,r,i),!0;case"pointerover":var a=i.pointerId;return Sm.set(a,Cf(Sm.get(a)||null,e,t,n,r,i)),!0;case"gotpointercapture":return a=i.pointerId,jm.set(a,Cf(jm.get(a)||null,e,t,n,r,i)),!0}return!1}function C5(e){var t=Yc(e.target);if(t!==null){var n=Pu(t);if(n!==null){if(t=n.tag,t===13){if(t=h5(n),t!==null){e.blockedOn=t,j5(e.priority,function(){N5(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function rg(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=By(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Iy=r,n.target.dispatchEvent(r),Iy=null}else return t=dh(n),t!==null&&ok(t),e.blockedOn=n,!1;t.shift()}return!0}function jj(e,t,n){rg(e)&&n.delete(t)}function K6(){Ry=!1,nc!==null&&rg(nc)&&(nc=null),rc!==null&&rg(rc)&&(rc=null),ic!==null&&rg(ic)&&(ic=null),Sm.forEach(jj),jm.forEach(jj)}function Af(e,t){e.blockedOn===t&&(e.blockedOn=null,Ry||(Ry=!0,Wa.unstable_scheduleCallback(Wa.unstable_NormalPriority,K6)))}function Cm(e){function t(i){return Af(i,e)}if(0<xp.length){Af(xp[0],e);for(var n=1;n<xp.length;n++){var r=xp[n];r.blockedOn===e&&(r.blockedOn=null)}}for(nc!==null&&Af(nc,e),rc!==null&&Af(rc,e),ic!==null&&Af(ic,e),Sm.forEach(t),jm.forEach(t),n=0;n<Gl.length;n++)r=Gl[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gl.length&&(n=Gl[0],n.blockedOn===null);)C5(n),n.blockedOn===null&&Gl.shift()}var Nd=bl.ReactCurrentBatchConfig,Tg=!0;function G6(e,t,n,r){var i=Un,a=Nd.transition;Nd.transition=null;try{Un=1,lk(e,t,n,r)}finally{Un=i,Nd.transition=a}}function Y6(e,t,n,r){var i=Un,a=Nd.transition;Nd.transition=null;try{Un=4,lk(e,t,n,r)}finally{Un=i,Nd.transition=a}}function lk(e,t,n,r){if(Tg){var i=By(e,t,n,r);if(i===null)sv(e,t,r,Mg,n),Sj(e,r);else if(q6(i,e,t,n,r))r.stopPropagation();else if(Sj(e,r),t&4&&-1<H6.indexOf(e)){for(;i!==null;){var a=dh(i);if(a!==null&&k5(a),a=By(e,t,n,r),a===null&&sv(e,t,r,Mg,n),a===i)break;i=a}i!==null&&r.stopPropagation()}else sv(e,t,r,null,n)}}var Mg=null;function By(e,t,n,r){if(Mg=null,e=ik(r),e=Yc(e),e!==null)if(t=Pu(e),t===null)e=null;else if(n=t.tag,n===13){if(e=h5(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Mg=e,null}function A5(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(L6()){case ak:return 1;case b5:return 4;case Pg:case $6:return 16;case v5:return 536870912;default:return 16}default:return 16}}var Zl=null,ck=null,ig=null;function P5(){if(ig)return ig;var e,t=ck,n=t.length,r,i="value"in Zl?Zl.value:Zl.textContent,a=i.length;for(e=0;e<n&&t[e]===i[e];e++);var s=n-e;for(r=1;r<=s&&t[n-r]===i[a-r];r++);return ig=i.slice(e,1<r?1-r:void 0)}function ag(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function bp(){return!0}function Cj(){return!1}function Ka(e){function t(n,r,i,a,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?bp:Cj,this.isPropagationStopped=Cj,this}return Nr(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=bp)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=bp)},persist:function(){},isPersistent:bp}),t}var tf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},uk=Ka(tf),uh=Nr({},tf,{view:0,detail:0}),X6=Ka(uh),Qb,Zb,Pf,ux=Nr({},uh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:dk,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Pf&&(Pf&&e.type==="mousemove"?(Qb=e.screenX-Pf.screenX,Zb=e.screenY-Pf.screenY):Zb=Qb=0,Pf=e),Qb)},movementY:function(e){return"movementY"in e?e.movementY:Zb}}),Aj=Ka(ux),Q6=Nr({},ux,{dataTransfer:0}),Z6=Ka(Q6),J6=Nr({},uh,{relatedTarget:0}),Jb=Ka(J6),eU=Nr({},tf,{animationName:0,elapsedTime:0,pseudoElement:0}),tU=Ka(eU),nU=Nr({},tf,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),rU=Ka(nU),iU=Nr({},tf,{data:0}),Pj=Ka(iU),aU={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sU={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oU={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lU(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=oU[e])?!!t[e]:!1}function dk(){return lU}var cU=Nr({},uh,{key:function(e){if(e.key){var t=aU[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=ag(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?sU[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:dk,charCode:function(e){return e.type==="keypress"?ag(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?ag(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),uU=Ka(cU),dU=Nr({},ux,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Dj=Ka(dU),fU=Nr({},uh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:dk}),mU=Ka(fU),hU=Nr({},tf,{propertyName:0,elapsedTime:0,pseudoElement:0}),pU=Ka(hU),gU=Nr({},ux,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),xU=Ka(gU),bU=[9,13,27,32],fk=sl&&"CompositionEvent"in window,rm=null;sl&&"documentMode"in document&&(rm=document.documentMode);var vU=sl&&"TextEvent"in window&&!rm,D5=sl&&(!fk||rm&&8<rm&&11>=rm),Tj=" ",Mj=!1;function T5(e,t){switch(e){case"keyup":return bU.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function M5(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var id=!1;function yU(e,t){switch(e){case"compositionend":return M5(t);case"keypress":return t.which!==32?null:(Mj=!0,Tj);case"textInput":return e=t.data,e===Tj&&Mj?null:e;default:return null}}function wU(e,t){if(id)return e==="compositionend"||!fk&&T5(e,t)?(e=P5(),ig=ck=Zl=null,id=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return D5&&t.locale!=="ko"?null:t.data;default:return null}}var kU={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ej(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!kU[e.type]:t==="textarea"}function E5(e,t,n,r){c5(r),t=Eg(t,"onChange"),0<t.length&&(n=new uk("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var im=null,Am=null;function NU(e){W5(e,0)}function dx(e){var t=od(e);if(n5(t))return e}function SU(e,t){if(e==="change")return t}var O5=!1;if(sl){var ev;if(sl){var tv="oninput"in document;if(!tv){var Oj=document.createElement("div");Oj.setAttribute("oninput","return;"),tv=typeof Oj.oninput=="function"}ev=tv}else ev=!1;O5=ev&&(!document.documentMode||9<document.documentMode)}function Ij(){im&&(im.detachEvent("onpropertychange",I5),Am=im=null)}function I5(e){if(e.propertyName==="value"&&dx(Am)){var t=[];E5(t,Am,e,ik(e)),m5(NU,t)}}function jU(e,t,n){e==="focusin"?(Ij(),im=t,Am=n,im.attachEvent("onpropertychange",I5)):e==="focusout"&&Ij()}function CU(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return dx(Am)}function AU(e,t){if(e==="click")return dx(t)}function PU(e,t){if(e==="input"||e==="change")return dx(t)}function DU(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Us=typeof Object.is=="function"?Object.is:DU;function Pm(e,t){if(Us(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!ky.call(t,i)||!Us(e[i],t[i]))return!1}return!0}function _j(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Lj(e,t){var n=_j(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=_j(n)}}function _5(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?_5(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function L5(){for(var e=window,t=jg();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=jg(e.document)}return t}function mk(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function TU(e){var t=L5(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&_5(n.ownerDocument.documentElement,n)){if(r!==null&&mk(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,a=Math.min(r.start,i);r=r.end===void 0?a:Math.min(r.end,i),!e.extend&&a>r&&(i=r,r=a,a=i),i=Lj(n,a);var s=Lj(n,r);i&&s&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==s.node||e.focusOffset!==s.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(s.node,s.offset)):(t.setEnd(s.node,s.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var MU=sl&&"documentMode"in document&&11>=document.documentMode,ad=null,zy=null,am=null,Uy=!1;function $j(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Uy||ad==null||ad!==jg(r)||(r=ad,"selectionStart"in r&&mk(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),am&&Pm(am,r)||(am=r,r=Eg(zy,"onSelect"),0<r.length&&(t=new uk("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ad)))}function vp(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var sd={animationend:vp("Animation","AnimationEnd"),animationiteration:vp("Animation","AnimationIteration"),animationstart:vp("Animation","AnimationStart"),transitionend:vp("Transition","TransitionEnd")},nv={},$5={};sl&&($5=document.createElement("div").style,"AnimationEvent"in window||(delete sd.animationend.animation,delete sd.animationiteration.animation,delete sd.animationstart.animation),"TransitionEvent"in window||delete sd.transitionend.transition);function fx(e){if(nv[e])return nv[e];if(!sd[e])return e;var t=sd[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in $5)return nv[e]=t[n];return e}var F5=fx("animationend"),R5=fx("animationiteration"),B5=fx("animationstart"),z5=fx("transitionend"),U5=new Map,Fj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function yc(e,t){U5.set(e,t),Au(t,[e])}for(var rv=0;rv<Fj.length;rv++){var iv=Fj[rv],EU=iv.toLowerCase(),OU=iv[0].toUpperCase()+iv.slice(1);yc(EU,"on"+OU)}yc(F5,"onAnimationEnd");yc(R5,"onAnimationIteration");yc(B5,"onAnimationStart");yc("dblclick","onDoubleClick");yc("focusin","onFocus");yc("focusout","onBlur");yc(z5,"onTransitionEnd");Ed("onMouseEnter",["mouseout","mouseover"]);Ed("onMouseLeave",["mouseout","mouseover"]);Ed("onPointerEnter",["pointerout","pointerover"]);Ed("onPointerLeave",["pointerout","pointerover"]);Au("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Au("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Au("onBeforeInput",["compositionend","keypress","textInput","paste"]);Au("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Au("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Au("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),IU=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kf));function Rj(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,E6(r,t,void 0,e),e.currentTarget=null}function W5(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var s=r.length-1;0<=s;s--){var o=r[s],c=o.instance,u=o.currentTarget;if(o=o.listener,c!==a&&i.isPropagationStopped())break e;Rj(i,o,u),a=c}else for(s=0;s<r.length;s++){if(o=r[s],c=o.instance,u=o.currentTarget,o=o.listener,c!==a&&i.isPropagationStopped())break e;Rj(i,o,u),a=c}}}if(Ag)throw e=$y,Ag=!1,$y=null,e}function ir(e,t){var n=t[Ky];n===void 0&&(n=t[Ky]=new Set);var r=e+"__bubble";n.has(r)||(V5(t,e,2,!1),n.add(r))}function av(e,t,n){var r=0;t&&(r|=4),V5(n,e,r,t)}var yp="_reactListening"+Math.random().toString(36).slice(2);function Dm(e){if(!e[yp]){e[yp]=!0,QE.forEach(function(n){n!=="selectionchange"&&(IU.has(n)||av(n,!1,e),av(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yp]||(t[yp]=!0,av("selectionchange",!1,t))}}function V5(e,t,n,r){switch(A5(t)){case 1:var i=G6;break;case 4:i=Y6;break;default:i=lk}n=i.bind(null,t,n,e),i=void 0,!Ly||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function sv(e,t,n,r,i){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var c=s.tag;if((c===3||c===4)&&(c=s.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;s=s.return}for(;o!==null;){if(s=Yc(o),s===null)return;if(c=s.tag,c===5||c===6){r=a=s;continue e}o=o.parentNode}}r=r.return}m5(function(){var u=a,d=ik(n),f=[];e:{var h=U5.get(e);if(h!==void 0){var m=uk,p=e;switch(e){case"keypress":if(ag(n)===0)break e;case"keydown":case"keyup":m=uU;break;case"focusin":p="focus",m=Jb;break;case"focusout":p="blur",m=Jb;break;case"beforeblur":case"afterblur":m=Jb;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Aj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=Z6;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=mU;break;case F5:case R5:case B5:m=tU;break;case z5:m=pU;break;case"scroll":m=X6;break;case"wheel":m=xU;break;case"copy":case"cut":case"paste":m=rU;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Dj}var x=(t&4)!==0,v=!x&&e==="scroll",b=x?h!==null?h+"Capture":null:h;x=[];for(var y=u,w;y!==null;){w=y;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,b!==null&&(N=Nm(y,b),N!=null&&x.push(Tm(y,N,w)))),v)break;y=y.return}0<x.length&&(h=new m(h,p,null,n,d),f.push({event:h,listeners:x}))}}if(!(t&7)){e:{if(h=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",h&&n!==Iy&&(p=n.relatedTarget||n.fromElement)&&(Yc(p)||p[ol]))break e;if((m||h)&&(h=d.window===d?d:(h=d.ownerDocument)?h.defaultView||h.parentWindow:window,m?(p=n.relatedTarget||n.toElement,m=u,p=p?Yc(p):null,p!==null&&(v=Pu(p),p!==v||p.tag!==5&&p.tag!==6)&&(p=null)):(m=null,p=u),m!==p)){if(x=Aj,N="onMouseLeave",b="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(x=Dj,N="onPointerLeave",b="onPointerEnter",y="pointer"),v=m==null?h:od(m),w=p==null?h:od(p),h=new x(N,y+"leave",m,n,d),h.target=v,h.relatedTarget=w,N=null,Yc(d)===u&&(x=new x(b,y+"enter",p,n,d),x.target=w,x.relatedTarget=v,N=x),v=N,m&&p)t:{for(x=m,b=p,y=0,w=x;w;w=Vu(w))y++;for(w=0,N=b;N;N=Vu(N))w++;for(;0<y-w;)x=Vu(x),y--;for(;0<w-y;)b=Vu(b),w--;for(;y--;){if(x===b||b!==null&&x===b.alternate)break t;x=Vu(x),b=Vu(b)}x=null}else x=null;m!==null&&Bj(f,h,m,x,!1),p!==null&&v!==null&&Bj(f,v,p,x,!0)}}e:{if(h=u?od(u):window,m=h.nodeName&&h.nodeName.toLowerCase(),m==="select"||m==="input"&&h.type==="file")var j=SU;else if(Ej(h))if(O5)j=PU;else{j=CU;var k=jU}else(m=h.nodeName)&&m.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(j=AU);if(j&&(j=j(e,u))){E5(f,j,n,d);break e}k&&k(e,h,u),e==="focusout"&&(k=h._wrapperState)&&k.controlled&&h.type==="number"&&Dy(h,"number",h.value)}switch(k=u?od(u):window,e){case"focusin":(Ej(k)||k.contentEditable==="true")&&(ad=k,zy=u,am=null);break;case"focusout":am=zy=ad=null;break;case"mousedown":Uy=!0;break;case"contextmenu":case"mouseup":case"dragend":Uy=!1,$j(f,n,d);break;case"selectionchange":if(MU)break;case"keydown":case"keyup":$j(f,n,d)}var C;if(fk)e:{switch(e){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else id?T5(e,n)&&(E="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(D5&&n.locale!=="ko"&&(id||E!=="onCompositionStart"?E==="onCompositionEnd"&&id&&(C=P5()):(Zl=d,ck="value"in Zl?Zl.value:Zl.textContent,id=!0)),k=Eg(u,E),0<k.length&&(E=new Pj(E,e,null,n,d),f.push({event:E,listeners:k}),C?E.data=C:(C=M5(n),C!==null&&(E.data=C)))),(C=vU?yU(e,n):wU(e,n))&&(u=Eg(u,"onBeforeInput"),0<u.length&&(d=new Pj("onBeforeInput","beforeinput",null,n,d),f.push({event:d,listeners:u}),d.data=C))}W5(f,t)})}function Tm(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Eg(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,a=i.stateNode;i.tag===5&&a!==null&&(i=a,a=Nm(e,n),a!=null&&r.unshift(Tm(e,a,i)),a=Nm(e,t),a!=null&&r.push(Tm(e,a,i))),e=e.return}return r}function Vu(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Bj(e,t,n,r,i){for(var a=t._reactName,s=[];n!==null&&n!==r;){var o=n,c=o.alternate,u=o.stateNode;if(c!==null&&c===r)break;o.tag===5&&u!==null&&(o=u,i?(c=Nm(n,a),c!=null&&s.unshift(Tm(n,c,o))):i||(c=Nm(n,a),c!=null&&s.push(Tm(n,c,o)))),n=n.return}s.length!==0&&e.push({event:t,listeners:s})}var _U=/\r\n?/g,LU=/\u0000|\uFFFD/g;function zj(e){return(typeof e=="string"?e:""+e).replace(_U,`
`).replace(LU,"")}function wp(e,t,n){if(t=zj(t),zj(e)!==t&&n)throw Error(mt(425))}function Og(){}var Wy=null,Vy=null;function Hy(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var qy=typeof setTimeout=="function"?setTimeout:void 0,$U=typeof clearTimeout=="function"?clearTimeout:void 0,Uj=typeof Promise=="function"?Promise:void 0,FU=typeof queueMicrotask=="function"?queueMicrotask:typeof Uj<"u"?function(e){return Uj.resolve(null).then(e).catch(RU)}:qy;function RU(e){setTimeout(function(){throw e})}function ov(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Cm(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Cm(t)}function ac(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Wj(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var nf=Math.random().toString(36).slice(2),uo="__reactFiber$"+nf,Mm="__reactProps$"+nf,ol="__reactContainer$"+nf,Ky="__reactEvents$"+nf,BU="__reactListeners$"+nf,zU="__reactHandles$"+nf;function Yc(e){var t=e[uo];if(t)return t;for(var n=e.parentNode;n;){if(t=n[ol]||n[uo]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Wj(e);e!==null;){if(n=e[uo])return n;e=Wj(e)}return t}e=n,n=e.parentNode}return null}function dh(e){return e=e[uo]||e[ol],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function od(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(mt(33))}function mx(e){return e[Mm]||null}var Gy=[],ld=-1;function wc(e){return{current:e}}function sr(e){0>ld||(e.current=Gy[ld],Gy[ld]=null,ld--)}function er(e,t){ld++,Gy[ld]=e.current,e.current=t}var hc={},Vi=wc(hc),ya=wc(!1),du=hc;function Od(e,t){var n=e.type.contextTypes;if(!n)return hc;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},a;for(a in n)i[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function wa(e){return e=e.childContextTypes,e!=null}function Ig(){sr(ya),sr(Vi)}function Vj(e,t,n){if(Vi.current!==hc)throw Error(mt(168));er(Vi,t),er(ya,n)}function H5(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(mt(108,j6(e)||"Unknown",i));return Nr({},n,r)}function _g(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||hc,du=Vi.current,er(Vi,e),er(ya,ya.current),!0}function Hj(e,t,n){var r=e.stateNode;if(!r)throw Error(mt(169));n?(e=H5(e,t,du),r.__reactInternalMemoizedMergedChildContext=e,sr(ya),sr(Vi),er(Vi,e)):sr(ya),er(ya,n)}var Ho=null,hx=!1,lv=!1;function q5(e){Ho===null?Ho=[e]:Ho.push(e)}function UU(e){hx=!0,q5(e)}function kc(){if(!lv&&Ho!==null){lv=!0;var e=0,t=Un;try{var n=Ho;for(Un=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Ho=null,hx=!1}catch(i){throw Ho!==null&&(Ho=Ho.slice(e+1)),x5(ak,kc),i}finally{Un=t,lv=!1}}return null}var cd=[],ud=0,Lg=null,$g=0,os=[],ls=0,fu=null,Yo=1,Xo="";function Rc(e,t){cd[ud++]=$g,cd[ud++]=Lg,Lg=e,$g=t}function K5(e,t,n){os[ls++]=Yo,os[ls++]=Xo,os[ls++]=fu,fu=e;var r=Yo;e=Xo;var i=32-Fs(r)-1;r&=~(1<<i),n+=1;var a=32-Fs(t)+i;if(30<a){var s=i-i%5;a=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Yo=1<<32-Fs(t)+i|n<<i|r,Xo=a+e}else Yo=1<<a|n<<i|r,Xo=e}function hk(e){e.return!==null&&(Rc(e,1),K5(e,1,0))}function pk(e){for(;e===Lg;)Lg=cd[--ud],cd[ud]=null,$g=cd[--ud],cd[ud]=null;for(;e===fu;)fu=os[--ls],os[ls]=null,Xo=os[--ls],os[ls]=null,Yo=os[--ls],os[ls]=null}var Ra=null,$a=null,mr=!1,Is=null;function G5(e,t){var n=ds(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function qj(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ra=e,$a=ac(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ra=e,$a=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=fu!==null?{id:Yo,overflow:Xo}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=ds(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ra=e,$a=null,!0):!1;default:return!1}}function Yy(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Xy(e){if(mr){var t=$a;if(t){var n=t;if(!qj(e,t)){if(Yy(e))throw Error(mt(418));t=ac(n.nextSibling);var r=Ra;t&&qj(e,t)?G5(r,n):(e.flags=e.flags&-4097|2,mr=!1,Ra=e)}}else{if(Yy(e))throw Error(mt(418));e.flags=e.flags&-4097|2,mr=!1,Ra=e}}}function Kj(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ra=e}function kp(e){if(e!==Ra)return!1;if(!mr)return Kj(e),mr=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Hy(e.type,e.memoizedProps)),t&&(t=$a)){if(Yy(e))throw Y5(),Error(mt(418));for(;t;)G5(e,t),t=ac(t.nextSibling)}if(Kj(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(mt(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){$a=ac(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}$a=null}}else $a=Ra?ac(e.stateNode.nextSibling):null;return!0}function Y5(){for(var e=$a;e;)e=ac(e.nextSibling)}function Id(){$a=Ra=null,mr=!1}function gk(e){Is===null?Is=[e]:Is.push(e)}var WU=bl.ReactCurrentBatchConfig;function Df(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(mt(309));var r=n.stateNode}if(!r)throw Error(mt(147,e));var i=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(s){var o=i.refs;s===null?delete o[a]:o[a]=s},t._stringRef=a,t)}if(typeof e!="string")throw Error(mt(284));if(!n._owner)throw Error(mt(290,e))}return e}function Np(e,t){throw e=Object.prototype.toString.call(t),Error(mt(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Gj(e){var t=e._init;return t(e._payload)}function X5(e){function t(b,y){if(e){var w=b.deletions;w===null?(b.deletions=[y],b.flags|=16):w.push(y)}}function n(b,y){if(!e)return null;for(;y!==null;)t(b,y),y=y.sibling;return null}function r(b,y){for(b=new Map;y!==null;)y.key!==null?b.set(y.key,y):b.set(y.index,y),y=y.sibling;return b}function i(b,y){return b=cc(b,y),b.index=0,b.sibling=null,b}function a(b,y,w){return b.index=w,e?(w=b.alternate,w!==null?(w=w.index,w<y?(b.flags|=2,y):w):(b.flags|=2,y)):(b.flags|=1048576,y)}function s(b){return e&&b.alternate===null&&(b.flags|=2),b}function o(b,y,w,N){return y===null||y.tag!==6?(y=pv(w,b.mode,N),y.return=b,y):(y=i(y,w),y.return=b,y)}function c(b,y,w,N){var j=w.type;return j===rd?d(b,y,w.props.children,N,w.key):y!==null&&(y.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Wl&&Gj(j)===y.type)?(N=i(y,w.props),N.ref=Df(b,y,w),N.return=b,N):(N=fg(w.type,w.key,w.props,null,b.mode,N),N.ref=Df(b,y,w),N.return=b,N)}function u(b,y,w,N){return y===null||y.tag!==4||y.stateNode.containerInfo!==w.containerInfo||y.stateNode.implementation!==w.implementation?(y=gv(w,b.mode,N),y.return=b,y):(y=i(y,w.children||[]),y.return=b,y)}function d(b,y,w,N,j){return y===null||y.tag!==7?(y=iu(w,b.mode,N,j),y.return=b,y):(y=i(y,w),y.return=b,y)}function f(b,y,w){if(typeof y=="string"&&y!==""||typeof y=="number")return y=pv(""+y,b.mode,w),y.return=b,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case fp:return w=fg(y.type,y.key,y.props,null,b.mode,w),w.ref=Df(b,null,y),w.return=b,w;case nd:return y=gv(y,b.mode,w),y.return=b,y;case Wl:var N=y._init;return f(b,N(y._payload),w)}if(Hf(y)||Sf(y))return y=iu(y,b.mode,w,null),y.return=b,y;Np(b,y)}return null}function h(b,y,w,N){var j=y!==null?y.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return j!==null?null:o(b,y,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case fp:return w.key===j?c(b,y,w,N):null;case nd:return w.key===j?u(b,y,w,N):null;case Wl:return j=w._init,h(b,y,j(w._payload),N)}if(Hf(w)||Sf(w))return j!==null?null:d(b,y,w,N,null);Np(b,w)}return null}function m(b,y,w,N,j){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(w)||null,o(y,b,""+N,j);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case fp:return b=b.get(N.key===null?w:N.key)||null,c(y,b,N,j);case nd:return b=b.get(N.key===null?w:N.key)||null,u(y,b,N,j);case Wl:var k=N._init;return m(b,y,w,k(N._payload),j)}if(Hf(N)||Sf(N))return b=b.get(w)||null,d(y,b,N,j,null);Np(y,N)}return null}function p(b,y,w,N){for(var j=null,k=null,C=y,E=y=0,R=null;C!==null&&E<w.length;E++){C.index>E?(R=C,C=null):R=C.sibling;var T=h(b,C,w[E],N);if(T===null){C===null&&(C=R);break}e&&C&&T.alternate===null&&t(b,C),y=a(T,y,E),k===null?j=T:k.sibling=T,k=T,C=R}if(E===w.length)return n(b,C),mr&&Rc(b,E),j;if(C===null){for(;E<w.length;E++)C=f(b,w[E],N),C!==null&&(y=a(C,y,E),k===null?j=C:k.sibling=C,k=C);return mr&&Rc(b,E),j}for(C=r(b,C);E<w.length;E++)R=m(C,b,E,w[E],N),R!==null&&(e&&R.alternate!==null&&C.delete(R.key===null?E:R.key),y=a(R,y,E),k===null?j=R:k.sibling=R,k=R);return e&&C.forEach(function($){return t(b,$)}),mr&&Rc(b,E),j}function x(b,y,w,N){var j=Sf(w);if(typeof j!="function")throw Error(mt(150));if(w=j.call(w),w==null)throw Error(mt(151));for(var k=j=null,C=y,E=y=0,R=null,T=w.next();C!==null&&!T.done;E++,T=w.next()){C.index>E?(R=C,C=null):R=C.sibling;var $=h(b,C,T.value,N);if($===null){C===null&&(C=R);break}e&&C&&$.alternate===null&&t(b,C),y=a($,y,E),k===null?j=$:k.sibling=$,k=$,C=R}if(T.done)return n(b,C),mr&&Rc(b,E),j;if(C===null){for(;!T.done;E++,T=w.next())T=f(b,T.value,N),T!==null&&(y=a(T,y,E),k===null?j=T:k.sibling=T,k=T);return mr&&Rc(b,E),j}for(C=r(b,C);!T.done;E++,T=w.next())T=m(C,b,E,T.value,N),T!==null&&(e&&T.alternate!==null&&C.delete(T.key===null?E:T.key),y=a(T,y,E),k===null?j=T:k.sibling=T,k=T);return e&&C.forEach(function(I){return t(b,I)}),mr&&Rc(b,E),j}function v(b,y,w,N){if(typeof w=="object"&&w!==null&&w.type===rd&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case fp:e:{for(var j=w.key,k=y;k!==null;){if(k.key===j){if(j=w.type,j===rd){if(k.tag===7){n(b,k.sibling),y=i(k,w.props.children),y.return=b,b=y;break e}}else if(k.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Wl&&Gj(j)===k.type){n(b,k.sibling),y=i(k,w.props),y.ref=Df(b,k,w),y.return=b,b=y;break e}n(b,k);break}else t(b,k);k=k.sibling}w.type===rd?(y=iu(w.props.children,b.mode,N,w.key),y.return=b,b=y):(N=fg(w.type,w.key,w.props,null,b.mode,N),N.ref=Df(b,y,w),N.return=b,b=N)}return s(b);case nd:e:{for(k=w.key;y!==null;){if(y.key===k)if(y.tag===4&&y.stateNode.containerInfo===w.containerInfo&&y.stateNode.implementation===w.implementation){n(b,y.sibling),y=i(y,w.children||[]),y.return=b,b=y;break e}else{n(b,y);break}else t(b,y);y=y.sibling}y=gv(w,b.mode,N),y.return=b,b=y}return s(b);case Wl:return k=w._init,v(b,y,k(w._payload),N)}if(Hf(w))return p(b,y,w,N);if(Sf(w))return x(b,y,w,N);Np(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,y!==null&&y.tag===6?(n(b,y.sibling),y=i(y,w),y.return=b,b=y):(n(b,y),y=pv(w,b.mode,N),y.return=b,b=y),s(b)):n(b,y)}return v}var _d=X5(!0),Q5=X5(!1),Fg=wc(null),Rg=null,dd=null,xk=null;function bk(){xk=dd=Rg=null}function vk(e){var t=Fg.current;sr(Fg),e._currentValue=t}function Qy(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Sd(e,t){Rg=e,xk=dd=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(ba=!0),e.firstContext=null)}function hs(e){var t=e._currentValue;if(xk!==e)if(e={context:e,memoizedValue:t,next:null},dd===null){if(Rg===null)throw Error(mt(308));dd=e,Rg.dependencies={lanes:0,firstContext:e}}else dd=dd.next=e;return t}var Xc=null;function yk(e){Xc===null?Xc=[e]:Xc.push(e)}function Z5(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,yk(t)):(n.next=i.next,i.next=n),t.interleaved=n,ll(e,r)}function ll(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Vl=!1;function wk(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function J5(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function el(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function sc(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Mn&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,ll(e,n)}return i=r.interleaved,i===null?(t.next=t,yk(r)):(t.next=i.next,i.next=t),r.interleaved=t,ll(e,n)}function sg(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sk(e,n)}}function Yj(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?i=a=s:a=a.next=s,n=n.next}while(n!==null);a===null?i=a=t:a=a.next=t}else i=a=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Bg(e,t,n,r){var i=e.updateQueue;Vl=!1;var a=i.firstBaseUpdate,s=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var c=o,u=c.next;c.next=null,s===null?a=u:s.next=u,s=c;var d=e.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==s&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=c))}if(a!==null){var f=i.baseState;s=0,d=u=c=null,o=a;do{var h=o.lane,m=o.eventTime;if((r&h)===h){d!==null&&(d=d.next={eventTime:m,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var p=e,x=o;switch(h=t,m=n,x.tag){case 1:if(p=x.payload,typeof p=="function"){f=p.call(m,f,h);break e}f=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=x.payload,h=typeof p=="function"?p.call(m,f,h):p,h==null)break e;f=Nr({},f,h);break e;case 2:Vl=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,h=i.effects,h===null?i.effects=[o]:h.push(o))}else m={eventTime:m,lane:h,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=m,c=f):d=d.next=m,s|=h;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;h=o,o=h.next,h.next=null,i.lastBaseUpdate=h,i.shared.pending=null}}while(!0);if(d===null&&(c=f),i.baseState=c,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do s|=i.lane,i=i.next;while(i!==t)}else a===null&&(i.shared.lanes=0);hu|=s,e.lanes=s,e.memoizedState=f}}function Xj(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(mt(191,i));i.call(r)}}}var fh={},ho=wc(fh),Em=wc(fh),Om=wc(fh);function Qc(e){if(e===fh)throw Error(mt(174));return e}function kk(e,t){switch(er(Om,t),er(Em,e),er(ho,fh),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:My(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=My(t,e)}sr(ho),er(ho,t)}function Ld(){sr(ho),sr(Em),sr(Om)}function eO(e){Qc(Om.current);var t=Qc(ho.current),n=My(t,e.type);t!==n&&(er(Em,e),er(ho,n))}function Nk(e){Em.current===e&&(sr(ho),sr(Em))}var br=wc(0);function zg(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var cv=[];function Sk(){for(var e=0;e<cv.length;e++)cv[e]._workInProgressVersionPrimary=null;cv.length=0}var og=bl.ReactCurrentDispatcher,uv=bl.ReactCurrentBatchConfig,mu=0,kr=null,ei=null,pi=null,Ug=!1,sm=!1,Im=0,VU=0;function _i(){throw Error(mt(321))}function jk(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Us(e[n],t[n]))return!1;return!0}function Ck(e,t,n,r,i,a){if(mu=a,kr=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,og.current=e===null||e.memoizedState===null?GU:YU,e=n(r,i),sm){a=0;do{if(sm=!1,Im=0,25<=a)throw Error(mt(301));a+=1,pi=ei=null,t.updateQueue=null,og.current=XU,e=n(r,i)}while(sm)}if(og.current=Wg,t=ei!==null&&ei.next!==null,mu=0,pi=ei=kr=null,Ug=!1,t)throw Error(mt(300));return e}function Ak(){var e=Im!==0;return Im=0,e}function so(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return pi===null?kr.memoizedState=pi=e:pi=pi.next=e,pi}function ps(){if(ei===null){var e=kr.alternate;e=e!==null?e.memoizedState:null}else e=ei.next;var t=pi===null?kr.memoizedState:pi.next;if(t!==null)pi=t,ei=e;else{if(e===null)throw Error(mt(310));ei=e,e={memoizedState:ei.memoizedState,baseState:ei.baseState,baseQueue:ei.baseQueue,queue:ei.queue,next:null},pi===null?kr.memoizedState=pi=e:pi=pi.next=e}return pi}function _m(e,t){return typeof t=="function"?t(e):t}function dv(e){var t=ps(),n=t.queue;if(n===null)throw Error(mt(311));n.lastRenderedReducer=e;var r=ei,i=r.baseQueue,a=n.pending;if(a!==null){if(i!==null){var s=i.next;i.next=a.next,a.next=s}r.baseQueue=i=a,n.pending=null}if(i!==null){a=i.next,r=r.baseState;var o=s=null,c=null,u=a;do{var d=u.lane;if((mu&d)===d)c!==null&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var f={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};c===null?(o=c=f,s=r):c=c.next=f,kr.lanes|=d,hu|=d}u=u.next}while(u!==null&&u!==a);c===null?s=r:c.next=o,Us(r,t.memoizedState)||(ba=!0),t.memoizedState=r,t.baseState=s,t.baseQueue=c,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do a=i.lane,kr.lanes|=a,hu|=a,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function fv(e){var t=ps(),n=t.queue;if(n===null)throw Error(mt(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do a=e(a,s.action),s=s.next;while(s!==i);Us(a,t.memoizedState)||(ba=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function tO(){}function nO(e,t){var n=kr,r=ps(),i=t(),a=!Us(r.memoizedState,i);if(a&&(r.memoizedState=i,ba=!0),r=r.queue,Pk(aO.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||pi!==null&&pi.memoizedState.tag&1){if(n.flags|=2048,Lm(9,iO.bind(null,n,r,i,t),void 0,null),xi===null)throw Error(mt(349));mu&30||rO(n,t,i)}return i}function rO(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=kr.updateQueue,t===null?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function iO(e,t,n,r){t.value=n,t.getSnapshot=r,sO(t)&&oO(e)}function aO(e,t,n){return n(function(){sO(t)&&oO(e)})}function sO(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Us(e,n)}catch{return!0}}function oO(e){var t=ll(e,1);t!==null&&Rs(t,e,1,-1)}function Qj(e){var t=so();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:_m,lastRenderedState:e},t.queue=e,e=e.dispatch=KU.bind(null,kr,e),[t.memoizedState,e]}function Lm(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=kr.updateQueue,t===null?(t={lastEffect:null,stores:null},kr.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function lO(){return ps().memoizedState}function lg(e,t,n,r){var i=so();kr.flags|=e,i.memoizedState=Lm(1|t,n,void 0,r===void 0?null:r)}function px(e,t,n,r){var i=ps();r=r===void 0?null:r;var a=void 0;if(ei!==null){var s=ei.memoizedState;if(a=s.destroy,r!==null&&jk(r,s.deps)){i.memoizedState=Lm(t,n,a,r);return}}kr.flags|=e,i.memoizedState=Lm(1|t,n,a,r)}function Zj(e,t){return lg(8390656,8,e,t)}function Pk(e,t){return px(2048,8,e,t)}function cO(e,t){return px(4,2,e,t)}function uO(e,t){return px(4,4,e,t)}function dO(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function fO(e,t,n){return n=n!=null?n.concat([e]):null,px(4,4,dO.bind(null,t,e),n)}function Dk(){}function mO(e,t){var n=ps();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jk(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function hO(e,t){var n=ps();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jk(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function pO(e,t,n){return mu&21?(Us(n,t)||(n=y5(),kr.lanes|=n,hu|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,ba=!0),e.memoizedState=n)}function HU(e,t){var n=Un;Un=n!==0&&4>n?n:4,e(!0);var r=uv.transition;uv.transition={};try{e(!1),t()}finally{Un=n,uv.transition=r}}function gO(){return ps().memoizedState}function qU(e,t,n){var r=lc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},xO(e))bO(t,n);else if(n=Z5(e,t,n,r),n!==null){var i=ia();Rs(n,e,r,i),vO(n,t,r)}}function KU(e,t,n){var r=lc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(xO(e))bO(t,i);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var s=t.lastRenderedState,o=a(s,n);if(i.hasEagerState=!0,i.eagerState=o,Us(o,s)){var c=t.interleaved;c===null?(i.next=i,yk(t)):(i.next=c.next,c.next=i),t.interleaved=i;return}}catch{}finally{}n=Z5(e,t,i,r),n!==null&&(i=ia(),Rs(n,e,r,i),vO(n,t,r))}}function xO(e){var t=e.alternate;return e===kr||t!==null&&t===kr}function bO(e,t){sm=Ug=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function vO(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,sk(e,n)}}var Wg={readContext:hs,useCallback:_i,useContext:_i,useEffect:_i,useImperativeHandle:_i,useInsertionEffect:_i,useLayoutEffect:_i,useMemo:_i,useReducer:_i,useRef:_i,useState:_i,useDebugValue:_i,useDeferredValue:_i,useTransition:_i,useMutableSource:_i,useSyncExternalStore:_i,useId:_i,unstable_isNewReconciler:!1},GU={readContext:hs,useCallback:function(e,t){return so().memoizedState=[e,t===void 0?null:t],e},useContext:hs,useEffect:Zj,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,lg(4194308,4,dO.bind(null,t,e),n)},useLayoutEffect:function(e,t){return lg(4194308,4,e,t)},useInsertionEffect:function(e,t){return lg(4,2,e,t)},useMemo:function(e,t){var n=so();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=so();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=qU.bind(null,kr,e),[r.memoizedState,e]},useRef:function(e){var t=so();return e={current:e},t.memoizedState=e},useState:Qj,useDebugValue:Dk,useDeferredValue:function(e){return so().memoizedState=e},useTransition:function(){var e=Qj(!1),t=e[0];return e=HU.bind(null,e[1]),so().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=kr,i=so();if(mr){if(n===void 0)throw Error(mt(407));n=n()}else{if(n=t(),xi===null)throw Error(mt(349));mu&30||rO(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,Zj(aO.bind(null,r,a,e),[e]),r.flags|=2048,Lm(9,iO.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=so(),t=xi.identifierPrefix;if(mr){var n=Xo,r=Yo;n=(r&~(1<<32-Fs(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Im++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=VU++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},YU={readContext:hs,useCallback:mO,useContext:hs,useEffect:Pk,useImperativeHandle:fO,useInsertionEffect:cO,useLayoutEffect:uO,useMemo:hO,useReducer:dv,useRef:lO,useState:function(){return dv(_m)},useDebugValue:Dk,useDeferredValue:function(e){var t=ps();return pO(t,ei.memoizedState,e)},useTransition:function(){var e=dv(_m)[0],t=ps().memoizedState;return[e,t]},useMutableSource:tO,useSyncExternalStore:nO,useId:gO,unstable_isNewReconciler:!1},XU={readContext:hs,useCallback:mO,useContext:hs,useEffect:Pk,useImperativeHandle:fO,useInsertionEffect:cO,useLayoutEffect:uO,useMemo:hO,useReducer:fv,useRef:lO,useState:function(){return fv(_m)},useDebugValue:Dk,useDeferredValue:function(e){var t=ps();return ei===null?t.memoizedState=e:pO(t,ei.memoizedState,e)},useTransition:function(){var e=fv(_m)[0],t=ps().memoizedState;return[e,t]},useMutableSource:tO,useSyncExternalStore:nO,useId:gO,unstable_isNewReconciler:!1};function Es(e,t){if(e&&e.defaultProps){t=Nr({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Zy(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Nr({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var gx={isMounted:function(e){return(e=e._reactInternals)?Pu(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ia(),i=lc(e),a=el(r,i);a.payload=t,n!=null&&(a.callback=n),t=sc(e,a,i),t!==null&&(Rs(t,e,i,r),sg(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ia(),i=lc(e),a=el(r,i);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=sc(e,a,i),t!==null&&(Rs(t,e,i,r),sg(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ia(),r=lc(e),i=el(n,r);i.tag=2,t!=null&&(i.callback=t),t=sc(e,i,r),t!==null&&(Rs(t,e,r,n),sg(t,e,r))}};function Jj(e,t,n,r,i,a,s){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,s):t.prototype&&t.prototype.isPureReactComponent?!Pm(n,r)||!Pm(i,a):!0}function yO(e,t,n){var r=!1,i=hc,a=t.contextType;return typeof a=="object"&&a!==null?a=hs(a):(i=wa(t)?du:Vi.current,r=t.contextTypes,a=(r=r!=null)?Od(e,i):hc),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=gx,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=a),t}function eC(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&gx.enqueueReplaceState(t,t.state,null)}function Jy(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},wk(e);var a=t.contextType;typeof a=="object"&&a!==null?i.context=hs(a):(a=wa(t)?du:Vi.current,i.context=Od(e,a)),i.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&(Zy(e,t,a,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&gx.enqueueReplaceState(i,i.state,null),Bg(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function $d(e,t){try{var n="",r=t;do n+=S6(r),r=r.return;while(r);var i=n}catch(a){i=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:i,digest:null}}function mv(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ew(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var QU=typeof WeakMap=="function"?WeakMap:Map;function wO(e,t,n){n=el(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Hg||(Hg=!0,uw=r),ew(e,t)},n}function kO(e,t,n){n=el(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ew(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){ew(e,t),typeof r!="function"&&(oc===null?oc=new Set([this]):oc.add(this));var s=t.stack;this.componentDidCatch(t.value,{componentStack:s!==null?s:""})}),n}function tC(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new QU;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=d8.bind(null,e,t,n),t.then(e,e))}function nC(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rC(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=el(-1,1),t.tag=2,sc(n,t,1))),n.lanes|=1),e)}var ZU=bl.ReactCurrentOwner,ba=!1;function ea(e,t,n,r){t.child=e===null?Q5(t,null,n,r):_d(t,e.child,n,r)}function iC(e,t,n,r,i){n=n.render;var a=t.ref;return Sd(t,i),r=Ck(e,t,n,r,a,i),n=Ak(),e!==null&&!ba?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cl(e,t,i)):(mr&&n&&hk(t),t.flags|=1,ea(e,t,r,i),t.child)}function aC(e,t,n,r,i){if(e===null){var a=n.type;return typeof a=="function"&&!$k(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,NO(e,t,a,r,i)):(e=fg(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&i)){var s=a.memoizedProps;if(n=n.compare,n=n!==null?n:Pm,n(s,r)&&e.ref===t.ref)return cl(e,t,i)}return t.flags|=1,e=cc(a,r),e.ref=t.ref,e.return=t,t.child=e}function NO(e,t,n,r,i){if(e!==null){var a=e.memoizedProps;if(Pm(a,r)&&e.ref===t.ref)if(ba=!1,t.pendingProps=r=a,(e.lanes&i)!==0)e.flags&131072&&(ba=!0);else return t.lanes=e.lanes,cl(e,t,i)}return tw(e,t,n,r,i)}function SO(e,t,n){var r=t.pendingProps,i=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},er(md,Ia),Ia|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,er(md,Ia),Ia|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,er(md,Ia),Ia|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,er(md,Ia),Ia|=r;return ea(e,t,i,n),t.child}function jO(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function tw(e,t,n,r,i){var a=wa(n)?du:Vi.current;return a=Od(t,a),Sd(t,i),n=Ck(e,t,n,r,a,i),r=Ak(),e!==null&&!ba?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,cl(e,t,i)):(mr&&r&&hk(t),t.flags|=1,ea(e,t,n,i),t.child)}function sC(e,t,n,r,i){if(wa(n)){var a=!0;_g(t)}else a=!1;if(Sd(t,i),t.stateNode===null)cg(e,t),yO(t,n,r),Jy(t,n,r,i),r=!0;else if(e===null){var s=t.stateNode,o=t.memoizedProps;s.props=o;var c=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=hs(u):(u=wa(n)?du:Vi.current,u=Od(t,u));var d=n.getDerivedStateFromProps,f=typeof d=="function"||typeof s.getSnapshotBeforeUpdate=="function";f||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==r||c!==u)&&eC(t,s,r,u),Vl=!1;var h=t.memoizedState;s.state=h,Bg(t,r,s,i),c=t.memoizedState,o!==r||h!==c||ya.current||Vl?(typeof d=="function"&&(Zy(t,n,d,r),c=t.memoizedState),(o=Vl||Jj(t,n,o,r,h,c,u))?(f||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(t.flags|=4194308)):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=c),s.props=r,s.state=c,s.context=u,r=o):(typeof s.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{s=t.stateNode,J5(e,t),o=t.memoizedProps,u=t.type===t.elementType?o:Es(t.type,o),s.props=u,f=t.pendingProps,h=s.context,c=n.contextType,typeof c=="object"&&c!==null?c=hs(c):(c=wa(n)?du:Vi.current,c=Od(t,c));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(o!==f||h!==c)&&eC(t,s,r,c),Vl=!1,h=t.memoizedState,s.state=h,Bg(t,r,s,i);var p=t.memoizedState;o!==f||h!==p||ya.current||Vl?(typeof m=="function"&&(Zy(t,n,m,r),p=t.memoizedState),(u=Vl||Jj(t,n,u,r,h,p,c)||!1)?(d||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,p,c),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,p,c)),typeof s.componentDidUpdate=="function"&&(t.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),s.props=r,s.state=p,s.context=c,r=u):(typeof s.componentDidUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),r=!1)}return nw(e,t,n,r,a,i)}function nw(e,t,n,r,i,a){jO(e,t);var s=(t.flags&128)!==0;if(!r&&!s)return i&&Hj(t,n,!1),cl(e,t,a);r=t.stateNode,ZU.current=t;var o=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&s?(t.child=_d(t,e.child,null,a),t.child=_d(t,null,o,a)):ea(e,t,o,a),t.memoizedState=r.state,i&&Hj(t,n,!0),t.child}function CO(e){var t=e.stateNode;t.pendingContext?Vj(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Vj(e,t.context,!1),kk(e,t.containerInfo)}function oC(e,t,n,r,i){return Id(),gk(i),t.flags|=256,ea(e,t,n,r),t.child}var rw={dehydrated:null,treeContext:null,retryLane:0};function iw(e){return{baseLanes:e,cachePool:null,transitions:null}}function AO(e,t,n){var r=t.pendingProps,i=br.current,a=!1,s=(t.flags&128)!==0,o;if((o=s)||(o=e!==null&&e.memoizedState===null?!1:(i&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),er(br,i&1),e===null)return Xy(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(s=r.children,e=r.fallback,a?(r=t.mode,a=t.child,s={mode:"hidden",children:s},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=s):a=vx(s,r,0,null),e=iu(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=iw(n),t.memoizedState=rw,e):Tk(t,s));if(i=e.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return JU(e,t,s,r,o,i,n);if(a){a=r.fallback,s=t.mode,i=e.child,o=i.sibling;var c={mode:"hidden",children:r.children};return!(s&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=c,t.deletions=null):(r=cc(i,c),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?a=cc(o,a):(a=iu(a,s,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,s=e.child.memoizedState,s=s===null?iw(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},a.memoizedState=s,a.childLanes=e.childLanes&~n,t.memoizedState=rw,r}return a=e.child,e=a.sibling,r=cc(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Tk(e,t){return t=vx({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Sp(e,t,n,r){return r!==null&&gk(r),_d(t,e.child,null,n),e=Tk(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function JU(e,t,n,r,i,a,s){if(n)return t.flags&256?(t.flags&=-257,r=mv(Error(mt(422))),Sp(e,t,s,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=vx({mode:"visible",children:r.children},i,0,null),a=iu(a,i,s,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&_d(t,e.child,null,s),t.child.memoizedState=iw(s),t.memoizedState=rw,a);if(!(t.mode&1))return Sp(e,t,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(mt(419)),r=mv(a,r,void 0),Sp(e,t,s,r)}if(o=(s&e.childLanes)!==0,ba||o){if(r=xi,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==a.retryLane&&(a.retryLane=i,ll(e,i),Rs(r,e,i,-1))}return Lk(),r=mv(Error(mt(421))),Sp(e,t,s,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=f8.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,$a=ac(i.nextSibling),Ra=t,mr=!0,Is=null,e!==null&&(os[ls++]=Yo,os[ls++]=Xo,os[ls++]=fu,Yo=e.id,Xo=e.overflow,fu=t),t=Tk(t,r.children),t.flags|=4096,t)}function lC(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Qy(e.return,t,n)}function hv(e,t,n,r,i){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i)}function PO(e,t,n){var r=t.pendingProps,i=r.revealOrder,a=r.tail;if(ea(e,t,r.children,n),r=br.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&lC(e,n,t);else if(e.tag===19)lC(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(er(br,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&zg(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),hv(t,!1,i,n,a);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&zg(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}hv(t,!0,n,null,a);break;case"together":hv(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function cg(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function cl(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),hu|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(mt(153));if(t.child!==null){for(e=t.child,n=cc(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=cc(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function e8(e,t,n){switch(t.tag){case 3:CO(t),Id();break;case 5:eO(t);break;case 1:wa(t.type)&&_g(t);break;case 4:kk(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;er(Fg,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(er(br,br.current&1),t.flags|=128,null):n&t.child.childLanes?AO(e,t,n):(er(br,br.current&1),e=cl(e,t,n),e!==null?e.sibling:null);er(br,br.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return PO(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),er(br,br.current),r)break;return null;case 22:case 23:return t.lanes=0,SO(e,t,n)}return cl(e,t,n)}var DO,aw,TO,MO;DO=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};aw=function(){};TO=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Qc(ho.current);var a=null;switch(n){case"input":i=Ay(e,i),r=Ay(e,r),a=[];break;case"select":i=Nr({},i,{value:void 0}),r=Nr({},r,{value:void 0}),a=[];break;case"textarea":i=Ty(e,i),r=Ty(e,r),a=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Og)}Ey(n,r);var s;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(wm.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(o=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(c!=null||o!=null))if(u==="style")if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else u==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,o=o?o.__html:void 0,c!=null&&o!==c&&(a=a||[]).push(u,c)):u==="children"?typeof c!="string"&&typeof c!="number"||(a=a||[]).push(u,""+c):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(wm.hasOwnProperty(u)?(c!=null&&u==="onScroll"&&ir("scroll",e),a||o===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}};MO=function(e,t,n,r){n!==r&&(t.flags|=4)};function Tf(e,t){if(!mr)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Li(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function t8(e,t,n){var r=t.pendingProps;switch(pk(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Li(t),null;case 1:return wa(t.type)&&Ig(),Li(t),null;case 3:return r=t.stateNode,Ld(),sr(ya),sr(Vi),Sk(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(kp(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Is!==null&&(mw(Is),Is=null))),aw(e,t),Li(t),null;case 5:Nk(t);var i=Qc(Om.current);if(n=t.type,e!==null&&t.stateNode!=null)TO(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(mt(166));return Li(t),null}if(e=Qc(ho.current),kp(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[uo]=t,r[Mm]=a,e=(t.mode&1)!==0,n){case"dialog":ir("cancel",r),ir("close",r);break;case"iframe":case"object":case"embed":ir("load",r);break;case"video":case"audio":for(i=0;i<Kf.length;i++)ir(Kf[i],r);break;case"source":ir("error",r);break;case"img":case"image":case"link":ir("error",r),ir("load",r);break;case"details":ir("toggle",r);break;case"input":xj(r,a),ir("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ir("invalid",r);break;case"textarea":vj(r,a),ir("invalid",r)}Ey(n,a),i=null;for(var s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&wp(r.textContent,o,e),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&wp(r.textContent,o,e),i=["children",""+o]):wm.hasOwnProperty(s)&&o!=null&&s==="onScroll"&&ir("scroll",r)}switch(n){case"input":mp(r),bj(r,a,!0);break;case"textarea":mp(r),yj(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=Og)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=a5(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=s.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=s.createElement(n,{is:r.is}):(e=s.createElement(n),n==="select"&&(s=e,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):e=s.createElementNS(e,n),e[uo]=t,e[Mm]=r,DO(e,t,!1,!1),t.stateNode=e;e:{switch(s=Oy(n,r),n){case"dialog":ir("cancel",e),ir("close",e),i=r;break;case"iframe":case"object":case"embed":ir("load",e),i=r;break;case"video":case"audio":for(i=0;i<Kf.length;i++)ir(Kf[i],e);i=r;break;case"source":ir("error",e),i=r;break;case"img":case"image":case"link":ir("error",e),ir("load",e),i=r;break;case"details":ir("toggle",e),i=r;break;case"input":xj(e,r),i=Ay(e,r),ir("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Nr({},r,{value:void 0}),ir("invalid",e);break;case"textarea":vj(e,r),i=Ty(e,r),ir("invalid",e);break;default:i=r}Ey(n,i),o=i;for(a in o)if(o.hasOwnProperty(a)){var c=o[a];a==="style"?l5(e,c):a==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&s5(e,c)):a==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&km(e,c):typeof c=="number"&&km(e,""+c):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(wm.hasOwnProperty(a)?c!=null&&a==="onScroll"&&ir("scroll",e):c!=null&&ek(e,a,c,s))}switch(n){case"input":mp(e),bj(e,r,!1);break;case"textarea":mp(e),yj(e);break;case"option":r.value!=null&&e.setAttribute("value",""+mc(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?yd(e,!!r.multiple,a,!1):r.defaultValue!=null&&yd(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Og)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Li(t),null;case 6:if(e&&t.stateNode!=null)MO(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(mt(166));if(n=Qc(Om.current),Qc(ho.current),kp(t)){if(r=t.stateNode,n=t.memoizedProps,r[uo]=t,(a=r.nodeValue!==n)&&(e=Ra,e!==null))switch(e.tag){case 3:wp(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&wp(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[uo]=t,t.stateNode=r}return Li(t),null;case 13:if(sr(br),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(mr&&$a!==null&&t.mode&1&&!(t.flags&128))Y5(),Id(),t.flags|=98560,a=!1;else if(a=kp(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(mt(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(mt(317));a[uo]=t}else Id(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Li(t),a=!1}else Is!==null&&(mw(Is),Is=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||br.current&1?ni===0&&(ni=3):Lk())),t.updateQueue!==null&&(t.flags|=4),Li(t),null);case 4:return Ld(),aw(e,t),e===null&&Dm(t.stateNode.containerInfo),Li(t),null;case 10:return vk(t.type._context),Li(t),null;case 17:return wa(t.type)&&Ig(),Li(t),null;case 19:if(sr(br),a=t.memoizedState,a===null)return Li(t),null;if(r=(t.flags&128)!==0,s=a.rendering,s===null)if(r)Tf(a,!1);else{if(ni!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(s=zg(e),s!==null){for(t.flags|=128,Tf(a,!1),r=s.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,s=a.alternate,s===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=s.childLanes,a.lanes=s.lanes,a.child=s.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=s.memoizedProps,a.memoizedState=s.memoizedState,a.updateQueue=s.updateQueue,a.type=s.type,e=s.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return er(br,br.current&1|2),t.child}e=e.sibling}a.tail!==null&&Rr()>Fd&&(t.flags|=128,r=!0,Tf(a,!1),t.lanes=4194304)}else{if(!r)if(e=zg(s),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Tf(a,!0),a.tail===null&&a.tailMode==="hidden"&&!s.alternate&&!mr)return Li(t),null}else 2*Rr()-a.renderingStartTime>Fd&&n!==1073741824&&(t.flags|=128,r=!0,Tf(a,!1),t.lanes=4194304);a.isBackwards?(s.sibling=t.child,t.child=s):(n=a.last,n!==null?n.sibling=s:t.child=s,a.last=s)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Rr(),t.sibling=null,n=br.current,er(br,r?n&1|2:n&1),t):(Li(t),null);case 22:case 23:return _k(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ia&1073741824&&(Li(t),t.subtreeFlags&6&&(t.flags|=8192)):Li(t),null;case 24:return null;case 25:return null}throw Error(mt(156,t.tag))}function n8(e,t){switch(pk(t),t.tag){case 1:return wa(t.type)&&Ig(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Ld(),sr(ya),sr(Vi),Sk(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Nk(t),null;case 13:if(sr(br),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(mt(340));Id()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return sr(br),null;case 4:return Ld(),null;case 10:return vk(t.type._context),null;case 22:case 23:return _k(),null;case 24:return null;default:return null}}var jp=!1,Ri=!1,r8=typeof WeakSet=="function"?WeakSet:Set,Tt=null;function fd(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Tr(e,t,r)}else n.current=null}function sw(e,t,n){try{n()}catch(r){Tr(e,t,r)}}var cC=!1;function i8(e,t){if(Wy=Tg,e=L5(),mk(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var s=0,o=-1,c=-1,u=0,d=0,f=e,h=null;t:for(;;){for(var m;f!==n||i!==0&&f.nodeType!==3||(o=s+i),f!==a||r!==0&&f.nodeType!==3||(c=s+r),f.nodeType===3&&(s+=f.nodeValue.length),(m=f.firstChild)!==null;)h=f,f=m;for(;;){if(f===e)break t;if(h===n&&++u===i&&(o=s),h===a&&++d===r&&(c=s),(m=f.nextSibling)!==null)break;f=h,h=f.parentNode}f=m}n=o===-1||c===-1?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Vy={focusedElem:e,selectionRange:n},Tg=!1,Tt=t;Tt!==null;)if(t=Tt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Tt=e;else for(;Tt!==null;){t=Tt;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var x=p.memoizedProps,v=p.memoizedState,b=t.stateNode,y=b.getSnapshotBeforeUpdate(t.elementType===t.type?x:Es(t.type,x),v);b.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(mt(163))}}catch(N){Tr(t,t.return,N)}if(e=t.sibling,e!==null){e.return=t.return,Tt=e;break}Tt=t.return}return p=cC,cC=!1,p}function om(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var a=i.destroy;i.destroy=void 0,a!==void 0&&sw(t,n,a)}i=i.next}while(i!==r)}}function xx(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ow(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function EO(e){var t=e.alternate;t!==null&&(e.alternate=null,EO(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[uo],delete t[Mm],delete t[Ky],delete t[BU],delete t[zU])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function OO(e){return e.tag===5||e.tag===3||e.tag===4}function uC(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||OO(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function lw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Og));else if(r!==4&&(e=e.child,e!==null))for(lw(e,t,n),e=e.sibling;e!==null;)lw(e,t,n),e=e.sibling}function cw(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(cw(e,t,n),e=e.sibling;e!==null;)cw(e,t,n),e=e.sibling}var Di=null,Os=!1;function Rl(e,t,n){for(n=n.child;n!==null;)IO(e,t,n),n=n.sibling}function IO(e,t,n){if(mo&&typeof mo.onCommitFiberUnmount=="function")try{mo.onCommitFiberUnmount(cx,n)}catch{}switch(n.tag){case 5:Ri||fd(n,t);case 6:var r=Di,i=Os;Di=null,Rl(e,t,n),Di=r,Os=i,Di!==null&&(Os?(e=Di,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):Di.removeChild(n.stateNode));break;case 18:Di!==null&&(Os?(e=Di,n=n.stateNode,e.nodeType===8?ov(e.parentNode,n):e.nodeType===1&&ov(e,n),Cm(e)):ov(Di,n.stateNode));break;case 4:r=Di,i=Os,Di=n.stateNode.containerInfo,Os=!0,Rl(e,t,n),Di=r,Os=i;break;case 0:case 11:case 14:case 15:if(!Ri&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var a=i,s=a.destroy;a=a.tag,s!==void 0&&(a&2||a&4)&&sw(n,t,s),i=i.next}while(i!==r)}Rl(e,t,n);break;case 1:if(!Ri&&(fd(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Tr(n,t,o)}Rl(e,t,n);break;case 21:Rl(e,t,n);break;case 22:n.mode&1?(Ri=(r=Ri)||n.memoizedState!==null,Rl(e,t,n),Ri=r):Rl(e,t,n);break;default:Rl(e,t,n)}}function dC(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new r8),t.forEach(function(r){var i=m8.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ms(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,s=t,o=s;e:for(;o!==null;){switch(o.tag){case 5:Di=o.stateNode,Os=!1;break e;case 3:Di=o.stateNode.containerInfo,Os=!0;break e;case 4:Di=o.stateNode.containerInfo,Os=!0;break e}o=o.return}if(Di===null)throw Error(mt(160));IO(a,s,i),Di=null,Os=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(u){Tr(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_O(t,e),t=t.sibling}function _O(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ms(t,e),no(e),r&4){try{om(3,e,e.return),xx(3,e)}catch(x){Tr(e,e.return,x)}try{om(5,e,e.return)}catch(x){Tr(e,e.return,x)}}break;case 1:Ms(t,e),no(e),r&512&&n!==null&&fd(n,n.return);break;case 5:if(Ms(t,e),no(e),r&512&&n!==null&&fd(n,n.return),e.flags&32){var i=e.stateNode;try{km(i,"")}catch(x){Tr(e,e.return,x)}}if(r&4&&(i=e.stateNode,i!=null)){var a=e.memoizedProps,s=n!==null?n.memoizedProps:a,o=e.type,c=e.updateQueue;if(e.updateQueue=null,c!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&r5(i,a),Oy(o,s);var u=Oy(o,a);for(s=0;s<c.length;s+=2){var d=c[s],f=c[s+1];d==="style"?l5(i,f):d==="dangerouslySetInnerHTML"?s5(i,f):d==="children"?km(i,f):ek(i,d,f,u)}switch(o){case"input":Py(i,a);break;case"textarea":i5(i,a);break;case"select":var h=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var m=a.value;m!=null?yd(i,!!a.multiple,m,!1):h!==!!a.multiple&&(a.defaultValue!=null?yd(i,!!a.multiple,a.defaultValue,!0):yd(i,!!a.multiple,a.multiple?[]:"",!1))}i[Mm]=a}catch(x){Tr(e,e.return,x)}}break;case 6:if(Ms(t,e),no(e),r&4){if(e.stateNode===null)throw Error(mt(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(x){Tr(e,e.return,x)}}break;case 3:if(Ms(t,e),no(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Cm(t.containerInfo)}catch(x){Tr(e,e.return,x)}break;case 4:Ms(t,e),no(e);break;case 13:Ms(t,e),no(e),i=e.child,i.flags&8192&&(a=i.memoizedState!==null,i.stateNode.isHidden=a,!a||i.alternate!==null&&i.alternate.memoizedState!==null||(Ok=Rr())),r&4&&dC(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(Ri=(u=Ri)||d,Ms(t,e),Ri=u):Ms(t,e),no(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(Tt=e,d=e.child;d!==null;){for(f=Tt=d;Tt!==null;){switch(h=Tt,m=h.child,h.tag){case 0:case 11:case 14:case 15:om(4,h,h.return);break;case 1:fd(h,h.return);var p=h.stateNode;if(typeof p.componentWillUnmount=="function"){r=h,n=h.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(x){Tr(r,n,x)}}break;case 5:fd(h,h.return);break;case 22:if(h.memoizedState!==null){mC(f);continue}}m!==null?(m.return=h,Tt=m):mC(f)}d=d.sibling}e:for(d=null,f=e;;){if(f.tag===5){if(d===null){d=f;try{i=f.stateNode,u?(a=i.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=f.stateNode,c=f.memoizedProps.style,s=c!=null&&c.hasOwnProperty("display")?c.display:null,o.style.display=o5("display",s))}catch(x){Tr(e,e.return,x)}}}else if(f.tag===6){if(d===null)try{f.stateNode.nodeValue=u?"":f.memoizedProps}catch(x){Tr(e,e.return,x)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===e)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===e)break e;for(;f.sibling===null;){if(f.return===null||f.return===e)break e;d===f&&(d=null),f=f.return}d===f&&(d=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Ms(t,e),no(e),r&4&&dC(e);break;case 21:break;default:Ms(t,e),no(e)}}function no(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(OO(n)){var r=n;break e}n=n.return}throw Error(mt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(km(i,""),r.flags&=-33);var a=uC(e);cw(e,a,i);break;case 3:case 4:var s=r.stateNode.containerInfo,o=uC(e);lw(e,o,s);break;default:throw Error(mt(161))}}catch(c){Tr(e,e.return,c)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function a8(e,t,n){Tt=e,LO(e)}function LO(e,t,n){for(var r=(e.mode&1)!==0;Tt!==null;){var i=Tt,a=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||jp;if(!s){var o=i.alternate,c=o!==null&&o.memoizedState!==null||Ri;o=jp;var u=Ri;if(jp=s,(Ri=c)&&!u)for(Tt=i;Tt!==null;)s=Tt,c=s.child,s.tag===22&&s.memoizedState!==null?hC(i):c!==null?(c.return=s,Tt=c):hC(i);for(;a!==null;)Tt=a,LO(a),a=a.sibling;Tt=i,jp=o,Ri=u}fC(e)}else i.subtreeFlags&8772&&a!==null?(a.return=i,Tt=a):fC(e)}}function fC(e){for(;Tt!==null;){var t=Tt;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:Ri||xx(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!Ri)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Es(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&Xj(t,a,r);break;case 3:var s=t.updateQueue;if(s!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Xj(t,s,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var f=d.dehydrated;f!==null&&Cm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(mt(163))}Ri||t.flags&512&&ow(t)}catch(h){Tr(t,t.return,h)}}if(t===e){Tt=null;break}if(n=t.sibling,n!==null){n.return=t.return,Tt=n;break}Tt=t.return}}function mC(e){for(;Tt!==null;){var t=Tt;if(t===e){Tt=null;break}var n=t.sibling;if(n!==null){n.return=t.return,Tt=n;break}Tt=t.return}}function hC(e){for(;Tt!==null;){var t=Tt;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xx(4,t)}catch(c){Tr(t,n,c)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(c){Tr(t,i,c)}}var a=t.return;try{ow(t)}catch(c){Tr(t,a,c)}break;case 5:var s=t.return;try{ow(t)}catch(c){Tr(t,s,c)}}}catch(c){Tr(t,t.return,c)}if(t===e){Tt=null;break}var o=t.sibling;if(o!==null){o.return=t.return,Tt=o;break}Tt=t.return}}var s8=Math.ceil,Vg=bl.ReactCurrentDispatcher,Mk=bl.ReactCurrentOwner,ms=bl.ReactCurrentBatchConfig,Mn=0,xi=null,Yr=null,Mi=0,Ia=0,md=wc(0),ni=0,$m=null,hu=0,bx=0,Ek=0,lm=null,xa=null,Ok=0,Fd=1/0,Vo=null,Hg=!1,uw=null,oc=null,Cp=!1,Jl=null,qg=0,cm=0,dw=null,ug=-1,dg=0;function ia(){return Mn&6?Rr():ug!==-1?ug:ug=Rr()}function lc(e){return e.mode&1?Mn&2&&Mi!==0?Mi&-Mi:WU.transition!==null?(dg===0&&(dg=y5()),dg):(e=Un,e!==0||(e=window.event,e=e===void 0?16:A5(e.type)),e):1}function Rs(e,t,n,r){if(50<cm)throw cm=0,dw=null,Error(mt(185));ch(e,n,r),(!(Mn&2)||e!==xi)&&(e===xi&&(!(Mn&2)&&(bx|=n),ni===4&&Yl(e,Mi)),ka(e,r),n===1&&Mn===0&&!(t.mode&1)&&(Fd=Rr()+500,hx&&kc()))}function ka(e,t){var n=e.callbackNode;W6(e,t);var r=Dg(e,e===xi?Mi:0);if(r===0)n!==null&&Nj(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Nj(n),t===1)e.tag===0?UU(pC.bind(null,e)):q5(pC.bind(null,e)),FU(function(){!(Mn&6)&&kc()}),n=null;else{switch(w5(r)){case 1:n=ak;break;case 4:n=b5;break;case 16:n=Pg;break;case 536870912:n=v5;break;default:n=Pg}n=VO(n,$O.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function $O(e,t){if(ug=-1,dg=0,Mn&6)throw Error(mt(327));var n=e.callbackNode;if(jd()&&e.callbackNode!==n)return null;var r=Dg(e,e===xi?Mi:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Kg(e,r);else{t=r;var i=Mn;Mn|=2;var a=RO();(xi!==e||Mi!==t)&&(Vo=null,Fd=Rr()+500,ru(e,t));do try{c8();break}catch(o){FO(e,o)}while(!0);bk(),Vg.current=a,Mn=i,Yr!==null?t=0:(xi=null,Mi=0,t=ni)}if(t!==0){if(t===2&&(i=Fy(e),i!==0&&(r=i,t=fw(e,i))),t===1)throw n=$m,ru(e,0),Yl(e,r),ka(e,Rr()),n;if(t===6)Yl(e,r);else{if(i=e.current.alternate,!(r&30)&&!o8(i)&&(t=Kg(e,r),t===2&&(a=Fy(e),a!==0&&(r=a,t=fw(e,a))),t===1))throw n=$m,ru(e,0),Yl(e,r),ka(e,Rr()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(mt(345));case 2:Bc(e,xa,Vo);break;case 3:if(Yl(e,r),(r&130023424)===r&&(t=Ok+500-Rr(),10<t)){if(Dg(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){ia(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=qy(Bc.bind(null,e,xa,Vo),t);break}Bc(e,xa,Vo);break;case 4:if(Yl(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var s=31-Fs(r);a=1<<s,s=t[s],s>i&&(i=s),r&=~a}if(r=i,r=Rr()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*s8(r/1960))-r,10<r){e.timeoutHandle=qy(Bc.bind(null,e,xa,Vo),r);break}Bc(e,xa,Vo);break;case 5:Bc(e,xa,Vo);break;default:throw Error(mt(329))}}}return ka(e,Rr()),e.callbackNode===n?$O.bind(null,e):null}function fw(e,t){var n=lm;return e.current.memoizedState.isDehydrated&&(ru(e,t).flags|=256),e=Kg(e,t),e!==2&&(t=xa,xa=n,t!==null&&mw(t)),e}function mw(e){xa===null?xa=e:xa.push.apply(xa,e)}function o8(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],a=i.getSnapshot;i=i.value;try{if(!Us(a(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Yl(e,t){for(t&=~Ek,t&=~bx,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Fs(t),r=1<<n;e[n]=-1,t&=~r}}function pC(e){if(Mn&6)throw Error(mt(327));jd();var t=Dg(e,0);if(!(t&1))return ka(e,Rr()),null;var n=Kg(e,t);if(e.tag!==0&&n===2){var r=Fy(e);r!==0&&(t=r,n=fw(e,r))}if(n===1)throw n=$m,ru(e,0),Yl(e,t),ka(e,Rr()),n;if(n===6)throw Error(mt(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Bc(e,xa,Vo),ka(e,Rr()),null}function Ik(e,t){var n=Mn;Mn|=1;try{return e(t)}finally{Mn=n,Mn===0&&(Fd=Rr()+500,hx&&kc())}}function pu(e){Jl!==null&&Jl.tag===0&&!(Mn&6)&&jd();var t=Mn;Mn|=1;var n=ms.transition,r=Un;try{if(ms.transition=null,Un=1,e)return e()}finally{Un=r,ms.transition=n,Mn=t,!(Mn&6)&&kc()}}function _k(){Ia=md.current,sr(md)}function ru(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,$U(n)),Yr!==null)for(n=Yr.return;n!==null;){var r=n;switch(pk(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ig();break;case 3:Ld(),sr(ya),sr(Vi),Sk();break;case 5:Nk(r);break;case 4:Ld();break;case 13:sr(br);break;case 19:sr(br);break;case 10:vk(r.type._context);break;case 22:case 23:_k()}n=n.return}if(xi=e,Yr=e=cc(e.current,null),Mi=Ia=t,ni=0,$m=null,Ek=bx=hu=0,xa=lm=null,Xc!==null){for(t=0;t<Xc.length;t++)if(n=Xc[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,a=n.pending;if(a!==null){var s=a.next;a.next=i,r.next=s}n.pending=r}Xc=null}return e}function FO(e,t){do{var n=Yr;try{if(bk(),og.current=Wg,Ug){for(var r=kr.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Ug=!1}if(mu=0,pi=ei=kr=null,sm=!1,Im=0,Mk.current=null,n===null||n.return===null){ni=1,$m=t,Yr=null;break}e:{var a=e,s=n.return,o=n,c=t;if(t=Mi,o.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var u=c,d=o,f=d.tag;if(!(d.mode&1)&&(f===0||f===11||f===15)){var h=d.alternate;h?(d.updateQueue=h.updateQueue,d.memoizedState=h.memoizedState,d.lanes=h.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=nC(s);if(m!==null){m.flags&=-257,rC(m,s,o,a,t),m.mode&1&&tC(a,u,t),t=m,c=u;var p=t.updateQueue;if(p===null){var x=new Set;x.add(c),t.updateQueue=x}else p.add(c);break e}else{if(!(t&1)){tC(a,u,t),Lk();break e}c=Error(mt(426))}}else if(mr&&o.mode&1){var v=nC(s);if(v!==null){!(v.flags&65536)&&(v.flags|=256),rC(v,s,o,a,t),gk($d(c,o));break e}}a=c=$d(c,o),ni!==4&&(ni=2),lm===null?lm=[a]:lm.push(a),a=s;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var b=wO(a,c,t);Yj(a,b);break e;case 1:o=c;var y=a.type,w=a.stateNode;if(!(a.flags&128)&&(typeof y.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(oc===null||!oc.has(w)))){a.flags|=65536,t&=-t,a.lanes|=t;var N=kO(a,o,t);Yj(a,N);break e}}a=a.return}while(a!==null)}zO(n)}catch(j){t=j,Yr===n&&n!==null&&(Yr=n=n.return);continue}break}while(!0)}function RO(){var e=Vg.current;return Vg.current=Wg,e===null?Wg:e}function Lk(){(ni===0||ni===3||ni===2)&&(ni=4),xi===null||!(hu&268435455)&&!(bx&268435455)||Yl(xi,Mi)}function Kg(e,t){var n=Mn;Mn|=2;var r=RO();(xi!==e||Mi!==t)&&(Vo=null,ru(e,t));do try{l8();break}catch(i){FO(e,i)}while(!0);if(bk(),Mn=n,Vg.current=r,Yr!==null)throw Error(mt(261));return xi=null,Mi=0,ni}function l8(){for(;Yr!==null;)BO(Yr)}function c8(){for(;Yr!==null&&!I6();)BO(Yr)}function BO(e){var t=WO(e.alternate,e,Ia);e.memoizedProps=e.pendingProps,t===null?zO(e):Yr=t,Mk.current=null}function zO(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=n8(n,t),n!==null){n.flags&=32767,Yr=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ni=6,Yr=null;return}}else if(n=t8(n,t,Ia),n!==null){Yr=n;return}if(t=t.sibling,t!==null){Yr=t;return}Yr=t=e}while(t!==null);ni===0&&(ni=5)}function Bc(e,t,n){var r=Un,i=ms.transition;try{ms.transition=null,Un=1,u8(e,t,n,r)}finally{ms.transition=i,Un=r}return null}function u8(e,t,n,r){do jd();while(Jl!==null);if(Mn&6)throw Error(mt(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(mt(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(V6(e,a),e===xi&&(Yr=xi=null,Mi=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Cp||(Cp=!0,VO(Pg,function(){return jd(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=ms.transition,ms.transition=null;var s=Un;Un=1;var o=Mn;Mn|=4,Mk.current=null,i8(e,n),_O(n,e),TU(Vy),Tg=!!Wy,Vy=Wy=null,e.current=n,a8(n),_6(),Mn=o,Un=s,ms.transition=a}else e.current=n;if(Cp&&(Cp=!1,Jl=e,qg=i),a=e.pendingLanes,a===0&&(oc=null),F6(n.stateNode),ka(e,Rr()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(Hg)throw Hg=!1,e=uw,uw=null,e;return qg&1&&e.tag!==0&&jd(),a=e.pendingLanes,a&1?e===dw?cm++:(cm=0,dw=e):cm=0,kc(),null}function jd(){if(Jl!==null){var e=w5(qg),t=ms.transition,n=Un;try{if(ms.transition=null,Un=16>e?16:e,Jl===null)var r=!1;else{if(e=Jl,Jl=null,qg=0,Mn&6)throw Error(mt(331));var i=Mn;for(Mn|=4,Tt=e.current;Tt!==null;){var a=Tt,s=a.child;if(Tt.flags&16){var o=a.deletions;if(o!==null){for(var c=0;c<o.length;c++){var u=o[c];for(Tt=u;Tt!==null;){var d=Tt;switch(d.tag){case 0:case 11:case 15:om(8,d,a)}var f=d.child;if(f!==null)f.return=d,Tt=f;else for(;Tt!==null;){d=Tt;var h=d.sibling,m=d.return;if(EO(d),d===u){Tt=null;break}if(h!==null){h.return=m,Tt=h;break}Tt=m}}}var p=a.alternate;if(p!==null){var x=p.child;if(x!==null){p.child=null;do{var v=x.sibling;x.sibling=null,x=v}while(x!==null)}}Tt=a}}if(a.subtreeFlags&2064&&s!==null)s.return=a,Tt=s;else e:for(;Tt!==null;){if(a=Tt,a.flags&2048)switch(a.tag){case 0:case 11:case 15:om(9,a,a.return)}var b=a.sibling;if(b!==null){b.return=a.return,Tt=b;break e}Tt=a.return}}var y=e.current;for(Tt=y;Tt!==null;){s=Tt;var w=s.child;if(s.subtreeFlags&2064&&w!==null)w.return=s,Tt=w;else e:for(s=y;Tt!==null;){if(o=Tt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:xx(9,o)}}catch(j){Tr(o,o.return,j)}if(o===s){Tt=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,Tt=N;break e}Tt=o.return}}if(Mn=i,kc(),mo&&typeof mo.onPostCommitFiberRoot=="function")try{mo.onPostCommitFiberRoot(cx,e)}catch{}r=!0}return r}finally{Un=n,ms.transition=t}}return!1}function gC(e,t,n){t=$d(n,t),t=wO(e,t,1),e=sc(e,t,1),t=ia(),e!==null&&(ch(e,1,t),ka(e,t))}function Tr(e,t,n){if(e.tag===3)gC(e,e,n);else for(;t!==null;){if(t.tag===3){gC(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(oc===null||!oc.has(r))){e=$d(n,e),e=kO(t,e,1),t=sc(t,e,1),e=ia(),t!==null&&(ch(t,1,e),ka(t,e));break}}t=t.return}}function d8(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=ia(),e.pingedLanes|=e.suspendedLanes&n,xi===e&&(Mi&n)===n&&(ni===4||ni===3&&(Mi&130023424)===Mi&&500>Rr()-Ok?ru(e,0):Ek|=n),ka(e,t)}function UO(e,t){t===0&&(e.mode&1?(t=gp,gp<<=1,!(gp&130023424)&&(gp=4194304)):t=1);var n=ia();e=ll(e,t),e!==null&&(ch(e,t,n),ka(e,n))}function f8(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),UO(e,n)}function m8(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(mt(314))}r!==null&&r.delete(t),UO(e,n)}var WO;WO=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||ya.current)ba=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return ba=!1,e8(e,t,n);ba=!!(e.flags&131072)}else ba=!1,mr&&t.flags&1048576&&K5(t,$g,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;cg(e,t),e=t.pendingProps;var i=Od(t,Vi.current);Sd(t,n),i=Ck(null,t,r,e,i,n);var a=Ak();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,wa(r)?(a=!0,_g(t)):a=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,wk(t),i.updater=gx,t.stateNode=i,i._reactInternals=t,Jy(t,r,e,n),t=nw(null,t,r,!0,a,n)):(t.tag=0,mr&&a&&hk(t),ea(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(cg(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=p8(r),e=Es(r,e),i){case 0:t=tw(null,t,r,e,n);break e;case 1:t=sC(null,t,r,e,n);break e;case 11:t=iC(null,t,r,e,n);break e;case 14:t=aC(null,t,r,Es(r.type,e),n);break e}throw Error(mt(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Es(r,i),tw(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Es(r,i),sC(e,t,r,i,n);case 3:e:{if(CO(t),e===null)throw Error(mt(387));r=t.pendingProps,a=t.memoizedState,i=a.element,J5(e,t),Bg(t,r,null,n);var s=t.memoizedState;if(r=s.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){i=$d(Error(mt(423)),t),t=oC(e,t,r,n,i);break e}else if(r!==i){i=$d(Error(mt(424)),t),t=oC(e,t,r,n,i);break e}else for($a=ac(t.stateNode.containerInfo.firstChild),Ra=t,mr=!0,Is=null,n=Q5(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Id(),r===i){t=cl(e,t,n);break e}ea(e,t,r,n)}t=t.child}return t;case 5:return eO(t),e===null&&Xy(t),r=t.type,i=t.pendingProps,a=e!==null?e.memoizedProps:null,s=i.children,Hy(r,i)?s=null:a!==null&&Hy(r,a)&&(t.flags|=32),jO(e,t),ea(e,t,s,n),t.child;case 6:return e===null&&Xy(t),null;case 13:return AO(e,t,n);case 4:return kk(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=_d(t,null,r,n):ea(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Es(r,i),iC(e,t,r,i,n);case 7:return ea(e,t,t.pendingProps,n),t.child;case 8:return ea(e,t,t.pendingProps.children,n),t.child;case 12:return ea(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,s=i.value,er(Fg,r._currentValue),r._currentValue=s,a!==null)if(Us(a.value,s)){if(a.children===i.children&&!ya.current){t=cl(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){s=a.child;for(var c=o.firstContext;c!==null;){if(c.context===r){if(a.tag===1){c=el(-1,n&-n),c.tag=2;var u=a.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}a.lanes|=n,c=a.alternate,c!==null&&(c.lanes|=n),Qy(a.return,n,t),o.lanes|=n;break}c=c.next}}else if(a.tag===10)s=a.type===t.type?null:a.child;else if(a.tag===18){if(s=a.return,s===null)throw Error(mt(341));s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Qy(s,n,t),s=a.sibling}else s=a.child;if(s!==null)s.return=a;else for(s=a;s!==null;){if(s===t){s=null;break}if(a=s.sibling,a!==null){a.return=s.return,s=a;break}s=s.return}a=s}ea(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Sd(t,n),i=hs(i),r=r(i),t.flags|=1,ea(e,t,r,n),t.child;case 14:return r=t.type,i=Es(r,t.pendingProps),i=Es(r.type,i),aC(e,t,r,i,n);case 15:return NO(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Es(r,i),cg(e,t),t.tag=1,wa(r)?(e=!0,_g(t)):e=!1,Sd(t,n),yO(t,r,i),Jy(t,r,i,n),nw(null,t,r,!0,e,n);case 19:return PO(e,t,n);case 22:return SO(e,t,n)}throw Error(mt(156,t.tag))};function VO(e,t){return x5(e,t)}function h8(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ds(e,t,n,r){return new h8(e,t,n,r)}function $k(e){return e=e.prototype,!(!e||!e.isReactComponent)}function p8(e){if(typeof e=="function")return $k(e)?1:0;if(e!=null){if(e=e.$$typeof,e===nk)return 11;if(e===rk)return 14}return 2}function cc(e,t){var n=e.alternate;return n===null?(n=ds(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function fg(e,t,n,r,i,a){var s=2;if(r=e,typeof e=="function")$k(e)&&(s=1);else if(typeof e=="string")s=5;else e:switch(e){case rd:return iu(n.children,i,a,t);case tk:s=8,i|=8;break;case Ny:return e=ds(12,n,t,i|2),e.elementType=Ny,e.lanes=a,e;case Sy:return e=ds(13,n,t,i),e.elementType=Sy,e.lanes=a,e;case jy:return e=ds(19,n,t,i),e.elementType=jy,e.lanes=a,e;case e5:return vx(n,i,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case ZE:s=10;break e;case JE:s=9;break e;case nk:s=11;break e;case rk:s=14;break e;case Wl:s=16,r=null;break e}throw Error(mt(130,e==null?e:typeof e,""))}return t=ds(s,n,t,i),t.elementType=e,t.type=r,t.lanes=a,t}function iu(e,t,n,r){return e=ds(7,e,r,t),e.lanes=n,e}function vx(e,t,n,r){return e=ds(22,e,r,t),e.elementType=e5,e.lanes=n,e.stateNode={isHidden:!1},e}function pv(e,t,n){return e=ds(6,e,null,t),e.lanes=n,e}function gv(e,t,n){return t=ds(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function g8(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Xb(0),this.expirationTimes=Xb(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Xb(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fk(e,t,n,r,i,a,s,o,c){return e=new g8(e,t,n,o,c),t===1?(t=1,a===!0&&(t|=8)):t=0,a=ds(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},wk(a),e}function x8(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:nd,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function HO(e){if(!e)return hc;e=e._reactInternals;e:{if(Pu(e)!==e||e.tag!==1)throw Error(mt(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(wa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(mt(171))}if(e.tag===1){var n=e.type;if(wa(n))return H5(e,n,t)}return t}function qO(e,t,n,r,i,a,s,o,c){return e=Fk(n,r,!0,e,i,a,s,o,c),e.context=HO(null),n=e.current,r=ia(),i=lc(n),a=el(r,i),a.callback=t??null,sc(n,a,i),e.current.lanes=i,ch(e,i,r),ka(e,r),e}function yx(e,t,n,r){var i=t.current,a=ia(),s=lc(i);return n=HO(n),t.context===null?t.context=n:t.pendingContext=n,t=el(a,s),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=sc(i,t,s),e!==null&&(Rs(e,i,s,a),sg(e,i,s)),s}function Gg(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function xC(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Rk(e,t){xC(e,t),(e=e.alternate)&&xC(e,t)}function b8(){return null}var KO=typeof reportError=="function"?reportError:function(e){console.error(e)};function Bk(e){this._internalRoot=e}wx.prototype.render=Bk.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(mt(409));yx(e,t,null,null)};wx.prototype.unmount=Bk.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;pu(function(){yx(null,e,null,null)}),t[ol]=null}};function wx(e){this._internalRoot=e}wx.prototype.unstable_scheduleHydration=function(e){if(e){var t=S5();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gl.length&&t!==0&&t<Gl[n].priority;n++);Gl.splice(n,0,e),n===0&&C5(e)}};function zk(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function kx(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function bC(){}function v8(e,t,n,r,i){if(i){if(typeof r=="function"){var a=r;r=function(){var u=Gg(s);a.call(u)}}var s=qO(t,r,e,0,null,!1,!1,"",bC);return e._reactRootContainer=s,e[ol]=s.current,Dm(e.nodeType===8?e.parentNode:e),pu(),s}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var u=Gg(c);o.call(u)}}var c=Fk(e,0,!1,null,null,!1,!1,"",bC);return e._reactRootContainer=c,e[ol]=c.current,Dm(e.nodeType===8?e.parentNode:e),pu(function(){yx(t,c,n,r)}),c}function Nx(e,t,n,r,i){var a=n._reactRootContainer;if(a){var s=a;if(typeof i=="function"){var o=i;i=function(){var c=Gg(s);o.call(c)}}yx(t,s,e,i)}else s=v8(n,t,e,i,r);return Gg(s)}k5=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=qf(t.pendingLanes);n!==0&&(sk(t,n|1),ka(t,Rr()),!(Mn&6)&&(Fd=Rr()+500,kc()))}break;case 13:pu(function(){var r=ll(e,1);if(r!==null){var i=ia();Rs(r,e,1,i)}}),Rk(e,1)}};ok=function(e){if(e.tag===13){var t=ll(e,134217728);if(t!==null){var n=ia();Rs(t,e,134217728,n)}Rk(e,134217728)}};N5=function(e){if(e.tag===13){var t=lc(e),n=ll(e,t);if(n!==null){var r=ia();Rs(n,e,t,r)}Rk(e,t)}};S5=function(){return Un};j5=function(e,t){var n=Un;try{return Un=e,t()}finally{Un=n}};_y=function(e,t,n){switch(t){case"input":if(Py(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=mx(r);if(!i)throw Error(mt(90));n5(r),Py(r,i)}}}break;case"textarea":i5(e,n);break;case"select":t=n.value,t!=null&&yd(e,!!n.multiple,t,!1)}};d5=Ik;f5=pu;var y8={usingClientEntryPoint:!1,Events:[dh,od,mx,c5,u5,Ik]},Mf={findFiberByHostInstance:Yc,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},w8={bundleType:Mf.bundleType,version:Mf.version,rendererPackageName:Mf.rendererPackageName,rendererConfig:Mf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bl.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=p5(e),e===null?null:e.stateNode},findFiberByHostInstance:Mf.findFiberByHostInstance||b8,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ap=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ap.isDisabled&&Ap.supportsFiber)try{cx=Ap.inject(w8),mo=Ap}catch{}}qa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=y8;qa.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zk(t))throw Error(mt(200));return x8(e,t,null,n)};qa.createRoot=function(e,t){if(!zk(e))throw Error(mt(299));var n=!1,r="",i=KO;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=Fk(e,1,!1,null,null,n,!1,r,i),e[ol]=t.current,Dm(e.nodeType===8?e.parentNode:e),new Bk(t)};qa.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(mt(188)):(e=Object.keys(e).join(","),Error(mt(268,e)));return e=p5(t),e=e===null?null:e.stateNode,e};qa.flushSync=function(e){return pu(e)};qa.hydrate=function(e,t,n){if(!kx(t))throw Error(mt(200));return Nx(null,e,t,!0,n)};qa.hydrateRoot=function(e,t,n){if(!zk(e))throw Error(mt(405));var r=n!=null&&n.hydratedSources||null,i=!1,a="",s=KO;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),t=qO(t,null,e,1,n??null,i,!1,a,s),e[ol]=t.current,Dm(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new wx(t)};qa.render=function(e,t,n){if(!kx(t))throw Error(mt(200));return Nx(null,e,t,!1,n)};qa.unmountComponentAtNode=function(e){if(!kx(e))throw Error(mt(40));return e._reactRootContainer?(pu(function(){Nx(null,null,e,!1,function(){e._reactRootContainer=null,e[ol]=null})}),!0):!1};qa.unstable_batchedUpdates=Ik;qa.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!kx(n))throw Error(mt(200));if(e==null||e._reactInternals===void 0)throw Error(mt(38));return Nx(e,t,n,!1,r)};qa.version="18.3.1-next-f1338f8080-20240426";function GO(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GO)}catch(e){console.error(e)}}GO(),GE.exports=qa;var rf=GE.exports,vC=rf;wy.createRoot=vC.createRoot,wy.hydrateRoot=vC.hydrateRoot;const k8=new Set(["Vulnerability","Weakness","Blind","Cripple","Chill","Immobilize","Slow","Fear","Taunt"]),YO=[{id:"damage",label:"Damage",field:"damage",source:"dpsAll"},{id:"directDmg",label:"Direct Damage",field:"directDmg",source:"statsTargets"},{id:"connectedDamageCount",label:"Connected Damage Count",field:"connectedDamageCount",source:"statsTargets"},{id:"connectedDirectDamageCount",label:"Connected Direct Damage Count",field:"connectedDirectDamageCount",source:"statsTargets"},{id:"battleStandardHits",label:"Battle Standard Tracking"},{id:"criticalRate",label:"Critical Rate",field:"criticalRate",isRate:!0,isPercent:!0,denomField:"critableDirectDamageCount",source:"statsTargets"},{id:"criticalDmg",label:"Critical Damage",field:"criticalDmg",source:"statsTargets"},{id:"flankingRate",label:"Flanking Rate",field:"flankingRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"glanceRate",label:"Glance Rate",field:"glanceRate",isRate:!0,isPercent:!0,denomField:"connectedDirectDamageCount",source:"statsTargets"},{id:"missed",label:"Missed",field:"missed",source:"statsTargets"},{id:"evaded",label:"Evaded (enemy)",field:"evaded",source:"statsTargets"},{id:"blocked",label:"Blocked (enemy)",field:"blocked",source:"statsTargets"},{id:"interrupts",label:"Interrupts",field:"interrupts",source:"statsTargets"},{id:"invulned",label:"Invulned",field:"invulned",source:"statsTargets"},{id:"killed",label:"Killed",field:"killed",source:"statsTargets"},{id:"downed",label:"Downed",field:"downed",source:"statsTargets"},{id:"downContribution",label:"Down Contribution",field:"downContribution",source:"statsTargets"},{id:"downContributionPercent",label:"Down Contribution %",isRate:!0,isPercent:!0},{id:"againstDownedDamage",label:"Against Downed Damage",field:"againstDownedDamage",source:"statsTargets"},{id:"appliedCrowdControl",label:"Applied CC",field:"appliedCrowdControl",source:"statsTargets"},{id:"appliedCrowdControlDuration",label:"Applied CC Duration",field:"appliedCrowdControlDuration",source:"statsTargets"},{id:"appliedCrowdControlDownContribution",label:"Applied CC Down Contribution",field:"appliedCrowdControlDownContribution",source:"statsTargets"},{id:"appliedCrowdControlDurationDownContribution",label:"Applied CC Duration Down Contribution",field:"appliedCrowdControlDurationDownContribution",source:"statsTargets"},{id:"boonStrips",label:"Boon Strips",field:"boonStrips",source:"support"}],XO=[{id:"damageTaken",label:"Damage Taken",field:"damageTaken"},{id:"minionDamageTaken",label:"Minion Damage Taken"},{id:"damageTakenCount",label:"Damage Taken Count",field:"damageTakenCount"},{id:"conditionDamageTaken",label:"Condition Damage Taken",field:"conditionDamageTaken"},{id:"conditionDamageTakenCount",label:"Condition Damage Taken Count",field:"conditionDamageTakenCount"},{id:"powerDamageTaken",label:"Power Damage Taken",field:"powerDamageTaken"},{id:"powerDamageTakenCount",label:"Power Damage Taken Count",field:"powerDamageTakenCount"},{id:"downedDamageTaken",label:"Downed Damage Taken",field:"downedDamageTaken"},{id:"downedDamageTakenCount",label:"Downed Damage Taken Count",field:"downedDamageTakenCount"},{id:"damageBarrier",label:"Damage Barrier",field:"damageBarrier"},{id:"damageBarrierCount",label:"Damage Barrier Count",field:"damageBarrierCount"},{id:"blockedCount",label:"Blocked Count",field:"blockedCount"},{id:"evadedCount",label:"Evaded Count",field:"evadedCount"},{id:"missedCount",label:"Missed Count",field:"missedCount"},{id:"dodgeCount",label:"Dodge Count",field:"dodgeCount"},{id:"invulnedCount",label:"Invulnerable Count",field:"invulnedCount"},{id:"interruptedCount",label:"Interrupted Count",field:"interruptedCount"},{id:"downCount",label:"Down Count",field:"downCount"},{id:"deadCount",label:"Death Count",field:"deadCount"},{id:"boonStrips",label:"Boon Strips (Incoming)",field:"boonStrips"},{id:"conditionCleanses",label:"Cleanses (Incoming)",field:"conditionCleanses"},{id:"receivedCrowdControl",label:"Crowd Control (Incoming)",field:"receivedCrowdControl"}],N8=[{id:"totalHits",label:"Total Hits"},{id:"evaded",label:"Evaded"},{id:"blocked",label:"Blocked"},{id:"glanced",label:"Glanced"},{id:"missed",label:"Missed"},{id:"invulned",label:"Invulned"},{id:"interrupted",label:"Interrupted"},{id:"totalMitigation",label:"Damage Mitigation"},{id:"minMitigation",label:"Min Damage Mitigation"}],QO=[{id:"condiCleanse",label:"Condition Cleanses",field:"condiCleanse"},{id:"condiCleanseTime",label:"Condition Cleanse Time",field:"condiCleanseTime",isTime:!0},{id:"condiCleanseSelf",label:"Condition Cleanse Self",field:"condiCleanseSelf"},{id:"condiCleanseTimeSelf",label:"Condition Cleanse Time Self",field:"condiCleanseTimeSelf",isTime:!0},{id:"boonStrips",label:"Boon Strips",field:"boonStrips"},{id:"boonStripsTime",label:"Boon Strips Time",field:"boonStripsTime",isTime:!0},{id:"boonStripDownContribution",label:"Boon Strip Down Contribution",field:"boonStripDownContribution"},{id:"boonStripDownContributionTime",label:"Boon Strip Down Contribution Time",field:"boonStripDownContributionTime",isTime:!0},{id:"stunBreak",label:"Stun Breaks",field:"stunBreak"},{id:"removedStunDuration",label:"Removed Stun Duration",field:"removedStunDuration",isTime:!0},{id:"resurrects",label:"Resurrects",field:"resurrects"},{id:"resurrectTime",label:"Resurrect Time",field:"resurrectTime",isTime:!0}],S8=[{id:"healing",label:"Healing",baseField:"healing",perSecond:!1,decimals:0},{id:"healingPerSecond",label:"Healing Per Second",baseField:"healing",perSecond:!0,decimals:2},{id:"barrier",label:"Barrier",baseField:"barrier",perSecond:!1,decimals:0},{id:"barrierPerSecond",label:"Barrier Per Second",baseField:"barrier",perSecond:!0,decimals:2},{id:"downedHealing",label:"Downed Healing",baseField:"downedHealing",perSecond:!1,decimals:0},{id:"downedHealingPerSecond",label:"Downed Healing Per Second",baseField:"downedHealing",perSecond:!0,decimals:1},{id:"resUtility",label:"Resurrect Utility",baseField:"resUtility",perSecond:!1,decimals:0}],j8=["battle standard","glyph of renewal","glyph of the stars","illusion of life","spirit of nature","nature spirit","search and rescue","signet of mercy"],C8=new Set([10244]),A8=(e,t)=>{var i;if(C8.has(e))return!0;const n=(t==null?void 0:t[`s${e}`])||(t==null?void 0:t[`${e}`]),r=((i=n==null?void 0:n.name)==null?void 0:i.toLowerCase())||"";return j8.some(a=>r.includes(a))},P8=e=>{const t=e.toLowerCase();return t.includes("autoattack")||t.includes("auto attack")},Hu=e=>{if(!e||!Number.isFinite(e))return"--:--";const t=Math.max(0,Math.round(e/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}:${String(r).padStart(2,"0")}:${String(i).padStart(2,"0")}`:`${r}:${String(i).padStart(2,"0")}`},ZO=()=>typeof window>"u"||typeof window.matchMedia!="function"?!1:window.matchMedia("(max-width: 640px)").matches,JO=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e),n=e<0?"-":"";if(t>=1e6){const i=(t/1e6).toFixed(2).replace(/\.?0+$/,"");return`${n}${i}m`}if(t>=1e4){const i=(t/1e3).toFixed(0);return`${n}${i}k`}return`${e.toLocaleString()}`},mi=(e,t=2)=>Number.isFinite(e)?ZO()&&Math.abs(e)>=1e4?JO(e):e.toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}):"--",zl=e=>{if(!Number.isFinite(e))return"--";const t=Math.abs(e);return ZO()&&t>=1e4?JO(e):t>=1e6?`${(e/1e6).toFixed(2).replace(/\.?0+$/,"")}m`:Math.round(e).toLocaleString()};var D8={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const T8=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Xt=(e,t)=>{const n=g.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:a=2,absoluteStrokeWidth:s,children:o,...c},u)=>g.createElement("svg",{ref:u,...D8,width:i,height:i,stroke:r,strokeWidth:s?Number(a)*24/Number(i):a,className:`lucide lucide-${T8(e)}`,...c},[...t.map(([d,f])=>g.createElement(d,f)),...(Array.isArray(o)?o:[o])||[]]));return n.displayName=`${e}`,n},eI=Xt("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]),M8=Xt("ArrowBigDown",[["path",{d:"M15 6v6h4l-7 7-7-7h4V6h6z",key:"1thax2"}]]),Uk=Xt("ArrowBigUp",[["path",{d:"M9 18v-6H5l7-7 7 7h-4v6H9z",key:"1x06kx"}]]),hw=Xt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),E8=Xt("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]),um=Xt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]),O8=Xt("CalendarDays",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]),tI=Xt("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),pw=Xt("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]),I8=Xt("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]),Wk=Xt("Clock3",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16.5 12",key:"1aq6pp"}]]),Ws=Xt("Columns",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"12",x2:"12",y1:"3",y2:"21",key:"1efggb"}]]),_8=Xt("Crosshair",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"22",x2:"18",y1:"12",y2:"12",key:"l9bcsi"}],["line",{x1:"6",x2:"2",y1:"12",y2:"12",key:"13hhkx"}],["line",{x1:"12",x2:"12",y1:"6",y2:"2",key:"10w3f3"}],["line",{x1:"12",x2:"12",y1:"22",y2:"18",key:"15g9kq"}]]),L8=Xt("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),$8=Xt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),yC=Xt("ExternalLink",[["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}],["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["line",{x1:"10",x2:"21",y1:"14",y2:"3",key:"18c3s4"}]]),Fm=Xt("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),F8=Xt("Flame",[["path",{d:"M8.5 14.5A2.5 2.5 0 0 0 11 12c0-1.38-.5-2-1-3-1.072-2.143-.224-4.054 2-6 .5 2.5 2 4.9 4 6.5 2 1.6 3 3.5 3 5.5a7 7 0 1 1-14 0c0-1.153.433-2.294 1-3a2.5 2.5 0 0 0 2.5 2.5z",key:"96xj49"}]]),Vk=Xt("GitCompareArrows",[["circle",{cx:"5",cy:"6",r:"3",key:"1qnov2"}],["path",{d:"M12 6h5a2 2 0 0 1 2 2v7",key:"1yj91y"}],["path",{d:"m15 9-3-3 3-3",key:"1lwv8l"}],["circle",{cx:"19",cy:"18",r:"3",key:"1qljk2"}],["path",{d:"M12 18H7a2 2 0 0 1-2-2V9",key:"16sdep"}],["path",{d:"m9 15 3 3-3 3",key:"1m3kbl"}]]),R8=Xt("Hammer",[["path",{d:"m15 12-8.5 8.5c-.83.83-2.17.83-3 0 0 0 0 0 0 0a2.12 2.12 0 0 1 0-3L12 9",key:"1afvon"}],["path",{d:"M17.64 15 22 10.64",key:"zsji6s"}],["path",{d:"m20.91 11.7-1.25-1.25c-.6-.6-.93-1.4-.93-2.25v-.86L16.01 4.6a5.56 5.56 0 0 0-3.94-1.64H9l.92.82A6.18 6.18 0 0 1 12 8.4v1.56l2 2h2.47l2.26 1.91",key:"lehyy1"}]]),nI=Xt("HeartPulse",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M3.22 12H9.5l.5-1 2 4.5 2-7 1.5 3.5h5.27",key:"1uw2ng"}]]),B8=Xt("HelpingHand",[["path",{d:"m3 15 5.12-5.12A3 3 0 0 1 10.24 9H13a2 2 0 1 1 0 4h-2.5m4-.68 4.17-4.89a1.88 1.88 0 0 1 2.92 2.36l-4.2 5.94A3 3 0 0 1 14.96 17H9.83a2 2 0 0 0-1.42.59L7 19",key:"nitrv7"}],["path",{d:"m2 14 6 6",key:"g6j1uo"}]]),Hk=Xt("Keyboard",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",ry:"2",key:"15u882"}],["path",{d:"M6 8h.001",key:"1ej0i3"}],["path",{d:"M10 8h.001",key:"1x2st2"}],["path",{d:"M14 8h.001",key:"1vkmyp"}],["path",{d:"M18 8h.001",key:"kfsenl"}],["path",{d:"M8 12h.001",key:"1sjpby"}],["path",{d:"M12 12h.001",key:"al75ts"}],["path",{d:"M16 12h.001",key:"931bgk"}],["path",{d:"M7 16h10",key:"wp8him"}]]),z8=Xt("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]),qk=Xt("ListTree",[["path",{d:"M21 12h-8",key:"1bmf0i"}],["path",{d:"M21 6H8",key:"1pqkrb"}],["path",{d:"M21 18h-8",key:"1tm79t"}],["path",{d:"M3 6v4c0 1.1.9 2 2 2h3",key:"1ywdgy"}],["path",{d:"M3 10v6c0 1.1.9 2 2 2h3",key:"2wc746"}]]),U8=Xt("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]),Kk=Xt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]),bi=Xt("Maximize2",[["polyline",{points:"15 3 21 3 21 9",key:"mznyad"}],["polyline",{points:"9 21 3 21 3 15",key:"1avn1i"}],["line",{x1:"21",x2:"14",y1:"3",y2:"10",key:"ota7mn"}],["line",{x1:"3",x2:"10",y1:"21",y2:"14",key:"1atl0r"}]]),wC=Xt("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["line",{x1:"9",x2:"9",y1:"3",y2:"21",key:"13tij5"}]]),W8=Xt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),Gk=Xt("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]),V8=Xt("Share2",[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]]),H8=Xt("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]),rI=Xt("ShieldCheck",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]),Rd=Xt("Shield",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}]]),gu=Xt("Skull",[["circle",{cx:"9",cy:"12",r:"1",key:"1vctgf"}],["circle",{cx:"15",cy:"12",r:"1",key:"1tmaij"}],["path",{d:"M8 20v2h8v-2",key:"ded4og"}],["path",{d:"m12.5 17-.5-1-.5 1h1z",key:"3me087"}],["path",{d:"M16 20a2 2 0 0 0 1.56-3.25 8 8 0 1 0-11.12 0A2 2 0 0 0 8 20",key:"xq9p5u"}]]),Sx=Xt("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]),Yg=Xt("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]),q8=Xt("Sword",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}]]),ec=Xt("Swords",[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]]),Yk=Xt("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),au=Xt("Trophy",[["path",{d:"M6 9H4.5a2.5 2.5 0 0 1 0-5H6",key:"17hqa7"}],["path",{d:"M18 9h1.5a2.5 2.5 0 0 0 0-5H18",key:"lmptdp"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M10 14.66V17c0 .55-.47.98-.97 1.21C7.85 18.75 7 20.24 7 22",key:"1nw9bq"}],["path",{d:"M14 14.66V17c0 .55.47.98.97 1.21C16.15 18.75 17 20.24 17 22",key:"1np0yb"}],["path",{d:"M18 2H6v7a6 6 0 0 0 12 0V2Z",key:"u46fv3"}]]),K8=Xt("UploadCloud",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]),Er=Xt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),G8=Xt("Wind",[["path",{d:"M17.7 7.7a2.5 2.5 0 1 1 1.8 4.3H2",key:"1k4u03"}],["path",{d:"M9.6 4.6A2 2 0 1 1 11 8H2",key:"b7d0fd"}],["path",{d:"M12.6 19.4A2 2 0 1 0 14 16H2",key:"1p5cb3"}]]),iI=Xt("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),ii=Xt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Rm=Xt("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]),Nc=e=>{const t=e.replace(/^\/+/,"");if(typeof window<"u"){const i=window.location.pathname||"";if(i.includes("/reports/"))return`../../${t}`;if(i.includes("/web/web/"))return`../${t}`}const n="./";return`${n.endsWith("/")?n:`${n}/`}${t}`},Cd=({className:e})=>{const t=Nc("svg/commander_tag_outline.svg");return l.jsx("span",{"aria-hidden":"true",className:e,style:{display:"inline-block",backgroundColor:"currentColor",maskImage:`url("${t}")`,maskRepeat:"no-repeat",maskPosition:"center",maskSize:"contain",WebkitMaskImage:`url("${t}")`,WebkitMaskRepeat:"no-repeat",WebkitMaskPosition:"center",WebkitMaskSize:"contain"}})},Xk=({className:e})=>l.jsx(W8,{className:e,strokeWidth:3.2}),Qk=({className:e=""})=>{const t=Nc("svg/custom-icons/mouse.svg");return l.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Zk=({className:e=""})=>{const t=Nc("svg/custom-icons/gw2_aegis.svg");return l.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},su=({className:e=""})=>{const t=Nc("svg/custom-icons/gw2_boon.svg");return l.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Jk=({className:e=""})=>{const t=Nc("svg/custom-icons/dam_mit.svg");return l.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},dm=({className:e=""})=>{const t=Nc("svg/custom-icons/gw2_fury.svg");return l.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},eN=({className:e=""})=>{const t=Nc("svg/custom-icons/gw2_sigil.svg");return l.jsx("span",{"aria-hidden":"true",className:`inline-block shrink-0 ${e}`.trim(),style:{backgroundColor:"currentColor",maskImage:`url(${t})`,WebkitMaskImage:`url(${t})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"}})},Y8=[{id:"overview",label:"Overview",icon:au,sectionIds:["overview","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","squad-composition","timeline","map-distribution"],items:[{id:"overview",label:"Overview",icon:au},{id:"fight-breakdown",label:"Fight Breakdown",icon:ec},{id:"top-players",label:"Top Players",icon:au},{id:"top-skills-outgoing",label:"Top Skills",icon:Uk},{id:"squad-composition",label:"Classes",icon:Er},{id:"timeline",label:"Squad vs Enemy",icon:Er},{id:"map-distribution",label:"Map Distribution",icon:Kk}]},{id:"commanders",label:"Commander Stats",icon:Cd,sectionIds:["commander-stats","commander-push-timing","commander-target-conversion","commander-tag-movement","commander-tag-death-response"],items:[{id:"commander-stats",label:"Commander Stats",icon:Cd},{id:"commander-push-timing",label:"Push Timing",icon:Wk},{id:"commander-target-conversion",label:"Target Conversion",icon:Yk},{id:"commander-tag-movement",label:"Tag Movement",icon:Gk},{id:"commander-tag-death-response",label:"Tag Death Response",icon:gu}]},{id:"roster",label:"Roster Intel",icon:Fm,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance Ledger",icon:Fm},{id:"squad-comp-fight",label:"Squad Comp by Fight",icon:Er},{id:"fight-comp",label:"Fight Comp",icon:ec}]},{id:"offense",label:"Offensive Stats",icon:ec,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:ec},{id:"player-breakdown",label:"Player Breakdown",icon:qk},{id:"damage-breakdown",label:"Damage Breakdown",icon:um},{id:"spike-damage",label:"Spike Damage",icon:Rm},{id:"conditions-outgoing",label:"Conditions",icon:gu}]},{id:"defense",label:"Defensive Stats",icon:Rd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:H8},{id:"defense-detailed",label:"Defense Detailed",icon:Rd},{id:"defense-mitigation",label:"Damage Mitigation",icon:Jk},{id:"boon-output",label:"Boon Output",icon:su},{id:"boon-timeline",label:"Boon Timeline",icon:Zk},{id:"boon-uptime",label:"Boon Uptime",icon:dm},{id:"support-detailed",label:"Support Detailed",icon:Xk},{id:"healing-stats",label:"Healing Stats",icon:nI}]},{id:"other",label:"Other Metrics",icon:Yg,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:Vk},{id:"special-buffs",label:"Special Buffs",icon:Yg},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:eN},{id:"skill-usage",label:"Skill Usage",icon:Hk},{id:"apm-stats",label:"APM Breakdown",icon:Qk}]}],X8=(e,t=!0,n=!1)=>{const[r,i]=g.useState(!1),[a,s]=g.useState("overview"),o=g.useRef(null),c=g.useRef(null),u=g.useRef(0),d=g.useMemo(()=>Y8,[]),f=g.useMemo(()=>d.flatMap(p=>p.items),[d]),h=p=>{const x=p==="kdr"?"overview":p,v=o.current,b=document.getElementById(x);if(v&&b){const y=v.getBoundingClientRect(),N=b.getBoundingClientRect().top-y.top+v.scrollTop,j=Math.max(0,v.scrollHeight-v.clientHeight),k=Math.min(Math.max(N-16,0),j);v.scrollTo({top:k,behavior:"smooth"}),s(x)}else b&&(b.scrollIntoView({behavior:"smooth",block:"start"}),s(x));i(!1)};g.useEffect(()=>{if(e||n)return;const p=x=>{if(n)return;const v=o.current;if(!v)return;const b=x.target;if(!(b instanceof Element&&b.closest("[data-stats-mobile-nav]"))&&!(b instanceof Node&&v.contains(b))&&x.deltaY!==0&&!(v.scrollHeight<=v.clientHeight)){if(u.current+=x.deltaY,c.current===null){const y=()=>{const w=u.current;if(Math.abs(w)<.5){u.current=0,c.current=null;return}const N=w*.2;u.current=w-N,v.scrollBy({top:N,behavior:"auto"}),c.current=requestAnimationFrame(y)};c.current=requestAnimationFrame(y)}x.preventDefault()}};return window.addEventListener("wheel",p,{passive:!1}),()=>{window.removeEventListener("wheel",p),c.current!==null&&(cancelAnimationFrame(c.current),c.current=null),u.current=0}},[e,n]);const m=p=>{var y;const x=Math.max(0,f.findIndex(w=>w.id===a)),v=Math.min(Math.max(x+p,0),f.length-1),b=(y=f[v])==null?void 0:y.id;b&&h(b)};return g.useEffect(()=>{if(!t||n)return;const p=o.current;if(!p)return;let x=0;const v=()=>{var N;const y=p.getBoundingClientRect().top;let w=((N=f[0])==null?void 0:N.id)||"overview";f.forEach(j=>{const k=document.getElementById(j.id);if(!k)return;k.getBoundingClientRect().top-y<=24&&(w=j.id)}),s(j=>j===w?j:w)},b=()=>{x&&cancelAnimationFrame(x),x=requestAnimationFrame(v)};return v(),p.addEventListener("scroll",b,{passive:!0}),window.addEventListener("resize",b),()=>{x&&cancelAnimationFrame(x),p.removeEventListener("scroll",b),window.removeEventListener("resize",b)}},[f,t,n]),{mobileNavOpen:r,setMobileNavOpen:i,activeNavId:a,setActiveNavId:s,scrollContainerRef:o,tocGroups:d,tocItems:f,scrollToSection:h,stepSection:m}},kC=["selfBuffs","groupBuffs","squadBuffs"],Wo=(e,t,n=0)=>t?e/t:n,NC=e=>e!=null&&e.classification?e.classification==="Boon":!0,aI=e=>`b${e}`,Q8=(e,t)=>{const n=Array.isArray(e==null?void 0:e.activeTimes)?e.activeTimes:[],r=typeof n[0]=="number"?n[0]:0;return r>0?r:t},sI=(e,t,n,r,i,a,s)=>{const o=e==="selfBuffs"?1:Math.max(e==="groupBuffs"?a-1:s-1,0);return!o||!i?{generationMs:0,wastedMs:0}:t?{generationMs:n*i*o,wastedMs:r*i*o}:{generationMs:n/100*i*o,wastedMs:r/100*i*o}},Z8=(e,t,n)=>{const r=e.activeTimeMs||1,i=e.numFights||1,a=e.groupSupported||1,s=e.squadSupported||1,o=e.categories.selfBuffs,c=e.categories.squadBuffs,u=t==="totalBuffs"?{generationMs:o.generationMs+c.generationMs,wastedMs:o.wastedMs+c.wastedMs}:e.categories[t],d=u.generationMs,f=u.wastedMs;let h=1;t==="groupBuffs"?h=Wo(a-i,i,1):t==="squadBuffs"?h=Wo(s-i,i,1):t==="totalBuffs"&&(h=s);let m=0,p=0;if(t==="selfBuffs")m=n?Wo(d,r):Wo(d,r)*100,p=n?Wo(f,r):Wo(f,r)*100;else{const x=Wo(d,r)/(h||1),v=Wo(f,r)/(h||1);m=n?x:x*100,p=n?v:v*100}return{generationMs:d,wastedMs:f,uptimeRaw:m,wastedRaw:p}},oI=(e,t,n,r)=>{const{generationMs:i,uptimeRaw:a}=Z8(e,t,n),s=e.activeTimeMs||1;return r==="total"?i/1e3:r==="average"?Wo(i,s):a},J8=(e,t,n,r,i)=>{const a=oI(e,t,n,r),s=r==="uptime"&&!n,o=r==="average",c=i!=null&&i.roundCountStats&&!s&&!o?0:2,u=a.toLocaleString(void 0,{minimumFractionDigits:c,maximumFractionDigits:c});return s?`${u}%`:u},eW=e=>{const t=new Map,n=new Map;return e.forEach(a=>{const s=a.details;if(!s)return;const o=s.durationMS||0,c=s.buffMap||{};Object.entries(c).forEach(([m,p])=>{if(!t.has(m)){t.set(m,p);return}const x=t.get(m)||{},v={name:x.name||p.name,stacking:x.stacking??p.stacking,icon:x.icon||p.icon,classification:x.classification||p.classification};t.set(m,v)});const d=(s.players||[]).filter(m=>!m.notInSquad),f=d.length,h=new Map;d.forEach(m=>{const p=m.group??0;h.set(p,(h.get(p)||0)+1)}),d.forEach(m=>{const p=m.account||m.name||m.character_name||"Unknown",x=m.profession||"Unknown",v=m.group??0,b=h.get(v)||1,y=Q8(m,o);n.has(p)||n.set(p,{account:p,profession:x,professions:new Set,professionTimeMs:{},activeTimeMs:0,numFights:0,groupSupported:0,squadSupported:0,boons:{}});const w=n.get(p);w.profession=x,x!=="Unknown"&&(w.professions.add(x),w.professionTimeMs[x]=(w.professionTimeMs[x]||0)+y),w.activeTimeMs+=y,w.numFights+=1,w.groupSupported+=b,w.squadSupported+=f,kC.forEach(N=>{(m[N]||[]).forEach(k=>{var ce,ve,Oe,fe;if(typeof(k==null?void 0:k.id)!="number")return;const C=aI(k.id),E=c[C];if(!NC(E))return;const R=(E==null?void 0:E.stacking)??!1,T=((ve=(ce=k.buffData)==null?void 0:ce[0])==null?void 0:ve.generation)??0,$=((fe=(Oe=k.buffData)==null?void 0:Oe[0])==null?void 0:fe.wasted)??0,{generationMs:I,wastedMs:re}=sI(N,R,T,$,o,b,f);!I&&!re||(t.has(C)||t.set(C,E||{}),w.boons[C]||(w.boons[C]={selfBuffs:{generationMs:0,wastedMs:0},groupBuffs:{generationMs:0,wastedMs:0},squadBuffs:{generationMs:0,wastedMs:0}}),w.boons[C][N].generationMs+=I,w.boons[C][N].wastedMs+=re)})})})}),{boonTables:Array.from(t.keys()).filter(a=>NC(t.get(a))).map(a=>{const s=t.get(a)||{},o=[];return n.forEach(c=>{var m;const u=c.boons[a];if(!u||!kC.some(p=>u[p].generationMs>0||u[p].wastedMs>0))return;const f=Array.from(c.professions||[]).filter(p=>p&&p!=="Unknown");let h=c.profession;if(f.length>0){h=f[0];let p=((m=c.professionTimeMs)==null?void 0:m[h])||0;f.forEach(x=>{var b;const v=((b=c.professionTimeMs)==null?void 0:b[x])||0;v>p&&(p=v,h=x)})}o.push({account:c.account,profession:h||"Unknown",professionList:f,activeTimeMs:c.activeTimeMs||1,numFights:c.numFights||1,groupSupported:c.groupSupported||1,squadSupported:c.squadSupported||1,categories:{selfBuffs:{...u.selfBuffs},groupBuffs:{...u.groupBuffs},squadBuffs:{...u.squadBuffs}}})}),{id:a,name:s.name||a,icon:s.icon,stacking:s.stacking??!1,rows:o}}).filter(a=>a.rows.length>0)}},gw=(e,t,n,r,i,a,s={})=>{var m,p,x,v;const c=((e==null?void 0:e[t])||[]).find(b=>b.id===n);if(!c)return{generationMs:0,wastedMs:0};const u=s[aI(n)],d=(u==null?void 0:u.stacking)??!1,f=((p=(m=c.buffData)==null?void 0:m[0])==null?void 0:p.generation)??0,h=((v=(x=c.buffData)==null?void 0:x[0])==null?void 0:v.wasted)??0;return sI(t,d,f,h,r,i,a)},tW={tiered:{tiers:{shortMs:500,mediumMs:1500,weights:{short:.5,medium:1,long:2}}}},nW={methods:tW},rW=nW,tN="count",iW=e=>(e||0)/1e3,aW=(e,t)=>{var i;if(!e)return 0;const n=(i=rW.methods.tiered)==null?void 0:i.tiers;if(!n)return e;const r=t/Math.max(e,1);return r<=n.shortMs?e*n.weights.short:r<=n.mediumMs?e*n.weights.medium:e*n.weights.long},lI=(e,t,n)=>n==="duration"?iW(t):n==="tiered"?aW(e,t):e;function sW(e,t=tN){var a;const n=(a=e.statsAll)==null?void 0:a[0],r=Number((n==null?void 0:n.appliedCrowdControl)??0),i=Number((n==null?void 0:n.appliedCrowdControlDuration)??0);return lI(r,i,t)}function oW(e,t){const n=(t==null?void 0:t.durationMS)||0,r=(t==null?void 0:t.buffMap)||{},i=e.filter(o=>!o.notInSquad),a=i.length,s=new Map;i.forEach(o=>{const c=o.group??0;s.set(c,(s.get(c)||0)+1)}),i.forEach(o=>{const c=s.get(o.group??0)||1,u=gw(o,"selfBuffs",1122,n,c,a,r),d=gw(o,"squadBuffs",1122,n,c,a,r);o.stabGeneration=(u.generationMs+d.generationMs)/1e3})}function lW(e){if(!e.statsTargets)return 0;let t=0;for(const n of e.statsTargets)n&&n.length>0&&(t+=n[0].downContribution||0);return t}function cW(e){if(!e.extBarrierStats||!e.extBarrierStats.outgoingBarrierAllies)return 0;let t=0;for(const n of e.extBarrierStats.outgoingBarrierAllies)if(n)for(const r of n)r&&(t+=r.barrier||0);return t}function uW(e){if(!e.extHealingStats||!e.extHealingStats.outgoingHealingAllies)return 0;let t=0;for(const n of e.extHealingStats.outgoingHealingAllies)if(n)for(const r of n)r&&(t+=r.healing||0);return t}const SC=e=>{var t,n,r,i;return(((n=(t=e.support)==null?void 0:t[0])==null?void 0:n.condiCleanse)||0)+(((i=(r=e.support)==null?void 0:r[0])==null?void 0:i.condiCleanseSelf)||0)},jC=(e,t=tN)=>{var a;const n=(a=e.support)==null?void 0:a[0],r=Number((n==null?void 0:n.boonStrips)??0),i=Number((n==null?void 0:n.boonStripsTime)??0);return lI(r,i,t)},CC=e=>lW(e),AC=e=>uW(e),PC=e=>cW(e),DC=(e,t=tN)=>sW(e,t),dW=(e,t)=>oW(e,t),fW="count",cI={downContribution:1,healing:1,cleanses:1,strips:1,stability:1,cc:.7,revives:.7,distanceToTag:.7,participation:.7,dodging:.4,dps:.2,damage:.2},xw={showTopStats:!0,showMvp:!0,roundCountStats:!1,topStatsMode:"total",topSkillDamageSource:"target",topSkillsMetric:"damage"},mW={uploading:!1,message:null,url:null,buildStatus:"idle"},TC=new Map([["bleeding","Bleeding"],["burning","Burning"],["confusion","Confusion"],["poison","Poison"],["torment","Torment"],["vulnerability","Vulnerability"],["weakness","Weakness"],["weakened","Weakness"],["blind","Blind"],["blinded","Blind"],["blinding","Blind"],["cripple","Cripple"],["crippled","Cripple"],["chill","Chill"],["chilled","Chill"],["immob","Immobilize"],["immobile","Immobilize"],["immobilized","Immobilize"],["slow","Slow"],["slowed","Slow"],["fear","Fear"],["feared","Fear"],["taunt","Taunt"],["taunted","Taunt"]]),uI={Blind:"https://render.guildwars2.com/file/09770136BB76FD0DBE1CC4267DEED54774CB20F6/102837.png",Chill:"https://render.guildwars2.com/file/28C4EC547A3516AF0242E826772DA43A5EAC3DF3/102839.png",Cripple:"https://render.guildwars2.com/file/070325E519C178D502A8160523766070D30C0C19/102838.png",Fear:"https://render.guildwars2.com/file/30307A6E766D74B6EB09EDA12A4A2DE50E4D76F4/102869.png",Immobilize:"https://render.guildwars2.com/file/397A613651BFCA2832B6469CE34735580A2C120E/102844.png",Slow:"https://render.guildwars2.com/file/F60D1EF5271D7B9319610855676D320CD25F01C6/961397.png",Taunt:"https://render.guildwars2.com/file/02EED459AD65FAF7DF32A260E479C625070841B9/1228472.png",Vulnerability:"https://render.guildwars2.com/file/3A394C1A0A3257EB27A44842DDEEF0DF000E1241/102850.png",Weakness:"https://render.guildwars2.com/file/6CB0E64AF9AA292E332A38C1770CE577E2CDE0E8/102853.png"},Pp=e=>{if(e)return uI[e]},Ad=(e,t)=>{if(!e||t===void 0||t===null)return;const n=Number(t);return Number.isFinite(n)?e[`b${n}`]||e[String(n)]:e[String(t)]},Bm=e=>{if(!e)return null;const t=e.trim().toLowerCase(),n=TC.get(t);if(n)return n;const r=t.split(/[^a-z]+/).filter(Boolean);for(const i of r){const a=TC.get(i);if(a)return a}return null},Ju=e=>Bm(e),dI=e=>{const t=new Map;return e&&(Object.values(e).forEach(n=>{if(!(n!=null&&n.icon)||!(n!=null&&n.name))return;const r=Bm(n.name);r&&(t.has(r)||t.set(r,n.icon))}),Object.entries(uI).forEach(([n,r])=>{t.has(n)||t.set(n,r)})),t},Gf=(e,t,n)=>{var r;if(t&&n){const i=(r=Ad(n,t))==null?void 0:r.name,a=Bm(i);if(a)return a}return e?Bm(e):null},hW=e=>{const t=(e==null?void 0:e.account)||"Unknown";return t&&t!=="Unknown"?t:(e==null?void 0:e.name)||"Unknown"||null},pW=e=>{if(!e||e.length===0)return 0;let t=0,n=null;return e.forEach(r=>{const i=Number(r[1]??0);if(Number.isFinite(i)){if(n===null){n=i;return}i>n&&(t+=i-n),n=i}}),t},gW=e=>{if(!e||e.length===0)return 0;let t=0;return e.forEach(n=>{const r=Number(n[0]??0),i=Number(n[1]??0);Number.isFinite(i)&&r!==0&&i>0&&(t+=1)}),t},xW=e=>{const{players:t,targets:n,skillMap:r,buffMap:i}=e,a=e.getPlayerKey||hW,s=dI(i),o={},c={};t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&(o[p]||(o[p]={}),m!=null&&m.totalDamageDist&&m.totalDamageDist.forEach(x=>{x&&x.forEach(v=>{if(!v.id)return;let b=`Skill ${v.id}`,y;r&&(r[`s${v.id}`]?(b=r[`s${v.id}`].name||b,y=r[`s${v.id}`].icon||y):r[`${v.id}`]&&(b=r[`${v.id}`].name||b,y=r[`${v.id}`].icon||y));const w=Ad(i,v.id);b.startsWith("Skill ")&&(w!=null&&w.name)&&(b=w.name,y=w.icon||y);const N=Gf(b,v.id,i);if(!N)return;const j=w==null?void 0:w.name,k=s.get(N)||(w==null?void 0:w.icon),C=b.startsWith("Skill ")?j||N:b,E=y||(w==null?void 0:w.icon),R=Number(v.connectedHits??0),T=Number(v.hits??0),$=R>0?R:T,I=Number(v.totalDamage??0);if(!Number.isFinite($)&&!Number.isFinite(I))return;const re=c[N]||{name:N,icon:k,applications:0,damage:0};re.applications+=Number.isFinite($)?$:0,re.damage+=Number.isFinite(I)?I:0,!re.icon&&k&&(re.icon=k),c[N]=re;const ce=o[p][N]||{icon:k,applications:0,damage:0,skills:{}};ce.applications+=Number.isFinite($)?$:0,ce.damage+=Number.isFinite(I)?I:0;const ve=ce.skills[C]||{name:C,hits:0,damage:0,icon:E};ve.hits+=Number.isFinite($)?$:0,ve.damage+=Number.isFinite(I)?I:0,!ve.icon&&E&&(ve.icon=E),ce.skills[C]=ve,!ce.icon&&k&&(ce.icon=k),o[p][N]=ce})}))});const u=new Map;t.forEach(m=>{if(m!=null&&m.notInSquad)return;const p=a(m);p&&m!=null&&m.name&&u.set(m.name,p)});let d=0,f=0,h=0;return n.forEach(m=>{m!=null&&m.buffs&&m.buffs.forEach(p=>{const x=Number(p==null?void 0:p.id);if(!Number.isFinite(x))return;const v=Ad(i,x),b=Bm(v==null?void 0:v.name);if(!b||v!=null&&v.classification&&v.classification!=="Condition")return;const y=b;if(!y)return;const w=p.statesPerSource||{};h+=1,Object.entries(w).forEach(([N,j])=>{var $;const k=u.get(N);if(!k)return;f+=1;const C=pW(j),E=gW(j);d+=C;const R=(($=o[k])==null?void 0:$[y])||{applications:0,damage:0,skills:{}};R.applicationsFromBuffs=(R.applicationsFromBuffs||0)+C,R.applicationsFromBuffsActive=(R.applicationsFromBuffsActive||0)+E,o[k]=o[k]||{},o[k][y]=R;const T=c[y]||{name:y,applications:0,damage:0};T.applicationsFromBuffs=(T.applicationsFromBuffs||0)+C,T.applicationsFromBuffsActive=(T.applicationsFromBuffsActive||0)+E,c[y]=T})})}),{playerConditions:o,summary:c,meta:{buffStateApplicationsTotal:d,targetBuffEntriesSeen:h,buffStateSourcesSeen:f}}},xu={Guardian:"#72C1D9",Dragonhunter:"#72C1D9",Firebrand:"#72C1D9",Willbender:"#72C1D9",Revenant:"#D16E5A",Herald:"#D16E5A",Renegade:"#D16E5A",Vindicator:"#D16E5A",Warrior:"#FFD166",Berserker:"#FFD166",Spellbreaker:"#FFD166",Bladesworn:"#FFD166",Engineer:"#D09C59",Scrapper:"#D09C59",Holosmith:"#D09C59",Mechanist:"#D09C59",Ranger:"#8CDC82",Druid:"#8CDC82",Soulbeast:"#8CDC82",Untamed:"#8CDC82",Thief:"#C08F95",Daredevil:"#C08F95",Deadeye:"#C08F95",Specter:"#C08F95",Elementalist:"#F68A87",Tempest:"#F68A87",Weaver:"#F68A87",Catalyst:"#F68A87",Mesmer:"#B679D5",Chronomancer:"#B679D5",Mirage:"#B679D5",Virtuoso:"#B679D5",Necromancer:"#52A76F",Reaper:"#52A76F",Scourge:"#52A76F",Harbinger:"#52A76F",Ritualist:"#52A76F",Luminary:"#72C1D9",Conduit:"#D16E5A",Paragon:"#FFD166",Amalgam:"#D09C59",Galeshot:"#8CDC82",Antiquary:"#C08F95",Evoker:"#F68A87",Troubadour:"#B679D5",Unknown:"#64748B"},bW={Guardian:"Guardian",Dragonhunter:"Guardian",Firebrand:"Guardian",Willbender:"Guardian",Revenant:"Revenant",Herald:"Revenant",Renegade:"Revenant",Vindicator:"Revenant",Warrior:"Warrior",Berserker:"Warrior",Spellbreaker:"Warrior",Bladesworn:"Warrior",Engineer:"Engineer",Scrapper:"Engineer",Holosmith:"Engineer",Mechanist:"Engineer",Ranger:"Ranger",Druid:"Ranger",Soulbeast:"Ranger",Untamed:"Ranger",Thief:"Thief",Daredevil:"Thief",Deadeye:"Thief",Specter:"Thief",Elementalist:"Elementalist",Tempest:"Elementalist",Weaver:"Elementalist",Catalyst:"Elementalist",Mesmer:"Mesmer",Chronomancer:"Mesmer",Mirage:"Mesmer",Virtuoso:"Mesmer",Necromancer:"Necromancer",Reaper:"Necromancer",Scourge:"Necromancer",Harbinger:"Necromancer",Ritualist:"Necromancer",Luminary:"Guardian",Conduit:"Revenant",Paragon:"Warrior",Amalgam:"Engineer",Galeshot:"Ranger",Antiquary:"Thief",Evoker:"Elementalist",Troubadour:"Mesmer",Unknown:"Unknown"};function tl(e){return xu[e]||xu.Unknown}function vW(e){return e?bW[e]||e:"Unknown"}function Xl(e){if(!e)return null;let t="./svg/class-icons";if(typeof window<"u"){const i=window.location.host||"",a=window.location.pathname||"",s=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(i)&&a.startsWith("/web/");a.includes("/reports/")?t="../../svg/class-icons":a.includes("/web/web/")?t="../svg/class-icons":s&&(t="/svg/class-icons")}const n=xu[e]?e:null;if(n&&n!=="Unknown")return`${t}/${n}.svg`;const r=vW(e);return r&&r!=="Unknown"?`${t}/${r}.svg`:null}const yW=e=>{if(e==null||e==="")return 0;if(typeof e=="number")return!Number.isFinite(e)||e<=0?0:e>1e12?e:e*1e3;if(e instanceof Date){const s=e.getTime();return Number.isFinite(s)&&s>0?s:0}const t=String(e).trim();if(!t)return 0;const n=Number(t);if(Number.isFinite(n)&&n>0)return n>1e12?n:n*1e3;const r=Date.parse(t);if(Number.isFinite(r)&&r>0)return r;const i=t.replace(/([+-]\d{2})$/,"$1:00"),a=Date.parse(i);return Number.isFinite(a)&&a>0?a:0},Hr=(e,t)=>yW((e==null?void 0:e.timeStartStd)??(e==null?void 0:e.timeStart)??(e==null?void 0:e.timeEndStd)??(e==null?void 0:e.timeEnd)??(e==null?void 0:e.timeStartText)??(e==null?void 0:e.timeEndText)??(e==null?void 0:e.uploadTime)??(t==null?void 0:t.uploadTime)),Yf=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i,includePlayerSkillMap:a})=>{const s=m=>{var x;return(Array.isArray((x=m==null?void 0:m.details)==null?void 0:x.players)?m.details.players:[]).length>0},o=e.filter(m=>s(m)),c=r||xw,u=n||cI,d=m=>{if(!m||typeof m!="object")return m;const p=Array.isArray(m.fightBreakdown)?m.fightBreakdown:null;if(!p||p.length===0)return m;const x=k=>Array.isArray(k)&&k.some(C=>C&&Number(C.count)>0),v=new Map,b=new Map;e.forEach(k=>{var R;const C=(k==null?void 0:k.filePath)||(k==null?void 0:k.id);C&&v.set(String(C),k);const E=(k==null?void 0:k.permalink)||((R=k==null?void 0:k.details)==null?void 0:R.permalink);typeof E=="string"&&E.trim()&&b.set(E.trim(),k)});const y=p.map(k=>{var I;if(!k||typeof k!="object")return k;const C=k.id?String(k.id):"",E=typeof k.permalink=="string"?k.permalink.trim():"",R=(C?v.get(C):void 0)||(E?b.get(E):void 0);if(!R)return k;let T=k;if(Number(k.timestamp)<=0){const re=Hr(R==null?void 0:R.details,R);re&&(T={...T,timestamp:re})}const $=(I=R==null?void 0:R.details)==null?void 0:I.teamBreakdown;return x($)&&(T={...T,teamBreakdown:$}),T}),w=Array.isArray(m.fightDiffMode)?m.fightDiffMode:[],j=w.some(k=>Array.isArray(k==null?void 0:k.targetFocus)&&k.targetFocus.some(C=>Number((C==null?void 0:C.damage)||0)>0||Number((C==null?void 0:C.hits)||0)>0))?w:y.map((k,C)=>{const E=k&&typeof k.enemyClassCounts=="object"&&k.enemyClassCounts?k.enemyClassCounts:{},R=Object.entries(E).map(([xe,_])=>({label:String(xe||"Unknown"),count:Number(_||0)})).filter(xe=>xe.count>0).sort((xe,_)=>_.count-xe.count||xe.label.localeCompare(_.label)),T=R.reduce((xe,_)=>xe+_.count,0),$=R.map(xe=>({label:xe.label,damage:xe.count,hits:0,share:T>0?xe.count/T:0})),I=Number((k==null?void 0:k.enemyDowns)||0),re=Number((k==null?void 0:k.enemyDeaths)||0),ce=Number((k==null?void 0:k.alliesDown)||0),ve=Number((k==null?void 0:k.alliesDead)||0),Oe=Number((k==null?void 0:k.totalOutgoingDamage)||0),fe=Number((k==null?void 0:k.totalIncomingDamage)||0),Z=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:k!=null&&k.isWin?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:Number((k==null?void 0:k.squadCount)||0)},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:Number((k==null?void 0:k.enemyCount)||0)},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:ve>0?re/ve:re},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:re},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:I},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:ve},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:ce},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:Oe-fe},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:Oe},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:fe},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:Number((k==null?void 0:k.incomingBarrierAbsorbed)||0)},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:Number((k==null?void 0:k.outgoingBarrierAbsorbed)||0)},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:Number((k==null?void 0:k.alliesRevived)||0)}];return{id:String((k==null?void 0:k.id)||`fight-${C+1}`),shortLabel:`F${C+1}`,fullLabel:`${String((k==null?void 0:k.mapName)||(k==null?void 0:k.label)||"Unknown Map")}  ${String((k==null?void 0:k.duration)||"--:--")}`,mapName:String((k==null?void 0:k.mapName)||""),timestamp:Number((k==null?void 0:k.timestamp)||0),duration:String((k==null?void 0:k.duration)||"--:--"),isWin:!!(k!=null&&k.isWin),targetFocus:$,squadMetrics:Z}});return{...m,fightBreakdown:y,fightDiffMode:j}},f=(()=>{if(t)return d(t);const m=i||fW,p=a!==!1,x=c.topSkillDamageSource||"target",v=c.topSkillsMetric||"damage",b=o.length;let y=0,w=0,N=0,j=0,k=0,C=0,E=0,R=0;const T=O=>{const pe=((O==null?void 0:O.players)||[]).filter(bt=>!bt.notInSquad);let ze=0,Ne=0,ut=0,Ue=0;return pe.forEach(bt=>{var we;const gt=(we=bt.defenses)==null?void 0:we[0];if(!gt)return;const At=Number(gt.downCount||0),Ke=Number(gt.deadCount||0);ze+=At+Ke,ut+=Ke}),pe.forEach(bt=>{!bt.statsTargets||bt.statsTargets.length===0||bt.statsTargets.forEach(gt=>{Array.isArray(gt)&&gt.forEach(At=>{if(!At)return;const Ke=Number(At.downed||0),we=Number(At.killed||0);Ne+=Ke+we,Ue+=we})})}),{squadDownsDeaths:ze,enemyDownsDeaths:Ne,squadDeaths:ut,enemyDeaths:Ue}},$=O=>{const{squadDownsDeaths:z,enemyDownsDeaths:pe}=T(O);return z>0||pe>0?pe>z:typeof(O==null?void 0:O.success)=="boolean"?O.success:!1},I=new Map,re=new Set(["boonStripsTime","condiCleanseTime","condiCleanseTimeSelf"]),ce={},ve={},Oe=new Map,fe={},Z={},xe={},_=new Map,D=new Map,ue=new Set(Object.keys(xu)),S=Object.keys(xu).filter(O=>O&&O!=="Unknown").sort((O,z)=>z.length-O.length),Y=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],B=O=>{if(!O)return"Unknown";const z=String(O).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(ue.has(z))return z;const pe=z.toLowerCase();for(const Ne of S)if(pe.includes(Ne.toLowerCase()))return Ne;return Y.find(Ne=>pe.includes(Ne.toLowerCase()))||z||"Unknown"},ee=O=>O!=null&&O.classification?O.classification==="Boon":!0,de=new Map,oe=new Map,H=()=>({totalHits:0,blocked:0,evaded:0,glanced:0,missed:0,invulned:0,interrupted:0,totalMitigation:0,minMitigation:0}),K=O=>{const z=Number(O);return Number.isFinite(z)?z:0},J=O=>{const z=String(O).split("|"),pe=z[0]||"Unknown",ze=B(z[1]||"Unknown"),Ne=z[2]||pe||"Unknown";return{name:pe,profession:ze,account:Ne}},ae=(O,z,pe)=>{let ze=O.get(z);return ze?pe.profession&&!ze.professionList.includes(pe.profession)&&ze.professionList.push(pe.profession):(ze={account:pe.account,name:pe.name,profession:pe.profession,professionList:pe.profession?[pe.profession]:[],activeMs:0,mitigationTotals:H()},O.set(z,ze)),ze},V=(O,z,pe)=>{let ze=O.get(z);return ze?pe.profession&&!ze.professionList.includes(pe.profession)&&ze.professionList.push(pe.profession):(ze={account:pe.account,name:pe.name,profession:pe.profession,professionList:pe.profession?[pe.profession]:[],activeMs:0,mitigationTotals:H(),minion:pe.minion},O.set(z,ze)),ze},be=(O,z)=>{O.totalHits+=K((z==null?void 0:z.skill_hits)??(z==null?void 0:z.skillHits)),O.blocked+=K(z==null?void 0:z.blocked),O.evaded+=K(z==null?void 0:z.evaded),O.glanced+=K(z==null?void 0:z.glanced),O.missed+=K(z==null?void 0:z.missed),O.invulned+=K(z==null?void 0:z.invulned),O.interrupted+=K(z==null?void 0:z.interrupted),O.totalMitigation+=K((z==null?void 0:z.avoided_damage)??(z==null?void 0:z.avoidedDamage)),O.minMitigation+=K((z==null?void 0:z.min_avoided_damage)??(z==null?void 0:z.minAvoidedDamage))},ie=O=>Object.values(O).some(z=>z>0),me=new Map,Ye=O=>{const z=me.get(O);if(!z)return{hasSkill:!1,avg:1,min:1,hits:0};const pe=z.connectedHits||0,ze=pe>0?z.totalDamage/pe:0,Ne=z.minCount>0?z.minTotal/z.minCount:0;return{hasSkill:!0,avg:ze,min:Ne,hits:pe}},Qe=new Map,yt=new Map,$e=(O,z,pe)=>{const ze=O.get(z)||H();return ze.totalHits+=pe.totalHits,ze.blocked+=pe.blocked,ze.evaded+=pe.evaded,ze.glanced+=pe.glanced,ze.missed+=pe.missed,ze.invulned+=pe.invulned,ze.interrupted+=pe.interrupted,O.set(z,ze),ze};o.forEach(O=>{const z=O.details;if(!z)return;(z.targets||[]).forEach(ze=>{const Ne=(ze==null?void 0:ze.totalDamageDist)||[],ut=Array.isArray(Ne)?Ne[0]:null;ut==null||ut.forEach(Ue=>{if(!(Ue!=null&&Ue.id))return;const bt=Number(Ue.id),gt=me.get(bt)||{totalDamage:0,connectedHits:0,minTotal:0,minCount:0};gt.totalDamage+=Number(Ue.totalDamage||0),gt.connectedHits+=Number(Ue.connectedHits||0);const At=Number.isFinite(Number(Ue.min))?Number(Ue.min):0;gt.minTotal+=At,gt.minCount+=1,me.set(bt,gt)})})}),o.forEach(O=>{var G,he;const z=O.details;if(!z)return;const pe=z.players,ze=z.targets||[],Ne=z.combatReplayMetaData||{},ut=(Ne==null?void 0:Ne.inchToPixel)>0?Ne.inchToPixel:1,Ue=(Ne==null?void 0:Ne.pollingRate)>0?Ne.pollingRate:1,bt=5e3,gt=q=>Array.isArray(q)?q.map(te=>Array.isArray(te)?[Number(te[0]),Number(te[1])]:null).filter(te=>!!te&&Number.isFinite(te[0])):[];let At=[],Ke=z.durationMS||0,we=!1;const Se=pe.find(q=>(q==null?void 0:q.hasCommanderTag)&&!(q!=null&&q.notInSquad));(G=Se==null?void 0:Se.combatReplayData)!=null&&G.positions&&(At=Se.combatReplayData.positions,gt(Se.combatReplayData.dead).forEach(([te])=>{te>0&&(we=!0,Ke=Math.min(Ke,te))}));const tt=q=>{var ke;const te=(ke=q.statsAll)==null?void 0:ke[0];if((te==null?void 0:te.distToCom)!==void 0&&(te==null?void 0:te.distToCom)!=="Infinity")return Math.round(Number(te.distToCom));if((te==null?void 0:te.stackDist)!==void 0)return Math.round(Number(te.stackDist))||0;if(q.hasCommanderTag)return 0;const Q=q.combatReplayData;if(!(Q!=null&&Q.positions)||!At.length)return 0;const Ie=Q.positions,le=gt(Q.dead),ne=gt(Q.down),Xe=Math.floor((Q.start||0)/Ue);let je=0;if(le.length&&ne.length)for(const[Ge]of le){if(Ge<0)continue;const rt=Math.max(0,Math.floor(Ge/Ue))-Xe;for(const[lt,Ve]of ne){if(Ge!==Ve)continue;const Ze=we&&lt>Ke?Math.max(1,Math.floor(Ke/Ue)):rt,dt=Math.max(0,Math.min(Ze,Ie.length,At.length));if(dt<=0)continue;let Pt=0;for(let Rt=0;Rt<dt;Rt++){const[Qt,ln]=Ie[Rt],[bn,_n]=At[Rt];Pt+=Math.hypot(Qt-bn,ln-_n)}je=Math.round(Pt/dt/ut)}}return je},_e=pe.filter(q=>!q.notInSquad);N+=_e.length,j+=ze.filter(q=>!q.isFake).length,dW(pe,{durationMS:z.durationMS,buffMap:z.buffMap});const{squadDeaths:nt,enemyDeaths:ct}=T(z);k+=nt,C+=ct,R+=nt,E+=ct,$(z)?y++:w++;const P=z.skillMap?Number((he=Object.keys(z.skillMap).find(q=>{var te,Q;return((Q=(te=z.skillMap)==null?void 0:te[q])==null?void 0:Q.name)==="Battle Standard"}))==null?void 0:he.replace(/^s/,"")):null;pe.forEach((q,te)=>{var Ar,Rn,Vn,wi,ki,Xi,ha,xr,Ni,Bn,Qa,li,Zs;if(q.notInSquad)return;const Q=q.account||"Unknown",Ie=Q!=="Unknown"?Q:q.name||"Unknown",le=q.name||"Unknown";I.has(Ie)||I.set(Ie,{name:le,account:Ie,characterNames:new Set,downContrib:0,cleanses:0,strips:0,stab:0,healing:0,barrier:0,cc:0,logsJoined:0,totalDist:0,distCount:0,dodges:0,downs:0,deaths:0,totalFightMs:0,offenseTotals:{},offenseRateWeights:{},defenseActiveMs:0,defenseTotals:{},defenseMinionDamageTaken:{},supportActiveMs:0,supportTotals:{},healingActiveMs:0,healingTotals:{},profession:q.profession||"Unknown",professions:new Set,professionTimeMs:{},squadActiveMs:0,firstSeenFightTs:0,lastSeenFightTs:0,lastSeenFightDurationMs:0,isCommander:!1,damage:0,dps:0,revives:0,outgoingConditions:{},incomingConditions:{}});const ne=I.get(Ie);if(q.hasCommanderTag&&(ne.isCommander=!0),le!=="Unknown"&&ne.characterNames.add(String(le)),q.profession&&q.profession!=="Unknown"){ne.profession=q.profession,ne.professions.add(q.profession);const He=Array.isArray(q.activeTimes)&&typeof q.activeTimes[0]=="number"?q.activeTimes[0]:z.durationMS||0;ne.professionTimeMs[q.profession]=(ne.professionTimeMs[q.profession]||0)+He}ne.logsJoined++,ne.downContrib+=CC(q),ne.cleanses+=SC(q),ne.strips+=jC(q,m),ne.healing+=AC(q),ne.barrier+=PC(q),ne.cc+=DC(q,m),ne.stab+=q.stabGeneration||0;const Xe=tt(q);Xe<=bt&&(ne.totalDist+=Xe,ne.distCount++),(Ar=q.defenses)!=null&&Ar[0]&&(ne.dodges+=q.defenses[0].dodgeCount||0,ne.downs+=q.defenses[0].downCount||0,ne.deaths+=q.defenses[0].deadCount||0),z.durationMS&&(ne.totalFightMs+=z.durationMS);const je=Array.isArray(q.activeTimes)&&typeof q.activeTimes[0]=="number"?q.activeTimes[0]:z.durationMS||0;ne.squadActiveMs+=je;const ke=Hr(z,O),Ge=Number((z==null?void 0:z.durationMS)||0);if(ke>0&&((ne.firstSeenFightTs<=0||ke<ne.firstSeenFightTs)&&(ne.firstSeenFightTs=ke),ne.lastSeenFightTs<=0||ke>ne.lastSeenFightTs?(ne.lastSeenFightTs=ke,ne.lastSeenFightDurationMs=Ge):ke===ne.lastSeenFightTs&&Ge>ne.lastSeenFightDurationMs&&(ne.lastSeenFightDurationMs=Ge)),ne.defenseActiveMs+=je,ne.supportActiveMs+=je,ne.healingActiveMs+=je,Array.isArray(q.buffUptimes)&&q.buffUptimes.length>0&&q.buffUptimes.forEach(He=>{var To,pn,Lu,Mc,Nt,nn;if(typeof(He==null?void 0:He.id)!="number")return;const Je=`b${He.id}`,Re=((To=z.buffMap)==null?void 0:To[Je])||((pn=z.buffMap)==null?void 0:pn[String(He.id)]);if(!Re||ee(Re))return;const qe=Number(((Mc=(Lu=He.buffData)==null?void 0:Lu[0])==null?void 0:Mc.uptime)??0),et=Number(((nn=(Nt=He.buffData)==null?void 0:Nt[0])==null?void 0:nn.presence)??0);if((!Number.isFinite(qe)||qe<=0)&&(!Number.isFinite(et)||et<=0))return;const Bt=(Re==null?void 0:Re.stacking)??!1,Pn=(Bt?Number.isFinite(qe)?qe:0:Number.isFinite(qe)?qe/100:0)*je,tn=Bt?et:qe,Pr=Math.min(Math.max(Number.isFinite(tn)?tn:0,0),100)/100*je,Wr=Number.isFinite(Pn)&&Pn>0,Nn=Number.isFinite(Pr)&&Pr>0;if(!Wr&&!Nn)return;const Si=Ju(Re==null?void 0:Re.name);if(Si&&k8.has(Si)&&(!(Re!=null&&Re.classification)||Re.classification==="Condition")){const ji=Pn/1e3,dr=Re==null?void 0:Re.icon,Qi=fe[Si]||{name:Si,icon:dr,applications:0,damage:0};Qi.applicationsFromUptime=(Qi.applicationsFromUptime||0)+ji,!Qi.icon&&dr&&(Qi.icon=dr),fe[Si]=Qi;const Ps=ne.outgoingConditions[Si]||{applications:0,damage:0,skills:{},icon:dr};Ps.applicationsFromUptime=(Ps.applicationsFromUptime||0)+ji,!Ps.icon&&dr&&(Ps.icon=dr),ne.outgoingConditions[Si]=Ps;const Mo=Z[Si]||{name:Si,icon:dr,applications:0,damage:0};Mo.applicationsFromUptime=(Mo.applicationsFromUptime||0)+ji,!Mo.icon&&dr&&(Mo.icon=dr),Z[Si]=Mo;const Eo=ne.incomingConditions[Si]||{applications:0,damage:0,skills:{},icon:dr};Eo.applicationsFromUptime=(Eo.applicationsFromUptime||0)+ji,!Eo.icon&&dr&&(Eo.icon=dr),ne.incomingConditions[Si]=Eo}_.has(Je)||_.set(Je,{name:Re==null?void 0:Re.name,stacking:Bt,icon:Re==null?void 0:Re.icon}),D.has(Je)||D.set(Je,new Map);const nr=D.get(Je),Do=ne.account||q.account||q.name||"Unknown";let Vr=nr.get(Do);Vr||(Vr={account:Do,profession:ne.profession||q.profession||"Unknown",professions:new Set,professionTimeMs:{},totalMs:0,uptimeMs:0,durationMs:0},nr.set(Do,Vr));const Za=q.profession||ne.profession;Za&&Za!=="Unknown"&&(Vr.professions.add(Za),Vr.professionTimeMs[Za]=(Vr.professionTimeMs[Za]||0)+je,Vr.profession=Za),Vr.totalMs+=Wr?Pn:0,Vr.uptimeMs+=Nn?Pr:0,Vr.durationMs+=je}),(Rn=q.defenses)!=null&&Rn[0]){const He=qe=>{let et=String(qe||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";return et.toUpperCase().includes("UNKNOWN")&&(et="Unknown"),et},Re=(()=>{const qe=Array.isArray(q==null?void 0:q.minions)?q.minions:[];if(qe.length===0)return{total:0,byMinion:{}};let et=0;const Bt={};return qe.forEach(Zt=>{const Pn=Array.isArray(Zt==null?void 0:Zt.totalDamageTakenDist)?Zt.totalDamageTakenDist:[],tn=Array.isArray(Pn[0])?Pn[0]:[],pa=He(Zt==null?void 0:Zt.name);tn.forEach(Pr=>{const Wr=Number((Pr==null?void 0:Pr.totalDamage)??(Pr==null?void 0:Pr.damageTaken)??0);Number.isFinite(Wr)&&(et+=Wr,Bt[pa]=(Bt[pa]||0)+Wr)})}),{total:et,byMinion:Bt}})();Re.byMinion&&typeof Re.byMinion=="object"&&Object.entries(Re.byMinion).forEach(([qe,et])=>{const Bt=Number(et||0);!Number.isFinite(Bt)||Bt<=0||(ne.defenseMinionDamageTaken[qe]=(ne.defenseMinionDamageTaken[qe]||0)+Bt)}),XO.forEach(qe=>{const et=qe.id==="minionDamageTaken"?Re.total:Number(q.defenses[0][qe.field]??0);Number.isFinite(et)&&(ne.defenseTotals[qe.id]=(ne.defenseTotals[qe.id]||0)+et)})}(Vn=q.support)!=null&&Vn[0]&&QO.forEach(He=>{let Je=Number(q.support[0][He.field]??0);Number.isFinite(Je)&&(re.has(He.field)&&Je>999999&&(Je=0),ne.supportTotals[He.id]=(ne.supportTotals[He.id]||0)+Je)});const rt=(He,Je)=>{Number.isFinite(Je)&&(ne.healingTotals[He]=(ne.healingTotals[He]||0)+Je)},lt=(He,Je)=>Array.isArray(He)?He.reduce((Re,qe)=>Re+Number((qe==null?void 0:qe[Je])??0),0):0,Ve=(He,Je,Re)=>{if(!Number.isFinite(Re)||Re<=0)return;const qe=pe[Je],et=Je===te,Bt=qe==null?void 0:qe.notInSquad,Zt=!Bt,Pn=Zt&&(qe==null?void 0:qe.group)!=null&&qe.group===q.group;rt(He,Re),Zt&&rt(`squad${He[0].toUpperCase()}${He.slice(1)}`,Re),Pn&&rt(`group${He[0].toUpperCase()}${He.slice(1)}`,Re),et&&rt(`self${He[0].toUpperCase()}${He.slice(1)}`,Re),Bt&&rt(`offSquad${He[0].toUpperCase()}${He.slice(1)}`,Re)};if(Array.isArray(q.rotation)){let He=0;q.rotation.forEach(Je=>{var qe;if(!(Je!=null&&Je.id)||!A8(Je.id,z.skillMap))return;const Re=((qe=Je.skills)==null?void 0:qe.length)||0;Re>0&&(He+=Re,rt(`resUtility_s${Je.id}`,Re))}),He>0&&rt("resUtility",He)}const Ze=(wi=q.extHealingStats)==null?void 0:wi.outgoingHealingAllies;Array.isArray(Ze)&&Ze.forEach((He,Je)=>{const Re=lt(He,"healing"),qe=lt(He,"downedHealing");Ve("healing",Je,Re),Ve("downedHealing",Je,qe)});const dt=(ki=q.extBarrierStats)==null?void 0:ki.outgoingBarrierAllies;Array.isArray(dt)&&dt.forEach((He,Je)=>{const Re=lt(He,"barrier");Ve("barrier",Je,Re)});const Pt=(Xi=q.statsAll)==null?void 0:Xi[0],Rt=(ha=q.dpsAll)==null?void 0:ha[0],Qt=(xr=q.support)==null?void 0:xr[0];if(YO.forEach(He=>{if(He.id==="downContributionPercent"||!He.field)return;let Je=0,Re=0;He.source==="dpsAll"&&Rt?Je=Number(Rt[He.field]??0):He.source==="statsAll"&&Pt?(Je=Number(Pt[He.field]??0),Re=Number(Pt[He.denomField||He.weightField||"connectedDamageCount"]??0)):He.source==="support"&&Qt?Je=Number(Qt[He.field]??0):q.statsTargets&&q.statsTargets.forEach(qe=>{qe!=null&&qe[0]&&(Je+=Number(qe[0][He.field]??0),Re+=Number(qe[0][He.denomField||He.weightField||"connectedDamageCount"]??0))}),Number.isFinite(Je)&&(ne.offenseTotals[He.id]=(ne.offenseTotals[He.id]||0)+Je,He.isRate&&Re>0&&(ne.offenseRateWeights[He.id]=(ne.offenseRateWeights[He.id]||0)+Re))}),q.targetDamageDist&&Number.isFinite(P)){const He=q.targetDamageDist.flatMap(Je=>Je||[]).flatMap(Je=>Je||[]).reduce((Je,Re)=>Re!=null&&Re.id&&Re.id===P?Je+((Re==null?void 0:Re.connectedHits)||0):Je,0);ne.offenseTotals.battleStandardHits=(ne.offenseTotals.battleStandardHits||0)+He}ne.revives+=((Bn=(Ni=q.support)==null?void 0:Ni[0])==null?void 0:Bn.resurrects)||0,Rt&&(ne.damage+=Rt.damage||0,ne.dps+=Rt.dps||0);const ln=He=>{var Bt,Zt;let Je=`Skill ${He.id}`;const Re=((Bt=z.skillMap)==null?void 0:Bt[`s${He.id}`])||((Zt=z.skillMap)==null?void 0:Zt[`${He.id}`]);let qe=Re==null?void 0:Re.icon;Re!=null&&Re.name&&(Je=Re.name);const et=Ad(z.buffMap,He.id);if(Je.startsWith("Skill ")&&(et!=null&&et.name)&&(Je=et.name,qe=et.icon||qe),Je.startsWith("Skill ")){const Pn=Gf(Je,He.id,z.buffMap);Pn&&(Je=Pn,qe=(et==null?void 0:et.icon)||qe)}return{name:Je,icon:qe}},bn=He=>{if(!(He!=null&&He.id))return;const{name:Je,icon:Re}=ln(He);ce[He.id]||(ce[He.id]={name:Je,icon:Re,damage:0,hits:0,downContribution:0}),ce[He.id].name.startsWith("Skill ")&&!Je.startsWith("Skill ")&&(ce[He.id].name=Je),!ce[He.id].icon&&Re&&(ce[He.id].icon=Re),ce[He.id].damage+=He.totalDamage,ce[He.id].hits+=He.connectedHits,ce[He.id].downContribution+=Number(He.downContribution||0)},_n=q.account||q.name||"Unknown",kn=q.profession||"Unknown",vt=`${_n}|${kn}`;let an=Oe.get(vt);an||(an={key:vt,account:_n,displayName:_n,profession:kn,professionList:[kn],totalFightMs:0,skills:new Map},Oe.set(vt,an)),an.professionList.includes(kn)||an.professionList.push(kn),an.totalFightMs+=z.durationMS||0;const Fn=He=>{if(!(He!=null&&He.id))return;const{name:Je,icon:Re}=ln(He),qe=`s${He.id}`;let et=an.skills.get(qe);et||(et={id:qe,name:Je,icon:Re,damage:0,downContribution:0},an.skills.set(qe,et)),et.name.startsWith("Skill ")&&!Je.startsWith("Skill ")&&(et.name=Je),!et.icon&&Re&&(et.icon=Re),et.damage+=Number(He.totalDamage||0),et.downContribution+=Number(He.downContribution||0)};if(x==="total")(Qa=q.totalDamageDist)==null||Qa.forEach(He=>{He==null||He.forEach(Je=>{bn(Je),Fn(Je)})});else{const He=new Map;(li=q.targetDamageDist)==null||li.forEach(Re=>{Re==null||Re.forEach(qe=>{qe==null||qe.forEach(et=>{const Bt=Number(et==null?void 0:et.id);if(Number.isFinite(Bt)){const Zt=He.get(Bt)||{damage:0,hits:0,downContribution:0};Zt.damage+=Number((et==null?void 0:et.totalDamage)||0),Zt.hits+=Number((et==null?void 0:et.connectedHits)||0),Zt.downContribution+=Number((et==null?void 0:et.downContribution)||0),He.set(Bt,Zt)}bn(et),Fn(et)})})}),!(z!=null&&z.detailedWvW)&&((Zs=q.totalDamageDist)==null||Zs.forEach(Re=>{Re==null||Re.forEach(qe=>{const et=Number(qe==null?void 0:qe.id);if(!Number.isFinite(et))return;const Bt=He.get(et);if(!Bt){bn(qe),Fn(qe);return}const Zt=Number((qe==null?void 0:qe.totalDamage)||0),Pn=Number((qe==null?void 0:qe.connectedHits)||0),tn=Number((qe==null?void 0:qe.downContribution)||0),pa=Zt-Number(Bt.damage||0),Pr=Pn-Number(Bt.hits||0),Wr=tn-Number(Bt.downContribution||0);if(pa<=0&&Pr<=0&&Wr<=0)return;const Nn={...qe,totalDamage:Math.max(0,pa),connectedHits:Math.max(0,Pr),downContribution:Math.max(0,Wr)};bn(Nn),Fn(Nn)})}))}q.totalDamageTaken&&q.totalDamageTaken.forEach(He=>{He==null||He.forEach(Je=>{var Zt,Pn;if(!(Je!=null&&Je.id))return;let Re=`Skill ${Je.id}`;const qe=((Zt=z.skillMap)==null?void 0:Zt[`s${Je.id}`])||((Pn=z.skillMap)==null?void 0:Pn[`${Je.id}`]);let et=qe==null?void 0:qe.icon;qe!=null&&qe.name&&(Re=qe.name);const Bt=Ad(z.buffMap,Je.id);if(Re.startsWith("Skill ")&&(Bt!=null&&Bt.name)&&(Re=Bt.name,et=Bt.icon||et),Re.startsWith("Skill ")){const tn=Gf(Re,Je.id,z.buffMap);tn&&(Re=tn,et=(Bt==null?void 0:Bt.icon)||et)}ve[Je.id]||(ve[Je.id]={name:Re,icon:et,damage:0,hits:0}),(!ve[Je.id].name.startsWith("Skill ")||Re.startsWith("Skill "))&&(ve[Je.id].name=Re),!ve[Je.id].icon&&et&&(ve[Je.id].icon=et),ve[Je.id].damage+=Je.totalDamage,ve[Je.id].hits+=Je.hits})})}),ze.forEach(q=>{if(q!=null&&q.isFake)return;const te=B((q==null?void 0:q.profession)||(q==null?void 0:q.name)||(q==null?void 0:q.id));te&&(xe[te]=(xe[te]||0)+1)});const W=xW({players:pe,targets:ze,skillMap:z.skillMap,buffMap:z.buffMap,getPlayerKey:q=>q.account&&q.account!=="Unknown"?q.account:q.name||null}),X=dI(z.buffMap);Object.entries(W.playerConditions).forEach(([q,te])=>{const Q=I.get(q);Q&&Object.entries(te).forEach(([Ie,le])=>{const ne=Q.outgoingConditions[Ie]||{applications:0,damage:0,skills:{},icon:le.icon};ne.applications+=Number(le.applications||0),ne.damage+=Number(le.damage||0),le.applicationsFromBuffs&&(ne.applicationsFromBuffs=(ne.applicationsFromBuffs||0)+le.applicationsFromBuffs),le.applicationsFromBuffsActive&&(ne.applicationsFromBuffsActive=(ne.applicationsFromBuffsActive||0)+le.applicationsFromBuffsActive),Object.entries(le.skills||{}).forEach(([Xe,je])=>{const ke=ne.skills[Xe]||{name:je.name,hits:0,damage:0,icon:je.icon};ke.hits+=Number(je.hits||0),ke.damage+=Number(je.damage||0),!ke.icon&&je.icon&&(ke.icon=je.icon),ne.skills[Xe]=ke}),!ne.icon&&le.icon&&(ne.icon=le.icon),Q.outgoingConditions[Ie]=ne})}),Object.entries(W.summary).forEach(([q,te])=>{const Q=fe[q]||{name:te.name||q,icon:te.icon,applications:0,damage:0};Q.applications+=Number(te.applications||0),Q.damage+=Number(te.damage||0),te.applicationsFromBuffs&&(Q.applicationsFromBuffs=(Q.applicationsFromBuffs||0)+te.applicationsFromBuffs),te.applicationsFromBuffsActive&&(Q.applicationsFromBuffsActive=(Q.applicationsFromBuffsActive||0)+te.applicationsFromBuffsActive),!Q.icon&&te.icon&&(Q.icon=te.icon),fe[q]=Q}),_e.forEach(q=>{const te=q.account&&q.account!=="Unknown"?q.account:q.name||"Unknown",Q=I.get(te);!Q||!q.totalDamageTaken||q.totalDamageTaken.forEach(Ie=>Ie==null?void 0:Ie.forEach(le=>{var Qt,ln;if(!(le!=null&&le.id))return;let ne=`Skill ${le.id}`;const Xe=((Qt=z.skillMap)==null?void 0:Qt[`s${le.id}`])||((ln=z.skillMap)==null?void 0:ln[`${le.id}`]);Xe!=null&&Xe.name&&(ne=Xe.name);const je=Ad(z.buffMap,le.id);ne.startsWith("Skill ")&&(je!=null&&je.name)&&(ne=je.name);const ke=Gf(ne,le.id,z.buffMap);if(!ke)return;const Ge=je==null?void 0:je.name,rt=X.get(ke)||(je==null?void 0:je.icon),lt=(Xe==null?void 0:Xe.icon)||(je==null?void 0:je.icon)||rt;ne.startsWith("Skill ")&&(Ge||ke)&&(ne=Ge||ke);const Ve=Number(le.hits??0),Ze=Number(le.totalDamage??0),dt=Z[ke]||{name:ke,icon:rt,applications:0,damage:0};dt.applications+=Number.isFinite(Ve)?Ve:0,dt.damage+=Number.isFinite(Ze)?Ze:0,!dt.icon&&rt&&(dt.icon=rt),Z[ke]=dt;const Pt=Q.incomingConditions[ke]||{applications:0,damage:0,skills:{},icon:rt};Pt.applications+=Number.isFinite(Ve)?Ve:0,Pt.damage+=Number.isFinite(Ze)?Ze:0;const Rt=Pt.skills[ne]||{name:ne,hits:0,damage:0,icon:lt};Rt.hits+=Number.isFinite(Ve)?Ve:0,Rt.damage+=Number.isFinite(Ze)?Ze:0,!Rt.icon&&lt&&(Rt.icon=lt),Pt.skills[ne]=Rt,!Pt.icon&&rt&&(Pt.icon=rt),Q.incomingConditions[ke]=Pt}))});const ye=z.player_damage_mitigation||z.playerDamageMitigation,De=ye&&typeof ye=="object"&&Object.keys(ye).length>0;De&&Object.entries(ye).forEach(([q,te])=>{if(!te||typeof te!="object")return;const Q=J(q),Ie=ae(de,Q.account,Q);Object.values(te).forEach(le=>{K((le==null?void 0:le.avoided_damage)??(le==null?void 0:le.avoidedDamage))<=0||be(Ie.mitigationTotals,le)})});const F=z.player_minion_damage_mitigation||z.playerMinionDamageMitigation,U=F&&typeof F=="object"&&Object.keys(F).length>0;U&&Object.entries(F).forEach(([q,te])=>{if(!te||typeof te!="object")return;const Q=J(q);Object.entries(te).forEach(([Ie,le])=>{if(!le||typeof le!="object")return;const ne=`${Q.account}::${Ie}`,Xe=V(oe,ne,{...Q,minion:String(Ie||"Unknown")});Object.values(le).forEach(je=>{be(Xe.mitigationTotals,je)})})}),(!De||!U)&&(De||_e.forEach(q=>{const te=(q==null?void 0:q.totalDamageTaken)||[];if(!Array.isArray(te)||te.length===0)return;const Q=q.account||q.name||"Unknown",Ie={account:Q,name:q.name||Q,profession:B(q.profession||"Unknown")};ae(de,Q,Ie);const le=Array.isArray(te)?te[0]:null;le==null||le.forEach(ne=>{if(!(ne!=null&&ne.id))return;const Xe=K(ne.blocked),je=K(ne.evaded),ke=K(ne.glance??ne.glanced),Ge=K(ne.missed),rt=K(ne.invulned),lt=K(ne.interrupted),Ve=K(ne.hits??ne.connectedHits),Ze=Number(ne.id);$e(Qe,`${Q}::${Ze}`,{totalHits:Ve,blocked:Xe,evaded:je,glanced:ke,missed:Ge,invulned:rt,interrupted:lt})})}),U||_e.forEach(q=>{const te=(q==null?void 0:q.minions)||[];if(!Array.isArray(te)||te.length===0)return;const Q=q.account||q.name||"Unknown",Ie={account:Q,name:q.name||Q,profession:B(q.profession||"Unknown")};te.forEach(le=>{const ne=(le==null?void 0:le.totalDamageTakenDist)||[];if(!Array.isArray(ne)||ne.length===0)return;let Xe=String((le==null?void 0:le.name)||"Unknown").replace(/^Juvenile\s+/i,"")||"Unknown";Xe.toUpperCase().includes("UNKNOWN")&&(Xe="Unknown");const je=`${Q}::${Xe}`;V(oe,je,{...Ie,minion:Xe});const ke=Array.isArray(ne)?ne[0]:null;ke==null||ke.forEach(Ge=>{if(!(Ge!=null&&Ge.id))return;const rt=K(Ge.blocked),lt=K(Ge.evaded),Ve=K(Ge.glance??Ge.glanced),Ze=K(Ge.missed),dt=K(Ge.invulned),Pt=K(Ge.interrupted),Rt=K(Ge.hits??Ge.connectedHits),Qt=Number(Ge.id);$e(yt,`${je}::${Qt}`,{totalHits:Rt,blocked:rt,evaded:lt,glanced:Ve,missed:Ze,invulned:dt,interrupted:Pt})})})}))});const Ae=(O,z)=>{const pe=new Map,ze=Ne=>{let ut=pe.get(Ne);return ut||(ut=H(),pe.set(Ne,ut)),ut};z.forEach((Ne,ut)=>{const Ue=ut.lastIndexOf("::"),bt=Ue>-1?ut.slice(0,Ue):ut,gt=Ue>-1?Number(ut.slice(Ue+2)):Number.NaN,At=Number.isFinite(gt)?Ye(gt):{hasSkill:!1,avg:0,min:0,hits:0};if(!At.hasSkill||At.hits<=0)return;const Ke=At.avg,we=At.min,Se=Ne.glanced*Ke/2+(Ne.blocked+Ne.evaded+Ne.missed+Ne.invulned+Ne.interrupted)*Ke,tt=Ne.glanced*we/2+(Ne.blocked+Ne.evaded+Ne.missed+Ne.invulned+Ne.interrupted)*we;if(Se<=0)return;const _e=ze(bt);_e.totalHits+=Ne.totalHits,_e.blocked+=Ne.blocked,_e.evaded+=Ne.evaded,_e.glanced+=Ne.glanced,_e.missed+=Ne.missed,_e.invulned+=Ne.invulned,_e.interrupted+=Ne.interrupted,_e.totalMitigation+=Se,_e.minMitigation+=tt}),O.forEach((Ne,ut)=>{const Ue=pe.get(ut)||H();Ne.mitigationTotals.totalHits=Ue.totalHits,Ne.mitigationTotals.blocked=Ue.blocked,Ne.mitigationTotals.evaded=Ue.evaded,Ne.mitigationTotals.glanced=Ue.glanced,Ne.mitigationTotals.missed=Ue.missed,Ne.mitigationTotals.invulned=Ue.invulned,Ne.mitigationTotals.interrupted=Ue.interrupted,Ne.mitigationTotals.totalMitigation=Ue.totalMitigation,Ne.mitigationTotals.minMitigation=Ue.minMitigation})};Ae(de,Qe),Ae(oe,yt);const Ee=b>0?Math.round(N/b):0,ot=b>0?Math.round(j/b):0,Ce=k>0?(C/k).toFixed(2):C>0?"":"0.00",Kt=E>0?(R/E).toFixed(2):R>0?"":"0.00",Le=(O,z)=>{const ze=O.filter(Ue=>Number.isFinite(Ue.value)&&(z?Ue.value>0:Ue.value>=0)).sort((Ue,bt)=>{const gt=z?bt.value-Ue.value:Ue.value-bt.value;return gt!==0?gt:Ue.account.localeCompare(bt.account)});let Ne=null,ut=0;return ze.map((Ue,bt)=>((Ne===null||Ue.value!==Ne)&&(ut=bt+1,Ne=Ue.value),{rank:ut,...Ue}))},ft=Array.from(I.values()).map(O=>{const z=Array.from(O.professions).filter(pe=>pe!=="Unknown");if(O.professionList=z,z.length>0){let pe=z[0],ze=O.professionTimeMs[pe]||0;z.forEach(Ne=>{const ut=O.professionTimeMs[Ne]||0;ut>ze&&(ze=ut,pe=Ne)}),O.profession=pe}return{key:O.account,stat:O}}),Ft=O=>{const z=I.get(O.account);if(!z){const Ne=O.professionList.length>0?O.professionList:O.profession?[O.profession]:[];return{...O,professionList:Ne}}const pe=z.professionList&&z.professionList.length>0?z.professionList:Array.from(z.professions||[]).filter(Ne=>Ne&&Ne!=="Unknown"),ze=z.profession||O.profession;return{...O,profession:ze,professionList:pe.length>0?pe:ze?[ze]:[],activeMs:z.defenseActiveMs||z.totalFightMs||O.activeMs}},Gt=Array.from(de.values()).map(Ft).filter(O=>ie(O.mitigationTotals)).sort((O,z)=>O.account.localeCompare(z.account)),wn=Array.from(oe.values()).map(Ft).filter(O=>O.mitigationTotals.totalMitigation>0).sort((O,z)=>{const pe=O.account.localeCompare(z.account);return pe!==0?pe:String(O.minion||"").localeCompare(String(z.minion||""))}),tr=(O,z)=>{switch(z){case"downContrib":return O.downContrib;case"barrier":return O.barrier;case"healing":return O.healing;case"dodges":return O.dodges;case"strips":return O.strips;case"cleanses":return O.cleanses;case"cc":return O.cc;case"stability":return O.stab;case"revives":return O.revives;case"dps":return O.dps;case"damage":return O.damage;case"participation":return O.logsJoined;case"closestToTag":return!O.isCommander&&O.distCount>0?O.totalDist/O.distCount:Number.POSITIVE_INFINITY;default:return 0}},on=(O,z)=>Le(ft.map(({stat:pe})=>({account:pe.account,profession:pe.profession,professionList:pe.professionList,value:tr(pe,O),count:pe.logsJoined})),z),fn={downContrib:on("downContrib",!0),barrier:on("barrier",!0),healing:on("healing",!0),dodges:on("dodges",!0),strips:on("strips",!0),cleanses:on("cleanses",!0),cc:on("cc",!0),stability:on("stability",!0),revives:on("revives",!0),participation:on("participation",!0),dps:on("dps",!0),damage:on("damage",!0),closestToTag:on("closestToTag",!1).filter(O=>Number.isFinite(O.value))},Aa={downContrib:"downContrib",barrier:"barrier",healing:"healing",dodges:"dodges",strips:"strips",cleanses:"cleanses",cc:"cc",stability:"stability",closestToTag:"closestToTag"},dn=O=>{const z=O==null?void 0:O[0];return{value:(z==null?void 0:z.value)??0,player:(z==null?void 0:z.account)??"-",count:(z==null?void 0:z.count)??0,profession:(z==null?void 0:z.profession)??"Unknown",professionList:(z==null?void 0:z.professionList)??[]}},In={maxDownContrib:dn([]),maxBarrier:dn([]),maxHealing:dn([]),maxDodges:dn([]),maxStrips:dn([]),maxCleanses:dn([]),maxCC:dn([]),maxStab:dn([]),closestToTag:dn([])},cr={},Oi=(O,z)=>{if(z==="closestToTag")return tr(O,z);const pe=Math.max(1,(O.totalFightMs||0)/1e3);return tr(O,z)/pe};Object.values(Aa).forEach(O=>{const z=O!=="closestToTag";cr[O]=Le(ft.map(({stat:pe})=>({account:pe.account,profession:pe.profession,professionList:pe.professionList,value:Oi(pe,O),count:pe.logsJoined})),z)}),In.maxDownContrib=dn(cr.downContrib),In.maxBarrier=dn(cr.barrier),In.maxHealing=dn(cr.healing),In.maxDodges=dn(cr.dodges),In.maxStrips=dn(cr.strips),In.maxCleanses=dn(cr.cleanses),In.maxCC=dn(cr.cc),In.maxStab=dn(cr.stability),In.closestToTag=dn(cr.closestToTag);const jo={maxDownContrib:dn(fn.downContrib),maxBarrier:dn(fn.barrier),maxHealing:dn(fn.healing),maxDodges:dn(fn.dodges),maxStrips:dn(fn.strips),maxCleanses:dn(fn.cleanses),maxCC:dn(fn.cc),maxStab:dn(fn.stability),closestToTag:dn(fn.closestToTag)};let Ki={player:"None",account:"None",score:-1,profession:"Unknown",professionList:[],color:"#64748b",topStats:[]},Co,jl,Cl=0;if(c!=null&&c.showMvp){const O={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},z=ut=>{const Ue=O[ut];return Ue?Number(u[Ue]||0)>0:!1},pe=[],ze=ut=>[...ut||[]].filter(Ue=>z(Ue==null?void 0:Ue.name)).sort((Ue,bt)=>bt.ratio-Ue.ratio||Ue.rank-bt.rank||Ue.name.localeCompare(bt.name)).slice(0,3),Ne=ut=>{var bt;if(!ut)return;const Ue=ze(ut.contribs);return{...ut,player:ut.name,reason:((bt=Ue[0])==null?void 0:bt.name)||"Top Performance",topStats:Ue}};ft.forEach(({stat:ut})=>{let Ue=0;const bt=[],gt=(At,Ke,we,Se,tt=!0)=>{var nt,ct;if(we<=0)return;const _e=((nt=Ke[0])==null?void 0:nt.value)||0;if(_e&&Number.isFinite(At)&&(tt?At>0:At<Number.POSITIVE_INFINITY)){const xt=tt?At/_e:_e/At;Ue+=xt*we;const P=((ct=Ke.find(W=>W.account===ut.account))==null?void 0:ct.rank)||0;bt.push({name:Se,ratio:xt,val:At.toLocaleString(),rank:P})}};gt(ut.downContrib,fn.downContrib,u.downContribution,"Down Contribution"),gt(ut.healing,fn.healing,u.healing,"Healing"),gt(ut.cleanses,fn.cleanses,u.cleanses,"Cleanses"),gt(ut.strips,fn.strips,u.strips,"Strips"),gt(ut.stab,fn.stability,u.stability,"Stability"),gt(ut.cc,fn.cc,u.cc,"CC"),gt(ut.revives,fn.revives,u.revives,"Revives"),gt(tr(ut,"closestToTag"),fn.closestToTag,u.distanceToTag,"Distance to Tag",!1),gt(ut.logsJoined,fn.participation,u.participation,"Participation"),gt(ut.dodges,fn.dodges,u.dodging,"Dodging"),gt(ut.dps,fn.dps,u.dps,"DPS"),gt(ut.damage,fn.damage,u.damage,"Damage"),pe.push({...ut,score:Ue,contribs:bt.filter(At=>z(At.name))})}),pe.sort((ut,Ue)=>Ue.score-ut.score),pe[0]&&pe[0].score>0&&(Ki=Ne(pe[0])||Ki),Co=Ne(pe[1]),jl=Ne(pe[2]),Cl=pe.length>0?pe.reduce((ut,Ue)=>ut+Ue.score,0)/pe.length:0}const Tc=Object.values(ce).sort((O,z)=>z.damage-O.damage||z.hits-O.hits||String(O.name||"").localeCompare(String(z.name||""))).slice(0,25),Cs=Object.values(ce).sort((O,z)=>z.downContribution-O.downContribution||z.hits-O.hits||String(O.name||"").localeCompare(String(z.name||""))).slice(0,25),Gi=v==="downContribution"?Cs:Tc,ua=Object.values(ve).sort((O,z)=>z.damage-O.damage).slice(0,25),Ga=O=>{const z=String(O).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),pe=z.match(/^(Red|Blue|Green)\s+(?:Alpine|Desert)?\s*Borderlands$/i);return pe?`${pe[1]} Borderlands`:z||"Unknown"},Ii=(O,z)=>Ga((O==null?void 0:O.zone)||(O==null?void 0:O.mapName)||(O==null?void 0:O.map)||(O==null?void 0:O.location)||(O==null?void 0:O.fightName)||(z==null?void 0:z.fightName)||(z==null?void 0:z.encounterName)||"Unknown"),Pa=(O,z)=>{const pe=(z==null?void 0:z.permalink)||(O==null?void 0:O.permalink);if(typeof pe=="string"&&pe.trim().length>0)return pe.trim();const ze=O==null?void 0:O.uploadLinks;if(!Array.isArray(ze))return"";for(const Ne of ze){if(typeof Ne=="string"&&Ne.trim().length>0)return Ne.trim();if(Ne&&typeof Ne=="object"){const ut=Ne.permalink||Ne.link||Ne.url||Ne.reportLink;if(typeof ut=="string"&&ut.trim().length>0)return ut.trim()}}return""},Ao=(O,z)=>{const pe=Number((O==null?void 0:O.durationMS)||0);return pe>0?Hu(pe):(typeof(z==null?void 0:z.encounterDuration)=="string"?z.encounterDuration.trim():"")||"--:--"},zr=(O,z)=>{if((Array.isArray(O==null?void 0:O.players)?O.players:[]).length>0)return $(O);if(typeof(O==null?void 0:O.success)=="boolean")return O.success;const ze=z==null?void 0:z.dashboardSummary;if(ze&&typeof ze=="object"){if(ze.isWin===!0)return!0;if(ze.isWin===!1)return!1}return null},Ya=(O,z)=>{var Ue,bt;const pe=Hr((Ue=O.log)==null?void 0:Ue.details,O.log),ze=Hr((bt=z.log)==null?void 0:bt.details,z.log),Ne=pe>0,ut=ze>0;return Ne&&ut&&pe!==ze?pe-ze:Ne!==ut?Ne?-1:1:O.originalIndex-z.originalIndex},Xs=e.map((O,z)=>({log:O,originalIndex:z})).sort(Ya),Qs=Xs.filter(({log:O})=>s(O)),jr={};o.forEach(O=>{const z=Ii(O==null?void 0:O.details,O);jr[z]=(jr[z]||0)+1});const As=Object.entries(jr).map(([O,z])=>{const pe=String(O).trim(),ze=/eternal battlegrounds|^ebg$/i.test(pe);let Ne="#64748b";return ze?Ne="#ffffff":/red/i.test(pe)?Ne="#ef4444":/blue/i.test(pe)?Ne="#3b82f6":/green/i.test(pe)&&(Ne="#22c55e"),{name:O,value:z,color:Ne}}).sort((O,z)=>z.value-O.value),{boonTables:Da}=eW(o),Iu=(()=>{const O=we=>String(we||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),z=we=>O(we).toLowerCase().split(/[^a-z0-9]+/i).map(Se=>Se.trim()).filter(Boolean).map(Se=>Se.length>3&&Se.endsWith("s")?Se.slice(0,-1):Se),pe=(we,Se)=>{const tt=O(we),_e=O(Se);if(!_e)return tt;if(!tt)return _e;const nt=z(tt),ct=z(_e),xt=new Set(nt),P=new Set(ct),W=ct.length>0&&ct.every(ye=>xt.has(ye)),X=nt.length>0&&nt.every(ye=>P.has(ye));return W||X?tt:`${tt} - ${_e}`},ze=new Map,Ne=(we,Se)=>{if(!ze.has(we))ze.set(we,{id:we,name:String((Se==null?void 0:Se.name)||we),icon:Se==null?void 0:Se.icon,stacking:!!(Se!=null&&Se.stacking),players:new Map,fights:[]});else if(Se){const tt=ze.get(we);(!tt.name||tt.name===we)&&(Se!=null&&Se.name)&&(tt.name=String(Se.name)),!tt.icon&&(Se!=null&&Se.icon)&&(tt.icon=String(Se.icon)),!tt.stacking&&(Se!=null&&Se.stacking)&&(tt.stacking=!0)}return ze.get(we)},ut=we=>Array.isArray(we)?we.map(Se=>Array.isArray(Se)?[Number(Se[0]),Number(Se[1])]:Se&&typeof Se=="object"?[Number(Se.time),Number(Se.value)]:null).filter(Se=>!!Se&&Number.isFinite(Se[0])&&Number.isFinite(Se[1])&&Se[0]>=0).sort((Se,tt)=>Se[0]-tt[0]):[],Ue=(we,Se,tt)=>{const _e=we.get(Se)||[];_e.length<tt&&(_e.length=tt);for(let nt=0;nt<tt;nt+=1)Number.isFinite(_e[nt])||(_e[nt]=0);return we.set(Se,_e),_e},bt=(we,Se,tt,_e,nt)=>{if(!Se||Se==="__all__"||_e<=0)return;const ct=ut(tt);if(ct.length===0)return;const xt=Ue(we,Se,_e),P=Math.max(1,Number(nt||0),_e*5e3),W=F=>Math.max(0,Math.min(P,Number(F||0))),X=(F,U,G)=>{if(!Number.isFinite(G)||G<=0)return;let he=W(F);const q=W(U);if(!(q<=he))for(;he<q;){const te=Math.max(0,Math.min(_e-1,Math.floor(he/5e3))),Q=Math.min(q,(te+1)*5e3),Ie=Math.max(0,Q-he);Ie>0&&(xt[te]=Number(xt[te]||0)+Ie*G),he=Q}};let ye=W(ct[0][0]),De=Math.max(0,Number(ct[0][1]||0));for(let F=1;F<ct.length;F+=1){const[U,G]=ct[F],he=W(U);X(ye,he,De),ye=he,De=Math.max(0,Number(G||0))}X(ye,P,De)},gt=(we,Se,tt)=>{const _e=Array.from({length:tt},(xt,P)=>Number((we==null?void 0:we[P])||0)),nt=_e.reduce((xt,P)=>xt+Number(P||0),0);if(!Number.isFinite(Se)||Se<=0)return _e.map(()=>0);if(!Number.isFinite(nt)||nt<=0){const xt=Se/Math.max(1,tt);return _e.map(()=>xt)}const ct=Se/nt;return _e.map(xt=>Number(xt||0)*ct)},At=()=>({selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0}),Ke=(we,Se,tt)=>{const _e=Math.max(0,Number(tt||0));_e&&(we[Se]=Number(we[Se]||0)+_e,(Se==="selfBuffs"||Se==="squadBuffs")&&(we.totalBuffs=Number(we.totalBuffs||0)+_e))};return o.map(we=>({log:we,ts:Hr(we==null?void 0:we.details,we)})).sort((we,Se)=>we.ts-Se.ts).forEach(({log:we},Se)=>{const tt=we==null?void 0:we.details;if(!tt)return;const nt=(Array.isArray(tt.players)?tt.players:[]).filter(te=>!(te!=null&&te.notInSquad)),ct=nt.length;if(ct<=0)return;const xt=Math.max(0,Number((tt==null?void 0:tt.durationMS)||0)),P=Math.max(1,Math.ceil(Math.max(1,xt)/5e3)),W=tt!=null&&tt.buffMap&&typeof tt.buffMap=="object"?tt.buffMap:{},X=new Map,ye=new Map;nt.forEach(te=>{const Q=Number((te==null?void 0:te.group)??0);ye.set(Q,(ye.get(Q)||0)+1);const le=String((te==null?void 0:te.account)||(te==null?void 0:te.name)||"Unknown");[te==null?void 0:te.name,te==null?void 0:te.display_name,te==null?void 0:te.character_name,te==null?void 0:te.account].map(ne=>String(ne||"").trim()).filter(Boolean).forEach(ne=>X.set(ne,le))});const De=O(tt.fightName||we.fightName||`Fight ${Se+1}`),F=Ii(tt,we),U=pe(De,String(F||"")),G=new Map,he=new Map,q=new Map;nt.forEach(te=>{const Q=String((te==null?void 0:te.account)||(te==null?void 0:te.name)||"Unknown"),Ie=String((te==null?void 0:te.profession)||"Unknown"),le=Q,ne=Number((te==null?void 0:te.group)??0),Xe=Math.max(1,Number(ye.get(ne)||1));["selfBuffs","groupBuffs","squadBuffs"].forEach(ke=>{(Array.isArray(te==null?void 0:te[ke])?te[ke]:[]).forEach(rt=>{var Ar;const lt=Number(rt==null?void 0:rt.id);if(!Number.isFinite(lt))return;const Ve=`b${lt}`,Ze=W[Ve]||{},dt=String((Ze==null?void 0:Ze.classification)||"");if(dt&&dt!=="Boon")return;const Pt=Number(((Ar=gw(te,ke,lt,xt,Xe,ct,W))==null?void 0:Ar.generationMs)||0);if(!Number.isFinite(Pt)||Pt<=0)return;const Rt=Ne(Ve,Ze),Qt=Rt.players.get(le)||{key:le,account:Q,displayName:Q,profession:Ie,professionList:Ie&&Ie!=="Unknown"?[Ie]:[],logs:0,totals:At()};Ie&&Ie!=="Unknown"&&!Qt.professionList.includes(Ie)&&Qt.professionList.push(Ie),(!Qt.profession||Qt.profession==="Unknown")&&Ie&&Ie!=="Unknown"&&(Qt.profession=Ie);const ln=q.get(Ve)||new Set;ln.has(le)||(ln.add(le),Qt.logs+=1,q.set(Ve,ln)),Ke(Qt.totals,ke,Pt),Rt.players.set(le,Qt);const bn=Rt.players.get("__all__")||{key:"__all__",account:"All",displayName:"All",profession:"All",professionList:[],logs:0,totals:At()};Ke(bn.totals,ke,Pt),Rt.players.set("__all__",bn);const _n=G.get(Ve)||new Map,kn=_n.get(le)||At();Ke(kn,ke,Pt),_n.set(le,kn);const vt=_n.get("__all__")||At();Ke(vt,ke,Pt),_n.set("__all__",vt),G.set(Ve,_n);const an=Array.isArray(te==null?void 0:te.buffUptimes)?te.buffUptimes.find(Rn=>Number(Rn==null?void 0:Rn.id)===lt):null,Fn=an!=null&&an.statesPerSource&&typeof an.statesPerSource=="object"?an.statesPerSource:null;if(Fn){const Rn=he.get(Ve)||new Map;Object.entries(Fn).forEach(([Vn,wi])=>{const ki=X.get(String(Vn||"").trim());ki&&bt(Rn,ki,wi,P,xt)}),he.set(Ve,Rn)}})})}),G.forEach((te,Q)=>{const Ie=ze.get(Q);if(!Ie)return;const le=he.get(Q)||new Map,ne={};let Xe=Array.from({length:P},()=>0),je=0;te.forEach((lt,Ve)=>{const Ze={selfBuffs:Number((lt==null?void 0:lt.selfBuffs)||0),groupBuffs:Number((lt==null?void 0:lt.groupBuffs)||0),squadBuffs:Number((lt==null?void 0:lt.squadBuffs)||0),totalBuffs:Number((lt==null?void 0:lt.totalBuffs)||0)},dt=Math.max(0,Number(Ze.totalBuffs||0));if(!Number.isFinite(dt)||dt<=0)return;const Pt=le.get(Ve)||[],Rt=gt(Pt,dt,P);ne[Ve]={total:dt,totals:Ze,bucketWeights5s:Array.from({length:P},(Qt,ln)=>Number(Pt[ln]||0)),buckets5s:Rt},Ve!=="__all__"&&(dt>je&&(je=dt),Xe=Xe.map((Qt,ln)=>Number(Qt||0)+Number(Rt[ln]||0)))});const ke=te.get("__all__"),Ge=Number((ke==null?void 0:ke.totalBuffs)||0);if(Ge>0&&(ne.__all__={total:Ge,totals:{selfBuffs:Number((ke==null?void 0:ke.selfBuffs)||0),groupBuffs:Number((ke==null?void 0:ke.groupBuffs)||0),squadBuffs:Number((ke==null?void 0:ke.squadBuffs)||0),totalBuffs:Number((ke==null?void 0:ke.totalBuffs)||0)},bucketWeights5s:Array.from({length:P},(lt,Ve)=>Number((le.get("__all__")||[])[Ve]||0)),buckets5s:Xe.some(lt=>Number(lt||0)>0)?Xe:gt(le.get("__all__")||[],Ge,P)}),Object.keys(ne).length===0)return;const rt=Ie.players.get("__all__");rt&&(rt.logs+=1,Ie.players.set("__all__",rt)),Ie.fights.push({id:we.filePath||we.id||`fight-${Se+1}`,shortLabel:`F${Se+1}`,fullLabel:U,timestamp:Hr(tt,we),durationMs:xt,values:ne,maxTotal:je})})}),Array.from(ze.values()).map(we=>({id:we.id,name:we.name||we.id,icon:we.icon,stacking:we.stacking,players:Array.from(we.players.values()).sort((Se,tt)=>{var nt,ct;if(Se.key==="__all__")return-1;if(tt.key==="__all__")return 1;const _e=Number(((nt=tt.totals)==null?void 0:nt.totalBuffs)||0)-Number(((ct=Se.totals)==null?void 0:ct.totalBuffs)||0);return _e!==0?_e:String(Se.displayName||"").localeCompare(String(tt.displayName||""))}),fights:[...we.fights].sort((Se,tt)=>Se.timestamp>0&&tt.timestamp>0&&Se.timestamp!==tt.timestamp?Se.timestamp-tt.timestamp:Se.shortLabel.localeCompare(tt.shortLabel,void 0,{numeric:!0}))})).filter(we=>we.players.length>0&&we.fights.length>0).sort((we,Se)=>String(we.name||"").localeCompare(String(Se.name||"")))})(),Al=(()=>{const O=Ke=>String(Ke||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),z=Ke=>O(Ke).toLowerCase().split(/[^a-z0-9]+/i).map(we=>we.trim()).filter(Boolean).map(we=>we.length>3&&we.endsWith("s")?we.slice(0,-1):we),pe=(Ke,we)=>{const Se=O(Ke),tt=O(we);if(!tt)return Se;if(!Se)return tt;const _e=z(Se),nt=z(tt),ct=new Set(_e),xt=new Set(nt),P=nt.length>0&&nt.every(X=>ct.has(X)),W=_e.length>0&&_e.every(X=>xt.has(X));return P||W?Se:`${Se} - ${tt}`},ze=new Map,Ne=(Ke,we)=>{if(!ze.has(Ke))ze.set(Ke,{id:Ke,name:String((we==null?void 0:we.name)||Ke),icon:we==null?void 0:we.icon,stacking:!!(we!=null&&we.stacking),players:new Map,fights:[]});else if(we){const Se=ze.get(Ke);(!Se.name||Se.name===Ke)&&(we!=null&&we.name)&&(Se.name=String(we.name)),!Se.icon&&(we!=null&&we.icon)&&(Se.icon=String(we.icon)),!Se.stacking&&(we!=null&&we.stacking)&&(Se.stacking=!0)}return ze.get(Ke)},ut=Ke=>Array.isArray(Ke)?Ke.map(we=>Array.isArray(we)?[Number(we[0]),Number(we[1])]:we&&typeof we=="object"?[Number(we.time),Number(we.value)]:null).filter(we=>!!we&&Number.isFinite(we[0])&&Number.isFinite(we[1])&&we[0]>=0).sort((we,Se)=>we[0]-Se[0]):[],Ue=(Ke,we)=>{if(!we)return 1;const Se=String(Ke||"").trim().toLowerCase();return 25},bt=(Ke,we,Se)=>{const tt=Number.isFinite(Ke)?Math.max(0,Ke):0;return we?Math.max(0,Math.min(Se,Math.round(tt))):tt>0?1:0},gt=(Ke,we,Se,tt)=>{const _e=Array.from({length:we},()=>0);if(!Ke||typeof Ke!="object"||we<=0)return _e;Object.values(Ke).forEach(ct=>{const xt=ut(ct);if(xt.length===0)return;let P=0,W=0;for(let X=0;X<we;X+=1){const ye=X*5e3;for(;P<xt.length&&xt[P][0]<=ye;)W=Math.max(0,Number(xt[P][1]||0)),P+=1;_e[X]+=Math.max(0,Number(W||0))}});const nt=Ue(tt,Se);return _e.map(ct=>bt(ct,Se,nt))},At=Ke=>{const we=Ke.reduce((tt,_e)=>tt+Math.max(0,Number(_e||0)),0),Se=Ke.reduce((tt,_e)=>Math.max(tt,Math.max(0,Number(_e||0))),0);return{total:we,peak:Se,buckets5s:Ke}};return o.map(Ke=>({log:Ke,ts:Hr(Ke==null?void 0:Ke.details,Ke)})).sort((Ke,we)=>Ke.ts-we.ts).forEach(({log:Ke},we)=>{const Se=Ke==null?void 0:Ke.details;if(!Se)return;const _e=(Array.isArray(Se.players)?Se.players:[]).filter(F=>!(F!=null&&F.notInSquad));if(_e.length<=0)return;const nt=Math.max(0,Number((Se==null?void 0:Se.durationMS)||0)),ct=Math.max(1,Math.ceil(Math.max(1,nt)/5e3)),xt=Se!=null&&Se.buffMap&&typeof Se.buffMap=="object"?Se.buffMap:{},P=O(Se.fightName||Ke.fightName||`Fight ${we+1}`),W=Ii(Se,Ke),X=pe(P,String(W||"")),ye=new Map,De=new Map;_e.forEach(F=>{const U=String((F==null?void 0:F.account)||(F==null?void 0:F.name)||"Unknown"),G=U,he=String((F==null?void 0:F.profession)||"Unknown");(Array.isArray(F==null?void 0:F.buffUptimes)?F.buffUptimes:[]).forEach(te=>{const Q=Number(te==null?void 0:te.id);if(!Number.isFinite(Q))return;const Ie=`b${Q}`,le=xt[Ie]||{},ne=String((le==null?void 0:le.classification)||"");if(ne&&ne!=="Boon")return;const Xe=te!=null&&te.statesPerSource&&typeof te.statesPerSource=="object"?te.statesPerSource:null;if(!Xe)return;const je=gt(Xe,ct,!!(le!=null&&le.stacking),String((le==null?void 0:le.name)||"")),ke=At(je);if(ke.total<=0&&ke.peak<=0)return;const Ge=Ne(Ie,le),rt=Ge.players.get(G)||{key:G,account:U,displayName:U,profession:he,professionList:he&&he!=="Unknown"?[he]:[],logs:0,total:0,peak:0};he&&he!=="Unknown"&&!rt.professionList.includes(he)&&rt.professionList.push(he),(!rt.profession||rt.profession==="Unknown")&&he&&he!=="Unknown"&&(rt.profession=he);const lt=De.get(Ie)||new Set;lt.has(G)||(lt.add(G),rt.logs+=1,De.set(Ie,lt)),rt.total+=ke.total,rt.peak=Math.max(rt.peak,ke.peak),Ge.players.set(G,rt);const Ve=ye.get(Ie)||new Map;Ve.set(G,ke),ye.set(Ie,Ve)})}),ye.forEach((F,U)=>{const G=ze.get(U);if(!G)return;const he={};let q=0;F.forEach((te,Q)=>{he[Q]={total:Number(te.total||0),peak:Number(te.peak||0),buckets5s:Array.isArray(te.buckets5s)?te.buckets5s.map(Ie=>Number(Ie||0)):[]},q=Math.max(q,Number(te.peak||0))}),Object.keys(he).length!==0&&G.fights.push({id:Ke.filePath||Ke.id||`fight-${we+1}`,shortLabel:`F${we+1}`,fullLabel:X,timestamp:Hr(Se,Ke),durationMs:nt,values:he,maxTotal:q})})}),Array.from(ze.values()).map(Ke=>({id:Ke.id,name:Ke.name||Ke.id,icon:Ke.icon,stacking:Ke.stacking,players:Array.from(Ke.players.values()).sort((we,Se)=>{const tt=Number(Se.peak||0)-Number(we.peak||0);if(tt!==0)return tt;const _e=Number(Se.total||0)-Number(we.total||0);return _e!==0?_e:String(we.displayName||"").localeCompare(String(Se.displayName||""))}),fights:[...Ke.fights].sort((we,Se)=>we.timestamp>0&&Se.timestamp>0&&we.timestamp!==Se.timestamp?we.timestamp-Se.timestamp:we.shortLabel.localeCompare(Se.shortLabel,void 0,{numeric:!0}))})).filter(Ke=>Ke.players.length>0&&Ke.fights.length>0).sort((Ke,we)=>String(Ke.name||"").localeCompare(String(we.name||"")))})(),_u=Xs.map(({log:O})=>{const z=O==null?void 0:O.details,pe=Array.isArray(z==null?void 0:z.players)?z.players:[],ze=Array.isArray(z==null?void 0:z.targets)?z.targets:[],Ne=O!=null&&O.dashboardSummary&&typeof O.dashboardSummary=="object"?O.dashboardSummary:null,ut=pe.filter(Se=>!Se.notInSquad),Ue=ze.filter(Se=>!Se.isFake),bt=Math.max(0,Number((Ne==null?void 0:Ne.squadCount)||0)),gt=Math.max(0,Number((Ne==null?void 0:Ne.enemyCount)||0)),At=ut.length>0?ut.length:bt,Ke=Ue.length>0?Ue.length:gt,we=pe.length>0?pe.length:At;return{timestamp:Hr(z,O),squadCount:At,friendlyCount:we,enemies:Ke,isWin:zr(z,O)}}).map((O,z)=>({...O,index:z+1,label:`Log ${z+1}`})),Yn={};Array.from(I.values()).forEach(O=>{O.profession&&O.profession!=="Unknown"&&(Yn[O.profession]=(Yn[O.profession]||0)+1)});const Pl=Object.entries(Yn).map(([O,z])=>({name:O,value:z,color:tl(O)})).sort((O,z)=>z.value-O.value),ur={};Object.keys(xe).length===0&&o.forEach(O=>{var z,pe;(pe=(z=O.details)==null?void 0:z.targets)==null||pe.forEach(ze=>{if(ze.isFake)return;const Ne=ze.profession&&ze.profession!=="Unknown"?ze.profession:ze.name||ze.id||"Unknown",ut=B(Ne);ur[ut]=(ur[ut]||0)+1})});const Cr=Object.keys(xe).length>0?xe:ur,Or=Object.entries(Cr).map(([O,z])=>({name:O,value:z,color:tl(O)})).sort((O,z)=>z.value-O.value),Dl=Xs.map(({log:O},z)=>{const pe=O==null?void 0:O.details,ze=Array.isArray(pe==null?void 0:pe.players)?pe.players:[],Ne=ze.filter(U=>!U.notInSquad),ut=ze.filter(U=>U.notInSquad),bt=(Array.isArray(pe==null?void 0:pe.targets)?pe.targets:[]).filter(U=>!U.isFake),gt=O!=null&&O.dashboardSummary&&typeof O.dashboardSummary=="object"?O.dashboardSummary:null,At=Ne.reduce((U,G)=>{var he,q;return U+(((q=(he=G.dpsAll)==null?void 0:he[0])==null?void 0:q.damage)||0)},0),Ke=Ne.reduce((U,G)=>{var he,q;return U+(((q=(he=G.defenses)==null?void 0:he[0])==null?void 0:q.damageTaken)||0)},0),{enemyDeaths:we,enemyDownsDeaths:Se}=T(pe),tt=zr(pe,O),_e=Hr(pe,O),nt=Ii(pe,O),ct=U=>{if(!U||typeof U!="object")return;const G=U.teamID??U.teamId??U.team??U.teamColor??U.team_color;if(G!=null)return G;const he=Object.keys(U).find(q=>/^team/i.test(q));return he?U[he]:void 0},xt=(U,G)=>{const he={};return U.forEach(q=>{const te=G(q),Q=B(te);Q&&(he[Q]=(he[Q]||0)+1)}),he},P=xt(Ne,U=>(U==null?void 0:U.profession)||(U==null?void 0:U.name)),W=xt(ut,U=>(U==null?void 0:U.profession)||(U==null?void 0:U.name)),X=xt(bt,U=>(U==null?void 0:U.profession)||(U==null?void 0:U.name)||(U==null?void 0:U.id)),ye=new Set;Ne.forEach(U=>{const G=ct(U);G!=null&&ye.add(String(G))});const De=new Map;bt.forEach(U=>{if((U==null?void 0:U.enemyPlayer)===!1)return;const G=ct(U);if(G==null)return;const he=String(G);ye.has(he)||De.set(he,(De.get(he)||0)+1)});const F=Array.from(De.entries()).sort((U,G)=>{const he=G[1]-U[1];return he!==0?he:U[0].localeCompare(G[0],void 0,{numeric:!0})}).slice(0,3).map(([U,G])=>({teamId:U,count:G}));return{id:O.filePath||`fight-${z}`,label:O.encounterName||`Fight ${z+1}`,permalink:Pa(pe,O),timestamp:_e,mapName:nt,duration:Ao(pe,O),isWin:tt,squadCount:Ne.length>0?Ne.length:Math.max(0,Number((gt==null?void 0:gt.squadCount)||0)),allyCount:ut.length,enemyCount:bt.length>0?bt.length:Math.max(0,Number((gt==null?void 0:gt.enemyCount)||0)),teamBreakdown:F,alliesDown:Ne.reduce((U,G)=>{var he,q;return U+(((q=(he=G.defenses)==null?void 0:he[0])==null?void 0:q.downCount)||0)},0),alliesDead:Ne.length>0?Ne.reduce((U,G)=>{var he,q;return U+(((q=(he=G.defenses)==null?void 0:he[0])==null?void 0:q.deadCount)||0)},0):Math.max(0,Number((gt==null?void 0:gt.squadDeaths)||0)),alliesRevived:Ne.reduce((U,G)=>{var he,q;return Number(((q=(he=G.statsAll)==null?void 0:he[0])==null?void 0:q.saved)||0)>0?U+1:U},0),rallies:0,enemyDeaths:bt.length>0||Ne.length>0?we:Math.max(0,Number((gt==null?void 0:gt.enemyDeaths)||0)),enemyDowns:Math.max(0,Se-we),totalOutgoingDamage:At,totalIncomingDamage:Ke,incomingBarrierAbsorbed:Ne.reduce((U,G)=>{var he,q;return U+(((q=(he=G.defenses)==null?void 0:he[0])==null?void 0:q.damageBarrier)||0)},0),outgoingBarrierAbsorbed:Ne.reduce((U,G)=>{var te;const he=(te=G.extBarrierStats)==null?void 0:te.outgoingBarrier;if(!Array.isArray(he))return U;let q=0;return he.forEach(Q=>{if(Array.isArray(Q)){Q.forEach(Ie=>{q+=Number((Ie==null?void 0:Ie.barrier)||0)});return}q+=Number((Q==null?void 0:Q.barrier)||0)}),U+q},0),squadClassCountsFight:P,allyClassCountsFight:W,enemyClassCounts:X}}),da=(()=>{const O=(F,U)=>{const G=Array.isArray(F==null?void 0:F.buffUptimes)?F.buffUptimes:[];let he=0,q=0;return G.forEach(te=>{var je,ke,Ge,rt;if(typeof(te==null?void 0:te.id)!="number")return;const Q=(U==null?void 0:U[`b${te.id}`])||(U==null?void 0:U[String(te.id)]);if(!ee(Q))return;const Ie=!!(Q!=null&&Q.stacking),le=Number(((ke=(je=te==null?void 0:te.buffData)==null?void 0:je[0])==null?void 0:ke.uptime)??0),ne=Number(((rt=(Ge=te==null?void 0:te.buffData)==null?void 0:Ge[0])==null?void 0:rt.presence)??0),Xe=Ie?ne:le;!Number.isFinite(Xe)||Xe<=0||(he+=Math.min(Math.max(Xe,0),100),q+=1)}),{boonCount:q,boonUptimePct:q>0?he/q:0}},z=(F,U)=>{if(!Number.isFinite(F))return 0;const G=Math.max(1/60,Number(U||0)/6e4);return F/G},pe=(F,U,G)=>{var Q;let he=`Skill ${F==null?void 0:F.id}`;const q=(U==null?void 0:U[`s${F==null?void 0:F.id}`])||(U==null?void 0:U[`${F==null?void 0:F.id}`]);let te=q==null?void 0:q.icon;if(q!=null&&q.name&&(he=q.name),he.startsWith("Skill ")){const Ie=Gf(he,F==null?void 0:F.id,G);Ie&&(he=Ie,te=((Q=G==null?void 0:G[`b${F==null?void 0:F.id}`])==null?void 0:Q.icon)||te)}return{name:he,icon:te}},ze=F=>{if(!Array.isArray(F))return[];const U=[];return F.forEach(G=>{Array.isArray(G)&&G.forEach(he=>{!he||typeof he!="object"||U.push(he)})}),U},Ne=F=>Array.isArray(F)?F.map(U=>Array.isArray(U)?[Number(U[0]),Number(U[1])]:U&&typeof U=="object"?[Number(U.time),Number(U.value)]:null).filter(U=>!!U&&Number.isFinite(U[0])&&Number.isFinite(U[1])&&U[0]>=0).sort((U,G)=>U[0]-G[0]):[],ut=(F,U)=>{if(!U)return 1;const G=String(F||"").trim().toLowerCase();return 25},Ue=(F,U,G,he)=>{const q=Array.from({length:U},()=>0);if(!F||typeof F!="object"||U<=0)return q;Object.values(F).forEach(Q=>{const Ie=Ne(Q);if(Ie.length===0)return;let le=0,ne=0;for(let Xe=0;Xe<U;Xe+=1){const je=Xe*5e3;for(;le<Ie.length&&Ie[le][0]<=je;)ne=Math.max(0,Number(Ie[le][1]||0)),le+=1;q[Xe]+=Math.max(0,Number(ne||0))}});const te=ut(he,G);return q.map(Q=>G?Math.max(0,Math.min(te,Math.round(Q)))/Math.max(1,te)*100:Q>0?100:0)},bt=F=>!Array.isArray(F)||F.length===0?[]:typeof F[0]=="number"?F.map(U=>Number(U||0)):Array.isArray(F[0])&&typeof F[0][0]=="number"?F[0].map(U=>Number(U||0)):[],gt=F=>{if(!Array.isArray(F)||F.length===0)return[];const U=[];for(let G=0;G<F.length;G+=1){const he=Number(F[G]||0),q=G>0?Number(F[G-1]||0):0;U.push(Math.max(0,he-q))}return U},At=(F,U)=>Array.from({length:U},(G,he)=>{const q=he*5;let te=0;for(let Q=0;Q<5;Q+=1)te+=Number(F[q+Q]||0);return te}),Ke=(F,U,G)=>{const he=new Map;return ze(F).forEach(q=>{if(!(q!=null&&q.id))return;const{name:te,icon:Q}=pe(q,U,G),Ie=`s${q.id}`,le=he.get(Ie)||{id:Ie,name:te,icon:Q,damage:0,hits:0};le.damage+=Math.max(0,Number((q==null?void 0:q.totalDamage)||0)),le.hits+=Math.max(0,Number((q==null?void 0:q.hits)||(q==null?void 0:q.connectedHits)||0)),le.name.startsWith("Skill ")&&!te.startsWith("Skill ")&&(le.name=te),!le.icon&&Q&&(le.icon=Q),he.set(Ie,le)}),Array.from(he.values()).sort((q,te)=>te.damage-q.damage||te.hits-q.hits||q.name.localeCompare(te.name))},we=(F,U,G)=>{const he=new Map;return(Array.isArray(F==null?void 0:F.buffUptimes)?F.buffUptimes:[]).forEach(te=>{var lt,Ve,Ze,dt;const Q=Number(te==null?void 0:te.id);if(!Number.isFinite(Q))return;const Ie=`b${Q}`,le=(U==null?void 0:U[Ie])||(U==null?void 0:U[String(Q)])||{};if(!ee(le))return;const ne=!!(le!=null&&le.stacking),Xe=Number(((Ve=(lt=te==null?void 0:te.buffData)==null?void 0:lt[0])==null?void 0:Ve.uptime)??0),je=Number(((dt=(Ze=te==null?void 0:te.buffData)==null?void 0:Ze[0])==null?void 0:dt.presence)??0),ke=Math.min(100,Math.max(0,ne?je:Xe));if(!Number.isFinite(ke)||ke<=0)return;const Ge=he.get(Ie)||{id:Ie,name:String((le==null?void 0:le.name)||Ie),icon:le==null?void 0:le.icon,stacking:ne,uptimePct:0,uptimeMs:0,buckets5s:[]};Ge.uptimePct=Math.max(Ge.uptimePct,ke),Ge.uptimeMs+=ke/100*Math.max(0,Number(G||0));const rt=te!=null&&te.statesPerSource&&typeof te.statesPerSource=="object"?te.statesPerSource:null;rt&&(Ge.buckets5s=Ue(rt,Math.max(1,Math.ceil(Math.max(1,Number(G||0))/5e3)),!!(le!=null&&le.stacking),String((le==null?void 0:le.name)||""))),!Ge.icon&&(le!=null&&le.icon)&&(Ge.icon=le.icon),he.set(Ie,Ge)}),Array.from(he.values()).sort((te,Q)=>Q.uptimePct-te.uptimePct||Q.uptimeMs-te.uptimeMs||te.name.localeCompare(Q.name))},Se=new Map,tt=15e3,_e=15e3,nt=F=>Array.isArray(F)?F.map(U=>Array.isArray(U)?[Number(U[0]),Number(U[1])]:null).filter(U=>!!U&&Number.isFinite(U[0])):[],ct=(F,U)=>{const G=F==null?void 0:F.combatReplayData;return(Array.isArray(G)?G:G?[G]:[]).flatMap(q=>nt(q==null?void 0:q[U]).map(([te])=>Number(te||0))).filter(q=>Number.isFinite(q)&&q>=0)},xt=(F,U)=>{if(!Array.isArray(F)||F.length===0)return null;const G=F.flatMap(he=>ct(he,U));return G.length===0?null:Math.min(...G)},P=F=>{const U=F.filter(G=>typeof G=="number"&&Number.isFinite(G));return U.length===0?null:U.reduce((G,he)=>G+he,0)/U.length},W=F=>{const U=F.filter(he=>typeof he=="boolean");return U.length===0?null:U.reduce((he,q)=>he+(q?1:0),0)/U.length*100},X=F=>Array.isArray(F)?F.map(U=>Array.isArray(U)?[Number(U[0]),Number(U[1])]:null).filter(U=>!!U&&Number.isFinite(U[0])&&Number.isFinite(U[1])):[],ye=(F,U,G)=>{const q=(Array.isArray(F)?F:F?[F]:[]).flatMap(Ge=>X(Ge==null?void 0:Ge.positions));if(q.length<2)return{distanceTraveled:null,movementPerMinute:null,stationaryPct:null,movementBurstCount:null};const te=Number.isFinite(G)&&G>0?G:1,Q=1,Ie=25;let le=0,ne=0,Xe=0,je=!1,ke=0;for(let Ge=1;Ge<q.length;Ge+=1){const[rt,lt]=q[Ge-1],[Ve,Ze]=q[Ge],dt=Math.hypot(Ve-rt,Ze-lt)/te;Number.isFinite(dt)&&(ke+=1,le+=Math.max(0,dt),dt<=Q?(ne+=1,je=!1):dt>Ie&&(je||(Xe+=1),je=!0))}return ke===0?{distanceTraveled:null,movementPerMinute:null,stationaryPct:null,movementBurstCount:null}:{distanceTraveled:le,movementPerMinute:z(le,U),stationaryPct:ne/ke*100,movementBurstCount:Xe}};return Qs.forEach(({log:F},U)=>{var Mc;const G=F==null?void 0:F.details;if(!G)return;const q=(Array.isArray(G==null?void 0:G.players)?G.players:[]).filter(Nt=>!(Nt!=null&&Nt.notInSquad));if(q.length===0)return;const te=q.filter(Nt=>!!(Nt!=null&&Nt.hasCommanderTag));if(te.length===0)return;const Q=[...te].sort((Nt,nn)=>{const ji=Array.isArray(Nt==null?void 0:Nt.activeTimes)?Number(Nt.activeTimes[0]||0):0,dr=Array.isArray(nn==null?void 0:nn.activeTimes)?Number(nn.activeTimes[0]||0):0;return dr!==ji?dr-ji:String((Nt==null?void 0:Nt.account)||(Nt==null?void 0:Nt.name)||"").localeCompare(String((nn==null?void 0:nn.account)||(nn==null?void 0:nn.name)||""))})[0];if(!Q)return;const Ie=String((Q==null?void 0:Q.account)||(Q==null?void 0:Q.name)||`Commander ${U+1}`),le=String((Q==null?void 0:Q.name)||""),ne=B((Q==null?void 0:Q.profession)||(Q==null?void 0:Q.name)||"Unknown"),Xe=Math.max(0,Number((G==null?void 0:G.durationMS)||0)),je=G!=null&&G.combatReplayMetaData&&typeof G.combatReplayMetaData=="object"?G.combatReplayMetaData:{},ke=Number((je==null?void 0:je.inchToPixel)||0)>0?Number(je.inchToPixel):1,Ge=Hr(G,F),rt=Ii(G,F),lt=q.length,Ve=Array.isArray(G==null?void 0:G.targets)?G.targets.filter(Nt=>!(Nt!=null&&Nt.isFake)).length:0,Ze=((Mc=Q==null?void 0:Q.defenses)==null?void 0:Mc[0])||{},dt=Math.max(0,Number((Ze==null?void 0:Ze.downCount)||0)),Pt=Math.max(0,Number((Ze==null?void 0:Ze.deadCount)||0)),Rt=Math.max(0,Number((Ze==null?void 0:Ze.damageTaken)||0)),Qt=Math.max(0,Number((Ze==null?void 0:Ze.damageBarrier)||0)),ln=Math.max(0,Number((Ze==null?void 0:Ze.boonStrips)||0)),bn=Math.max(0,Number((Ze==null?void 0:Ze.receivedCrowdControl)||0)),_n=F!=null&&F.dashboardSummary&&typeof F.dashboardSummary=="object"?F.dashboardSummary:null,kn=Array.isArray(G==null?void 0:G.targets)?G.targets.filter(Nt=>!(Nt!=null&&Nt.isFake)):[],vt=Array.isArray(G==null?void 0:G.targets)?G.targets.some(Nt=>!(Nt!=null&&Nt.isFake)):!1,{enemyDeaths:an,enemyDownsDeaths:Fn}=T(G),Ar=vt||q.length>0?an:Math.max(0,Number((_n==null?void 0:_n.enemyDeaths)||0)),Rn=vt||q.length>0?Math.max(0,Fn-an):Math.max(0,Number((_n==null?void 0:_n.enemyDowns)||0)),Vn=xt(kn,"down"),wi=xt(kn,"dead"),ki=xt([Q],"dead"),Xi=q.flatMap(Nt=>ct(Nt,"dead")),ha=kn.flatMap(Nt=>ct(Nt,"dead")),xr=ki!==null?Xi.filter(Nt=>Nt>ki).length:null,Ni=ki!==null&&ha.length>0?ha.filter(Nt=>Nt>ki).length:null,Bn=Vn!==null&&wi!==null&&wi>=Vn?wi-Vn:null,Qa=Rn>0?Ar/Rn*100:null,li=Math.max(0,Rn-Ar),Zs=Vn!==null?Vn<=tt:null,He=Vn!==null?wi===null||wi-Vn>_e:null,Je=ki!==null&&xr!==null&&Ni!==null?xr>Ni:null,Re=ki!==null&&xr!==null&&Ni!==null?Ni>0&&Ni>=xr:null,qe=q.reduce((Nt,nn)=>{var ji,dr;return Nt+Math.max(0,Number(((dr=(ji=nn==null?void 0:nn.defenses)==null?void 0:ji[0])==null?void 0:dr.downCount)||0))},0),et=q.reduce((Nt,nn)=>{var ji,dr;return Nt+Math.max(0,Number(((dr=(ji=nn==null?void 0:nn.defenses)==null?void 0:ji[0])==null?void 0:dr.deadCount)||0))},0),Bt=G!=null&&G.buffMap&&typeof(G==null?void 0:G.buffMap)=="object"?G.buffMap:{},Zt=G!=null&&G.skillMap&&typeof(G==null?void 0:G.skillMap)=="object"?G.skillMap:{},{boonCount:Pn,boonUptimePct:tn}=O(Q,Bt),pa=Ke(Q==null?void 0:Q.totalDamageTaken,Zt,Bt),Pr=we(Q,Bt,Xe),Wr=ye(Q==null?void 0:Q.combatReplayData,Xe,ke),Nn=Math.max(1,Math.ceil(Math.max(1,Xe)/5e3)),Si=bt(Q==null?void 0:Q.powerDamageTaken1S),nr=gt(Si),Do=At(nr,Nn),Vr=(()=>{const Nt=Pr.map(nn=>Array.isArray(nn==null?void 0:nn.buckets5s)?nn.buckets5s:[]).filter(nn=>nn.length>0);return Nt.length===0?Array.from({length:Nn},()=>tn):Array.from({length:Nn},(nn,ji)=>Nt.reduce((Qi,Ps)=>Qi+Number(Ps[ji]||0),0)/Nt.length)})(),Za=$(G),To=Ie;Se.has(To)||Se.set(To,{key:To,account:Ie,characterNames:new Set,primaryProfession:ne,professionTimeMs:{},fights:0,wins:0,losses:0,totalDurationMs:0,totalSquadCount:0,totalEnemyCount:0,totalKills:0,totalDowns:0,totalCommanderDowns:0,totalCommanderDeaths:0,totalAlliesDown:0,totalAlliesDead:0,totalDamageTaken:0,totalIncomingBarrierAbsorbed:0,totalIncomingStrips:0,totalIncomingCC:0,boonWeightedPctMs:0,boonDurationMs:0,boonEntriesSeen:0,incomingSkillMap:new Map,incomingBoonMap:new Map,fightRows:[]});const pn=Se.get(To);le&&pn.characterNames.add(le);const Lu=Array.isArray(Q==null?void 0:Q.activeTimes)&&typeof Q.activeTimes[0]=="number"?Math.max(0,Number(Q.activeTimes[0]||0)):Xe;pn.professionTimeMs[ne]=(pn.professionTimeMs[ne]||0)+Lu,pn.fights+=1,pn.wins+=Za?1:0,pn.losses+=Za?0:1,pn.totalDurationMs+=Xe,pn.totalSquadCount+=lt,pn.totalEnemyCount+=Ve,pn.totalKills+=Ar,pn.totalDowns+=Rn,pn.totalCommanderDowns+=dt,pn.totalCommanderDeaths+=Pt,pn.totalAlliesDown+=qe,pn.totalAlliesDead+=et,pn.totalDamageTaken+=Rt,pn.totalIncomingBarrierAbsorbed+=Qt,pn.totalIncomingStrips+=ln,pn.totalIncomingCC+=bn,pn.boonWeightedPctMs+=tn*Xe,pn.boonDurationMs+=Xe,pn.boonEntriesSeen+=Pn,pa.forEach(Nt=>{const nn=pn.incomingSkillMap.get(Nt.id)||{...Nt,damage:0,hits:0};nn.damage+=Number(Nt.damage||0),nn.hits+=Number(Nt.hits||0),nn.name.startsWith("Skill ")&&!Nt.name.startsWith("Skill ")&&(nn.name=Nt.name),!nn.icon&&Nt.icon&&(nn.icon=Nt.icon),pn.incomingSkillMap.set(Nt.id,nn)}),Pr.forEach(Nt=>{const nn=pn.incomingBoonMap.get(Nt.id)||{id:Nt.id,name:Nt.name,icon:Nt.icon,stacking:Nt.stacking,uptimePctWeightedMs:0,durationMs:0};nn.uptimePctWeightedMs+=Number(Nt.uptimePct||0)*Xe,nn.durationMs+=Xe,!nn.icon&&Nt.icon&&(nn.icon=Nt.icon),pn.incomingBoonMap.set(Nt.id,nn)}),pn.fightRows.push({id:String((F==null?void 0:F.filePath)||(F==null?void 0:F.id)||`fight-${U+1}`),shortLabel:`F${U+1}`,fullLabel:`${rt||(F==null?void 0:F.encounterName)||"Unknown Map"}  ${Hu(Xe)}`,timestamp:Ge,mapName:rt,durationMs:Xe,duration:Hu(Xe),isWin:Za,squadCount:lt,enemyCount:Ve,kills:Ar,downs:Rn,commanderDowns:dt,commanderDeaths:Pt,alliesDown:qe,alliesDead:et,damageTaken:Rt,damageTakenPerMinute:z(Rt,Xe),incomingBarrierAbsorbed:Qt,incomingBarrierAbsorbedPerMinute:z(Qt,Xe),incomingStrips:ln,incomingStripsPerMinute:z(ln,Xe),incomingCC:bn,incomingCCPerMinute:z(bn,Xe),timeToFirstEnemyDownMs:Vn,timeToFirstEnemyDeathMs:wi,downToKillConversionMs:Bn,hadEarlyDown:Zs,wasStalledPush:He,downToKillConversionPct:Qa,failedDownEstimate:li,distanceTraveled:Wr.distanceTraveled,movementPerMinute:Wr.movementPerMinute,stationaryPct:Wr.stationaryPct,movementBurstCount:Wr.movementBurstCount,commanderDiedAtMs:ki,squadDeathsAfterTagDeath:xr,enemyKillsAfterTagDeath:Ni,collapsedAfterTagDeath:Je,recoveredAfterTagDeath:Re,boonUptimePct:tn,boonEntries:Pn,incomingDamageBySkill:pa,incomingBoonUptimes:Pr,incomingDamageBuckets5s:Do,incomingBoonBuckets5s:Vr})}),{rows:Array.from(Se.values()).map(F=>{const U=Object.keys(F.professionTimeMs).filter(vt=>vt&&vt!=="Unknown").sort((vt,an)=>(F.professionTimeMs[an]||0)-(F.professionTimeMs[vt]||0)),G=U[0]||F.primaryProfession||"Unknown",he=F.boonDurationMs>0?F.boonWeightedPctMs/F.boonDurationMs:0,q=F.totalCommanderDeaths>0?F.totalKills/F.totalCommanderDeaths:F.totalKills,te=Math.max(1/60,F.totalDurationMs/6e4),Q=[...F.fightRows].sort((vt,an)=>vt.timestamp>0&&an.timestamp>0&&vt.timestamp!==an.timestamp?vt.timestamp-an.timestamp:vt.shortLabel.localeCompare(an.shortLabel,void 0,{numeric:!0})),Ie=P(Q.map(vt=>vt.timeToFirstEnemyDownMs)),le=P(Q.map(vt=>vt.timeToFirstEnemyDeathMs)),ne=P(Q.map(vt=>vt.downToKillConversionMs)),Xe=W(Q.map(vt=>vt.hadEarlyDown)),je=W(Q.map(vt=>vt.wasStalledPush)),ke=F.totalDowns>0?F.totalKills/F.totalDowns*100:null,Ge=F.fights>0?F.totalKills/F.fights:null,rt=F.fights>0?F.totalDowns/F.fights:null,lt=Math.max(0,F.totalDowns-F.totalKills),Ve=P(Q.map(vt=>vt.distanceTraveled)),Ze=P(Q.map(vt=>vt.movementPerMinute)),dt=P(Q.map(vt=>vt.stationaryPct)),Pt=P(Q.map(vt=>vt.movementBurstCount)),Rt=Q.filter(vt=>vt.commanderDiedAtMs!==null).length,Qt=Q.filter(vt=>vt.commanderDiedAtMs!==null),ln=P(Qt.map(vt=>vt.squadDeathsAfterTagDeath)),bn=P(Qt.map(vt=>vt.enemyKillsAfterTagDeath)),_n=W(Qt.map(vt=>vt.collapsedAfterTagDeath)),kn=W(Qt.map(vt=>vt.recoveredAfterTagDeath));return{key:F.key,account:F.account,characterNames:Array.from(F.characterNames.values()).sort((vt,an)=>vt.localeCompare(an)),profession:G,professionList:U,fights:F.fights,wins:F.wins,losses:F.losses,winRatePct:F.fights>0?F.wins/F.fights*100:0,totalDurationMs:F.totalDurationMs,avgSquadSize:F.fights>0?F.totalSquadCount/F.fights:0,avgEnemySize:F.fights>0?F.totalEnemyCount/F.fights:0,kills:F.totalKills,downs:F.totalDowns,commanderDowns:F.totalCommanderDowns,commanderDeaths:F.totalCommanderDeaths,alliesDown:F.totalAlliesDown,alliesDead:F.totalAlliesDead,kdr:q,damageTaken:F.totalDamageTaken,damageTakenPerMinute:F.totalDamageTaken/te,incomingBarrierAbsorbed:F.totalIncomingBarrierAbsorbed,incomingBarrierAbsorbedPerMinute:F.totalIncomingBarrierAbsorbed/te,incomingStrips:F.totalIncomingStrips,incomingStripsPerMinute:F.totalIncomingStrips/te,incomingCC:F.totalIncomingCC,incomingCCPerMinute:F.totalIncomingCC/te,avgTimeToFirstEnemyDownMs:Ie,avgTimeToFirstEnemyDeathMs:le,avgDownToKillConversionMs:ne,pushesWithEarlyDownPct:Xe,stalledPushPct:je,downToKillConversionPct:ke,avgKillsPerFight:Ge,avgDownsPerFight:rt,failedDownEstimate:lt,avgCommanderDistanceTraveled:Ve,avgCommanderMovementPerMinute:Ze,avgTagStationaryPct:dt,avgTagMovementBurstCount:Pt,fightsWithCommanderDeath:Rt,avgSquadDeathsAfterTagDeath:ln,avgEnemyKillsAfterTagDeath:bn,squadCollapseAfterTagDeathPct:_n,recoveryAfterTagDeathPct:kn,boonUptimePct:he,boonEntries:F.boonEntriesSeen,incomingSkillBreakdown:Array.from(F.incomingSkillMap.values()).sort((vt,an)=>an.damage-vt.damage||an.hits-vt.hits||vt.name.localeCompare(an.name)),incomingBoonBreakdown:Array.from(F.incomingBoonMap.values()).map(vt=>({id:vt.id,name:vt.name,icon:vt.icon,stacking:vt.stacking,uptimePct:vt.durationMs>0?vt.uptimePctWeightedMs/vt.durationMs:0})).sort((vt,an)=>an.uptimePct-vt.uptimePct||vt.name.localeCompare(an.name)),fightsData:Q}}).sort((F,U)=>{const G=Number(U.totalDurationMs||0)-Number(F.totalDurationMs||0);if(G!==0)return G;const he=Number(U.wins||0)-Number(F.wins||0);return he!==0?he:String(F.account||"").localeCompare(String(U.account||""))})}})(),Ir=Qs.map(({log:O},z)=>{const pe=O.details;if(!pe)return null;const Ne=(Array.isArray(pe.players)?pe.players:[]).filter(je=>!je.notInSquad),ut=Array.isArray(pe.targets)?pe.targets:[],Ue=Hr(pe,O),bt=Ii(pe,O),gt=Number(pe.durationMS||0),{squadDownsDeaths:At,enemyDownsDeaths:Ke,squadDeaths:we,enemyDeaths:Se}=T(pe),tt=new Map,_e=(je,ke,Ge)=>{const rt=tt.get(je)||{label:je,damage:0,hits:0};rt.damage+=ke,rt.hits+=Ge,tt.set(je,rt)};if(Ne.forEach(je=>{(Array.isArray(je==null?void 0:je.statsTargets)?je.statsTargets:[]).forEach((Ge,rt)=>{const lt=Array.isArray(Ge)?Ge[0]:Ge,Ve=Number((lt==null?void 0:lt.damage)??(lt==null?void 0:lt.totalDmg)??(lt==null?void 0:lt.connectedDmg)??0),Ze=Number((lt==null?void 0:lt.connectedHits)??(lt==null?void 0:lt.connectedDamageCount)??(lt==null?void 0:lt.hits)??0);if(Ve<=0&&Ze<=0)return;const dt=ut[rt];if(dt!=null&&dt.isFake)return;const Pt=(dt==null?void 0:dt.profession)||(dt==null?void 0:dt.name)||(dt==null?void 0:dt.id)||`Target ${rt+1}`,Rt=B(Pt);_e(Rt||String(Pt),Ve,Ze)})}),tt.size===0){const je=new Map,ke=Ge=>{if(!Array.isArray(Ge)||Ge.length===0)return[];const rt=Ge[0];if(Array.isArray(rt)&&Array.isArray(rt[0])){if(typeof rt[0][0]=="number")return rt;if(Array.isArray(rt[0])&&typeof rt[0][0]=="number")return Ge.map(lt=>Array.isArray(lt)?lt[0]||[]:[])}return[]};Ne.forEach(Ge=>{ke(Ge==null?void 0:Ge.targetDamage1S).forEach((lt,Ve)=>{if(!Array.isArray(lt)||lt.length===0)return;const Ze=lt.map(Pt=>Number(Pt)).filter(Pt=>Number.isFinite(Pt)&&Pt>=0);if(Ze.length===0)return;const dt=Math.max(0,Ze[Ze.length-1]||0);dt<=0||je.set(Ve,(je.get(Ve)||0)+dt)})}),je.forEach((Ge,rt)=>{if(Ge<=0)return;const lt=ut[rt];if(lt!=null&&lt.isFake)return;const Ve=(lt==null?void 0:lt.profession)||(lt==null?void 0:lt.name)||(lt==null?void 0:lt.id)||`Target ${rt+1}`,Ze=B(Ve);_e(Ze||String(Ve),Ge,0)})}if(tt.size===0&&ut.forEach((je,ke)=>{if(je!=null&&je.isFake)return;const Ge=Array.isArray(je==null?void 0:je.totalDamageTaken)?je.totalDamageTaken:Array.isArray(je==null?void 0:je.totalDamageDist)?je.totalDamageDist:[];let rt=0,lt=0;if(Ge.forEach(dt=>{rt+=Number((dt==null?void 0:dt.totalDamage)||(dt==null?void 0:dt.damage)||0),lt+=Number((dt==null?void 0:dt.connectedHits)||(dt==null?void 0:dt.hits)||0)}),rt<=0&&Number((je==null?void 0:je.damageTaken)||0)>0&&(rt=Number(je.damageTaken||0)),rt<=0&&lt<=0)return;const Ve=(je==null?void 0:je.profession)||(je==null?void 0:je.name)||(je==null?void 0:je.id)||`Target ${ke+1}`,Ze=B(Ve);_e(Ze||String(Ve),rt,lt)}),tt.size===0){const je=new Map;ut.forEach((ke,Ge)=>{if(ke!=null&&ke.isFake)return;const rt=(ke==null?void 0:ke.profession)||(ke==null?void 0:ke.name)||(ke==null?void 0:ke.id)||`Target ${Ge+1}`,lt=B(rt)||String(rt);je.set(lt,(je.get(lt)||0)+1)}),je.forEach((ke,Ge)=>{ke>0&&_e(Ge,ke,0)})}const nt=Array.from(tt.values()).sort((je,ke)=>ke.damage-je.damage||ke.hits-je.hits||je.label.localeCompare(ke.label)),ct=nt.reduce((je,ke)=>je+ke.damage,0),xt=nt.map(je=>({label:je.label,damage:je.damage,hits:je.hits,share:ct>0?je.damage/ct:0})),P=ut.filter(je=>!(je!=null&&je.isFake)).length,W=Ne.length,X=Ne.reduce((je,ke)=>{var Ge,rt;return je+Number(((rt=(Ge=ke==null?void 0:ke.dpsAll)==null?void 0:Ge[0])==null?void 0:rt.damage)||0)},0),ye=Ne.reduce((je,ke)=>{var Ge,rt;return je+Number(((rt=(Ge=ke==null?void 0:ke.defenses)==null?void 0:Ge[0])==null?void 0:rt.damageTaken)||0)},0),De=Ne.reduce((je,ke)=>{var Ge,rt;return je+Number(((rt=(Ge=ke==null?void 0:ke.defenses)==null?void 0:Ge[0])==null?void 0:rt.damageBarrier)||0)},0),F=Ne.reduce((je,ke)=>{var lt;const Ge=(lt=ke==null?void 0:ke.extBarrierStats)==null?void 0:lt.outgoingBarrier;if(!Array.isArray(Ge))return je;let rt=0;return Ge.forEach(Ve=>{Array.isArray(Ve)?Ve.forEach(Ze=>{rt+=Number((Ze==null?void 0:Ze.barrier)||0)}):rt+=Number((Ve==null?void 0:Ve.barrier)||0)}),je+rt},0),U=Ne.reduce((je,ke)=>{var Ge,rt;return Number(((rt=(Ge=ke==null?void 0:ke.statsAll)==null?void 0:Ge[0])==null?void 0:rt.saved)||0)>0?je+1:je},0),G=Ne.reduce((je,ke)=>je+Number(SC(ke)||0),0),he=Ne.reduce((je,ke)=>je+Number(jC(ke)||0),0),q=Ne.reduce((je,ke)=>je+Number((ke==null?void 0:ke.stabGeneration)||0),0),te=Ne.reduce((je,ke)=>je+Number(AC(ke)||0),0),Q=Ne.reduce((je,ke)=>je+Number(PC(ke)||0),0),Ie=Ne.reduce((je,ke)=>je+Number(DC(ke)||0),0),le=Ne.reduce((je,ke)=>je+Number(CC(ke)||0),0),ne=we>0?Se/we:Se,Xe=[{metricId:"winFlag",metricLabel:"Win (1) / Loss (0)",higherIsBetter:!0,value:$(pe)?1:0},{metricId:"squadCount",metricLabel:"Squad Size",higherIsBetter:!0,value:W},{metricId:"enemyCount",metricLabel:"Enemy Count",higherIsBetter:!1,value:P},{metricId:"squadKdr",metricLabel:"Squad KDR",higherIsBetter:!0,value:ne},{metricId:"enemyDeaths",metricLabel:"Enemy Deaths",higherIsBetter:!0,value:Se},{metricId:"enemyDowns",metricLabel:"Enemy Downs",higherIsBetter:!0,value:Math.max(0,Ke-Se)},{metricId:"squadDeaths",metricLabel:"Squad Deaths",higherIsBetter:!1,value:we},{metricId:"squadDowns",metricLabel:"Squad Downs",higherIsBetter:!1,value:Math.max(0,At-we)},{metricId:"damageDelta",metricLabel:"Damage Delta",higherIsBetter:!0,value:X-ye},{metricId:"outgoingDamage",metricLabel:"Outgoing Damage",higherIsBetter:!0,value:X},{metricId:"incomingDamage",metricLabel:"Incoming Damage",higherIsBetter:!1,value:ye},{metricId:"cleanses",metricLabel:"Squad Cleanses",higherIsBetter:!0,value:G},{metricId:"strips",metricLabel:"Squad Strips",higherIsBetter:!0,value:he},{metricId:"stability",metricLabel:"Squad Stability",higherIsBetter:!0,value:q},{metricId:"healing",metricLabel:"Squad Healing",higherIsBetter:!0,value:te},{metricId:"barrierOut",metricLabel:"Squad Barrier Out",higherIsBetter:!0,value:Q},{metricId:"barrierIncomingAbsorb",metricLabel:"Barrier Absorption (Incoming)",higherIsBetter:!0,value:De},{metricId:"enemyBarrierAbsorb",metricLabel:"Enemy Barrier Absorption",higherIsBetter:!1,value:F},{metricId:"cc",metricLabel:"Squad CC",higherIsBetter:!0,value:Ie},{metricId:"downContrib",metricLabel:"Squad Down Contribution",higherIsBetter:!0,value:le},{metricId:"alliesRevived",metricLabel:"Allies Revived (Players)",higherIsBetter:!0,value:U}];return{id:O.filePath||O.id||`fight-${z+1}`,shortLabel:`F${z+1}`,fullLabel:`${bt||O.encounterName||"Unknown Map"}  ${Hu(gt)}`,mapName:bt,timestamp:Ue,duration:Hu(gt),isWin:$(pe),targetFocus:xt,squadMetrics:Xe}}).filter(Boolean),Yi=Array.from(I.values()).map(O=>{const z=Object.entries(O.professionTimeMs||{}).map(([pe,ze])=>({profession:pe,timeMs:Number(ze||0)})).filter(pe=>pe.profession&&pe.profession!=="Unknown"&&pe.timeMs>0).sort((pe,ze)=>{const Ne=ze.timeMs-pe.timeMs;return Ne!==0?Ne:pe.profession.localeCompare(ze.profession)});return{account:O.account||"Unknown",characterNames:Array.from(O.characterNames||[]).filter(Boolean).sort((pe,ze)=>pe.localeCompare(ze)),classTimes:z,combatTimeMs:Number(O.squadActiveMs||O.totalFightMs||0),squadTimeMs:(()=>{const pe=Number(O.firstSeenFightTs||0),ze=Number(O.lastSeenFightTs||0),Ne=Math.max(0,Number(O.lastSeenFightDurationMs||0));return pe>0&&ze>0?Math.max(0,ze+Ne-pe):Number(O.squadActiveMs||O.totalFightMs||0)})()}}).filter(O=>O.account&&O.account!=="Unknown").sort((O,z)=>{const pe=z.squadTimeMs-O.squadTimeMs;return pe!==0?pe:String(O.account).localeCompare(String(z.account))}),Ur=o.map(O=>O).sort((O,z)=>Hr(O.details,O)-Hr(z.details,z)).map((O,z)=>{const pe=O==null?void 0:O.details,ze=Array.isArray(pe==null?void 0:pe.players)?pe.players.filter(Ue=>!(Ue!=null&&Ue.notInSquad)):[],Ne=new Map;ze.forEach(Ue=>{const bt=Number(Ue==null?void 0:Ue.group),gt=Number.isFinite(bt)&&bt>0?bt:0;Ne.has(gt)||Ne.set(gt,{party:gt,players:[],classCounts:{}});const At=B((Ue==null?void 0:Ue.profession)||(Ue==null?void 0:Ue.name)||"Unknown"),Ke=String((Ue==null?void 0:Ue.account)||"Unknown"),we=String((Ue==null?void 0:Ue.name)||(Ue==null?void 0:Ue.character_name)||""),Se=!!(Ue!=null&&Ue.hasCommanderTag),tt=Ne.get(gt);tt.players.push({account:Ke,characterName:we,profession:At,isCommander:Se}),tt.classCounts[At]=(tt.classCounts[At]||0)+1});const ut=Array.from(Ne.values()).map(Ue=>({...Ue,players:Ue.players.sort((bt,gt)=>{const At=+!!gt.isCommander-+!!bt.isCommander;if(At!==0)return At;const Ke=String(bt.profession).localeCompare(String(gt.profession));return Ke!==0?Ke:String(bt.account).localeCompare(String(gt.account))})})).sort((Ue,bt)=>Ue.party===0&&bt.party!==0?1:bt.party===0&&Ue.party!==0?-1:Ue.party-bt.party);return{id:String((O==null?void 0:O.filePath)||(O==null?void 0:O.id)||`fight-${z+1}`),label:`F${z+1}`,timestamp:Hr(pe,O),mapName:Ii(pe,O),duration:Hu(Number((pe==null?void 0:pe.durationMS)||0)),parties:ut}}),fa=(O,z)=>{const pe=(z==null?void 0:z.skillMap)||{},ze=(z==null?void 0:z.buffMap)||{};let Ne=0,ut=0,Ue="";const bt=Ke=>{const we=Number(Ke);if(!Number.isFinite(we))return String(Ke||"Unknown Skill");const Se=(pe==null?void 0:pe[`s${we}`])||(pe==null?void 0:pe[`${we}`]);if(Se!=null&&Se.name)return String(Se.name);const tt=(ze==null?void 0:ze[`b${we}`])||(ze==null?void 0:ze[`${we}`]);return tt!=null&&tt.name?String(tt.name):`Skill ${we}`},gt=Ke=>{if(!Ke||typeof Ke!="object")return;const we=[Number(Ke.max),Number(Ke.maxDamage),Number(Ke.maxHit)].filter(_e=>Number.isFinite(_e)),Se=we.length>0?Math.max(...we):0;Se>Ne&&(Ne=Se,Ue=bt(Ke.id));const tt=Number(Ke.downContribution||0);tt>ut&&(ut=tt)};let At=!1;return Array.isArray(O==null?void 0:O.targetDamageDist)&&O.targetDamageDist.forEach(Ke=>{Array.isArray(Ke)&&Ke.forEach(we=>{Array.isArray(we)&&we.forEach(Se=>{At=!0,gt(Se)})})}),(!At||Ne<=0)&&Array.isArray(O==null?void 0:O.totalDamageDist)&&O.totalDamageDist.forEach(Ke=>{Array.isArray(Ke)&&Ke.forEach(we=>gt(we))}),{peak:Ne,peakDownContribution:ut,skillName:Ue||"Unknown Skill"}},Tl=(()=>{const O=_e=>String(_e||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),z=_e=>O(_e).toLowerCase().split(/[^a-z0-9]+/i).map(nt=>nt.trim()).filter(Boolean).map(nt=>nt.length>3&&nt.endsWith("s")?nt.slice(0,-1):nt),pe=(_e,nt)=>{const ct=O(_e),xt=O(nt);if(!xt)return ct;if(!ct)return xt;const P=z(ct),W=z(xt),X=new Set(P),ye=new Set(W),De=W.length>0&&W.every(U=>X.has(U)),F=P.length>0&&P.every(U=>ye.has(U));return De||F?ct:`${ct} - ${xt}`},ze=[],Ne=new Map,ut=_e=>{const nt=De=>{if(!Array.isArray(De)||De.length===0)return[];const F=[];for(let U=0;U<De.length;U+=1){const G=Number(De[U]||0),he=U>0?Number(De[U-1]||0):0;F.push(Math.max(0,G-he))}return F},ct=De=>{if(!Array.isArray(De))return[];const F=De.reduce((G,he)=>Math.max(G,Array.isArray(he)?he.length:0),0);if(F<=0)return[];const U=new Array(F).fill(0);return De.forEach(G=>{if(Array.isArray(G))for(let he=0;he<F;he+=1)U[he]+=Number(G[he]||0)}),U},xt=De=>Array.isArray(De)?De.map(F=>Number(F||0)):null,W=(De=>{if(!Array.isArray(De)||De.length===0)return null;const F=De[0];if(!Array.isArray(F))return null;if(Array.isArray(F[0])&&Array.isArray(F[0][0]))return ct(F);if(Array.isArray(F[0])&&!Array.isArray(F[0][0])){const U=De.map(G=>xt(Array.isArray(G)?G[0]:null)).filter(G=>Array.isArray(G)&&G.length>0);if(U.length>0)return ct(U)}return null})(_e==null?void 0:_e.targetDamage1S),X=Array.isArray(_e==null?void 0:_e.damage1S)&&Array.isArray(_e.damage1S[0])?_e.damage1S[0]:null,ye=W||(Array.isArray(X)?X.map(De=>Number(De||0)):[]);return nt(ye)},Ue=(_e,nt)=>{if(!Array.isArray(_e)||_e.length===0||nt<=0)return 0;let ct=0,xt=0;for(let P=0;P<_e.length;P+=1)ct+=Number(_e[P]||0),P>=nt&&(ct-=Number(_e[P-nt]||0)),P>=nt-1&&ct>xt&&(xt=ct);return Math.max(0,xt)},bt=(_e,nt)=>{if(!Array.isArray(_e)||_e.length===0||nt<=0)return[];const ct=[];for(let xt=0;xt<_e.length;xt+=nt){const P=Math.min(xt+nt,_e.length),W=_e.slice(xt,P).reduce((X,ye)=>X+Number(ye||0),0);ct.push(W)}return ct},gt=(_e,nt)=>{let ct=0,xt=0;const P=new Map,W=ye=>{if(!ye||typeof ye!="object"||ye.indirectDamage)return;const De=Number(ye.totalDamage||0),F=Number(ye.downContribution||0);!Number.isFinite(De)&&!Number.isFinite(F)||(ct+=Number.isFinite(De)?De:0,xt+=Number.isFinite(F)?F:0)};return Array.isArray(_e==null?void 0:_e.targetDamageDist)&&_e.targetDamageDist.forEach(ye=>{Array.isArray(ye)&&ye.forEach(De=>{Array.isArray(De)&&De.forEach(F=>{const U=Number(F==null?void 0:F.id);if(Number.isFinite(U)){const G=P.get(U)||{damage:0,downContribution:0};G.damage+=Number((F==null?void 0:F.totalDamage)||0),G.downContribution+=Number((F==null?void 0:F.downContribution)||0),P.set(U,G)}W(F)})})}),!(nt!=null&&nt.detailedWvW)&&Array.isArray(_e==null?void 0:_e.totalDamageDist)&&_e.totalDamageDist.forEach(ye=>{Array.isArray(ye)&&ye.forEach(De=>{const F=Number(De==null?void 0:De.id);if(!Number.isFinite(F)){W(De);return}const U=P.get(F);if(!U){W(De);return}const G=Number((De==null?void 0:De.totalDamage)||0)-Number(U.damage||0),he=Number((De==null?void 0:De.downContribution)||0)-Number(U.downContribution||0);G<=0&&he<=0||W({...De,totalDamage:Math.max(0,G),downContribution:Math.max(0,he)})})}),{damageTotal:Math.max(0,ct),downContributionTotal:Math.max(0,xt)}},At=(_e,nt)=>{const ct=Number(_e);if(!Number.isFinite(ct))return{name:String(_e||"Unknown Skill"),icon:void 0};const xt=(nt==null?void 0:nt.skillMap)||{},P=(nt==null?void 0:nt.buffMap)||{},W=(xt==null?void 0:xt[`s${ct}`])||(xt==null?void 0:xt[`${ct}`]);if(W!=null&&W.name)return{name:String(W.name),icon:W==null?void 0:W.icon};const X=(P==null?void 0:P[`b${ct}`])||(P==null?void 0:P[`${ct}`]);return X!=null&&X.name?{name:String(X.name),icon:X==null?void 0:X.icon}:{name:`Skill ${ct}`,icon:void 0}},Ke=_e=>Array.isArray(_e)?_e.map(nt=>Array.isArray(nt)?[Number(nt[0]),Number(nt[1])]:nt&&typeof nt=="object"?[Number(nt.time),Number(nt.value)]:null).filter(nt=>!!nt&&Number.isFinite(nt[0])&&nt[0]>=0):[],we=(_e,nt,ct,xt,P)=>{if(!_e.length||xt<=0)return[];const W=Math.max(xt*5e3,P||0),X=te=>te.reduce((Q,Ie)=>Ie>=0&&Ie<=W+2e3?Q+1:Q,0),ye=_e.map(te=>Number(te||0)).filter(te=>Number.isFinite(te)&&te>=0);if(!ye.length)return[];const De=[ye],F=ye.reduce((te,Q)=>Math.max(te,Q),0),U=ye.reduce((te,Q)=>Math.min(te,Q),Number.POSITIVE_INFINITY);F>W*20&&De.push(ye.map(te=>te/1e3)),F<=W*2&&U>=0&&F>0&&F<Math.max(120,xt*5+10)&&De.push(ye.map(te=>te*1e3));let G=ye,he=0,q=-1;return De.forEach(te=>{const Q=te.reduce((le,ne)=>Math.min(le,ne),Number.POSITIVE_INFINITY),Ie=new Set([0,...nt,...ct]);if(Number.isFinite(Q)&&W>0&&Q>W){const le=Math.floor(Q/W)*W;Ie.add(le),Ie.add(Math.max(0,le-W))}Ie.forEach(le=>{const ne=te.map(je=>je-le),Xe=X(ne);Xe>q&&(q=Xe,he=le,G=te)})}),G.map(te=>te-he).filter(te=>Number.isFinite(te)&&te>=0)},Se=(_e,nt,ct,xt,P)=>{const W=we(_e,nt,ct,xt,P);return Array.from(new Set(W.map(X=>Math.floor(X/5e3)).filter(X=>Number.isFinite(X)&&X>=0&&X<xt)))};o.map(_e=>({log:_e,ts:Hr(_e==null?void 0:_e.details,_e)})).sort((_e,nt)=>_e.ts-nt.ts).forEach(({log:_e},nt)=>{const ct=_e==null?void 0:_e.details;if(!ct)return;const xt=O(ct.fightName||_e.fightName||`Fight ${nt+1}`),P=Ii(ct,_e),W=pe(xt,String(P||"")),X={},ye=Array.isArray(ct.players)?ct.players:[],De=ye.flatMap(le=>{const ne=le==null?void 0:le.combatReplayData;return Array.isArray(ne)?ne.map(Xe=>Number(Xe==null?void 0:Xe.start)):[Number(ne==null?void 0:ne.start)]}).filter(le=>Number.isFinite(le)&&le>=0);ye.forEach(le=>{if(le!=null&&le.notInSquad)return;const ne=String((le==null?void 0:le.account)||(le==null?void 0:le.name)||"Unknown"),Xe=String((le==null?void 0:le.character_name)||(le==null?void 0:le.display_name)||(le==null?void 0:le.name)||""),je=String((le==null?void 0:le.profession)||"Unknown"),ke=`${ne}|${je}`,Ge=fa(le,ct),rt=Number(Ge.peak||0),lt=Number(Ge.peakDownContribution||0),Ve=ut(le),{damageTotal:Ze,downContributionTotal:dt}=gt(le,ct),Pt=Ze>0?Math.min(1,Math.max(0,dt/Ze)):0,Rt=Ve.map(Re=>Number(Re||0)*Pt),Qt=Number(Ue(Ve,1)||0),ln=Number(Ue(Ve,5)||0),bn=Number(Ue(Ve,30)||0),_n=Number(Ue(Rt,1)||0),kn=Number(Ue(Rt,5)||0),vt=Number(Ue(Rt,30)||0),an=Math.max(0,Math.ceil(Number((ct==null?void 0:ct.durationMS)||0)/5e3)),Fn=Math.max(0,Math.ceil(Ve.length/5)),Ar=Math.max(0,Math.ceil(Rt.length/5)),Rn=Math.max(an,Fn,Ar),Vn=bt(Ve,5),wi=bt(Rt,5),ki=Array.from({length:Rn},(Re,qe)=>Number(Vn[qe]||0)),Xi=Array.from({length:Rn},(Re,qe)=>Number(wi[qe]||0)),ha=new Map,xr=Re=>{if(!Re||typeof Re!="object"||Re.indirectDamage)return;const qe=Number(Re.totalDamage||0),et=Number(Re.downContribution||0);if((!Number.isFinite(qe)||qe<=0)&&(!Number.isFinite(et)||et<=0))return;const Bt=Number(Re.connectedHits||Re.hits||0),Zt=At(Re.id,ct),Pn=Zt.name,tn=ha.get(Pn)||{skillName:Pn,damage:0,downContribution:0,hits:0,icon:Zt.icon};tn.damage+=Number.isFinite(qe)?qe:0,tn.downContribution+=Number.isFinite(et)?et:0,tn.hits+=Number.isFinite(Bt)?Bt:0,!tn.icon&&Zt.icon&&(tn.icon=Zt.icon),ha.set(Pn,tn)},Ni=new Map;Array.isArray(le==null?void 0:le.targetDamageDist)&&le.targetDamageDist.forEach(Re=>{Array.isArray(Re)&&Re.forEach(qe=>{Array.isArray(qe)&&qe.forEach(et=>{const Bt=Number(et==null?void 0:et.id),Zt=Number((et==null?void 0:et.totalDamage)||0),Pn=Number((et==null?void 0:et.downContribution)||0);if(Number.isFinite(Bt)){const tn=Ni.get(Bt)||{damage:0,downContribution:0,hits:0};tn.damage+=Number.isFinite(Zt)?Zt:0,tn.downContribution+=Number.isFinite(Pn)?Pn:0,tn.hits+=Number((et==null?void 0:et.connectedHits)||(et==null?void 0:et.hits)||0),Ni.set(Bt,tn)}xr(et)})})}),!(ct!=null&&ct.detailedWvW)&&Array.isArray(le==null?void 0:le.totalDamageDist)&&le.totalDamageDist.forEach(Re=>{Array.isArray(Re)&&Re.forEach(qe=>{const et=Number(qe==null?void 0:qe.id);if(!Number.isFinite(et)){xr(qe);return}const Bt=Ni.get(et);if(!Bt){xr(qe);return}const Zt=Number((qe==null?void 0:qe.totalDamage)||0),Pn=Number((qe==null?void 0:qe.downContribution)||0),tn=Number((qe==null?void 0:qe.connectedHits)||(qe==null?void 0:qe.hits)||0),pa=Zt-Number(Bt.damage||0),Pr=Pn-Number(Bt.downContribution||0),Wr=tn-Number(Bt.hits||0);pa<=0&&Pr<=0&&Wr<=0||xr({...qe,totalDamage:Math.max(0,pa),downContribution:Math.max(0,Pr),connectedHits:Math.max(0,Wr),hits:Math.max(0,Wr)})})});const Qa=(()=>{const Re=le==null?void 0:le.combatReplayData;return Array.isArray(Re)?Re.filter(qe=>qe&&typeof qe=="object"):Re&&typeof Re=="object"?[Re]:[]})(),li=Qa.map(Re=>Number(Re==null?void 0:Re.start)).filter(Re=>Number.isFinite(Re)&&Re>=0),Zs=Qa.flatMap(Re=>Ke(Re==null?void 0:Re.down).map(([qe])=>Number(qe||0))),He=Qa.flatMap(Re=>Ke(Re==null?void 0:Re.dead).map(([qe])=>Number(qe||0)));X[ke]={hit:rt,burst1s:Qt,burst5s:ln,burst30s:bn,hitDown:lt,burst1sDown:_n,burst5sDown:kn,burst30sDown:vt,skillName:Ge.skillName,buckets5s:ki,buckets5sDown:Xi,downIndices5s:Se(Zs,li,De,Rn,Number((ct==null?void 0:ct.durationMS)||0)),deathIndices5s:Se(He,li,De,Rn,Number((ct==null?void 0:ct.durationMS)||0)),skillRows:Array.from(ha.values()).sort((Re,qe)=>qe.damage-Re.damage).slice(0,50)};const Je=Ne.get(ke)||{key:ke,account:ne,displayName:ne,characterName:Xe,profession:je,professionList:[je],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};Je.logs+=1,Je.professionList.includes(je)||Je.professionList.push(je),!Je.characterName&&Xe&&(Je.characterName=Xe),rt>Je.peakHit&&(Je.peakHit=rt,Je.peakFightLabel=W,Je.peakSkillName=Ge.skillName),Qt>Je.peak1s&&(Je.peak1s=Qt),ln>Je.peak5s&&(Je.peak5s=ln),bn>Je.peak30s&&(Je.peak30s=bn),lt>Je.peakHitDown&&(Je.peakHitDown=lt),_n>Je.peak1sDown&&(Je.peak1sDown=_n),kn>Je.peak5sDown&&(Je.peak5sDown=kn),vt>Je.peak30sDown&&(Je.peak30sDown=vt),Ne.set(ke,Je)});const F=Object.values(X).reduce((le,ne)=>Math.max(le,Number((ne==null?void 0:ne.hit)||0)),0),U=Object.values(X).reduce((le,ne)=>Math.max(le,Number((ne==null?void 0:ne.burst1s)||0)),0),G=Object.values(X).reduce((le,ne)=>Math.max(le,Number((ne==null?void 0:ne.burst5s)||0)),0),he=Object.values(X).reduce((le,ne)=>Math.max(le,Number((ne==null?void 0:ne.burst30s)||0)),0),q=Object.values(X).reduce((le,ne)=>Math.max(le,Number((ne==null?void 0:ne.hitDown)||0)),0),te=Object.values(X).reduce((le,ne)=>Math.max(le,Number((ne==null?void 0:ne.burst1sDown)||0)),0),Q=Object.values(X).reduce((le,ne)=>Math.max(le,Number((ne==null?void 0:ne.burst5sDown)||0)),0),Ie=Object.values(X).reduce((le,ne)=>Math.max(le,Number((ne==null?void 0:ne.burst30sDown)||0)),0);ze.push({id:_e.filePath||_e.id||`fight-${nt+1}`,shortLabel:`F${nt+1}`,fullLabel:W,timestamp:Hr(ct,_e),values:X,maxHit:F,max1s:U,max5s:G,max30s:he,maxHitDown:q,max1sDown:te,max5sDown:Q,max30sDown:Ie})});const tt=Array.from(Ne.values()).sort((_e,nt)=>nt.peakHit!==_e.peakHit?nt.peakHit-_e.peakHit:_e.displayName.localeCompare(nt.displayName));return{fights:ze,players:tt}})(),ma=(()=>{const O=P=>String(P||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),z=P=>O(P).toLowerCase().split(/[^a-z0-9]+/i).map(W=>W.trim()).filter(Boolean).map(W=>W.length>3&&W.endsWith("s")?W.slice(0,-1):W),pe=(P,W)=>{const X=O(P),ye=O(W);if(!ye)return X;if(!X)return ye;const De=z(X),F=z(ye),U=new Set(De),G=new Set(F),he=F.length>0&&F.every(te=>U.has(te)),q=De.length>0&&De.every(te=>G.has(te));return he||q?X:`${X} - ${ye}`},ze=[],Ne=new Map,ut=(P,W)=>{const X=Number(P);if(!Number.isFinite(X))return{name:String(P||"Unknown Skill"),icon:void 0};const ye=(W==null?void 0:W.skillMap)||{},De=(W==null?void 0:W.buffMap)||{},F=(ye==null?void 0:ye[`s${X}`])||(ye==null?void 0:ye[`${X}`]);if(F!=null&&F.name)return{name:String(F.name),icon:F==null?void 0:F.icon};const U=(De==null?void 0:De[`b${X}`])||(De==null?void 0:De[`${X}`]);return U!=null&&U.name?{name:String(U.name),icon:U==null?void 0:U.icon}:{name:`Skill ${X}`,icon:void 0}},Ue=(P,W)=>{let X=0,ye="";const De=F=>{if(!F||typeof F!="object"||F.indirectDamage)return;const U=[Number(F.max),Number(F.maxDamage),Number(F.maxHit)].filter(he=>Number.isFinite(he)),G=U.length>0?Math.max(...U):0;G>X&&(X=G,ye=ut(F.id,W).name)};return Array.isArray(P==null?void 0:P.totalDamageDist)&&P.totalDamageDist.forEach(F=>{Array.isArray(F)&&F.forEach(U=>De(U))}),Array.isArray(P==null?void 0:P.targetDamageDist)&&P.targetDamageDist.forEach(F=>{Array.isArray(F)&&F.forEach(U=>{Array.isArray(U)&&U.forEach(G=>De(G))})}),{peak:X,skillName:ye||"Unknown Skill"}},bt=P=>{if(!Array.isArray(P)||P.length===0)return[];const W=[];for(let X=0;X<P.length;X+=1){const ye=Number(P[X]||0),De=X>0?Number(P[X-1]||0):0;W.push(Math.max(0,ye-De))}return W},gt=P=>{if(!Array.isArray(P)||P.length===0)return[];const W=P.reduce((ye,De)=>Math.max(ye,Array.isArray(De)?De.length:0),0);if(W<=0)return[];const X=new Array(W).fill(0);return P.forEach(ye=>{if(Array.isArray(ye))for(let De=0;De<W;De+=1)X[De]+=Number(ye[De]||0)}),X},At=P=>{if(!Array.isArray(P)||P.length===0)return[];const W=P[0];if(typeof W=="number")return P.map(X=>Number(X||0));if(Array.isArray(W)&&W.length>0){if(typeof W[0]=="number")return W.map(X=>Number(X||0));if(Array.isArray(W[0])){const X=W.map(ye=>Array.isArray(ye)?ye.map(De=>Number(De||0)):null).filter(ye=>Array.isArray(ye)&&ye.length>0);if(X.length>0)return gt(X)}}return[]},Ke=P=>{const W=At(P==null?void 0:P.powerDamage1S),X=At(P==null?void 0:P.damage1S),ye=W.length>0?W:X;return bt(ye)},we=(P,W)=>{const X=P==null?void 0:P.targetPowerDamage1S;if(!Array.isArray(X)||!Array.isArray(X[W]))return[];const ye=X[W];if(!Array.isArray(ye)||ye.length===0)return[];if(typeof ye[0]=="number")return ye.map(De=>Number(De||0));if(Array.isArray(ye[0])&&!Array.isArray(ye[0][0]))return ye[0].map(De=>Number(De||0));if(Array.isArray(ye[0])&&Array.isArray(ye[0][0])){const F=ye[0].map(U=>Array.isArray(U)?U.map(G=>Number(G||0)):null).filter(U=>Array.isArray(U)&&U.length>0);return gt(F)}return[]},Se=(P,W)=>{if(!Array.isArray(P)||P.length===0||W<=0)return 0;let X=0,ye=0;for(let De=0;De<P.length;De+=1)X+=Number(P[De]||0),De>=W&&(X-=Number(P[De-W]||0)),De>=W-1&&X>ye&&(ye=X);return Math.max(0,ye)},tt=(P,W)=>{if(!Array.isArray(P)||P.length===0||W<=0)return[];const X=[];for(let ye=0;ye<P.length;ye+=W){const De=Math.min(ye+W,P.length),F=P.slice(ye,De).reduce((U,G)=>U+Number(G||0),0);X.push(F)}return X},_e=P=>Array.isArray(P)?P.map(W=>Array.isArray(W)?[Number(W[0]),Number(W[1])]:W&&typeof W=="object"?[Number(W.time),Number(W.value)]:null).filter(W=>!!W&&Number.isFinite(W[0])&&W[0]>=0):[],nt=(P,W,X,ye,De)=>{if(!P.length||ye<=0)return[];const F=Math.max(ye*5e3,De||0),U=ne=>ne.reduce((Xe,je)=>je>=0&&je<=F+2e3?Xe+1:Xe,0),G=P.map(ne=>Number(ne||0)).filter(ne=>Number.isFinite(ne)&&ne>=0);if(!G.length)return[];const he=[G],q=G.reduce((ne,Xe)=>Math.max(ne,Xe),0),te=G.reduce((ne,Xe)=>Math.min(ne,Xe),Number.POSITIVE_INFINITY);q>F*20&&he.push(G.map(ne=>ne/1e3)),q<=F*2&&te>=0&&q>0&&q<Math.max(120,ye*5+10)&&he.push(G.map(ne=>ne*1e3));let Q=G,Ie=0,le=-1;return he.forEach(ne=>{const Xe=ne.reduce((ke,Ge)=>Math.min(ke,Ge),Number.POSITIVE_INFINITY),je=new Set([0,...W,...X]);if(Number.isFinite(Xe)&&F>0&&Xe>F){const ke=Math.floor(Xe/F)*F;je.add(ke),je.add(Math.max(0,ke-F))}je.forEach(ke=>{const Ge=ne.map(lt=>lt-ke),rt=U(Ge);rt>le&&(le=rt,Ie=ke,Q=ne)})}),Q.map(ne=>ne-Ie).filter(ne=>Number.isFinite(ne)&&ne>=0)},ct=(P,W,X,ye,De)=>{const F=nt(P,W,X,ye,De);return Array.from(new Set(F.map(U=>Math.floor(U/5e3)).filter(U=>Number.isFinite(U)&&U>=0&&U<ye)))};o.map(P=>({log:P,ts:Hr(P==null?void 0:P.details,P)})).sort((P,W)=>P.ts-W.ts).forEach(({log:P},W)=>{const X=P==null?void 0:P.details;if(!X)return;const ye=O(X.fightName||P.fightName||`Fight ${W+1}`),De=Ii(X,P),F=pe(ye,String(De||"")),U={},he=(Array.isArray(X.players)?X.players:[]).filter(Ve=>!(Ve!=null&&Ve.notInSquad)),q=he.flatMap(Ve=>{const Ze=Ve==null?void 0:Ve.combatReplayData;return Array.isArray(Ze)?Ze.map(dt=>Number(dt==null?void 0:dt.start)):[Number(Ze==null?void 0:Ze.start)]}).filter(Ve=>Number.isFinite(Ve)&&Ve>=0),te=he.flatMap(Ve=>{const Ze=Ve==null?void 0:Ve.combatReplayData;return(Array.isArray(Ze)?Ze:Ze?[Ze]:[]).flatMap(Pt=>_e(Pt==null?void 0:Pt.down).map(([Rt])=>Number(Rt||0)))}),Q=he.flatMap(Ve=>{const Ze=Ve==null?void 0:Ve.combatReplayData;return(Array.isArray(Ze)?Ze:Ze?[Ze]:[]).flatMap(Pt=>_e(Pt==null?void 0:Pt.dead).map(([Rt])=>Number(Rt||0)))}),Ie=new Map,le=new Map,ne=new Map;(Array.isArray(X.targets)?X.targets:[]).forEach((Ve,Ze)=>{if(!Ve||Ve.isFake||!Ve.enemyPlayer)return;const dt=B((Ve==null?void 0:Ve.profession)||(Ve==null?void 0:Ve.name)||(Ve==null?void 0:Ve.id))||"Unknown";ne.set(dt,(ne.get(dt)||0)+1);const Pt=le.get(dt)||new Map;Array.isArray(Ve==null?void 0:Ve.totalDamageDist)&&Ve.totalDamageDist.forEach(kn=>{Array.isArray(kn)&&kn.forEach(vt=>{if(!vt||typeof vt!="object"||vt.indirectDamage)return;const an=Number(vt.totalDamage||0);if(!Number.isFinite(an)||an<=0)return;const Fn=Number(vt.connectedHits||vt.hits||0),Ar=ut(vt.id,X),Rn=Ar.name,Vn=Pt.get(Rn)||{skillName:Rn,damage:0,hits:0,icon:Ar.icon};Vn.damage+=an,Vn.hits+=Number.isFinite(Fn)?Fn:0,!Vn.icon&&Ar.icon&&(Vn.icon=Ar.icon),Pt.set(Rn,Vn)})}),le.set(dt,Pt);const Rt=gt(he.map(kn=>we(kn,Ze))),Qt=Rt.length>0?bt(Rt):Ke(Ve),ln=Ue(Ve,X);let bn=Ie.get(dt);bn||(bn={perSecond:[],hit:0,skillName:""},Ie.set(dt,bn)),Qt.length>bn.perSecond.length&&(bn.perSecond.length=Qt.length);for(let kn=0;kn<Qt.length;kn+=1)bn.perSecond[kn]=Number(bn.perSecond[kn]||0)+Number(Qt[kn]||0);const _n=Number(ln.peak||0);_n>bn.hit&&(bn.hit=_n,bn.skillName=ln.skillName||"Unknown Skill")});const je=Array.from(Ie.values()).some(Ve=>Array.isArray(Ve.perSecond)&&Ve.perSecond.some(Ze=>Number(Ze||0)>0));if(Ie.size===0||!je){const Ve=gt(he.map(dt=>{const Pt=At(dt==null?void 0:dt.powerDamageTaken1S);return bt(Pt)})),Ze=Array.from(ne.values()).reduce((dt,Pt)=>dt+Number(Pt||0),0);Ve.length>0&&Ze>0&&ne.forEach((dt,Pt)=>{const Rt=Number(dt||0)/Ze,Qt=Ve.map(bn=>Number(bn||0)*Rt),ln=Ie.get(Pt);Ie.set(Pt,{perSecond:Qt,hit:Number((ln==null?void 0:ln.hit)||0),skillName:String((ln==null?void 0:ln.skillName)||"")})})}Ie.forEach((Ve,Ze)=>{var Ar;const dt=Ze,Pt=Number(Ve.hit||0),Rt=Number(Se(Ve.perSecond,1)||0),Qt=Number(Se(Ve.perSecond,5)||0),ln=Number(Se(Ve.perSecond,30)||0),bn=Math.max(0,Math.ceil(Number((X==null?void 0:X.durationMS)||0)/5e3)),_n=Math.max(0,Math.ceil(Ve.perSecond.length/5)),kn=Math.max(bn,_n),vt=tt(Ve.perSecond,5),an=Array.from({length:kn},(Rn,Vn)=>Number(vt[Vn]||0));U[dt]={hit:Pt,burst1s:Rt,burst5s:Qt,burst30s:ln,skillName:Ve.skillName||"Unknown Skill",buckets5s:an,downIndices5s:ct(te,[],q,kn,Number((X==null?void 0:X.durationMS)||0)),deathIndices5s:ct(Q,[],q,kn,Number((X==null?void 0:X.durationMS)||0)),skillRows:Array.from(((Ar=le.get(Ze))==null?void 0:Ar.values())||[]).sort((Rn,Vn)=>Vn.damage-Rn.damage).slice(0,50)};const Fn=Ne.get(dt)||{key:dt,account:Ze,displayName:Ze,characterName:"",profession:Ze,professionList:[Ze],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakFightLabel:"",peakSkillName:""};Fn.logs+=1,Pt>Fn.peakHit&&(Fn.peakHit=Pt,Fn.peakFightLabel=F,Fn.peakSkillName=Ve.skillName||"Unknown Skill"),Rt>Fn.peak1s&&(Fn.peak1s=Rt),Qt>Fn.peak5s&&(Fn.peak5s=Qt),ln>Fn.peak30s&&(Fn.peak30s=ln),Ne.set(dt,Fn)});const ke=Object.values(U).reduce((Ve,Ze)=>Math.max(Ve,Number((Ze==null?void 0:Ze.hit)||0)),0),Ge=Object.values(U).reduce((Ve,Ze)=>Math.max(Ve,Number((Ze==null?void 0:Ze.burst1s)||0)),0),rt=Object.values(U).reduce((Ve,Ze)=>Math.max(Ve,Number((Ze==null?void 0:Ze.burst5s)||0)),0),lt=Object.values(U).reduce((Ve,Ze)=>Math.max(Ve,Number((Ze==null?void 0:Ze.burst30s)||0)),0);ze.push({id:P.filePath||P.id||`fight-${W+1}`,shortLabel:`F${W+1}`,fullLabel:F,timestamp:Hr(X,P),values:U,maxHit:ke,max1s:Ge,max5s:rt,max30s:lt})});const xt=Array.from(Ne.values()).sort((P,W)=>W.peakHit!==P.peakHit?W.peakHit-P.peakHit:P.displayName.localeCompare(W.displayName));return{fights:ze,players:xt}})(),Xa=Array.from(D.entries()).map(([O,z])=>{const pe=_.get(O)||{},ze=Array.from(z.values()).map(Ne=>{var Se,tt;const ut=Array.from(Ne.professions||[]).filter(_e=>_e&&_e!=="Unknown");let Ue=Ne.profession||"Unknown";if(ut.length>0){Ue=ut[0];let _e=((Se=Ne.professionTimeMs)==null?void 0:Se[Ue])||0;ut.forEach(nt=>{var xt;const ct=((xt=Ne.professionTimeMs)==null?void 0:xt[nt])||0;ct>_e&&(_e=ct,Ue=nt)})}const bt=Ne.durationMs||0,gt=Ne.totalMs/1e3,At=bt>0?Ne.totalMs/bt:0,Ke=((tt=I.get(Ne.account))==null?void 0:tt.supportActiveMs)||bt,we=Ke>0?Ne.uptimeMs/Ke:0;return{account:Ne.account,profession:Ue,professionList:ut,total:gt,perSecond:At,uptimePerSecond:we,duration:bt/1e3}}).filter(Ne=>Ne.total>0||Ne.perSecond>0);return{id:O,name:pe.name||O,icon:pe.icon,rows:ze}}).filter(O=>O.rows.length>0),Po=Array.from(Oe.values()).map(O=>{const z=Array.from(O.skills.values()).sort((ze,Ne)=>Ne.damage-ze.damage),pe={key:O.key,account:O.account,displayName:O.displayName,profession:O.profession,professionList:O.professionList,totalFightMs:O.totalFightMs,skills:z};return p&&(pe.skillMap=z.reduce((ze,Ne)=>(ze[Ne.id]=Ne,ze),{})),pe}).sort((O,z)=>O.displayName.localeCompare(z.displayName));return{total:b,wins:y,losses:w,avgSquadSize:Ee,avgEnemies:ot,squadKDR:Ce,enemyKDR:Kt,totalSquadKills:C,totalSquadDeaths:k,totalEnemyKills:R,totalEnemyDeaths:E,leaderboards:fn,...jo,outgoingConditionSummary:Object.values(fe).sort((O,z)=>z.damage-O.damage),incomingConditionSummary:Object.values(Z).sort((O,z)=>z.damage-O.damage),outgoingConditionPlayers:Array.from(I.values()).map(O=>({account:O.account,profession:O.profession,professionList:O.professionList,conditions:O.outgoingConditions})),incomingConditionPlayers:Array.from(I.values()).map(O=>({account:O.account,profession:O.profession,professionList:O.professionList,conditions:O.incomingConditions})),topSkills:Gi,topIncomingSkills:ua,topSkillsByDamage:Tc,topSkillsByDownContribution:Cs,playerSkillBreakdowns:Po,topSkillsMetric:v,mapData:As,timelineData:_u,boonTables:Da,boonTimeline:Iu,boonUptimeTimeline:Al,offensePlayers:Array.from(I.values()).map(O=>({account:O.account,profession:O.profession,professionList:O.professionList,offenseTotals:O.offenseTotals,offenseRateWeights:O.offenseRateWeights,totalFightMs:O.totalFightMs})),defensePlayers:Array.from(I.values()).map(O=>({account:O.account,profession:O.profession,professionList:O.professionList,defenseTotals:O.defenseTotals,activeMs:O.defenseActiveMs,minionDamageTakenByMinion:O.defenseMinionDamageTaken})),damageMitigationPlayers:Gt,damageMitigationMinions:wn,supportPlayers:Array.from(I.values()).map(O=>({account:O.account,profession:O.profession,professionList:O.professionList,supportTotals:O.supportTotals,activeMs:O.supportActiveMs})),healingPlayers:Array.from(I.values()).map(O=>({account:O.account,profession:O.profession,professionList:O.professionList,healingTotals:O.healingTotals,activeMs:O.healingActiveMs})),mvp:Ki,silver:Co,bronze:jl,squadClassData:Pl,enemyClassData:Or,fightBreakdown:Dl,commanderStats:da,fightDiffMode:Ir,attendanceData:Yi,squadCompByFight:Ur,spikeDamage:Tl,incomingStrikeDamage:ma,specialTables:Xa,topStatsPerSecond:In,topStatsLeaderboardsPerSecond:cr,avgMvpScore:Cl}})(),h=(()=>{const m=new Map,p=new Map,x=[],v=new Map,b=new Map;o.forEach(w=>{const N=w.details;if(!N)return;const j=N.skillMap||{},k=N.fightName||"Log",C=Hr(N,w)||Date.now(),E={id:w.filePath||w.id||k,label:k,timestamp:C,skillEntries:{},playerActiveSeconds:{},durationSeconds:N.durationMS?N.durationMS/1e3:0};(N.players||[]).forEach(T=>{if(T.notInSquad)return;const $=T.account||T.name||"Unknown",I=T.profession||"Unknown",re=`${$}|${I}`;let ce=p.get(re);ce||(ce={key:re,account:$,displayName:$,profession:I,professionList:[I],logs:0,totalActiveSeconds:0,skillTotals:{}},p.set(re,ce)),ce.logs++;const ve=(Array.isArray(T.activeTimes)?T.activeTimes[0]:0)/1e3;ce.totalActiveSeconds=(ce.totalActiveSeconds||0)+ve,E.playerActiveSeconds[re]=ve,(T.rotation||[]).forEach(Oe=>{var D,ue,S;if(!(Oe!=null&&Oe.id))return;const fe=((D=Oe.skills)==null?void 0:D.length)||0;if(fe<=0)return;const Z=`s${Oe.id}`,xe=((ue=j[Z])==null?void 0:ue.name)||`Skill ${Oe.id}`,_=(S=j[Z])==null?void 0:S.icon;ce.skillTotals[Z]=(ce.skillTotals[Z]||0)+fe,m.set(Z,(m.get(Z)||0)+fe),v.set(Z,xe),_&&!b.has(Z)&&b.set(Z,_),E.skillEntries[Z]||(E.skillEntries[Z]={name:xe,icon:_,players:{}}),!E.skillEntries[Z].icon&&_&&(E.skillEntries[Z].icon=_),E.skillEntries[Z].players[re]=(E.skillEntries[Z].players[re]||0)+fe})}),x.push(E)});const y=Array.from(m.entries()).map(([w,N])=>({id:w,name:v.get(w)||w,total:N,icon:b.get(w)})).sort((w,N)=>N.total-w.total);return{logRecords:x,players:Array.from(p.values()),skillOptions:y,resUtilitySkills:[]}})();return{validLogs:o,stats:f,skillUsageData:h}},wW=({logs:e,stats:t,skillUsageData:n,activeStatsViewSettings:r,uiTheme:i,embedded:a,onWebUpload:s})=>{const[o,c]=g.useState({uploading:!1,message:null,url:null}),[u,d]=g.useState("idle"),f=()=>{const x=new Set;let v=null,b=null;e.forEach(T=>{const $=T.details;if(!$)return;const I=$.timeStartStd||$.timeStart||$.uploadTime||T.uploadTime,re=$.timeEndStd||$.timeEnd||$.uploadTime||T.uploadTime,ce=I?new Date(I):null,ve=re?new Date(re):null;ce&&!Number.isNaN(ce.getTime())&&(!v||ce<v)&&(v=ce),ve&&!Number.isNaN(ve.getTime())&&(!b||ve>b)&&(b=ve),($.players||[]).forEach(fe=>{if(!(fe!=null&&fe.notInSquad)&&fe!=null&&fe.hasCommanderTag){const Z=(fe==null?void 0:fe.name)||(fe==null?void 0:fe.account)||"Unknown";x.add(Z)}})});const y=Array.from(x).sort((T,$)=>T.localeCompare($)),w=v||new Date,N=b||w,j=w.toISOString(),k=N.toISOString(),C=`${w.toLocaleString()} - ${N.toLocaleString()}`,E=T=>String(T).padStart(2,"0");return{id:`${w.getFullYear()}${E(w.getMonth()+1)}${E(w.getDate())}-${E(w.getHours())}${E(w.getMinutes())}${E(w.getSeconds())}-${Math.random().toString(36).slice(2,6)}`,title:y.length?y.join(", "):"Unknown Commander",commanders:y,dateStart:j,dateEnd:k,dateLabel:C,generatedAt:new Date().toISOString()}},h=()=>{var v;const x={...t,skillUsageData:n,statsViewSettings:r,uiTheme:i};if(Array.isArray(x.fightDiffMode)&&x.fightDiffMode.length>0||!Array.isArray(e)||e.length===0)return x;try{const b=Yf({logs:e,statsViewSettings:r}),y=(v=b==null?void 0:b.stats)==null?void 0:v.fightDiffMode;if(Array.isArray(y)&&y.length>0)return{...x,fightDiffMode:y}}catch{}return x};return{devMockUploadState:o,setDevMockUploadState:c,webCopyStatus:u,setWebCopyStatus:d,handleWebUpload:async()=>{if(!a&&s)try{const x=f(),v=h();await s({meta:x,stats:v})}catch(x){console.error("[StatsView] Web upload failed:",x)}},handleDevMockUpload:async()=>{var x;if(!(a||!((x=window.electronAPI)!=null&&x.mockWebReport))){c({uploading:!0,message:"Preparing local report...",url:null});try{const v=f(),b=h(),y=await window.electronAPI.mockWebReport({meta:v,stats:b});y!=null&&y.success?c({uploading:!1,message:"Local report ready.",url:y.url||null}):c({uploading:!1,message:(y==null?void 0:y.error)||"Local report failed.",url:null})}catch(v){c({uploading:!1,message:(v==null?void 0:v.message)||"Local report failed.",url:null})}}}}};function kW(e,t){if(e.match(/^[a-z]+:\/\//i))return e;if(e.match(/^\/\//))return window.location.protocol+e;if(e.match(/^[a-z]+:/i))return e;const n=document.implementation.createHTMLDocument(),r=n.createElement("base"),i=n.createElement("a");return n.head.appendChild(r),n.body.appendChild(i),t&&(r.href=t),i.href=e,i.href}const NW=(()=>{let e=0;const t=()=>`0000${(Math.random()*36**4<<0).toString(36)}`.slice(-4);return()=>(e+=1,`u${t()}${e}`)})();function uc(e){const t=[];for(let n=0,r=e.length;n<r;n++)t.push(e[n]);return t}let qu=null;function fI(e={}){return qu||(e.includeStyleProperties?(qu=e.includeStyleProperties,qu):(qu=uc(window.getComputedStyle(document.documentElement)),qu))}function Xg(e,t){const r=(e.ownerDocument.defaultView||window).getComputedStyle(e).getPropertyValue(t);return r?parseFloat(r.replace("px","")):0}function SW(e){const t=Xg(e,"border-left-width"),n=Xg(e,"border-right-width");return e.clientWidth+t+n}function jW(e){const t=Xg(e,"border-top-width"),n=Xg(e,"border-bottom-width");return e.clientHeight+t+n}function mI(e,t={}){const n=t.width||SW(e),r=t.height||jW(e);return{width:n,height:r}}function CW(){let e,t;try{t=process}catch{}const n=t&&t.env?t.env.devicePixelRatio:null;return n&&(e=parseInt(n,10),Number.isNaN(e)&&(e=1)),e||window.devicePixelRatio||1}const Ea=16384;function AW(e){(e.width>Ea||e.height>Ea)&&(e.width>Ea&&e.height>Ea?e.width>e.height?(e.height*=Ea/e.width,e.width=Ea):(e.width*=Ea/e.height,e.height=Ea):e.width>Ea?(e.height*=Ea/e.width,e.width=Ea):(e.width*=Ea/e.height,e.height=Ea))}function Qg(e){return new Promise((t,n)=>{const r=new Image;r.onload=()=>{r.decode().then(()=>{requestAnimationFrame(()=>t(r))})},r.onerror=n,r.crossOrigin="anonymous",r.decoding="async",r.src=e})}async function PW(e){return Promise.resolve().then(()=>new XMLSerializer().serializeToString(e)).then(encodeURIComponent).then(t=>`data:image/svg+xml;charset=utf-8,${t}`)}async function DW(e,t,n){const r="http://www.w3.org/2000/svg",i=document.createElementNS(r,"svg"),a=document.createElementNS(r,"foreignObject");return i.setAttribute("width",`${t}`),i.setAttribute("height",`${n}`),i.setAttribute("viewBox",`0 0 ${t} ${n}`),a.setAttribute("width","100%"),a.setAttribute("height","100%"),a.setAttribute("x","0"),a.setAttribute("y","0"),a.setAttribute("externalResourcesRequired","true"),i.appendChild(a),a.appendChild(e),PW(i)}const Na=(e,t)=>{if(e instanceof t)return!0;const n=Object.getPrototypeOf(e);return n===null?!1:n.constructor.name===t.name||Na(n,t)};function TW(e){const t=e.getPropertyValue("content");return`${e.cssText} content: '${t.replace(/'|"/g,"")}';`}function MW(e,t){return fI(t).map(n=>{const r=e.getPropertyValue(n),i=e.getPropertyPriority(n);return`${n}: ${r}${i?" !important":""};`}).join(" ")}function EW(e,t,n,r){const i=`.${e}:${t}`,a=n.cssText?TW(n):MW(n,r);return document.createTextNode(`${i}{${a}}`)}function MC(e,t,n,r){const i=window.getComputedStyle(e,n),a=i.getPropertyValue("content");if(a===""||a==="none")return;const s=NW();try{t.className=`${t.className} ${s}`}catch{return}const o=document.createElement("style");o.appendChild(EW(s,n,i,r)),t.appendChild(o)}function OW(e,t,n){MC(e,t,":before",n),MC(e,t,":after",n)}const EC="application/font-woff",OC="image/jpeg",IW={woff:EC,woff2:EC,ttf:"application/font-truetype",eot:"application/vnd.ms-fontobject",png:"image/png",jpg:OC,jpeg:OC,gif:"image/gif",tiff:"image/tiff",svg:"image/svg+xml",webp:"image/webp"};function _W(e){const t=/\.([^./]*?)$/g.exec(e);return t?t[1]:""}function nN(e){const t=_W(e).toLowerCase();return IW[t]||""}function LW(e){return e.split(/,/)[1]}function bw(e){return e.search(/^(data:)/)!==-1}function $W(e,t){return`data:${t};base64,${e}`}async function hI(e,t,n){const r=await fetch(e,t);if(r.status===404)throw new Error(`Resource "${r.url}" not found`);const i=await r.blob();return new Promise((a,s)=>{const o=new FileReader;o.onerror=s,o.onloadend=()=>{try{a(n({res:r,result:o.result}))}catch(c){s(c)}},o.readAsDataURL(i)})}const xv={};function FW(e,t,n){let r=e.replace(/\?.*/,"");return n&&(r=e),/ttf|otf|eot|woff2?/i.test(r)&&(r=r.replace(/.*\//,"")),t?`[${t}]${r}`:r}async function rN(e,t,n){const r=FW(e,t,n.includeQueryParams);if(xv[r]!=null)return xv[r];n.cacheBust&&(e+=(/\?/.test(e)?"&":"?")+new Date().getTime());let i;try{const a=await hI(e,n.fetchRequestInit,({res:s,result:o})=>(t||(t=s.headers.get("Content-Type")||""),LW(o)));i=$W(a,t)}catch(a){i=n.imagePlaceholder||"";let s=`Failed to fetch resource: ${e}`;a&&(s=typeof a=="string"?a:a.message),s&&console.warn(s)}return xv[r]=i,i}async function RW(e){const t=e.toDataURL();return t==="data:,"?e.cloneNode(!1):Qg(t)}async function BW(e,t){if(e.currentSrc){const a=document.createElement("canvas"),s=a.getContext("2d");a.width=e.clientWidth,a.height=e.clientHeight,s==null||s.drawImage(e,0,0,a.width,a.height);const o=a.toDataURL();return Qg(o)}const n=e.poster,r=nN(n),i=await rN(n,r,t);return Qg(i)}async function zW(e,t){var n;try{if(!((n=e==null?void 0:e.contentDocument)===null||n===void 0)&&n.body)return await jx(e.contentDocument.body,t,!0)}catch{}return e.cloneNode(!1)}async function UW(e,t){return Na(e,HTMLCanvasElement)?RW(e):Na(e,HTMLVideoElement)?BW(e,t):Na(e,HTMLIFrameElement)?zW(e,t):e.cloneNode(pI(e))}const WW=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SLOT",pI=e=>e.tagName!=null&&e.tagName.toUpperCase()==="SVG";async function VW(e,t,n){var r,i;if(pI(t))return t;let a=[];return WW(e)&&e.assignedNodes?a=uc(e.assignedNodes()):Na(e,HTMLIFrameElement)&&(!((r=e.contentDocument)===null||r===void 0)&&r.body)?a=uc(e.contentDocument.body.childNodes):a=uc(((i=e.shadowRoot)!==null&&i!==void 0?i:e).childNodes),a.length===0||Na(e,HTMLVideoElement)||await a.reduce((s,o)=>s.then(()=>jx(o,n)).then(c=>{c&&t.appendChild(c)}),Promise.resolve()),t}function HW(e,t,n){const r=t.style;if(!r)return;const i=window.getComputedStyle(e);i.cssText?(r.cssText=i.cssText,r.transformOrigin=i.transformOrigin):fI(n).forEach(a=>{let s=i.getPropertyValue(a);a==="font-size"&&s.endsWith("px")&&(s=`${Math.floor(parseFloat(s.substring(0,s.length-2)))-.1}px`),Na(e,HTMLIFrameElement)&&a==="display"&&s==="inline"&&(s="block"),a==="d"&&t.getAttribute("d")&&(s=`path(${t.getAttribute("d")})`),r.setProperty(a,s,i.getPropertyPriority(a))})}function qW(e,t){Na(e,HTMLTextAreaElement)&&(t.innerHTML=e.value),Na(e,HTMLInputElement)&&t.setAttribute("value",e.value)}function KW(e,t){if(Na(e,HTMLSelectElement)){const n=t,r=Array.from(n.children).find(i=>e.value===i.getAttribute("value"));r&&r.setAttribute("selected","")}}function GW(e,t,n){return Na(t,Element)&&(HW(e,t,n),OW(e,t,n),qW(e,t),KW(e,t)),t}async function YW(e,t){const n=e.querySelectorAll?e.querySelectorAll("use"):[];if(n.length===0)return e;const r={};for(let a=0;a<n.length;a++){const o=n[a].getAttribute("xlink:href");if(o){const c=e.querySelector(o),u=document.querySelector(o);!c&&u&&!r[o]&&(r[o]=await jx(u,t,!0))}}const i=Object.values(r);if(i.length){const a="http://www.w3.org/1999/xhtml",s=document.createElementNS(a,"svg");s.setAttribute("xmlns",a),s.style.position="absolute",s.style.width="0",s.style.height="0",s.style.overflow="hidden",s.style.display="none";const o=document.createElementNS(a,"defs");s.appendChild(o);for(let c=0;c<i.length;c++)o.appendChild(i[c]);e.appendChild(s)}return e}async function jx(e,t,n){return!n&&t.filter&&!t.filter(e)?null:Promise.resolve(e).then(r=>UW(r,t)).then(r=>VW(e,r,t)).then(r=>GW(e,r,t)).then(r=>YW(r,t))}const gI=/url\((['"]?)([^'"]+?)\1\)/g,XW=/url\([^)]+\)\s*format\((["']?)([^"']+)\1\)/g,QW=/src:\s*(?:url\([^)]+\)\s*format\([^)]+\)[,;]\s*)+/g;function ZW(e){const t=e.replace(/([.*+?^${}()|\[\]\/\\])/g,"\\$1");return new RegExp(`(url\\(['"]?)(${t})(['"]?\\))`,"g")}function JW(e){const t=[];return e.replace(gI,(n,r,i)=>(t.push(i),n)),t.filter(n=>!bw(n))}async function eV(e,t,n,r,i){try{const a=n?kW(t,n):t,s=nN(t);let o;return i||(o=await rN(a,s,r)),e.replace(ZW(t),`$1${o}$3`)}catch{}return e}function tV(e,{preferredFontFormat:t}){return t?e.replace(QW,n=>{for(;;){const[r,,i]=XW.exec(n)||[];if(!i)return"";if(i===t)return`src: ${r};`}}):e}function xI(e){return e.search(gI)!==-1}async function bI(e,t,n){if(!xI(e))return e;const r=tV(e,n);return JW(r).reduce((a,s)=>a.then(o=>eV(o,s,t,n)),Promise.resolve(r))}async function Ku(e,t,n){var r;const i=(r=t.style)===null||r===void 0?void 0:r.getPropertyValue(e);if(i){const a=await bI(i,null,n);return t.style.setProperty(e,a,t.style.getPropertyPriority(e)),!0}return!1}async function nV(e,t){await Ku("background",e,t)||await Ku("background-image",e,t),await Ku("mask",e,t)||await Ku("-webkit-mask",e,t)||await Ku("mask-image",e,t)||await Ku("-webkit-mask-image",e,t)}async function rV(e,t){const n=Na(e,HTMLImageElement);if(!(n&&!bw(e.src))&&!(Na(e,SVGImageElement)&&!bw(e.href.baseVal)))return;const r=n?e.src:e.href.baseVal,i=await rN(r,nN(r),t);await new Promise((a,s)=>{e.onload=a,e.onerror=t.onImageErrorHandler?(...c)=>{try{a(t.onImageErrorHandler(...c))}catch(u){s(u)}}:s;const o=e;o.decode&&(o.decode=a),o.loading==="lazy"&&(o.loading="eager"),n?(e.srcset="",e.src=i):e.href.baseVal=i})}async function iV(e,t){const r=uc(e.childNodes).map(i=>vI(i,t));await Promise.all(r).then(()=>e)}async function vI(e,t){Na(e,Element)&&(await nV(e,t),await rV(e,t),await iV(e,t))}function aV(e,t){const{style:n}=e;t.backgroundColor&&(n.backgroundColor=t.backgroundColor),t.width&&(n.width=`${t.width}px`),t.height&&(n.height=`${t.height}px`);const r=t.style;return r!=null&&Object.keys(r).forEach(i=>{n[i]=r[i]}),e}const IC={};async function _C(e){let t=IC[e];if(t!=null)return t;const r=await(await fetch(e)).text();return t={url:e,cssText:r},IC[e]=t,t}async function LC(e,t){let n=e.cssText;const r=/url\(["']?([^"')]+)["']?\)/g,a=(n.match(/url\([^)]+\)/g)||[]).map(async s=>{let o=s.replace(r,"$1");return o.startsWith("https://")||(o=new URL(o,e.url).href),hI(o,t.fetchRequestInit,({result:c})=>(n=n.replace(s,`url(${c})`),[s,c]))});return Promise.all(a).then(()=>n)}function $C(e){if(e==null)return[];const t=[],n=/(\/\*[\s\S]*?\*\/)/gi;let r=e.replace(n,"");const i=new RegExp("((@.*?keyframes [\\s\\S]*?){([\\s\\S]*?}\\s*?)})","gi");for(;;){const c=i.exec(r);if(c===null)break;t.push(c[0])}r=r.replace(i,"");const a=/@import[\s\S]*?url\([^)]*\)[\s\S]*?;/gi,s="((\\s*?(?:\\/\\*[\\s\\S]*?\\*\\/)?\\s*?@media[\\s\\S]*?){([\\s\\S]*?)}\\s*?})|(([\\s\\S]*?){([\\s\\S]*?)})",o=new RegExp(s,"gi");for(;;){let c=a.exec(r);if(c===null){if(c=o.exec(r),c===null)break;a.lastIndex=o.lastIndex}else o.lastIndex=a.lastIndex;t.push(c[0])}return t}async function sV(e,t){const n=[],r=[];return e.forEach(i=>{if("cssRules"in i)try{uc(i.cssRules||[]).forEach((a,s)=>{if(a.type===CSSRule.IMPORT_RULE){let o=s+1;const c=a.href,u=_C(c).then(d=>LC(d,t)).then(d=>$C(d).forEach(f=>{try{i.insertRule(f,f.startsWith("@import")?o+=1:i.cssRules.length)}catch(h){console.error("Error inserting rule from remote css",{rule:f,error:h})}})).catch(d=>{console.error("Error loading remote css",d.toString())});r.push(u)}})}catch(a){const s=e.find(o=>o.href==null)||document.styleSheets[0];i.href!=null&&r.push(_C(i.href).then(o=>LC(o,t)).then(o=>$C(o).forEach(c=>{s.insertRule(c,s.cssRules.length)})).catch(o=>{console.error("Error loading remote stylesheet",o)})),console.error("Error inlining remote css file",a)}}),Promise.all(r).then(()=>(e.forEach(i=>{if("cssRules"in i)try{uc(i.cssRules||[]).forEach(a=>{n.push(a)})}catch(a){console.error(`Error while reading CSS rules from ${i.href}`,a)}}),n))}function oV(e){return e.filter(t=>t.type===CSSRule.FONT_FACE_RULE).filter(t=>xI(t.style.getPropertyValue("src")))}async function lV(e,t){if(e.ownerDocument==null)throw new Error("Provided element is not within a Document");const n=uc(e.ownerDocument.styleSheets),r=await sV(n,t);return oV(r)}function yI(e){return e.trim().replace(/["']/g,"")}function cV(e){const t=new Set;function n(r){(r.style.fontFamily||getComputedStyle(r).fontFamily).split(",").forEach(a=>{t.add(yI(a))}),Array.from(r.children).forEach(a=>{a instanceof HTMLElement&&n(a)})}return n(e),t}async function uV(e,t){const n=await lV(e,t),r=cV(e);return(await Promise.all(n.filter(a=>r.has(yI(a.style.fontFamily))).map(a=>{const s=a.parentStyleSheet?a.parentStyleSheet.href:null;return bI(a.cssText,s,t)}))).join(`
`)}async function dV(e,t){const n=t.fontEmbedCSS!=null?t.fontEmbedCSS:t.skipFonts?null:await uV(e,t);if(n){const r=document.createElement("style"),i=document.createTextNode(n);r.appendChild(i),e.firstChild?e.insertBefore(r,e.firstChild):e.appendChild(r)}}async function fV(e,t={}){const{width:n,height:r}=mI(e,t),i=await jx(e,t,!0);return await dV(i,t),await vI(i,t),aV(i,t),await DW(i,n,r)}async function mV(e,t={}){const{width:n,height:r}=mI(e,t),i=await fV(e,t),a=await Qg(i),s=document.createElement("canvas"),o=s.getContext("2d"),c=t.pixelRatio||CW(),u=t.canvasWidth||n,d=t.canvasHeight||r;return s.width=u*c,s.height=d*c,t.skipAutoScale||AW(s),s.style.width=`${u}`,s.style.height=`${d}`,t.backgroundColor&&(o.fillStyle=t.backgroundColor,o.fillRect(0,0,s.width,s.height)),o.drawImage(a,0,0,s.width,s.height),s}async function hV(e,t={}){return(await mV(e,t)).toDataURL()}const pV=e=>{const[t,n]=g.useState(!1),r=async s=>{var d;if(!((d=window.electronAPI)!=null&&d.fetchImageAsDataUrl))return s();const o=window.fetch.bind(window),c=globalThis.fetch.bind(globalThis),u=async(f,h)=>{const m=typeof f=="string"?f:f instanceof URL?f.toString():f.url;if(/^https?:\/\//i.test(m)){const p=await window.electronAPI.fetchImageAsDataUrl(m);if(p!=null&&p.success&&p.dataUrl)return o(p.dataUrl)}return o(f,h)};window.fetch=u,globalThis.fetch=u;try{return await s()}finally{window.fetch=o,globalThis.fetch=c}},i=async s=>{var h;if(!((h=window.electronAPI)!=null&&h.fetchImageAsDataUrl))return()=>{};const o=new Map,c=[],u=async m=>{if(o.has(m))return o.get(m)||null;const p=await window.electronAPI.fetchImageAsDataUrl(m);return p!=null&&p.success&&p.dataUrl?(o.set(m,p.dataUrl),p.dataUrl):(o.set(m,""),null)},d=Array.from(s.querySelectorAll("img"));await Promise.all(d.map(async m=>{var y;const p=m.currentSrc||m.src;if(!p||p.startsWith("data:")||p.startsWith("blob:")||p.startsWith("file:"))return;const x=await u(p);if(!x)return;const v=m.src,b=m.srcset;m.src=x,m.srcset="",c.push(()=>{m.src=v,m.srcset=b});try{await((y=m.decode)==null?void 0:y.call(m))}catch{}}));const f=Array.from(s.querySelectorAll("*"));return await Promise.all(f.map(async m=>{const x=window.getComputedStyle(m).backgroundImage;if(!x||x==="none"||!x.includes("url("))return;const v=Array.from(x.matchAll(/url\(["']?(https?:\/\/[^"')]+)["']?\)/g));if(!v.length)return;let b=x,y=!1;for(const N of v){const j=N[1];if(!j)continue;const k=await u(j);k&&(b=b.replace(N[0],`url("${k}")`),y=!0)}if(!y)return;const w=m.style.backgroundImage;m.style.backgroundImage=b,c.push(()=>{m.style.backgroundImage=w})})),()=>{c.forEach(m=>m())}};return{sharing:t,setSharing:n,handleShare:async()=>{var o;if(e||!((o=window.electronAPI)!=null&&o.sendStatsScreenshot))return;n(!0);const s=document.getElementById("stats-dashboard-container");if(s)try{await new Promise(x=>setTimeout(x,100));const c=Array.from(s.querySelectorAll(".stats-share-exclude"));s.classList.add("stats-share-mode"),c.forEach(x=>{x.dataset.prevDisplay=x.style.display,x.style.display="none"});let u;const d=await i(s);try{const x=s.scrollWidth,v=s.scrollHeight;u=await r(()=>hV(s,{backgroundColor:"#10141b",quality:.95,pixelRatio:2,cacheBust:!0,width:x,height:v,style:{overflow:"visible",maxHeight:"none",height:"auto"}}))}finally{d(),s.classList.remove("stats-share-mode"),c.forEach(x=>{x.style.display=x.dataset.prevDisplay||"",delete x.dataset.prevDisplay})}const m=await(await(await fetch(u)).blob()).arrayBuffer(),p=new Uint8Array(m);window.electronAPI.sendStatsScreenshot(p)}catch(c){console.error("Failed to capture stats:",c)}setTimeout(()=>n(!1),2e3)}}},Xf=(e,t)=>{const n={};return t.forEach(r=>{e&&Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}),n},gV=e=>!!(e&&e.__statsPruned===!0),FC=(e,t)=>{if(!e||typeof e!="object")return e;const n={};return Object.entries(e).forEach(([r,i])=>{if(!i||typeof i!="object")return;const a={};typeof i.name=="string"&&(a.name=i.name),typeof i.icon=="string"&&(a.icon=i.icon),t!=null&&t.includeClassification&&typeof i.classification=="string"&&(a.classification=i.classification),t!=null&&t.includeStacking&&(typeof i.stacking=="boolean"?a.stacking=i.stacking:typeof i.stacking=="number"&&(a.stacking=!!i.stacking)),Object.keys(a).length>0&&(n[r]=a)}),n},RC=e=>{var n;const t=(n=e==null?void 0:e.statsAll)==null?void 0:n[0];return!t||typeof t!="object"?!1:t.distToCom!==void 0&&t.distToCom!=="Infinity"||t.stackDist!==void 0},BC=(e,t)=>{const n=r=>{if(!r||typeof r!="object")return null;const i=Xf(r,["start","down","dead"]);return t&&Array.isArray(r.positions)&&(i.positions=r.positions),i};return Array.isArray(e)?e.map(r=>n(r)).filter(r=>!!r):e&&typeof e=="object"?n(e):e},zC=e=>{if(!e||typeof e!="object")return e;const t=Xf(e,["players","targets","durationMS","uploadTime","timeStart","timeStartStd","timeEnd","timeEndStd","fightName","zone","mapName","map","location","permalink","uploadLinks","success","teamBreakdown","teamCounts","combatReplayMetaData","skillMap","buffMap","encounterDuration","player_damage_mitigation","player_minion_damage_mitigation","playerDamageMitigation","playerMinionDamageMitigation"]);if(t.skillMap=FC(t.skillMap,{includeClassification:!1,includeStacking:!1}),t.buffMap=FC(t.buffMap,{includeClassification:!0,includeStacking:!0}),Array.isArray(t.players)){const n=e.players,i=n.filter(a=>!(a!=null&&a.notInSquad)).some(a=>!(a!=null&&a.hasCommanderTag)&&!RC(a));t.players=n.map(a=>{const s=Xf(a,["name","display_name","character_name","profession","elite_spec","group","dpsAll","statsAll","dpsTargets","statsTargets","defenses","support","rotation","extHealingStats","extBarrierStats","squadBuffVolumes","selfBuffs","groupBuffs","squadBuffs","selfBuffsActive","groupBuffsActive","squadBuffsActive","buffUptimes","totalDamageDist","targetDamageDist","damage1S","targetDamage1S","powerDamageTaken1S","targetPowerDamage1S","totalDamageTaken","totalDamageTakenDist","hasCommanderTag","notInSquad","account","activeTimes","teamID","teamId","team","teamColor","team_color"]),o=Array.isArray(a==null?void 0:a.minions)?a.minions:[];s.minions=o.map(u=>Xf(u,["name","totalDamageTakenDist"]));const c=(a==null?void 0:a.hasCommanderTag)&&!(a!=null&&a.notInSquad)||i&&!(a!=null&&a.notInSquad)&&!RC(a);return s.combatReplayData=BC(a==null?void 0:a.combatReplayData,c),s})}return Array.isArray(t.targets)&&(t.targets=t.targets.map(n=>{const r=Xf(n,["id","name","isFake","dpsAll","statsAll","defenses","totalHealth","healthPercentBurned","enemyPlayer","totalDamageDist","totalDamageTaken","totalDamageTakenDist","damageTaken","powerDamage1S","damage1S","profession","teamID","teamId","team","teamColor","team_color"]);return r.combatReplayData=BC(n==null?void 0:n.combatReplayData,!1),r})),t},xV=e=>{if(!e||typeof e!="object"||gV(e))return e;const t={...e};return e.details?t.details=zC(e.details):t.details=zC(e),t.__statsPruned=!0,t},bV=({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})=>{const s=e.length>8,[o,c]=g.useState(()=>Yf(typeof Worker<"u"&&s?{logs:[],precomputedStats:void 0,mvpWeights:n,statsViewSettings:r,disruptionMethod:i}:{logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:r,disruptionMethod:i})),[u,d]=g.useState(0),[f,h]=g.useState(0),[m,p]=g.useState(0),[x,v]=g.useState(0),[b,y]=g.useState(null),w=g.useRef(0),[N,j]=g.useState(0),k=g.useRef(null),C=g.useRef(null),[E,R]=g.useState(!1),T=g.useRef(null),$=g.useRef(null),I=g.useRef(0),re=g.useRef(0),ce=g.useRef(new Map),ve=g.useRef(""),Oe=g.useRef(void 0),fe=g.useRef(""),Z=g.useRef(0),[xe,_]=g.useState({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),[D,ue]=g.useState(null),S=g.useRef(0),Y=()=>{if(T.current!==null&&(window.clearTimeout(T.current),T.current=null),$.current!==null){const J=window.cancelIdleCallback;typeof J=="function"&&J($.current),$.current=null}},B=(J,ae)=>{const V=String((J==null?void 0:J.filePath)||(J==null?void 0:J.id)||`idx-${ae}`),be=J!=null&&J.details&&typeof J.details=="object"?J.details:null,ie=ce.current.get(V);if(ie&&(be&&ie.sourceDetails===be||!be&&ie.sourceLog===J))return ie.pruned;const me=xV(J);return ce.current.set(V,{sourceLog:J,sourceDetails:be,pruned:me}),me},ee=g.useMemo(()=>{if(!r){ve.current="",Oe.current=void 0;return}const J={...r};delete J.topSkillsMetric;const ae=JSON.stringify(J);return ve.current!==ae&&(ve.current=ae,Oe.current=J),Oe.current},[r]);g.useEffect(()=>{if(!(typeof Worker>"u")&&!E&&s)return C.current||(C.current=new Worker(new URL(""+new URL("statsWorker-DVYJmnje.js",import.meta.url).href,import.meta.url),{type:"module"}),C.current.onmessage=J=>{var ae;if(((ae=J.data)==null?void 0:ae.type)==="result"){const V=typeof J.data.token=="number"?J.data.token:null;if(V!==null&&V!==w.current)return;g.startTransition(()=>{var Ye;c(J.data.result),typeof J.data.computeId=="number"?d(J.data.computeId):d(Qe=>Qe+1),typeof J.data.logCount=="number"&&h(J.data.logCount),typeof J.data.token=="number"&&p(J.data.token),typeof J.data.completedAt=="number"&&v(J.data.completedAt),typeof J.data.flushId=="number"&&y(J.data.flushId);const be=V===null||V===w.current,ie=Z.current,me=typeof J.data.logCount=="number"?J.data.logCount:0;if(be){const Qe=typeof J.data.completedAt=="number"?J.data.completedAt:Date.now(),yt=((Ye=J.data)==null?void 0:Ye.diagnostics)||{},$e=Math.max(0,Number(yt.computeMs||0)),Ae=S.current>0?S.current:Qe,Ee=Math.max(0,Qe-Ae),ot=Math.max(0,Ee-$e);ue({mode:"worker",logsInPayload:Number(yt.logsInPayload||J.data.logCount||0),streamedLogs:Number(J.data.logCount||0),totalLogs:ie,startedAt:Ae,completedAt:Qe,streamMs:ot,computeMs:$e,totalMs:Ee,flushId:typeof J.data.flushId=="number"?J.data.flushId:null,transferStripStats:yt.transferStripStats,counts:yt.counts,expectedLogCount:Number(yt.expectedLogCount||0),droppedLogMessages:Number(yt.droppedLogMessages||0)})}be&&me>=ie&&_(Qe=>({...Qe,active:ie>0,phase:ie>0?"settled":"idle",streamed:ie,total:ie,completedAt:typeof J.data.completedAt=="number"?J.data.completedAt:Date.now()}))})}},C.current.onerror=J=>{var ae;console.warn("[StatsWorker] Worker error. Falling back to main thread.",J),(ae=C.current)==null||ae.terminate(),C.current=null,R(!0)},C.current.onmessageerror=J=>{var ae;console.warn("[StatsWorker] Worker message error. Falling back to main thread.",J),(ae=C.current)==null||ae.terminate(),C.current=null,R(!0)},k.current!==null&&C.current.postMessage({type:"flush",flushId:k.current,token:w.current})),()=>{var J;re.current+=1,Y(),(J=C.current)==null||J.terminate(),C.current=null}},[E,s]),g.useEffect(()=>{var V;if(!C.current||E||!s)return;const J=re.current+1;re.current=J;let ae=!1;try{Z.current=e.length,S.current=Date.now(),ue(null),_({active:e.length>0,phase:e.length>0?"streaming":"idle",streamed:0,total:e.length,startedAt:Date.now(),completedAt:0});const be=w.current+1;w.current=be,j(be);const ie=new Set;e.forEach((Ae,Ee)=>{ie.add(String((Ae==null?void 0:Ae.filePath)||(Ae==null?void 0:Ae.id)||`idx-${Ee}`))}),ce.current.forEach((Ae,Ee)=>{ie.has(Ee)||ce.current.delete(Ee)}),Y(),C.current.postMessage({type:"reset",token:be,totalLogs:e.length}),C.current.postMessage({type:"settings",token:be,payload:{precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}});let me=0;const Ye=e.length,Qe=(Ae,Ee=!1)=>{const ot=performance.now();if(!Ee&&ot-I.current<120&&me<Ye)return;I.current=ot;const Ce=Math.min(me,Ye);_(Kt=>Kt.active===Ye>0&&Kt.phase===Ae&&Kt.streamed===Ce&&Kt.total===Ye?Kt:{...Kt,active:Ye>0,phase:Ae,streamed:Ce,total:Ye})},yt=()=>{if(ae||re.current!==J||!C.current)return;const Ae=window.requestIdleCallback;if(typeof Ae=="function"){$.current=Ae(Ee=>{$.current=null,$e(Ee)},{timeout:120});return}T.current=window.setTimeout(()=>{T.current=null,$e()},0)},$e=Ae=>{if(ae||re.current!==J||!C.current)return;const Ee=!!(Ae&&typeof Ae.timeRemaining=="function"),ot=Ee?Math.max(0,Number(Ae.timeRemaining()||0)):0,Ce=Ee?ot>12?4:ot>7?2:1:1;let Kt=0;for(;Kt<Ce&&me<Ye;)C.current.postMessage({type:"log",token:be,payload:B(e[me],me)}),me+=1,Kt+=1;me<Ye?(Qe("streaming"),yt()):(Qe("computing",!0),C.current.postMessage({type:"flush",token:be}))};I.current=0,Ye<=0?(Qe("computing",!0),C.current.postMessage({type:"flush",token:be})):(Qe("streaming",!0),yt())}catch(be){console.warn("[StatsWorker] Failed to postMessage payload. Falling back to main thread.",be),Y(),(V=C.current)==null||V.terminate(),C.current=null,R(!0),_({active:!1,phase:"idle",streamed:0,total:0,startedAt:0,completedAt:0}),ue(null)}return()=>{ae=!0,Y()}},[e,t,n,ee,i,s,E]);const de=g.useMemo(()=>{if(!E&&typeof Worker<"u"&&s)return null;const J=Date.now(),ae=performance.now(),V=Yf({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}),be=Math.max(0,performance.now()-ae),ie=Date.now();return{result:V,computeMs:be,startedAt:J,completedAt:ie}},[E,e,t,n,ee,i,s]),oe=g.useMemo(()=>{if(!E&&typeof Worker<"u"&&s)return"worker";const J=e[0],ae=e[e.length-1];return JSON.stringify({logCount:e.length,firstLogPath:(J==null?void 0:J.filePath)||(J==null?void 0:J.name)||"",lastLogPath:(ae==null?void 0:ae.filePath)||(ae==null?void 0:ae.name)||"",precomputedTotal:Number((t==null?void 0:t.total)||0),precomputedUpdatedAt:String((t==null?void 0:t.updatedAt)||""),disruptionMethod:i||null,settingsKey:ve.current})},[E,s,e,t,i]);g.useEffect(()=>{if(!E&&typeof Worker<"u"&&s||fe.current===oe)return;fe.current=oe,d(ae=>ae+1),h(e.length),p(w.current);const J=Date.now();v(J),ue({mode:"fallback",logsInPayload:e.length,streamedLogs:e.length,totalLogs:e.length,startedAt:(de==null?void 0:de.startedAt)||J,completedAt:J,streamMs:0,computeMs:Math.max(0,Number((de==null?void 0:de.computeMs)||0)),totalMs:Math.max(0,Number((de==null?void 0:de.computeMs)||0)),flushId:null})},[oe,de,E,e.length,s]);const H=E||typeof Worker>"u"||!s?(de==null?void 0:de.result)??Yf({logs:e,precomputedStats:t,mvpWeights:n,statsViewSettings:ee,disruptionMethod:i}):o,K=!E&&typeof Worker<"u"&&s?xe:{active:!1,phase:"idle",streamed:e.length,total:e.length,startedAt:0,completedAt:Date.now()};return{result:H,computeTick:u,lastComputedLogCount:f,lastComputedToken:m,activeToken:N,lastComputedAt:x,lastComputedFlushId:b,aggregationProgress:K,aggregationDiagnostics:D,requestFlush:()=>{const J=Date.now();return k.current=J,C.current&&!E&&C.current.postMessage({type:"flush",flushId:J,token:w.current}),J}}},vV=e=>({apmSpecBuckets:g.useMemo(()=>{const n=new Map,r=new Map((e.skillOptions||[]).map(s=>[s.id,s])),i=new Map,a=(s,o)=>{if(i.has(o))return i.get(o);const c=r.get(o);let u=!1;return c&&typeof c.autoAttack=="boolean"?u=c.autoAttack:u=P8(s),i.set(o,u),u};return(e.players||[]).forEach(s=>{const o=(s==null?void 0:s.profession)||"Unknown";let c=n.get(o);c||(c={profession:o,players:[],playerRows:[],totalActiveSeconds:0,totalCasts:0,totalAutoCasts:0,skills:[],skillMap:new Map},n.set(o,c)),c.players.push(s);const u=Number((s==null?void 0:s.totalActiveSeconds)||0),d=Number.isFinite(u)&&u>0?u:0;c.totalActiveSeconds+=d;let f=0,h=0;const m=s&&typeof s.skillTotals=="object"&&s.skillTotals!==null?s.skillTotals:{};Object.entries(m).forEach(([j,k])=>{const C=Number(k);if(!Number.isFinite(C)||C<=0)return;const E=r.get(j),R=(E==null?void 0:E.name)||j,T=E==null?void 0:E.icon,$=a(R,j);f+=C,$&&(h+=C);let I=c.skillMap.get(j);I||(I={id:j,name:R,icon:T,totalCasts:0,playerCounts:new Map},c.skillMap.set(j,I)),!I.icon&&T&&(I.icon=T),I.totalCasts+=C;const re=(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`;I.playerCounts.set(re,C)}),c.totalCasts+=f,c.totalAutoCasts+=h;const p=d/60,x=p>0?f/p:0,v=Math.max(0,f-h),b=p>0?v/p:0,y=d>0?f/d:0,w=d>0?v/d:0,N={key:(s==null?void 0:s.key)||`${(s==null?void 0:s.account)||"Unknown"}|${o}`,account:(s==null?void 0:s.account)||"Unknown",displayName:(s==null?void 0:s.displayName)||(s==null?void 0:s.account)||"Unknown",profession:o,professionList:Array.isArray(s==null?void 0:s.professionList)?s.professionList:[o],logs:Number((s==null?void 0:s.logs)||0),totalActiveSeconds:d,totalCasts:f,totalAutoCasts:h,apm:x,apmNoAuto:b,aps:y,apsNoAuto:w};c.playerRows.push(N)}),n.forEach(s=>{s.playerRows.sort((d,f)=>f.apm-d.apm);const o=Number(s.totalActiveSeconds||0),c=o>0?o/60:0,u=Math.max(0,Number(s.totalCasts||0)-Number(s.totalAutoCasts||0));s.totalApm=c>0?Number(s.totalCasts||0)/c:0,s.totalApmNoAuto=c>0?u/c:0,s.totalAps=o>0?Number(s.totalCasts||0)/o:0,s.totalApsNoAuto=o>0?u/o:0,s.skills=Array.from(s.skillMap.values()).map(d=>{const f=s.playerRows.map(x=>{var N;const v=Number(((N=d.playerCounts)==null?void 0:N.get(x.key))||0);if(!Number.isFinite(v)||v<=0)return null;const b=Number(x.totalActiveSeconds||0),y=b>0?v/(b/60):0,w=b>0?v/b:0;return{...x,count:v,apm:y,aps:w}}).filter(Boolean).sort((x,v)=>v.apm-x.apm||String(x.displayName||"").localeCompare(String(v.displayName||""))),h=Number(d.totalCasts||0),m=o>0?h/o:0,p=c>0?h/c:0;return{...d,playerRows:f,totalCasts:h,totalCastsPerSecond:m,totalApm:p}}).sort((d,f)=>f.totalCasts-d.totalCasts)}),Array.from(n.values()).sort((s,o)=>s.profession.localeCompare(o.profession))},[e])}),yV=({skillUsageData:e,selectedSkillId:t,selectedPlayers:n,skillUsageView:r})=>{const i=g.useMemo(()=>{const d=new Map;return e.players.forEach(f=>d.set(f.key,f)),d},[e.players]),a=g.useMemo(()=>{const d=new Map;if(!t)return d;const f=r==="perSecond";return e.players.forEach(h=>{const m=h.skillTotals[t]||0;if(m===0)return;let p=m;if(f){const x=h.totalActiveSeconds||1;p=x>0?m/x:0}d.set(h.key,p)}),d},[e.players,t,r]),s=g.useMemo(()=>t?Array.from(a.entries()).map(([d,f])=>{const h=i.get(d);return{key:d,name:(h==null?void 0:h.displayName)||d,profession:(h==null?void 0:h.profession)||"Unknown",value:f}}).sort((d,f)=>f.value-d.value):[],[a,i,t]),{chartData:o,maxY:c}=g.useMemo(()=>{if(!t)return{chartData:[],maxY:0};let d=0;const f=r==="perSecond";return{chartData:e.logRecords.map((m,p)=>{const x=m.skillEntries[t];if(!x)return null;const v={index:p,name:m.label,shortLabel:m.label,fullLabel:m.label,timestamp:m.timestamp};let b=!1,y=!1;if(Object.entries(x.players).forEach(([w,N])=>{var k;if(n.size>0&&!n.has(w))return;let j=N;if(f){const C=((k=m.playerActiveSeconds)==null?void 0:k[w])||0;j=C>0?N/C:0}v[w]=j,j>d&&(d=j),b=!0,y=!0}),n.size>0){if(!y)return null}else if(!b)return null;return n.forEach(w=>{v[w]===void 0&&(v[w]=0)}),v}).filter(m=>m!==null),maxY:d}},[e.logRecords,t,n,r]),u=g.useMemo(()=>{const d={};return e.players.forEach(f=>{const h=f.profession||"Unknown";d[h]||(d[h]=[]),d[h].push(f)}),Object.entries(d).map(([f,h])=>({profession:f,players:h.sort((m,p)=>m.displayName.localeCompare(p.displayName))})).sort((f,h)=>f.profession.localeCompare(h.profession))},[e.players]);return{playerMapByKey:i,playerTotalsForSkill:a,skillBarData:s,skillChartData:o,skillChartMaxY:c,groupedSkillUsagePlayers:u}};function wI(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=wI(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function En(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=wI(e))&&(r&&(r+=" "),r+=t);return r}var wV=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function iN(e){if(typeof e!="string")return!1;var t=wV;return t.includes(e)}var kV=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],NV=new Set(kV);function kI(e){return typeof e!="string"?!1:NV.has(e)}function NI(e){return typeof e=="string"&&e.startsWith("data-")}function gs(e){if(typeof e!="object"||e===null)return{};var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(kI(n)||NI(n))&&(t[n]=e[n]);return t}function Bd(e){if(e==null)return null;if(g.isValidElement(e)&&typeof e.props=="object"&&e.props!==null){var t=e.props;return gs(t)}return typeof e=="object"&&!Array.isArray(e)?gs(e):null}function Hi(e){var t={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(kI(n)||NI(n)||iN(n))&&(t[n]=e[n]);return t}function SV(e){return e==null?null:g.isValidElement(e)?Hi(e.props):typeof e=="object"&&!Array.isArray(e)?Hi(e):null}var jV=["children","width","height","viewBox","className","style","title","desc"];function vw(){return vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},vw.apply(null,arguments)}function CV(e,t){if(e==null)return{};var n,r,i=AV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function AV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aN=g.forwardRef((e,t)=>{var{children:n,width:r,height:i,viewBox:a,className:s,style:o,title:c,desc:u}=e,d=CV(e,jV),f=a||{width:r,height:i,x:0,y:0},h=En("recharts-surface",s);return g.createElement("svg",vw({},Hi(d),{className:h,width:r,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:t}),g.createElement("title",null,c),g.createElement("desc",null,u),n)}),PV=["children","className"];function yw(){return yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},yw.apply(null,arguments)}function DV(e,t){if(e==null)return{};var n,r,i=TV(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function TV(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var aa=g.forwardRef((e,t)=>{var{children:n,className:r}=e,i=DV(e,PV),a=En("recharts-layer",r);return g.createElement("g",yw({className:a},Hi(i),{ref:t}),n)}),SI=g.createContext(null),MV=()=>g.useContext(SI);function Jn(e){return function(){return e}}const jI=Math.cos,Zg=Math.sin,Gs=Math.sqrt,Jg=Math.PI,Cx=2*Jg,ww=Math.PI,kw=2*ww,zc=1e-6,EV=kw-zc;function CI(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function OV(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return CI;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class IV{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?CI:OV(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,s){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=r-t,u=i-n,d=s-t,f=o-n,h=d*d+f*f;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(h>zc)if(!(Math.abs(f*c-u*d)>zc)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let m=r-s,p=i-o,x=c*c+u*u,v=m*m+p*p,b=Math.sqrt(x),y=Math.sqrt(h),w=a*Math.tan((ww-Math.acos((x+h-v)/(2*b*y)))/2),N=w/y,j=w/b;Math.abs(N-1)>zc&&this._append`L${t+N*d},${n+N*f}`,this._append`A${a},${a},0,0,${+(f*m>d*p)},${this._x1=t+j*c},${this._y1=n+j*u}`}}arc(t,n,r,i,a,s){if(t=+t,n=+n,r=+r,s=!!s,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),c=r*Math.sin(i),u=t+o,d=n+c,f=1^s,h=s?i-a:a-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>zc||Math.abs(this._y1-d)>zc)&&this._append`L${u},${d}`,r&&(h<0&&(h=h%kw+kw),h>EV?this._append`A${r},${r},0,1,${f},${t-o},${n-c}A${r},${r},0,1,${f},${this._x1=u},${this._y1=d}`:h>zc&&this._append`A${r},${r},0,${+(h>=ww)},${f},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function sN(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new IV(t)}function oN(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function AI(e){this._context=e}AI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Ax(e){return new AI(e)}function PI(e){return e[0]}function DI(e){return e[1]}function TI(e,t){var n=Jn(!0),r=null,i=Ax,a=null,s=sN(o);e=typeof e=="function"?e:e===void 0?PI:Jn(e),t=typeof t=="function"?t:t===void 0?DI:Jn(t);function o(c){var u,d=(c=oN(c)).length,f,h=!1,m;for(r==null&&(a=i(m=s())),u=0;u<=d;++u)!(u<d&&n(f=c[u],u,c))===h&&((h=!h)?a.lineStart():a.lineEnd()),h&&a.point(+e(f,u,c),+t(f,u,c));if(m)return a=null,m+""||null}return o.x=function(c){return arguments.length?(e=typeof c=="function"?c:Jn(+c),o):e},o.y=function(c){return arguments.length?(t=typeof c=="function"?c:Jn(+c),o):t},o.defined=function(c){return arguments.length?(n=typeof c=="function"?c:Jn(!!c),o):n},o.curve=function(c){return arguments.length?(i=c,r!=null&&(a=i(r)),o):i},o.context=function(c){return arguments.length?(c==null?r=a=null:a=i(r=c),o):r},o}function Dp(e,t,n){var r=null,i=Jn(!0),a=null,s=Ax,o=null,c=sN(u);e=typeof e=="function"?e:e===void 0?PI:Jn(+e),t=typeof t=="function"?t:Jn(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?DI:Jn(+n);function u(f){var h,m,p,x=(f=oN(f)).length,v,b=!1,y,w=new Array(x),N=new Array(x);for(a==null&&(o=s(y=c())),h=0;h<=x;++h){if(!(h<x&&i(v=f[h],h,f))===b)if(b=!b)m=h,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),p=h-1;p>=m;--p)o.point(w[p],N[p]);o.lineEnd(),o.areaEnd()}b&&(w[h]=+e(v,h,f),N[h]=+t(v,h,f),o.point(r?+r(v,h,f):w[h],n?+n(v,h,f):N[h]))}if(y)return o=null,y+""||null}function d(){return TI().defined(i).curve(s).context(a)}return u.x=function(f){return arguments.length?(e=typeof f=="function"?f:Jn(+f),r=null,u):e},u.x0=function(f){return arguments.length?(e=typeof f=="function"?f:Jn(+f),u):e},u.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Jn(+f),u):r},u.y=function(f){return arguments.length?(t=typeof f=="function"?f:Jn(+f),n=null,u):t},u.y0=function(f){return arguments.length?(t=typeof f=="function"?f:Jn(+f),u):t},u.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Jn(+f),u):n},u.lineX0=u.lineY0=function(){return d().x(e).y(t)},u.lineY1=function(){return d().x(e).y(n)},u.lineX1=function(){return d().x(r).y(t)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Jn(!!f),u):i},u.curve=function(f){return arguments.length?(s=f,a!=null&&(o=s(a)),u):s},u.context=function(f){return arguments.length?(f==null?a=o=null:o=s(a=f),u):a},u}class MI{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function _V(e){return new MI(e,!0)}function LV(e){return new MI(e,!1)}const lN={draw(e,t){const n=Gs(t/Jg);e.moveTo(n,0),e.arc(0,0,n,0,Cx)}},$V={draw(e,t){const n=Gs(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},EI=Gs(1/3),FV=EI*2,RV={draw(e,t){const n=Gs(t/FV),r=n*EI;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},BV={draw(e,t){const n=Gs(t),r=-n/2;e.rect(r,r,n,n)}},zV=.8908130915292852,OI=Zg(Jg/10)/Zg(7*Jg/10),UV=Zg(Cx/10)*OI,WV=-jI(Cx/10)*OI,VV={draw(e,t){const n=Gs(t*zV),r=UV*n,i=WV*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const s=Cx*a/5,o=jI(s),c=Zg(s);e.lineTo(c*n,-o*n),e.lineTo(o*r-c*i,c*r+o*i)}e.closePath()}},bv=Gs(3),HV={draw(e,t){const n=-Gs(t/(bv*3));e.moveTo(0,n*2),e.lineTo(-bv*n,-n),e.lineTo(bv*n,-n),e.closePath()}},ts=-.5,ns=Gs(3)/2,Nw=1/Gs(12),qV=(Nw/2+1)*3,KV={draw(e,t){const n=Gs(t/qV),r=n/2,i=n*Nw,a=r,s=n*Nw+n,o=-a,c=s;e.moveTo(r,i),e.lineTo(a,s),e.lineTo(o,c),e.lineTo(ts*r-ns*i,ns*r+ts*i),e.lineTo(ts*a-ns*s,ns*a+ts*s),e.lineTo(ts*o-ns*c,ns*o+ts*c),e.lineTo(ts*r+ns*i,ts*i-ns*r),e.lineTo(ts*a+ns*s,ts*s-ns*a),e.lineTo(ts*o+ns*c,ts*c-ns*o),e.closePath()}};function GV(e,t){let n=null,r=sN(i);e=typeof e=="function"?e:Jn(e||lN),t=typeof t=="function"?t:Jn(t===void 0?64:+t);function i(){let a;if(n||(n=a=r()),e.apply(this,arguments).draw(n,+t.apply(this,arguments)),a)return n=null,a+""||null}return i.type=function(a){return arguments.length?(e=typeof a=="function"?a:Jn(a),i):e},i.size=function(a){return arguments.length?(t=typeof a=="function"?a:Jn(+a),i):t},i.context=function(a){return arguments.length?(n=a??null,i):n},i}function e0(){}function t0(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function II(e){this._context=e}II.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:t0(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:t0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function YV(e){return new II(e)}function _I(e){this._context=e}_I.prototype={areaStart:e0,areaEnd:e0,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:t0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function XV(e){return new _I(e)}function LI(e){this._context=e}LI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:t0(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function QV(e){return new LI(e)}function $I(e){this._context=e}$I.prototype={areaStart:e0,areaEnd:e0,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function ZV(e){return new $I(e)}function UC(e){return e<0?-1:1}function WC(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),s=(n-e._y1)/(i||r<0&&-0),o=(a*i+s*r)/(r+i);return(UC(a)+UC(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function VC(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function vv(e,t,n){var r=e._x0,i=e._y0,a=e._x1,s=e._y1,o=(a-r)/3;e._context.bezierCurveTo(r+o,i+o*t,a-o,s-o*n,a,s)}function n0(e){this._context=e}n0.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:vv(this,this._t0,VC(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,vv(this,VC(this,n=WC(this,e,t)),n);break;default:vv(this,this._t0,n=WC(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function FI(e){this._context=new RI(e)}(FI.prototype=Object.create(n0.prototype)).point=function(e,t){n0.prototype.point.call(this,t,e)};function RI(e){this._context=e}RI.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function JV(e){return new n0(e)}function e9(e){return new FI(e)}function BI(e){this._context=e}BI.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=HC(e),i=HC(t),a=0,s=1;s<n;++a,++s)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[s],t[s]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function HC(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),s=new Array(n);for(i[0]=0,a[0]=2,s[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,s[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,s[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,s[t]-=r*s[t-1];for(i[n-1]=s[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(s[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function t9(e){return new BI(e)}function Px(e,t){this._context=e,this._t=t}Px.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function n9(e){return new Px(e,.5)}function r9(e){return new Px(e,0)}function i9(e){return new Px(e,1)}function bu(e,t){if((s=e.length)>1)for(var n=1,r,i,a=e[t[0]],s,o=a.length;n<s;++n)for(i=a,a=e[t[n]],r=0;r<o;++r)a[r][1]+=a[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function Sw(e){for(var t=e.length,n=new Array(t);--t>=0;)n[t]=t;return n}function a9(e,t){return e[t]}function s9(e){const t=[];return t.key=e,t}function o9(){var e=Jn([]),t=Sw,n=bu,r=a9;function i(a){var s=Array.from(e.apply(this,arguments),s9),o,c=s.length,u=-1,d;for(const f of a)for(o=0,++u;o<c;++o)(s[o][u]=[0,+r(f,s[o].key,u,a)]).data=f;for(o=0,d=oN(t(s));o<c;++o)s[d[o]].index=o;return n(s,d),s}return i.keys=function(a){return arguments.length?(e=typeof a=="function"?a:Jn(Array.from(a)),i):e},i.value=function(a){return arguments.length?(r=typeof a=="function"?a:Jn(+a),i):r},i.order=function(a){return arguments.length?(t=a==null?Sw:typeof a=="function"?a:Jn(Array.from(a)),i):t},i.offset=function(a){return arguments.length?(n=a??bu,i):n},i}function l9(e,t){if((r=e.length)>0){for(var n,r,i=0,a=e[0].length,s;i<a;++i){for(s=n=0;n<r;++n)s+=e[n][i][1]||0;if(s)for(n=0;n<r;++n)e[n][i][1]/=s}bu(e,t)}}function c9(e,t){if((i=e.length)>0){for(var n=0,r=e[t[0]],i,a=r.length;n<a;++n){for(var s=0,o=0;s<i;++s)o+=e[s][n][1]||0;r[n][1]+=r[n][0]=-o/2}bu(e,t)}}function u9(e,t){if(!(!((s=e.length)>0)||!((a=(i=e[t[0]]).length)>0))){for(var n=0,r=1,i,a,s;r<a;++r){for(var o=0,c=0,u=0;o<s;++o){for(var d=e[t[o]],f=d[r][1]||0,h=d[r-1][1]||0,m=(f-h)/2,p=0;p<o;++p){var x=e[t[p]],v=x[r][1]||0,b=x[r-1][1]||0;m+=v-b}c+=f,u+=m*f}i[r-1][1]+=i[r-1][0]=n,c&&(n-=u/c)}i[r-1][1]+=i[r-1][0]=n,bu(e,t)}}var Dx={},zI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==="__proto__"}e.isUnsafeProperty=t})(zI);var cN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){switch(typeof n){case"number":case"symbol":return!1;case"string":return n.includes(".")||n.includes("[")||n.includes("]")}}e.isDeepKey=t})(cN);var Tx={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var r;return typeof n=="string"||typeof n=="symbol"?n:Object.is((r=n==null?void 0:n.valueOf)==null?void 0:r.call(n),-0)?"-0":String(n)}e.toKey=t})(Tx);var Mx={},UI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){if(n==null)return"";if(typeof n=="string")return n;if(Array.isArray(n))return n.map(t).join(",");const r=String(n);return r==="0"&&Object.is(Number(n),-0)?"-0":r}e.toString=t})(UI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=UI,n=Tx;function r(i){if(Array.isArray(i))return i.map(n.toKey);if(typeof i=="symbol")return[i];i=t.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,c="",u="",d=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const f=i[o];u?f==="\\"&&o+1<s?(o++,c+=i[o]):f===u?u="":c+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,a.push(c),c=""):c+=f:f==="["?(d=!0,c&&(a.push(c),c="")):f==="."?c&&(a.push(c),c=""):c+=f,o++}return c&&a.push(c),a}e.toPath=r})(Mx);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=zI,n=cN,r=Tx,i=Mx;function a(o,c,u){if(o==null)return u;switch(typeof c){case"string":{if(t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?n.isDeepKey(c)?a(o,i.toPath(c),u):u:d}case"number":case"symbol":{typeof c=="number"&&(c=r.toKey(c));const d=o[c];return d===void 0?u:d}default:{if(Array.isArray(c))return s(o,c,u);if(Object.is(c==null?void 0:c.valueOf(),-0)?c="-0":c=String(c),t.isUnsafeProperty(c))return u;const d=o[c];return d===void 0?u:d}}}function s(o,c,u){if(c.length===0)return u;let d=o;for(let f=0;f<c.length;f++){if(d==null||t.isUnsafeProperty(c[f]))return u;d=d[c[f]]}return d===void 0?u:d}e.get=a})(Dx);var d9=Dx.get;const vu=Ks(d9);var f9=4;function tc(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f9,n=10**t,r=Math.round(e*n)/n;return Object.is(r,-0)?0:r}function Dr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return e.reduce((i,a,s)=>{var o=n[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+tc(o)+a:i+a},"")}var Ui=e=>e===0?0:e>0?1:-1,xs=e=>typeof e=="number"&&e!=+e,ul=e=>typeof e=="string"&&e.indexOf("%")===e.length-1,Lt=e=>(typeof e=="number"||e instanceof Number)&&!xs(e),bs=e=>Lt(e)||typeof e=="string",m9=0,zm=e=>{var t=++m9;return"".concat(e||"").concat(t)},Ba=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Lt(t)&&typeof t!="string")return r;var a;if(ul(t)){if(n==null)return r;var s=t.indexOf("%");a=n*parseFloat(t.slice(0,s))/100}else a=+t;return xs(a)&&(a=r),i&&n!=null&&a>n&&(a=n),a},WI=e=>{if(!Array.isArray(e))return!1;for(var t=e.length,n={},r=0;r<t;r++)if(!n[String(e[r])])n[String(e[r])]=!0;else return!0;return!1};function zi(e,t,n){return Lt(e)&&Lt(t)?tc(e+n*(t-e)):t}function VI(e,t,n){if(!(!e||!e.length))return e.find(r=>r&&(typeof t=="function"?t(r):vu(r,t))===n)}var ri=e=>e===null||typeof e>"u",mh=e=>ri(e)?e:"".concat(e.charAt(0).toUpperCase()).concat(e.slice(1));function h9(e){return e!=null}function hh(){}var p9=["type","size","sizeType"];function jw(){return jw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},jw.apply(null,arguments)}function qC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function KC(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qC(Object(n),!0).forEach(function(r){g9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function g9(e,t,n){return(t=x9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function x9(e){var t=b9(e,"string");return typeof t=="symbol"?t:t+""}function b9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function v9(e,t){if(e==null)return{};var n,r,i=y9(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function y9(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var HI={symbolCircle:lN,symbolCross:$V,symbolDiamond:RV,symbolSquare:BV,symbolStar:VV,symbolTriangle:HV,symbolWye:KV},w9=Math.PI/180,k9=e=>{var t="symbol".concat(mh(e));return HI[t]||lN},N9=(e,t,n)=>{if(t==="area")return e;switch(n){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var r=18*w9;return 1.25*e*e*(Math.tan(r)-Math.tan(r*2)*Math.tan(r)**2)}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},S9=(e,t)=>{HI["symbol".concat(mh(e))]=t},uN=e=>{var{type:t="circle",size:n=64,sizeType:r="area"}=e,i=v9(e,p9),a=KC(KC({},i),{},{type:t,size:n,sizeType:r}),s="circle";typeof t=="string"&&(s=t);var o=()=>{var h=k9(s),m=GV().type(h).size(N9(n,r,s)),p=m();if(p!==null)return p},{className:c,cx:u,cy:d}=a,f=Hi(a);return Lt(u)&&Lt(d)&&Lt(n)?g.createElement("path",jw({},f,{className:En("recharts-symbols",c),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};uN.registerSymbol=S9;var qI=e=>"radius"in e&&"startAngle"in e&&"endAngle"in e,dN=(e,t)=>{if(!e||typeof e=="function"||typeof e=="boolean")return null;var n=e;if(g.isValidElement(e)&&(n=e.props),typeof n!="object"&&typeof n!="function")return null;var r={};return Object.keys(n).forEach(i=>{iN(i)&&(r[i]=a=>n[i](n,a))}),r},j9=(e,t,n)=>r=>(e(t,n,r),null),fN=(e,t,n)=>{if(e===null||typeof e!="object"&&typeof e!="function")return null;var r=null;return Object.keys(e).forEach(i=>{var a=e[i];iN(i)&&typeof a=="function"&&(r||(r={}),r[i]=j9(a,t,n))}),r};function GC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function C9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GC(Object(n),!0).forEach(function(r){A9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function A9(e,t,n){return(t=P9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function P9(e){var t=D9(e,"string");return typeof t=="symbol"?t:t+""}function D9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Zr(e,t){var n=C9({},e),r=t,i=Object.keys(t),a=i.reduce((s,o)=>(s[o]===void 0&&r[o]!==void 0&&(s[o]=r[o]),s),n);return a}function r0(){return r0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r0.apply(null,arguments)}function YC(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function T9(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YC(Object(n),!0).forEach(function(r){M9(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YC(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function M9(e,t,n){return(t=E9(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function E9(e){var t=O9(e,"string");return typeof t=="symbol"?t:t+""}function O9(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var as=32,I9={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function _9(e){var{data:t,iconType:n,inactiveColor:r}=e,i=as/2,a=as/6,s=as/3,o=t.inactive?r:t.color,c=n??t.type;if(c==="none")return null;if(c==="plainline"){var u;return g.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=t.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:as,y2:i,className:"recharts-legend-icon"})}if(c==="line")return g.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(as,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return g.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(as/8,"h").concat(as,"v").concat(as*3/4,"h").concat(-as,"z"),className:"recharts-legend-icon"});if(g.isValidElement(t.legendIcon)){var d=T9({},t);return delete d.legendIcon,g.cloneElement(t.legendIcon,d)}return g.createElement(uN,{fill:o,cx:i,cy:i,size:as,sizeType:"diameter",type:c})}function L9(e){var{payload:t,iconSize:n,layout:r,formatter:i,inactiveColor:a,iconType:s}=e,o={x:0,y:0,width:as,height:as},c={display:r==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return t.map((d,f)=>{var h=d.formatter||i,m=En({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var p=d.inactive?a:d.color,x=h?h(d.value,d,f):d.value;return g.createElement("li",r0({className:m,style:c,key:"legend-item-".concat(f)},fN(e,d,f)),g.createElement(aN,{width:n,height:n,viewBox:o,style:u,"aria-label":"".concat(x," legend icon")},g.createElement(_9,{data:d,iconType:s,inactiveColor:a})),g.createElement("span",{className:"recharts-legend-item-text",style:{color:p}},x))})}var $9=e=>{var t=Zr(e,I9),{payload:n,layout:r,align:i}=t;if(!n||!n.length)return null;var a={padding:0,margin:0,textAlign:r==="horizontal"?i:"left"};return g.createElement("ul",{className:"recharts-default-legend",style:a},g.createElement(L9,r0({},t,{payload:n})))},KI={},GI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){const i=new Map;for(let a=0;a<n.length;a++){const s=n[a],o=r(s,a,n);i.has(o)||i.set(o,s)}return Array.from(i.values())}e.uniqBy=t})(GI);var YI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return function(...i){return n.apply(this,i.slice(0,r))}}e.ary=t})(YI);var mN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n}e.identity=t})(mN);var XI={},Ex={},QI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Number.isSafeInteger(n)&&n>=0}e.isLength=t})(QI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=QI;function n(r){return r!=null&&typeof r!="function"&&t.isLength(r.length)}e.isArrayLike=n})(Ex);var ZI={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="object"&&n!==null}e.isObjectLike=t})(ZI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ex,n=ZI;function r(i){return n.isObjectLike(i)&&t.isArrayLike(i)}e.isArrayLikeObject=r})(XI);var JI={},e3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Dx;function n(r){return function(i){return t.get(i,r)}}e.property=n})(e3);var t3={},hN={},n3={},pN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n!==null&&(typeof n=="object"||typeof n=="function")}e.isObject=t})(pN);var gN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null||typeof n!="object"&&typeof n!="function"}e.isPrimitive=t})(gN);var xN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r){return n===r||Number.isNaN(n)&&Number.isNaN(r)}e.isEqualsSameValueZero=t})(xN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=pN,n=gN,r=xN;function i(d,f,h){return typeof h!="function"?i(d,f,()=>{}):a(d,f,function m(p,x,v,b,y,w){const N=h(p,x,v,b,y,w);return N!==void 0?!!N:a(p,x,m,w)},new Map)}function a(d,f,h,m){if(f===d)return!0;switch(typeof f){case"object":return s(d,f,h,m);case"function":return Object.keys(f).length>0?a(d,{...f},h,m):r.isEqualsSameValueZero(d,f);default:return t.isObject(d)?typeof f=="string"?f==="":!0:r.isEqualsSameValueZero(d,f)}}function s(d,f,h,m){if(f==null)return!0;if(Array.isArray(f))return c(d,f,h,m);if(f instanceof Map)return o(d,f,h,m);if(f instanceof Set)return u(d,f,h,m);const p=Object.keys(f);if(d==null||n.isPrimitive(d))return p.length===0;if(p.length===0)return!0;if(m!=null&&m.has(f))return m.get(f)===d;m==null||m.set(f,d);try{for(let x=0;x<p.length;x++){const v=p[x];if(!n.isPrimitive(d)&&!(v in d)||f[v]===void 0&&d[v]!==void 0||f[v]===null&&d[v]!==null||!h(d[v],f[v],v,d,f,m))return!1}return!0}finally{m==null||m.delete(f)}}function o(d,f,h,m){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[p,x]of f.entries()){const v=d.get(p);if(h(v,x,p,d,f,m)===!1)return!1}return!0}function c(d,f,h,m){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const p=new Set;for(let x=0;x<f.length;x++){const v=f[x];let b=!1;for(let y=0;y<d.length;y++){if(p.has(y))continue;const w=d[y];let N=!1;if(h(w,v,x,d,f,m)&&(N=!0),N){p.add(y),b=!0;break}}if(!b)return!1}return!0}function u(d,f,h,m){return f.size===0?!0:d instanceof Set?c([...d],[...f],h,m):!1}e.isMatchWith=i,e.isSetMatch=u})(n3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n3;function n(r,i){return t.isMatchWith(r,i,()=>{})}e.isMatch=n})(hN);var r3={},bN={},i3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Object.getOwnPropertySymbols(n).filter(r=>Object.prototype.propertyIsEnumerable.call(n,r))}e.getSymbols=t})(i3);var Ox={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n==null?n===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(n)}e.getTag=t})(Ox);var vN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t="[object RegExp]",n="[object String]",r="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",h="[object ArrayBuffer]",m="[object Object]",p="[object Error]",x="[object DataView]",v="[object Uint8Array]",b="[object Uint8ClampedArray]",y="[object Uint16Array]",w="[object Uint32Array]",N="[object BigUint64Array]",j="[object Int8Array]",k="[object Int16Array]",C="[object Int32Array]",E="[object BigInt64Array]",R="[object Float32Array]",T="[object Float64Array]";e.argumentsTag=a,e.arrayBufferTag=h,e.arrayTag=d,e.bigInt64ArrayTag=E,e.bigUint64ArrayTag=N,e.booleanTag=i,e.dataViewTag=x,e.dateTag=o,e.errorTag=p,e.float32ArrayTag=R,e.float64ArrayTag=T,e.functionTag=f,e.int16ArrayTag=k,e.int32ArrayTag=C,e.int8ArrayTag=j,e.mapTag=c,e.numberTag=r,e.objectTag=m,e.regexpTag=t,e.setTag=u,e.stringTag=n,e.symbolTag=s,e.uint16ArrayTag=y,e.uint32ArrayTag=w,e.uint8ArrayTag=v,e.uint8ClampedArrayTag=b})(vN);var a3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}e.isTypedArray=t})(a3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=i3,n=Ox,r=vN,i=gN,a=a3;function s(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,h,m=new Map,p=void 0){const x=p==null?void 0:p(d,f,h,m);if(x!==void 0)return x;if(i.isPrimitive(d))return d;if(m.has(d))return m.get(d);if(Array.isArray(d)){const v=new Array(d.length);m.set(d,v);for(let b=0;b<d.length;b++)v[b]=o(d[b],b,h,m,p);return Object.hasOwn(d,"index")&&(v.index=d.index),Object.hasOwn(d,"input")&&(v.input=d.input),v}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const v=new RegExp(d.source,d.flags);return v.lastIndex=d.lastIndex,v}if(d instanceof Map){const v=new Map;m.set(d,v);for(const[b,y]of d)v.set(b,o(y,b,h,m,p));return v}if(d instanceof Set){const v=new Set;m.set(d,v);for(const b of d)v.add(o(b,void 0,h,m,p));return v}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(a.isTypedArray(d)){const v=new(Object.getPrototypeOf(d)).constructor(d.length);m.set(d,v);for(let b=0;b<d.length;b++)v[b]=o(d[b],b,h,m,p);return v}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const v=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return m.set(d,v),c(v,d,h,m,p),v}if(typeof File<"u"&&d instanceof File){const v=new File([d],d.name,{type:d.type});return m.set(d,v),c(v,d,h,m,p),v}if(typeof Blob<"u"&&d instanceof Blob){const v=new Blob([d],{type:d.type});return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof Error){const v=new d.constructor;return m.set(d,v),v.message=d.message,v.name=d.name,v.stack=d.stack,v.cause=d.cause,c(v,d,h,m,p),v}if(d instanceof Boolean){const v=new Boolean(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof Number){const v=new Number(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(d instanceof String){const v=new String(d.valueOf());return m.set(d,v),c(v,d,h,m,p),v}if(typeof d=="object"&&u(d)){const v=Object.create(Object.getPrototypeOf(d));return m.set(d,v),c(v,d,h,m,p),v}return d}function c(d,f,h=d,m,p){const x=[...Object.keys(f),...t.getSymbols(f)];for(let v=0;v<x.length;v++){const b=x[v],y=Object.getOwnPropertyDescriptor(d,b);(y==null||y.writable)&&(d[b]=o(f[b],b,h,m,p))}}function u(d){switch(n.getTag(d)){case r.argumentsTag:case r.arrayTag:case r.arrayBufferTag:case r.dataViewTag:case r.booleanTag:case r.dateTag:case r.float32ArrayTag:case r.float64ArrayTag:case r.int8ArrayTag:case r.int16ArrayTag:case r.int32ArrayTag:case r.mapTag:case r.numberTag:case r.objectTag:case r.regexpTag:case r.setTag:case r.stringTag:case r.symbolTag:case r.uint8ArrayTag:case r.uint8ClampedArrayTag:case r.uint16ArrayTag:case r.uint32ArrayTag:return!0;default:return!1}}e.cloneDeepWith=s,e.cloneDeepWithImpl=o,e.copyProperties=c})(bN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bN;function n(r){return t.cloneDeepWithImpl(r,void 0,r,new Map,void 0)}e.cloneDeep=n})(r3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hN,n=r3;function r(i){return i=n.cloneDeep(i),a=>t.isMatch(a,i)}e.matches=r})(t3);var s3={},o3={},l3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=bN,n=Ox,r=vN;function i(a,s){return t.cloneDeepWith(a,(o,c,u,d)=>{const f=s==null?void 0:s(o,c,u,d);if(f!==void 0)return f;if(typeof a=="object"){if(n.getTag(a)===r.objectTag&&typeof a.constructor!="function"){const h={};return d.set(a,h),t.copyProperties(h,a,u,d),h}switch(Object.prototype.toString.call(a)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new a.constructor(a==null?void 0:a.valueOf());return t.copyProperties(h,a),h}case r.argumentsTag:{const h={};return t.copyProperties(h,a),h.length=a.length,h[Symbol.iterator]=a[Symbol.iterator],h}default:return}}})}e.cloneDeepWith=i})(l3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l3;function n(r){return t.cloneDeepWith(r)}e.cloneDeep=n})(o3);var c3={},yN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=/^(?:0|[1-9]\d*)$/;function n(r,i=Number.MAX_SAFE_INTEGER){switch(typeof r){case"number":return Number.isInteger(r)&&r>=0&&r<i;case"symbol":return!1;case"string":return t.test(r)}}e.isIndex=n})(yN);var u3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=Ox;function n(r){return r!==null&&typeof r=="object"&&t.getTag(r)==="[object Arguments]"}e.isArguments=n})(u3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=cN,n=yN,r=u3,i=Mx;function a(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&t.isDeepKey(o)&&(s==null?void 0:s[o])==null?c=i.toPath(o):c=[o],c.length===0)return!1;let u=s;for(let d=0;d<c.length;d++){const f=c[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||r.isArguments(u))&&n.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}e.has=a})(c3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=hN,n=Tx,r=o3,i=Dx,a=c3;function s(o,c){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=n.toKey(o);break}}return c=r.cloneDeep(c),function(u){const d=i.get(u,o);return d===void 0?a.has(u,o):c===void 0?d===void 0:t.isMatch(d,c)}}e.matchesProperty=s})(s3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=mN,n=e3,r=t3,i=s3;function a(s){if(s==null)return t.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):r.matches(s);case"string":case"symbol":case"number":return n.property(s)}}e.iteratee=a})(JI);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=GI,n=YI,r=mN,i=XI,a=JI;function s(o,c=r.identity){return i.isArrayLikeObject(o)?t.uniqBy(Array.from(o),n.ary(a.iteratee(c),1)):[]}e.uniqBy=s})(KI);var F9=KI.uniqBy;const XC=Ks(F9);function d3(e,t,n){return t===!0?XC(e,n):typeof t=="function"?XC(e,t):e}var f3={exports:{}},m3={},h3={exports:{}},p3={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var zd=g;function R9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var B9=typeof Object.is=="function"?Object.is:R9,z9=zd.useState,U9=zd.useEffect,W9=zd.useLayoutEffect,V9=zd.useDebugValue;function H9(e,t){var n=t(),r=z9({inst:{value:n,getSnapshot:t}}),i=r[0].inst,a=r[1];return W9(function(){i.value=n,i.getSnapshot=t,yv(i)&&a({inst:i})},[e,n,t]),U9(function(){return yv(i)&&a({inst:i}),e(function(){yv(i)&&a({inst:i})})},[e]),V9(n),n}function yv(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!B9(e,n)}catch{return!0}}function q9(e,t){return t()}var K9=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?q9:H9;p3.useSyncExternalStore=zd.useSyncExternalStore!==void 0?zd.useSyncExternalStore:K9;h3.exports=p3;var G9=h3.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ix=g,Y9=G9;function X9(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Q9=typeof Object.is=="function"?Object.is:X9,Z9=Y9.useSyncExternalStore,J9=Ix.useRef,eH=Ix.useEffect,tH=Ix.useMemo,nH=Ix.useDebugValue;m3.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=J9(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=tH(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,Q9(d,m))return p;var x=r(m);return i!==void 0&&i(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,i]);var o=Z9(e,a[0],a[1]);return eH(function(){s.hasValue=!0,s.value=o},[o]),nH(o),o};f3.exports=m3;var rH=f3.exports,wN=g.createContext(null),iH=e=>e,Kn=()=>{var e=g.useContext(wN);return e?e.store.dispatch:iH},mg=()=>{},aH=()=>mg,sH=(e,t)=>e===t;function It(e){var t=g.useContext(wN);return rH.useSyncExternalStoreWithSelector(t?t.subscription.addNestedSub:aH,t?t.store.getState:mg,t?t.store.getState:mg,t?e:mg,sH)}function oH(e,t=`expected a function, instead received ${typeof e}`){if(typeof e!="function")throw new TypeError(t)}function lH(e,t=`expected an object, instead received ${typeof e}`){if(typeof e!="object")throw new TypeError(t)}function cH(e,t="expected all items to be functions, instead received the following types: "){if(!e.every(n=>typeof n=="function")){const n=e.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${t}[${n}]`)}}var QC=e=>Array.isArray(e)?e:[e];function uH(e){const t=Array.isArray(e[0])?e[0]:e;return cH(t,"createSelector expects all input-selectors to be functions, but received the following types: "),t}function dH(e,t){const n=[],{length:r}=e;for(let i=0;i<r;i++)n.push(e[i].apply(null,t));return n}var fH=class{constructor(e){this.value=e}deref(){return this.value}},mH=typeof WeakRef<"u"?WeakRef:fH,hH=0,ZC=1;function Tp(){return{s:hH,v:void 0,o:null,p:null}}function g3(e,t={}){let n=Tp();const{resultEqualityCheck:r}=t;let i,a=0;function s(){var f;let o=n;const{length:c}=arguments;for(let h=0,m=c;h<m;h++){const p=arguments[h];if(typeof p=="function"||typeof p=="object"&&p!==null){let x=o.o;x===null&&(o.o=x=new WeakMap);const v=x.get(p);v===void 0?(o=Tp(),x.set(p,o)):o=v}else{let x=o.p;x===null&&(o.p=x=new Map);const v=x.get(p);v===void 0?(o=Tp(),x.set(p,o)):o=v}}const u=o;let d;if(o.s===ZC)d=o.v;else if(d=e.apply(null,arguments),a++,r){const h=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;h!=null&&r(h,d)&&(d=h,a!==0&&a--),i=typeof d=="object"&&d!==null||typeof d=="function"?new mH(d):d}return u.s=ZC,u.v=d,d}return s.clearCache=()=>{n=Tp(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function pH(e,...t){const n=typeof e=="function"?{memoize:e,memoizeOptions:t}:e,r=(...i)=>{let a=0,s=0,o,c={},u=i.pop();typeof u=="object"&&(c=u,u=i.pop()),oH(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...n,...c},{memoize:f,memoizeOptions:h=[],argsMemoize:m=g3,argsMemoizeOptions:p=[]}=d,x=QC(h),v=QC(p),b=uH(i),y=f(function(){return a++,u.apply(null,arguments)},...x),w=m(function(){s++;const j=dH(b,arguments);return o=y.apply(null,j),o},...v);return Object.assign(w,{resultFunc:u,memoizedResultFunc:y,dependencies:b,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:f,argsMemoize:m})};return Object.assign(r,{withTypes:()=>r}),r}var Be=pH(g3),gH=Object.assign((e,t=Be)=>{lH(e,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof e}`);const n=Object.keys(e),r=n.map(a=>e[a]);return t(r,(...a)=>a.reduce((s,o,c)=>(s[n[c]]=o,s),{}))},{withTypes:()=>gH}),x3={},b3={},v3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(r){return typeof r=="symbol"?1:r===null?2:r===void 0?3:r!==r?4:0}const n=(r,i,a)=>{if(r!==i){const s=t(r),o=t(i);if(s===o&&s===0){if(r<i)return a==="desc"?1:-1;if(r>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};e.compareValues=n})(v3);var y3={},kN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return typeof n=="symbol"||n instanceof Symbol}e.isSymbol=t})(kN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kN,n=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,r=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||t.isSymbol(a)?!0:typeof a=="string"&&(r.test(a)||!n.test(a))||s!=null&&Object.hasOwn(s,a)}e.isKey=i})(y3);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=v3,n=y3,r=Mx;function i(a,s,o,c){if(a==null)return[];o=c?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(m=>String(m));const u=(m,p)=>{let x=m;for(let v=0;v<p.length&&x!=null;++v)x=x[p[v]];return x},d=(m,p)=>p==null||m==null?p:typeof m=="object"&&"key"in m?Object.hasOwn(p,m.key)?p[m.key]:u(p,m.path):typeof m=="function"?m(p):Array.isArray(m)?u(p,m):typeof p=="object"?p[m]:p,f=s.map(m=>(Array.isArray(m)&&m.length===1&&(m=m[0]),m==null||typeof m=="function"||Array.isArray(m)||n.isKey(m)?m:{key:m,path:r.toPath(m)}));return a.map(m=>({original:m,criteria:f.map(p=>d(p,m))})).slice().sort((m,p)=>{for(let x=0;x<f.length;x++){const v=t.compareValues(m.criteria[x],p.criteria[x],o[x]);if(v!==0)return v}return 0}).map(m=>m.original)}e.orderBy=i})(b3);var w3={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r=1){const i=[],a=Math.floor(r),s=(o,c)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&c<a?s(d,c+1):i.push(d)}};return s(n,0),i}e.flatten=t})(w3);var NN={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=yN,n=Ex,r=pN,i=xN;function a(s,o,c){return r.isObject(c)&&(typeof o=="number"&&n.isArrayLike(c)&&t.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.isEqualsSameValueZero(c[o],s):!1}e.isIterateeCall=a})(NN);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=b3,n=w3,r=NN;function i(a,...s){const o=s.length;return o>1&&r.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&r.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),t.orderBy(a,n.flatten(s),["asc"])}e.sortBy=i})(x3);var xH=x3.sortBy;const _x=Ks(xH);var k3=e=>e.legend.settings,bH=e=>e.legend.size,vH=e=>e.legend.payload,yH=Be([vH,k3],(e,t)=>{var{itemSorter:n}=t,r=e.flat(1);return n?_x(r,n):r});function wH(){return It(yH)}var Mp=1;function N3(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[t,n]=g.useState({height:0,left:0,top:0,width:0}),r=g.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-t.height)>Mp||Math.abs(s.left-t.left)>Mp||Math.abs(s.top-t.top)>Mp||Math.abs(s.width-t.width)>Mp)&&n({height:s.height,left:s.left,top:s.top,width:s.width})}},[t.width,t.height,t.top,t.left,...e]);return[t,r]}function Pi(e){return`Minified Redux error #${e}; visit https://redux.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var kH=typeof Symbol=="function"&&Symbol.observable||"@@observable",JC=kH,wv=()=>Math.random().toString(36).substring(7).split("").join("."),NH={INIT:`@@redux/INIT${wv()}`,REPLACE:`@@redux/REPLACE${wv()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${wv()}`},i0=NH;function SN(e){if(typeof e!="object"||e===null)return!1;let t=e;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t||Object.getPrototypeOf(e)===null}function S3(e,t,n){if(typeof e!="function")throw new Error(Pi(2));if(typeof t=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error(Pi(0));if(typeof t=="function"&&typeof n>"u"&&(n=t,t=void 0),typeof n<"u"){if(typeof n!="function")throw new Error(Pi(1));return n(S3)(e,t)}let r=e,i=t,a=new Map,s=a,o=0,c=!1;function u(){s===a&&(s=new Map,a.forEach((v,b)=>{s.set(b,v)}))}function d(){if(c)throw new Error(Pi(3));return i}function f(v){if(typeof v!="function")throw new Error(Pi(4));if(c)throw new Error(Pi(5));let b=!0;u();const y=o++;return s.set(y,v),function(){if(b){if(c)throw new Error(Pi(6));b=!1,u(),s.delete(y),a=null}}}function h(v){if(!SN(v))throw new Error(Pi(7));if(typeof v.type>"u")throw new Error(Pi(8));if(typeof v.type!="string")throw new Error(Pi(17));if(c)throw new Error(Pi(9));try{c=!0,i=r(i,v)}finally{c=!1}return(a=s).forEach(y=>{y()}),v}function m(v){if(typeof v!="function")throw new Error(Pi(10));r=v,h({type:i0.REPLACE})}function p(){const v=f;return{subscribe(b){if(typeof b!="object"||b===null)throw new Error(Pi(11));function y(){const N=b;N.next&&N.next(d())}return y(),{unsubscribe:v(y)}},[JC](){return this}}}return h({type:i0.INIT}),{dispatch:h,subscribe:f,getState:d,replaceReducer:m,[JC]:p}}function SH(e){Object.keys(e).forEach(t=>{const n=e[t];if(typeof n(void 0,{type:i0.INIT})>"u")throw new Error(Pi(12));if(typeof n(void 0,{type:i0.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Pi(13))})}function j3(e){const t=Object.keys(e),n={};for(let a=0;a<t.length;a++){const s=t[a];typeof e[s]=="function"&&(n[s]=e[s])}const r=Object.keys(n);let i;try{SH(n)}catch(a){i=a}return function(s={},o){if(i)throw i;let c=!1;const u={};for(let d=0;d<r.length;d++){const f=r[d],h=n[f],m=s[f],p=h(m,o);if(typeof p>"u")throw o&&o.type,new Error(Pi(14));u[f]=p,c=c||p!==m}return c=c||r.length!==Object.keys(s).length,c?u:s}}function a0(...e){return e.length===0?t=>t:e.length===1?e[0]:e.reduce((t,n)=>(...r)=>t(n(...r)))}function jH(...e){return t=>(n,r)=>{const i=t(n,r);let a=()=>{throw new Error(Pi(15))};const s={getState:i.getState,dispatch:(c,...u)=>a(c,...u)},o=e.map(c=>c(s));return a=a0(...o)(i.dispatch),{...i,dispatch:a}}}function C3(e){return SN(e)&&"type"in e&&typeof e.type=="string"}var A3=Symbol.for("immer-nothing"),eA=Symbol.for("immer-draftable"),sa=Symbol.for("immer-state");function _s(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Fa=Object,Ud=Fa.getPrototypeOf,s0="constructor",Lx="prototype",Cw="configurable",o0="enumerable",hg="writable",Um="value",dl=e=>!!e&&!!e[sa];function Vs(e){var t;return e?P3(e)||Fx(e)||!!e[eA]||!!((t=e[s0])!=null&&t[eA])||Rx(e)||Bx(e):!1}var CH=Fa[Lx][s0].toString(),tA=new WeakMap;function P3(e){if(!e||!jN(e))return!1;const t=Ud(e);if(t===null||t===Fa[Lx])return!0;const n=Fa.hasOwnProperty.call(t,s0)&&t[s0];if(n===Object)return!0;if(!ed(n))return!1;let r=tA.get(n);return r===void 0&&(r=Function.toString.call(n),tA.set(n,r)),r===CH}function $x(e,t,n=!0){ph(e)===0?(n?Reflect.ownKeys(e):Fa.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function ph(e){const t=e[sa];return t?t.type_:Fx(e)?1:Rx(e)?2:Bx(e)?3:0}var nA=(e,t,n=ph(e))=>n===2?e.has(t):Fa[Lx].hasOwnProperty.call(e,t),Aw=(e,t,n=ph(e))=>n===2?e.get(t):e[t],l0=(e,t,n,r=ph(e))=>{r===2?e.set(t,n):r===3?e.add(n):e[t]=n};function AH(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}var Fx=Array.isArray,Rx=e=>e instanceof Map,Bx=e=>e instanceof Set,jN=e=>typeof e=="object",ed=e=>typeof e=="function",kv=e=>typeof e=="boolean";function PH(e){const t=+e;return Number.isInteger(t)&&String(t)===e}var qo=e=>e.copy_||e.base_,CN=e=>e.modified_?e.copy_:e.base_;function Pw(e,t){if(Rx(e))return new Map(e);if(Bx(e))return new Set(e);if(Fx(e))return Array[Lx].slice.call(e);const n=P3(e);if(t===!0||t==="class_only"&&!n){const r=Fa.getOwnPropertyDescriptors(e);delete r[sa];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o[hg]===!1&&(o[hg]=!0,o[Cw]=!0),(o.get||o.set)&&(r[s]={[Cw]:!0,[hg]:!0,[o0]:o[o0],[Um]:e[s]})}return Fa.create(Ud(e),r)}else{const r=Ud(e);if(r!==null&&n)return{...e};const i=Fa.create(r);return Fa.assign(i,e)}}function AN(e,t=!1){return zx(e)||dl(e)||!Vs(e)||(ph(e)>1&&Fa.defineProperties(e,{set:Ep,add:Ep,clear:Ep,delete:Ep}),Fa.freeze(e),t&&$x(e,(n,r)=>{AN(r,!0)},!1)),e}function DH(){_s(2)}var Ep={[Um]:DH};function zx(e){return e===null||!jN(e)?!0:Fa.isFrozen(e)}var c0="MapSet",Dw="Patches",rA="ArrayMethods",D3={};function yu(e){const t=D3[e];return t||_s(0,e),t}var iA=e=>!!D3[e],Wm,T3=()=>Wm,TH=(e,t)=>({drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:iA(c0)?yu(c0):void 0,arrayMethodsPlugin_:iA(rA)?yu(rA):void 0});function aA(e,t){t&&(e.patchPlugin_=yu(Dw),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Tw(e){Mw(e),e.drafts_.forEach(MH),e.drafts_=null}function Mw(e){e===Wm&&(Wm=e.parent_)}var sA=e=>Wm=TH(Wm,e);function MH(e){const t=e[sa];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function oA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];if(e!==void 0&&e!==n){n[sa].modified_&&(Tw(t),_s(4)),Vs(e)&&(e=lA(t,e));const{patchPlugin_:i}=t;i&&i.generateReplacementPatches_(n[sa].base_,e,t)}else e=lA(t,n);return EH(t,e,!0),Tw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==A3?e:void 0}function lA(e,t){if(zx(t))return t;const n=t[sa];if(!n)return u0(t,e.handledSet_,e);if(!Ux(n,e))return t;if(!n.modified_)return n.base_;if(!n.finalized_){const{callbacks_:r}=n;if(r)for(;r.length>0;)r.pop()(e);O3(n,e)}return n.copy_}function EH(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&AN(t,n)}function M3(e){e.finalized_=!0,e.scope_.unfinalizedDrafts_--}var Ux=(e,t)=>e.scope_===t,OH=[];function E3(e,t,n,r){const i=qo(e),a=e.type_;if(r!==void 0&&Aw(i,r,a)===t){l0(i,r,n,a);return}if(!e.draftLocations_){const o=e.draftLocations_=new Map;$x(i,(c,u)=>{if(dl(u)){const d=o.get(u)||[];d.push(c),o.set(u,d)}})}const s=e.draftLocations_.get(t)??OH;for(const o of s)l0(i,o,n,a)}function IH(e,t,n){e.callbacks_.push(function(i){var o;const a=t;if(!a||!Ux(a,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(a);const s=CN(a);E3(e,a.draft_??a,s,n),O3(a,i)})}function O3(e,t){var r;if(e.modified_&&!e.finalized_&&(e.type_===3||e.type_===1&&e.allIndicesReassigned_||(((r=e.assigned_)==null?void 0:r.size)??0)>0)){const{patchPlugin_:i}=t;if(i){const a=i.getPath(e);a&&i.generatePatches_(e,a,t)}M3(e)}}function _H(e,t,n){const{scope_:r}=e;if(dl(n)){const i=n[sa];Ux(i,r)&&i.callbacks_.push(function(){pg(e);const s=CN(i);E3(e,n,s,t)})}else Vs(n)&&e.callbacks_.push(function(){const a=qo(e);e.type_===3?a.has(n)&&u0(n,r.handledSet_,r):Aw(a,t,e.type_)===n&&r.drafts_.length>1&&(e.assigned_.get(t)??!1)===!0&&e.copy_&&u0(Aw(e.copy_,t,e.type_),r.handledSet_,r)})}function u0(e,t,n){return!n.immer_.autoFreeze_&&n.unfinalizedDrafts_<1||dl(e)||t.has(e)||!Vs(e)||zx(e)||(t.add(e),$x(e,(r,i)=>{if(dl(i)){const a=i[sa];if(Ux(a,n)){const s=CN(a);l0(e,r,s,e.type_),M3(a)}}else Vs(i)&&u0(i,t,n)})),e}function LH(e,t){const n=Fx(e),r={type_:n?1:0,scope_:t?t.scope_:T3(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=r,a=d0;n&&(i=[r],a=Vm);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,[o,r]}var d0={get(e,t){if(t===sa)return e;let n=e.scope_.arrayMethodsPlugin_;const r=e.type_===1&&typeof t=="string";if(r&&n!=null&&n.isArrayOperationMethod(t))return n.createMethodInterceptor(e,t);const i=qo(e);if(!nA(i,t,e.type_))return $H(e,i,t);const a=i[t];if(e.finalized_||!Vs(a)||r&&e.operationMethod&&(n!=null&&n.isMutatingArrayMethod(e.operationMethod))&&PH(t))return a;if(a===Nv(e.base_,t)){pg(e);const s=e.type_===1?+t:t,o=Ow(e.scope_,a,e,s);return e.copy_[s]=o}return a},has(e,t){return t in qo(e)},ownKeys(e){return Reflect.ownKeys(qo(e))},set(e,t,n){const r=I3(qo(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Nv(qo(e),t),a=i==null?void 0:i[sa];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_.set(t,!1),!0;if(AH(n,i)&&(n!==void 0||nA(e.base_,t,e.type_)))return!0;pg(e),Ew(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_.set(t,!0),_H(e,t,n)),!0},deleteProperty(e,t){return pg(e),Nv(e.base_,t)!==void 0||t in e.base_?(e.assigned_.set(t,!1),Ew(e)):e.assigned_.delete(t),e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=qo(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{[hg]:!0,[Cw]:e.type_!==1||t!=="length",[o0]:r[o0],[Um]:n[t]}},defineProperty(){_s(11)},getPrototypeOf(e){return Ud(e.base_)},setPrototypeOf(){_s(12)}},Vm={};for(let e in d0){let t=d0[e];Vm[e]=function(){const n=arguments;return n[0]=n[0][0],t.apply(this,n)}}Vm.deleteProperty=function(e,t){return Vm.set.call(this,e,t,void 0)};Vm.set=function(e,t,n){return d0.set.call(this,e[0],t,n,e[0])};function Nv(e,t){const n=e[sa];return(n?qo(n):e)[t]}function $H(e,t,n){var i;const r=I3(t,n);return r?Um in r?r[Um]:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function I3(e,t){if(!(t in e))return;let n=Ud(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Ud(n)}}function Ew(e){e.modified_||(e.modified_=!0,e.parent_&&Ew(e.parent_))}function pg(e){e.copy_||(e.assigned_=new Map,e.copy_=Pw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var FH=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(n,r,i)=>{if(ed(n)&&!ed(r)){const s=r;r=n;const o=this;return function(u=s,...d){return o.produce(u,f=>r.call(this,f,...d))}}ed(r)||_s(6),i!==void 0&&!ed(i)&&_s(7);let a;if(Vs(n)){const s=sA(this),o=Ow(s,n,void 0);let c=!0;try{a=r(o),c=!1}finally{c?Tw(s):Mw(s)}return aA(s,i),oA(a,s)}else if(!n||!jN(n)){if(a=r(n),a===void 0&&(a=n),a===A3&&(a=void 0),this.autoFreeze_&&AN(a,!0),i){const s=[],o=[];yu(Dw).generateReplacementPatches_(n,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else _s(1,n)},this.produceWithPatches=(n,r)=>{if(ed(n))return(o,...c)=>this.produceWithPatches(o,u=>n(u,...c));let i,a;return[this.produce(n,r,(o,c)=>{i=o,a=c}),i,a]},kv(t==null?void 0:t.autoFreeze)&&this.setAutoFreeze(t.autoFreeze),kv(t==null?void 0:t.useStrictShallowCopy)&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),kv(t==null?void 0:t.useStrictIteration)&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Vs(t)||_s(8),dl(t)&&(t=Bs(t));const n=sA(this),r=Ow(n,t,void 0);return r[sa].isManual_=!0,Mw(n),r}finishDraft(t,n){const r=t&&t[sa];(!r||!r.isManual_)&&_s(9);const{scope_:i}=r;return aA(i,n),oA(void 0,i)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,n){let r;for(r=n.length-1;r>=0;r--){const a=n[r];if(a.path.length===0&&a.op==="replace"){t=a.value;break}}r>-1&&(n=n.slice(r+1));const i=yu(Dw).applyPatches_;return dl(t)?i(t,n):this.produce(t,a=>i(a,n))}};function Ow(e,t,n,r){const[i,a]=Rx(t)?yu(c0).proxyMap_(t,n):Bx(t)?yu(c0).proxySet_(t,n):LH(t,n);return((n==null?void 0:n.scope_)??T3()).drafts_.push(i),a.callbacks_=(n==null?void 0:n.callbacks_)??[],a.key_=r,n&&r!==void 0?IH(n,a,r):a.callbacks_.push(function(c){var d;(d=c.mapSetPlugin_)==null||d.fixSetContents(a);const{patchPlugin_:u}=c;a.modified_&&u&&u.generatePatches_(a,[],c)}),i}function Bs(e){return dl(e)||_s(10,e),_3(e)}function _3(e){if(!Vs(e)||zx(e))return e;const t=e[sa];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Pw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Pw(e,!0);return $x(n,(i,a)=>{l0(n,i,_3(a))},r),t&&(t.finalized_=!1),n}var RH=new FH,L3=RH.produce;function $3(e){return({dispatch:n,getState:r})=>i=>a=>typeof a=="function"?a(n,r,e):i(a)}var BH=$3(),zH=$3,UH=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?a0:a0.apply(null,arguments)};function vs(e,t){function n(...r){if(t){let i=t(...r);if(!i)throw new Error(za(0));return{type:e,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:e,payload:r[0]}}return n.toString=()=>`${e}`,n.type=e,n.match=r=>C3(r)&&r.type===e,n}var F3=class Qf extends Array{constructor(...t){super(...t),Object.setPrototypeOf(this,Qf.prototype)}static get[Symbol.species](){return Qf}concat(...t){return super.concat.apply(this,t)}prepend(...t){return t.length===1&&Array.isArray(t[0])?new Qf(...t[0].concat(this)):new Qf(...t.concat(this))}};function cA(e){return Vs(e)?L3(e,()=>{}):e}function Op(e,t,n){return e.has(t)?e.get(t):e.set(t,n(t)).get(t)}function WH(e){return typeof e=="boolean"}var VH=()=>function(t){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=t??{};let s=new F3;return n&&(WH(n)?s.push(BH):s.push(zH(n.extraArgument))),s},R3="RTK_autoBatch",fr=()=>e=>({payload:e,meta:{[R3]:!0}}),uA=e=>t=>{setTimeout(t,e)},B3=(e={type:"raf"})=>t=>(...n)=>{const r=t(...n);let i=!0,a=!1,s=!1;const o=new Set,c=e.type==="tick"?queueMicrotask:e.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:uA(10):e.type==="callback"?e.queueNotification:uA(e.timeout),u=()=>{s=!1,a&&(a=!1,o.forEach(d=>d()))};return Object.assign({},r,{subscribe(d){const f=()=>i&&d(),h=r.subscribe(f);return o.add(d),()=>{h(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[R3]),a=!i,a&&(s||(s=!0,c(u))),r.dispatch(d)}finally{i=!0}}})},HH=e=>function(n){const{autoBatch:r=!0}=n??{};let i=new F3(e);return r&&i.push(B3(typeof r=="object"?r:void 0)),i};function qH(e){const t=VH(),{reducer:n=void 0,middleware:r,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=e||{};let o;if(typeof n=="function")o=n;else if(SN(n))o=j3(n);else throw new Error(za(1));let c;typeof r=="function"?c=r(t):c=t();let u=a0;i&&(u=UH({trace:!1,...typeof i=="object"&&i}));const d=jH(...c),f=HH(d);let h=typeof s=="function"?s(f):f();const m=u(...h);return S3(o,a,m)}function z3(e){const t={},n=[];let r;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(za(28));if(o in t)throw new Error(za(29));return t[o]=s,i},addAsyncThunk(a,s){return s.pending&&(t[a.pending.type]=s.pending),s.rejected&&(t[a.rejected.type]=s.rejected),s.fulfilled&&(t[a.fulfilled.type]=s.fulfilled),s.settled&&n.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return n.push({matcher:a,reducer:s}),i},addDefaultCase(a){return r=a,i}};return e(i),[t,n,r]}function KH(e){return typeof e=="function"}function GH(e,t){let[n,r,i]=z3(t),a;if(KH(e))a=()=>cA(e());else{const o=cA(e);a=()=>o}function s(o=a(),c){let u=[n[c.type],...r.filter(({matcher:d})=>d(c)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(dl(d)){const m=f(d,c);return m===void 0?d:m}else{if(Vs(d))return L3(d,h=>f(h,c));{const h=f(d,c);if(h===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return h}}return d},o)}return s.getInitialState=a,s}var YH="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",XH=(e=21)=>{let t="",n=e;for(;n--;)t+=YH[Math.random()*64|0];return t},QH=Symbol.for("rtk-slice-createasyncthunk");function ZH(e,t){return`${e}/${t}`}function JH({creators:e}={}){var n;const t=(n=e==null?void 0:e.asyncThunk)==null?void 0:n[QH];return function(i){const{name:a,reducerPath:s=a}=i;if(!a)throw new Error(za(11));const o=(typeof i.reducers=="function"?i.reducers(t7()):i.reducers)||{},c=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(N,j){const k=typeof N=="string"?N:N.type;if(!k)throw new Error(za(12));if(k in u.sliceCaseReducersByType)throw new Error(za(13));return u.sliceCaseReducersByType[k]=j,d},addMatcher(N,j){return u.sliceMatchers.push({matcher:N,reducer:j}),d},exposeAction(N,j){return u.actionCreators[N]=j,d},exposeCaseReducer(N,j){return u.sliceCaseReducersByName[N]=j,d}};c.forEach(N=>{const j=o[N],k={reducerName:N,type:ZH(a,N),createNotation:typeof i.reducers=="function"};r7(j)?a7(k,j,d,t):n7(k,j,d)});function f(){const[N={},j=[],k=void 0]=typeof i.extraReducers=="function"?z3(i.extraReducers):[i.extraReducers],C={...N,...u.sliceCaseReducersByType};return GH(i.initialState,E=>{for(let R in C)E.addCase(R,C[R]);for(let R of u.sliceMatchers)E.addMatcher(R.matcher,R.reducer);for(let R of j)E.addMatcher(R.matcher,R.reducer);k&&E.addDefaultCase(k)})}const h=N=>N,m=new Map,p=new WeakMap;let x;function v(N,j){return x||(x=f()),x(N,j)}function b(){return x||(x=f()),x.getInitialState()}function y(N,j=!1){function k(E){let R=E[N];return typeof R>"u"&&j&&(R=Op(p,k,b)),R}function C(E=h){const R=Op(m,j,()=>new WeakMap);return Op(R,E,()=>{const T={};for(const[$,I]of Object.entries(i.selectors??{}))T[$]=e7(I,E,()=>Op(p,E,b),j);return T})}return{reducerPath:N,getSelectors:C,get selectors(){return C(k)},selectSlice:k}}const w={name:a,reducer:v,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:b,...y(s),injectInto(N,{reducerPath:j,...k}={}){const C=j??s;return N.inject({reducerPath:C,reducer:v},k),{...w,...y(C,!0)}}};return w}}function e7(e,t,n,r){function i(a,...s){let o=t(a);return typeof o>"u"&&r&&(o=n()),e(o,...s)}return i.unwrapped=e,i}var ja=JH();function t7(){function e(t,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:t,...n}}return e.withTypes=()=>e,{reducer(t){return Object.assign({[t.name](...n){return t(...n)}}[t.name],{_reducerDefinitionType:"reducer"})},preparedReducer(t,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:t,reducer:n}},asyncThunk:e}}function n7({type:e,reducerName:t,createNotation:n},r,i){let a,s;if("reducer"in r){if(n&&!i7(r))throw new Error(za(17));a=r.reducer,s=r.prepare}else a=r;i.addCase(e,a).exposeCaseReducer(t,a).exposeAction(t,s?vs(e,s):vs(e))}function r7(e){return e._reducerDefinitionType==="asyncThunk"}function i7(e){return e._reducerDefinitionType==="reducerWithPrepare"}function a7({type:e,reducerName:t},n,r,i){if(!i)throw new Error(za(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:u,options:d}=n,f=i(e,a,d);r.exposeAction(t,f),s&&r.addCase(f.fulfilled,s),o&&r.addCase(f.pending,o),c&&r.addCase(f.rejected,c),u&&r.addMatcher(f.settled,u),r.exposeCaseReducer(t,{fulfilled:s||Ip,pending:o||Ip,rejected:c||Ip,settled:u||Ip})}function Ip(){}var s7="task",U3="listener",W3="completed",PN="cancelled",o7=`task-${PN}`,l7=`task-${W3}`,Iw=`${U3}-${PN}`,c7=`${U3}-${W3}`,Wx=class{constructor(e){Vb(this,"name","TaskAbortError");Vb(this,"message");this.code=e,this.message=`${s7} ${PN} (reason: ${e})`}},DN=(e,t)=>{if(typeof e!="function")throw new TypeError(za(32))},f0=()=>{},V3=(e,t=f0)=>(e.catch(t),e),H3=(e,t)=>(e.addEventListener("abort",t,{once:!0}),()=>e.removeEventListener("abort",t)),ou=e=>{if(e.aborted)throw new Wx(e.reason)};function q3(e,t){let n=f0;return new Promise((r,i)=>{const a=()=>i(new Wx(e.reason));if(e.aborted){a();return}n=H3(e,a),t.finally(()=>n()).then(r,i)}).finally(()=>{n=f0})}var u7=async(e,t)=>{try{return await Promise.resolve(),{status:"ok",value:await e()}}catch(n){return{status:n instanceof Wx?"cancelled":"rejected",error:n}}finally{t==null||t()}},m0=e=>t=>V3(q3(e,t).then(n=>(ou(e),n))),K3=e=>{const t=m0(e);return n=>t(new Promise(r=>setTimeout(r,n)))},{assign:Pd}=Object,dA={},Vx="listenerMiddleware",d7=(e,t)=>{const n=r=>H3(e,()=>r.abort(e.reason));return(r,i)=>{DN(r);const a=new AbortController;n(a);const s=u7(async()=>{ou(e),ou(a.signal);const o=await r({pause:m0(a.signal),delay:K3(a.signal),signal:a.signal});return ou(a.signal),o},()=>a.abort(l7));return i!=null&&i.autoJoin&&t.push(s.catch(f0)),{result:m0(e)(s),cancel(){a.abort(o7)}}}},f7=(e,t)=>{const n=async(r,i)=>{ou(t);let a=()=>{};const o=[new Promise((c,u)=>{let d=e({predicate:r,effect:(f,h)=>{h.unsubscribe(),c([f,h.getState(),h.getOriginalState()])}});a=()=>{d(),u()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await q3(t,Promise.race(o));return ou(t),c}finally{a()}};return(r,i)=>V3(n(r,i))},G3=e=>{let{type:t,actionCreator:n,matcher:r,predicate:i,effect:a}=e;if(t)i=vs(t).match;else if(n)t=n.type,i=n.match;else if(r)i=r;else if(!i)throw new Error(za(21));return DN(a),{predicate:i,type:t,effect:a}},Y3=Pd(e=>{const{type:t,predicate:n,effect:r}=G3(e);return{id:XH(),effect:r,type:t,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(za(22))}}},{withTypes:()=>Y3}),fA=(e,t)=>{const{type:n,effect:r,predicate:i}=G3(t);return Array.from(e.values()).find(a=>(typeof n=="string"?a.type===n:a.predicate===i)&&a.effect===r)},_w=e=>{e.pending.forEach(t=>{t.abort(Iw)})},m7=(e,t)=>()=>{for(const n of t.keys())_w(n);e.clear()},mA=(e,t,n)=>{try{e(t,n)}catch(r){setTimeout(()=>{throw r},0)}},X3=Pd(vs(`${Vx}/add`),{withTypes:()=>X3}),h7=vs(`${Vx}/removeAll`),Q3=Pd(vs(`${Vx}/remove`),{withTypes:()=>Q3}),p7=(...e)=>{console.error(`${Vx}/error`,...e)},gh=(e={})=>{const t=new Map,n=new Map,r=m=>{const p=n.get(m)??0;n.set(m,p+1)},i=m=>{const p=n.get(m)??1;p===1?n.delete(m):n.set(m,p-1)},{extra:a,onError:s=p7}=e;DN(s);const o=m=>(m.unsubscribe=()=>t.delete(m.id),t.set(m.id,m),p=>{m.unsubscribe(),p!=null&&p.cancelActive&&_w(m)}),c=m=>{const p=fA(t,m)??Y3(m);return o(p)};Pd(c,{withTypes:()=>c});const u=m=>{const p=fA(t,m);return p&&(p.unsubscribe(),m.cancelActive&&_w(p)),!!p};Pd(u,{withTypes:()=>u});const d=async(m,p,x,v)=>{const b=new AbortController,y=f7(c,b.signal),w=[];try{m.pending.add(b),r(m),await Promise.resolve(m.effect(p,Pd({},x,{getOriginalState:v,condition:(N,j)=>y(N,j).then(Boolean),take:y,delay:K3(b.signal),pause:m0(b.signal),extra:a,signal:b.signal,fork:d7(b.signal,w),unsubscribe:m.unsubscribe,subscribe:()=>{t.set(m.id,m)},cancelActiveListeners:()=>{m.pending.forEach((N,j,k)=>{N!==b&&(N.abort(Iw),k.delete(N))})},cancel:()=>{b.abort(Iw),m.pending.delete(b)},throwIfCancelled:()=>{ou(b.signal)}})))}catch(N){N instanceof Wx||mA(s,N,{raisedBy:"effect"})}finally{await Promise.all(w),b.abort(c7),i(m),m.pending.delete(b)}},f=m7(t,n);return{middleware:m=>p=>x=>{if(!C3(x))return p(x);if(X3.match(x))return c(x.payload);if(h7.match(x)){f();return}if(Q3.match(x))return u(x.payload);let v=m.getState();const b=()=>{if(v===dA)throw new Error(za(23));return v};let y;try{if(y=p(x),t.size>0){const w=m.getState(),N=Array.from(t.values());for(const j of N){let k=!1;try{k=j.predicate(x,w,v)}catch(C){k=!1,mA(s,C,{raisedBy:"predicate"})}k&&d(j,x,m,b)}}}finally{v=dA}return y},startListening:c,stopListening:u,clearListeners:f}};function za(e){return`Minified Redux Toolkit error #${e}; visit https://redux-toolkit.js.org/Errors?code=${e} for the full message or use the non-minified dev environment for full errors. `}var g7={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Z3=ja({name:"chartLayout",initialState:g7,reducers:{setLayout(e,t){e.layoutType=t.payload},setChartSize(e,t){e.width=t.payload.width,e.height=t.payload.height},setMargin(e,t){var n,r,i,a;e.margin.top=(n=t.payload.top)!==null&&n!==void 0?n:0,e.margin.right=(r=t.payload.right)!==null&&r!==void 0?r:0,e.margin.bottom=(i=t.payload.bottom)!==null&&i!==void 0?i:0,e.margin.left=(a=t.payload.left)!==null&&a!==void 0?a:0},setScale(e,t){e.scale=t.payload}}}),{setMargin:x7,setLayout:b7,setChartSize:v7,setScale:y7}=Z3.actions,w7=Z3.reducer;function J3(e,t,n){return Array.isArray(e)&&e&&t+n!==0?e.slice(t,n+1):e}function hr(e){return Number.isFinite(e)}function xo(e){return typeof e=="number"&&e>0&&Number.isFinite(e)}function hA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function hd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?hA(Object(n),!0).forEach(function(r){k7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):hA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function k7(e,t,n){return(t=N7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N7(e){var t=S7(e,"string");return typeof t=="symbol"?t:t+""}function S7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function or(e,t,n){return ri(e)||ri(t)?n:bs(t)?vu(e,t,n):typeof t=="function"?t(e):n}var j7=(e,t,n)=>{if(t&&n){var{width:r,height:i}=n,{align:a,verticalAlign:s,layout:o}=t;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Lt(e[a]))return hd(hd({},e),{},{[a]:e[a]+(r||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Lt(e[s]))return hd(hd({},e),{},{[s]:e[s]+(i||0)})}return e},Sc=(e,t)=>e==="horizontal"&&t==="xAxis"||e==="vertical"&&t==="yAxis"||e==="centric"&&t==="angleAxis"||e==="radial"&&t==="radiusAxis",e_=(e,t,n,r)=>{if(r)return e.map(o=>o.coordinate);var i,a,s=e.map(o=>(o.coordinate===t&&(i=!0),o.coordinate===n&&(a=!0),o.coordinate));return i||s.push(t),a||s.push(n),s},t_=(e,t,n)=>{if(!e)return null;var{duplicateDomain:r,type:i,range:a,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:h,axisType:m}=e;if(!s)return null;var p=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,x=i==="category"&&s.bandwidth?s.bandwidth()/p:0;if(x=m==="angleAxis"&&a&&a.length>=2?Ui(a[0]-a[1])*2*x:x,f||h){var v=(f||h||[]).map((b,y)=>{var w=r?r.indexOf(b):b;return{coordinate:s(w)+x,value:b,offset:x,index:y}});return v.filter(b=>!xs(b.coordinate))}return c&&u?u.map((b,y)=>({coordinate:s(b)+x,value:b,index:y,offset:x})):s.ticks&&d!=null?s.ticks(d).map((b,y)=>({coordinate:s(b)+x,value:b,offset:x,index:y})):s.domain().map((b,y)=>({coordinate:s(b)+x,value:r?r[b]:b,index:y,offset:x}))},pA=1e-4,C7=e=>{var t=e.domain();if(!(!t||t.length<=2)){var n=t.length,r=e.range(),i=Math.min(r[0],r[1])-pA,a=Math.max(r[0],r[1])+pA,s=e(t[0]),o=e(t[n-1]);(s<i||s>a||o<i||o>a)&&e.domain([t[0],t[n-1]])}},A7=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0,o=0;o<n;++o){var c=e[o],u=c==null?void 0:c[i];if(u!=null){var d=u[1],f=u[0],h=xs(d)?f:d;h>=0?(u[0]=a,u[1]=a+h,a=d):(u[0]=s,u[1]=s+h,s=d)}}}},P7=e=>{var t,n=e.length;if(!(n<=0)){var r=(t=e[0])===null||t===void 0?void 0:t.length;if(!(r==null||r<=0))for(var i=0;i<r;++i)for(var a=0,s=0;s<n;++s){var o=e[s],c=o==null?void 0:o[i];if(c!=null){var u=xs(c[1])?c[0]:c[1];u>=0?(c[0]=a,c[1]=a+u,a=c[1]):(c[0]=0,c[1]=0)}}}},D7={sign:A7,expand:l9,none:bu,silhouette:c9,wiggle:u9,positive:P7},T7=(e,t,n)=>{var r,i=(r=D7[n])!==null&&r!==void 0?r:bu,a=o9().keys(t).value((o,c)=>Number(or(o,c,0))).order(Sw).offset(i),s=a(e);return s.forEach((o,c)=>{o.forEach((u,d)=>{var f=or(e[d],t[c],0);Array.isArray(f)&&f.length===2&&Lt(f[0])&&Lt(f[1])&&(u[0]=f[0],u[1]=f[1])})}),s};function gA(e){var{axis:t,ticks:n,bandSize:r,entry:i,index:a,dataKey:s}=e;if(t.type==="category"){if(!t.allowDuplicatedCategory&&t.dataKey&&!ri(i[t.dataKey])){var o=VI(n,"value",i[t.dataKey]);if(o)return o.coordinate+r/2}return n[a]?n[a].coordinate+r/2:null}var c=or(i,ri(s)?t.dataKey:s);return ri(c)?null:t.scale(c)}var M7=e=>{var t=e.flat(2).filter(Lt);return[Math.min(...t),Math.max(...t)]},E7=e=>[e[0]===1/0?0:e[0],e[1]===-1/0?0:e[1]],O7=(e,t,n)=>{if(e!=null)return E7(Object.keys(e).reduce((r,i)=>{var a=e[i];if(!a)return r;var{stackedData:s}=a,o=s.reduce((c,u)=>{var d=J3(u,t,n),f=M7(d);return!hr(f[0])||!hr(f[1])?c:[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],r[0]),Math.max(o[1],r[1])]},[1/0,-1/0]))},xA=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,bA=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,h0=(e,t,n)=>{if(e&&e.scale&&e.scale.bandwidth){var r=e.scale.bandwidth();if(!n||r>0)return r}if(e&&t&&t.length>=2){for(var i=_x(t,d=>d.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var c=i[s],u=i[s-1];a=Math.min(((c==null?void 0:c.coordinate)||0)-((u==null?void 0:u.coordinate)||0),a)}return a===1/0?0:a}return n?void 0:0};function vA(e){var{tooltipEntrySettings:t,dataKey:n,payload:r,value:i,name:a}=e;return hd(hd({},t),{},{dataKey:n,payload:r,value:i,name:a})}function Hx(e,t){if(e)return String(e);if(typeof t=="string")return t}var I7=(e,t)=>{if(t==="horizontal")return e.chartX;if(t==="vertical")return e.chartY},_7=(e,t)=>t==="centric"?e.angle:e.radius,vl=e=>e.layout.width,yl=e=>e.layout.height,L7=e=>e.layout.scale,n_=e=>e.layout.margin,qx=Be(e=>e.cartesianAxis.xAxis,e=>Object.values(e)),Kx=Be(e=>e.cartesianAxis.yAxis,e=>Object.values(e)),r_="data-recharts-item-index",i_="data-recharts-item-id",xh=60;function yA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yA(Object(n),!0).forEach(function(r){$7(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $7(e,t,n){return(t=F7(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function F7(e){var t=R7(e,"string");return typeof t=="symbol"?t:t+""}function R7(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var B7=e=>e.brush.height;function z7(e){var t=Kx(e);return t.reduce((n,r)=>{if(r.orientation==="left"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:xh;return n+i}return n},0)}function U7(e){var t=Kx(e);return t.reduce((n,r)=>{if(r.orientation==="right"&&!r.mirror&&!r.hide){var i=typeof r.width=="number"?r.width:xh;return n+i}return n},0)}function W7(e){var t=qx(e);return t.reduce((n,r)=>r.orientation==="top"&&!r.mirror&&!r.hide?n+r.height:n,0)}function V7(e){var t=qx(e);return t.reduce((n,r)=>r.orientation==="bottom"&&!r.mirror&&!r.hide?n+r.height:n,0)}var vi=Be([vl,yl,n_,B7,z7,U7,W7,V7,k3,bH],(e,t,n,r,i,a,s,o,c,u)=>{var d={left:(n.left||0)+i,right:(n.right||0)+a},f={top:(n.top||0)+s,bottom:(n.bottom||0)+o},h=_p(_p({},f),d),m=h.bottom;h.bottom+=r,h=j7(h,c,u);var p=e-h.left-h.right,x=t-h.top-h.bottom;return _p(_p({brushBottom:m},h),{},{width:Math.max(p,0),height:Math.max(x,0)})}),H7=Be(vi,e=>({x:e.left,y:e.top,width:e.width,height:e.height})),a_=Be(vl,yl,(e,t)=>({x:0,y:0,width:e,height:t})),q7=g.createContext(null),ca=()=>g.useContext(q7)!=null,Gx=e=>e.brush,Yx=Be([Gx,vi,n_],(e,t,n)=>({height:e.height,x:Lt(e.x)?e.x:t.left,y:Lt(e.y)?e.y:t.top+t.height+t.brushBottom-((n==null?void 0:n.bottom)||0),width:Lt(e.width)?e.width:t.width})),s_={},o_={},l_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n,r,{signal:i,edges:a}={}){let s,o=null;const c=a!=null&&a.includes("leading"),u=a==null||a.includes("trailing"),d=()=>{o!==null&&(n.apply(s,o),s=void 0,o=null)},f=()=>{u&&d(),x()};let h=null;const m=()=>{h!=null&&clearTimeout(h),h=setTimeout(()=>{h=null,f()},r)},p=()=>{h!==null&&(clearTimeout(h),h=null)},x=()=>{p(),s=void 0,o=null},v=()=>{d()},b=function(...y){if(i!=null&&i.aborted)return;s=this,o=y;const w=h==null;m(),c&&w&&d()};return b.schedule=m,b.cancel=x,b.flush=v,i==null||i.addEventListener("abort",x,{once:!0}),b}e.debounce=t})(l_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=l_;function n(r,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:c}=a,u=Array(2);s&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const h=t.debounce(function(...x){d=r.apply(this,x),f=null},i,{edges:u}),m=function(...x){return c!=null&&(f===null&&(f=Date.now()),Date.now()-f>=c)?(d=r.apply(this,x),f=Date.now(),h.cancel(),h.schedule(),d):(h.apply(this,x),d)},p=()=>(h.flush(),d);return m.cancel=h.cancel,m.flush=p,m}e.debounce=n})(o_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=o_;function n(r,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return t.debounce(r,i,{leading:s,maxWait:i,trailing:o})}e.throttle=n})(s_);var K7=s_.throttle;const G7=Ks(K7);var p0=function(t,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(n===void 0&&console.warn("LogUtils requires an error message argument"),!t))if(n===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(n.replace(/%s/g,()=>i[s++]))}},c_=(e,t,n)=>{var{width:r="100%",height:i="100%",aspect:a,maxHeight:s}=n,o=ul(r)?e:Number(r),c=ul(i)?t:Number(i);return a&&a>0&&(o?c=o/a:c&&(o=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},Y7={width:0,height:0,overflow:"visible"},X7={width:0,overflowX:"visible"},Q7={height:0,overflowY:"visible"},Z7={},J7=e=>{var{width:t,height:n}=e,r=ul(t),i=ul(n);return r&&i?Y7:r?X7:i?Q7:Z7};function eq(e){var{width:t,height:n,aspect:r}=e,i=t,a=n;return i===void 0&&a===void 0?(i="100%",a="100%"):i===void 0?i=r&&r>0?void 0:"100%":a===void 0&&(a=r&&r>0?void 0:"100%"),{width:i,height:a}}function Lw(){return Lw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Lw.apply(null,arguments)}function wA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function kA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?wA(Object(n),!0).forEach(function(r){tq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):wA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tq(e,t,n){return(t=nq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nq(e){var t=rq(e,"string");return typeof t=="symbol"?t:t+""}function rq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var u_=g.createContext({width:-1,height:-1});function iq(e){return xo(e.width)&&xo(e.height)}function d_(e){var{children:t,width:n,height:r}=e,i=g.useMemo(()=>({width:n,height:r}),[n,r]);return iq(i)?g.createElement(u_.Provider,{value:i},t):null}var TN=()=>g.useContext(u_),aq=g.forwardRef((e,t)=>{var{aspect:n,initialDimension:r={width:-1,height:-1},width:i,height:a,minWidth:s=0,minHeight:o,maxHeight:c,children:u,debounce:d=0,id:f,className:h,onResize:m,style:p={}}=e,x=g.useRef(null),v=g.useRef();v.current=m,g.useImperativeHandle(t,()=>x.current);var[b,y]=g.useState({containerWidth:r.width,containerHeight:r.height}),w=g.useCallback((E,R)=>{y(T=>{var $=Math.round(E),I=Math.round(R);return T.containerWidth===$&&T.containerHeight===I?T:{containerWidth:$,containerHeight:I}})},[]);g.useEffect(()=>{if(x.current==null||typeof ResizeObserver>"u")return hh;var E=I=>{var re,{width:ce,height:ve}=I[0].contentRect;w(ce,ve),(re=v.current)===null||re===void 0||re.call(v,ce,ve)};d>0&&(E=G7(E,d,{trailing:!0,leading:!1}));var R=new ResizeObserver(E),{width:T,height:$}=x.current.getBoundingClientRect();return w(T,$),R.observe(x.current),()=>{R.disconnect()}},[w,d]);var{containerWidth:N,containerHeight:j}=b;p0(!n||n>0,"The aspect(%s) must be greater than zero.",n);var{calculatedWidth:k,calculatedHeight:C}=c_(N,j,{width:i,height:a,aspect:n,maxHeight:c});return p0(k!=null&&k>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,k,C,i,a,s,o,n),g.createElement("div",{id:f?"".concat(f):void 0,className:En("recharts-responsive-container",h),style:kA(kA({},p),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:c}),ref:x},g.createElement("div",{style:J7({width:i,height:a})},g.createElement(d_,{width:k,height:C},u)))}),ys=g.forwardRef((e,t)=>{var n=TN();if(xo(n.width)&&xo(n.height))return e.children;var{width:r,height:i}=eq({width:e.width,height:e.height,aspect:e.aspect}),{calculatedWidth:a,calculatedHeight:s}=c_(void 0,void 0,{width:r,height:i,aspect:e.aspect,maxHeight:e.maxHeight});return Lt(a)&&Lt(s)?g.createElement(d_,{width:a,height:s},e.children):g.createElement(aq,Lw({},e,{width:r,height:i,ref:t}))});function f_(e){if(e)return{x:e.x,y:e.y,upperWidth:"upperWidth"in e?e.upperWidth:e.width,lowerWidth:"lowerWidth"in e?e.lowerWidth:e.width,width:e.width,height:e.height}}var bh=()=>{var e,t=ca(),n=It(H7),r=It(Yx),i=(e=It(Gx))===null||e===void 0?void 0:e.padding;return!t||!r||!i?n:{width:r.width-i.left-i.right,height:r.height-i.top-i.bottom,x:i.left,y:i.top}},sq={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},m_=()=>{var e;return(e=It(vi))!==null&&e!==void 0?e:sq},MN=()=>It(vl),EN=()=>It(yl),oq=()=>It(e=>e.layout.margin),Wn=e=>e.layout.layoutType,vh=()=>It(Wn),lq=()=>{var e=vh();return e!==void 0},Xx=e=>{var t=Kn(),n=ca(),{width:r,height:i}=e,a=TN(),s=r,o=i;return a&&(s=a.width>0?a.width:r,o=a.height>0?a.height:i),g.useEffect(()=>{!n&&xo(s)&&xo(o)&&t(v7({width:s,height:o}))},[t,n,s,o]),null},h_=Symbol.for("immer-nothing"),NA=Symbol.for("immer-draftable"),Va=Symbol.for("immer-state");function Ls(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Hm=Object.getPrototypeOf;function Wd(e){return!!e&&!!e[Va]}function wu(e){var t;return e?p_(e)||Array.isArray(e)||!!e[NA]||!!((t=e.constructor)!=null&&t[NA])||yh(e)||Zx(e):!1}var cq=Object.prototype.constructor.toString(),SA=new WeakMap;function p_(e){if(!e||typeof e!="object")return!1;const t=Object.getPrototypeOf(e);if(t===null||t===Object.prototype)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;if(n===Object)return!0;if(typeof n!="function")return!1;let r=SA.get(n);return r===void 0&&(r=Function.toString.call(n),SA.set(n,r)),r===cq}function g0(e,t,n=!0){Qx(e)===0?(n?Reflect.ownKeys(e):Object.keys(e)).forEach(i=>{t(i,e[i],e)}):e.forEach((r,i)=>t(i,r,e))}function Qx(e){const t=e[Va];return t?t.type_:Array.isArray(e)?1:yh(e)?2:Zx(e)?3:0}function $w(e,t){return Qx(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function g_(e,t,n){const r=Qx(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function uq(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function yh(e){return e instanceof Map}function Zx(e){return e instanceof Set}function Uc(e){return e.copy_||e.base_}function Fw(e,t){if(yh(e))return new Map(e);if(Zx(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=p_(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Va];let i=Reflect.ownKeys(r);for(let a=0;a<i.length;a++){const s=i[a],o=r[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(r[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:e[s]})}return Object.create(Hm(e),r)}else{const r=Hm(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function ON(e,t=!1){return Jx(e)||Wd(e)||!wu(e)||(Qx(e)>1&&Object.defineProperties(e,{set:Lp,add:Lp,clear:Lp,delete:Lp}),Object.freeze(e),t&&Object.values(e).forEach(n=>ON(n,!0))),e}function dq(){Ls(2)}var Lp={value:dq};function Jx(e){return e===null||typeof e!="object"?!0:Object.isFrozen(e)}var fq={};function ku(e){const t=fq[e];return t||Ls(0,e),t}var qm;function x_(){return qm}function mq(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function jA(e,t){t&&(ku("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Rw(e){Bw(e),e.drafts_.forEach(hq),e.drafts_=null}function Bw(e){e===qm&&(qm=e.parent_)}function CA(e){return qm=mq(qm,e)}function hq(e){const t=e[Va];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function AA(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Va].modified_&&(Rw(t),Ls(4)),wu(e)&&(e=x0(t,e),t.parent_||b0(t,e)),t.patches_&&ku("Patches").generateReplacementPatches_(n[Va].base_,e,t.patches_,t.inversePatches_)):e=x0(t,n,[]),Rw(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==h_?e:void 0}function x0(e,t,n){if(Jx(t))return t;const r=e.immer_.shouldUseStrictIteration(),i=t[Va];if(!i)return g0(t,(a,s)=>PA(e,i,t,a,s,n),r),t;if(i.scope_!==e)return t;if(!i.modified_)return b0(e,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),g0(s,(c,u)=>PA(e,i,a,c,u,n,o),r),b0(e,a,!1),n&&e.patches_&&ku("Patches").generatePatches_(i,n,e.patches_,e.inversePatches_)}return i.copy_}function PA(e,t,n,r,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Jx(i);if(!(o&&!s)){if(Wd(i)){const c=a&&t&&t.type_!==3&&!$w(t.assigned_,r)?a.concat(r):void 0,u=x0(e,i,c);if(g_(n,r,u),Wd(u))e.canAutoFreeze_=!1;else return}else s&&n.add(i);if(wu(i)&&!o){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1||t&&t.base_&&t.base_[r]===i&&o)return;x0(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&(yh(n)?n.has(r):Object.prototype.propertyIsEnumerable.call(n,r))&&b0(e,i)}}}function b0(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&ON(t,n)}function pq(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:x_(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,a=IN;n&&(i=[r],a=Km);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return r.draft_=o,r.revoke_=s,o}var IN={get(e,t){if(t===Va)return e;const n=Uc(e);if(!$w(n,t))return gq(e,n,t);const r=n[t];return e.finalized_||!wu(r)?r:r===Sv(e.base_,t)?(jv(e),e.copy_[t]=Uw(r,e)):r},has(e,t){return t in Uc(e)},ownKeys(e){return Reflect.ownKeys(Uc(e))},set(e,t,n){const r=b_(Uc(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=Sv(Uc(e),t),a=i==null?void 0:i[Va];if(a&&a.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(uq(n,i)&&(n!==void 0||$w(e.base_,t)))return!0;jv(e),zw(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return Sv(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,jv(e),zw(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Uc(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){Ls(11)},getPrototypeOf(e){return Hm(e.base_)},setPrototypeOf(){Ls(12)}},Km={};g0(IN,(e,t)=>{Km[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}});Km.deleteProperty=function(e,t){return Km.set.call(this,e,t,void 0)};Km.set=function(e,t,n){return IN.set.call(this,e[0],t,n,e[0])};function Sv(e,t){const n=e[Va];return(n?Uc(n):e)[t]}function gq(e,t,n){var i;const r=b_(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function b_(e,t){if(!(t in e))return;let n=Hm(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Hm(n)}}function zw(e){e.modified_||(e.modified_=!0,e.parent_&&zw(e.parent_))}function jv(e){e.copy_||(e.copy_=Fw(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var xq=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const a=n;n=t;const s=this;return function(c=a,...u){return s.produce(c,d=>n.call(this,d,...u))}}typeof n!="function"&&Ls(6),r!==void 0&&typeof r!="function"&&Ls(7);let i;if(wu(t)){const a=CA(this),s=Uw(t,void 0);let o=!0;try{i=n(s),o=!1}finally{o?Rw(a):Bw(a)}return jA(a,r),AA(i,a)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===h_&&(i=void 0),this.autoFreeze_&&ON(i,!0),r){const a=[],s=[];ku("Patches").generateReplacementPatches_(t,i,a,s),r(a,s)}return i}else Ls(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(s,...o)=>this.produceWithPatches(s,c=>t(c,...o));let r,i;return[this.produce(t,n,(s,o)=>{r=s,i=o}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),typeof(e==null?void 0:e.useStrictIteration)=="boolean"&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){wu(e)||Ls(8),Wd(e)&&(e=bq(e));const t=CA(this),n=Uw(e,void 0);return n[Va].isManual_=!0,Bw(t),n}finishDraft(e,t){const n=e&&e[Va];(!n||!n.isManual_)&&Ls(9);const{scope_:r}=n;return jA(r,t),AA(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=ku("Patches").applyPatches_;return Wd(e)?r(e,t):this.produce(e,i=>r(i,t))}};function Uw(e,t){const n=yh(e)?ku("MapSet").proxyMap_(e,t):Zx(e)?ku("MapSet").proxySet_(e,t):pq(e,t);return(t?t.scope_:x_()).drafts_.push(n),n}function bq(e){return Wd(e)||Ls(10,e),v_(e)}function v_(e){if(!wu(e)||Jx(e))return e;const t=e[Va];let n,r=!0;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=Fw(e,t.scope_.immer_.useStrictShallowCopy_),r=t.scope_.immer_.shouldUseStrictIteration()}else n=Fw(e,!0);return g0(n,(i,a)=>{g_(n,i,v_(a))},r),t&&(t.finalized_=!1),n}var vq=new xq;vq.produce;var yq={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},y_=ja({name:"legend",initialState:yq,reducers:{setLegendSize(e,t){e.size.width=t.payload.width,e.size.height=t.payload.height},setLegendSettings(e,t){e.settings.align=t.payload.align,e.settings.layout=t.payload.layout,e.settings.verticalAlign=t.payload.verticalAlign,e.settings.itemSorter=t.payload.itemSorter},addLegendPayload:{reducer(e,t){e.payload.push(t.payload)},prepare:fr()},replaceLegendPayload:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Bs(e).payload.indexOf(n);i>-1&&(e.payload[i]=r)},prepare:fr()},removeLegendPayload:{reducer(e,t){var n=Bs(e).payload.indexOf(t.payload);n>-1&&e.payload.splice(n,1)},prepare:fr()}}}),{setLegendSize:DA,setLegendSettings:wq,addLegendPayload:w_,replaceLegendPayload:k_,removeLegendPayload:N_}=y_.actions,kq=y_.reducer,Nq=["contextPayload"];function Ww(){return Ww=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ww.apply(null,arguments)}function TA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vd(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?TA(Object(n),!0).forEach(function(r){Sq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):TA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Sq(e,t,n){return(t=jq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jq(e){var t=Cq(e,"string");return typeof t=="symbol"?t:t+""}function Cq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Aq(e,t){if(e==null)return{};var n,r,i=Pq(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Pq(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Dq(e){return e.value}function Tq(e){var{contextPayload:t}=e,n=Aq(e,Nq),r=d3(t,e.payloadUniqBy,Dq),i=Vd(Vd({},n),{},{payload:r});return g.isValidElement(e.content)?g.cloneElement(e.content,i):typeof e.content=="function"?g.createElement(e.content,i):g.createElement($9,i)}function Mq(e,t,n,r,i,a){var{layout:s,align:o,verticalAlign:c}=t,u,d;return(!e||(e.left===void 0||e.left===null)&&(e.right===void 0||e.right===null))&&(o==="center"&&s==="vertical"?u={left:((r||0)-a.width)/2}:u=o==="right"?{right:n&&n.right||0}:{left:n&&n.left||0}),(!e||(e.top===void 0||e.top===null)&&(e.bottom===void 0||e.bottom===null))&&(c==="middle"?d={top:((i||0)-a.height)/2}:d=c==="bottom"?{bottom:n&&n.bottom||0}:{top:n&&n.top||0}),Vd(Vd({},u),d)}function Eq(e){var t=Kn();return g.useEffect(()=>{t(wq(e))},[t,e]),null}function Oq(e){var t=Kn();return g.useEffect(()=>(t(DA(e)),()=>{t(DA({width:0,height:0}))}),[t,e]),null}function Iq(e,t,n,r){return e==="vertical"&&Lt(t)?{height:t}:e==="horizontal"?{width:n||r}:null}var _q={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function S_(e){var t=Zr(e,_q),n=wH(),r=MV(),i=oq(),{width:a,height:s,wrapperStyle:o,portal:c}=t,[u,d]=N3([n]),f=MN(),h=EN();if(f==null||h==null)return null;var m=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),p=Iq(t.layout,s,a,m),x=c?o:Vd(Vd({position:"absolute",width:(p==null?void 0:p.width)||a||"auto",height:(p==null?void 0:p.height)||s||"auto"},Mq(o,t,i,f,h,u)),o),v=c??r;if(v==null||n==null)return null;var b=g.createElement("div",{className:"recharts-legend-wrapper",style:x,ref:d},g.createElement(Eq,{layout:t.layout,align:t.align,verticalAlign:t.verticalAlign,itemSorter:t.itemSorter}),!c&&g.createElement(Oq,{width:u.width,height:u.height}),g.createElement(Tq,Ww({},t,p,{margin:i,chartWidth:f,chartHeight:h,contextPayload:n})));return rf.createPortal(b,v)}S_.displayName="Legend";function Vw(){return Vw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Vw.apply(null,arguments)}function MA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Cv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MA(Object(n),!0).forEach(function(r){Lq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lq(e,t,n){return(t=$q(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $q(e){var t=Fq(e,"string");return typeof t=="symbol"?t:t+""}function Fq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Rq(e){return Array.isArray(e)&&bs(e[0])&&bs(e[1])?e.join(" ~ "):e}var Bq=e=>{var{separator:t=" : ",contentStyle:n={},itemStyle:r={},labelStyle:i={},payload:a,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:h=!1}=e,m=()=>{if(a&&a.length){var j={padding:0,margin:0},k=(o?_x(a,o):a).map((C,E)=>{if(C.type==="none")return null;var R=C.formatter||s||Rq,{value:T,name:$}=C,I=T,re=$;if(R){var ce=R(T,$,C,E,a);if(Array.isArray(ce))[I,re]=ce;else if(ce!=null)I=ce;else return null}var ve=Cv({display:"block",paddingTop:4,paddingBottom:4,color:C.color||"#000"},r);return g.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(E),style:ve},bs(re)?g.createElement("span",{className:"recharts-tooltip-item-name"},re):null,bs(re)?g.createElement("span",{className:"recharts-tooltip-item-separator"},t):null,g.createElement("span",{className:"recharts-tooltip-item-value"},I),g.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return g.createElement("ul",{className:"recharts-tooltip-item-list",style:j},k)}return null},p=Cv({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},n),x=Cv({margin:0},i),v=!ri(d),b=v?d:"",y=En("recharts-default-tooltip",c),w=En("recharts-tooltip-label",u);v&&f&&a!==void 0&&a!==null&&(b=f(d,a));var N=h?{role:"status","aria-live":"assertive"}:{};return g.createElement("div",Vw({className:y,style:p},N),g.createElement("p",{className:w,style:x},g.isValidElement(b)?b:"".concat(b)),m())},Ef="recharts-tooltip-wrapper",zq={visibility:"hidden"};function Uq(e){var{coordinate:t,translateX:n,translateY:r}=e;return En(Ef,{["".concat(Ef,"-right")]:Lt(n)&&t&&Lt(t.x)&&n>=t.x,["".concat(Ef,"-left")]:Lt(n)&&t&&Lt(t.x)&&n<t.x,["".concat(Ef,"-bottom")]:Lt(r)&&t&&Lt(t.y)&&r>=t.y,["".concat(Ef,"-top")]:Lt(r)&&t&&Lt(t.y)&&r<t.y})}function EA(e){var{allowEscapeViewBox:t,coordinate:n,key:r,offsetTopLeft:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:u}=e;if(a&&Lt(a[r]))return a[r];var d=n[r]-o-(i>0?i:0),f=n[r]+i;if(t[r])return s[r]?d:f;var h=c[r];if(h==null)return 0;if(s[r]){var m=d,p=h;return m<p?Math.max(f,h):Math.max(d,h)}if(u==null)return 0;var x=f+o,v=h+u;return x>v?Math.max(d,h):Math.max(f,h)}function Wq(e){var{translateX:t,translateY:n,useTranslate3d:r}=e;return{transform:r?"translate3d(".concat(t,"px, ").concat(n,"px, 0)"):"translate(".concat(t,"px, ").concat(n,"px)")}}function Vq(e){var{allowEscapeViewBox:t,coordinate:n,offsetTopLeft:r,position:i,reverseDirection:a,tooltipBox:s,useTranslate3d:o,viewBox:c}=e,u,d,f;return s.height>0&&s.width>0&&n?(d=EA({allowEscapeViewBox:t,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.width,viewBox:c,viewBoxDimension:c.width}),f=EA({allowEscapeViewBox:t,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:a,tooltipDimension:s.height,viewBox:c,viewBoxDimension:c.height}),u=Wq({translateX:d,translateY:f,useTranslate3d:o})):u=zq,{cssProperties:u,cssClasses:Uq({translateX:d,translateY:f,coordinate:n})}}function OA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $p(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?OA(Object(n),!0).forEach(function(r){Hw(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):OA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hw(e,t,n){return(t=Hq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Hq(e){var t=qq(e,"string");return typeof t=="symbol"?t:t+""}function qq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class Kq extends g.PureComponent{constructor(){super(...arguments),Hw(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),Hw(this,"handleKeyDown",t=>{if(t.key==="Escape"){var n,r,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(n=(r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==null&&n!==void 0?n:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var t,n;this.state.dismissed&&(((t=this.props.coordinate)===null||t===void 0?void 0:t.x)!==this.state.dismissedAtCoordinate.x||((n=this.props.coordinate)===null||n===void 0?void 0:n.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:t,allowEscapeViewBox:n,animationDuration:r,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:c,offset:u,position:d,reverseDirection:f,useTranslate3d:h,viewBox:m,wrapperStyle:p,lastBoundingBox:x,innerRef:v,hasPortalFromProps:b}=this.props,{cssClasses:y,cssProperties:w}=Vq({allowEscapeViewBox:n,coordinate:s,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:x.height,width:x.width},useTranslate3d:h,viewBox:m}),N=b?{}:$p($p({transition:c&&t?"transform ".concat(r,"ms ").concat(i):void 0},w),{},{pointerEvents:"none",visibility:!this.state.dismissed&&t&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=$p($p({},N),{},{visibility:!this.state.dismissed&&t&&o?"visible":"hidden"},p);return g.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:y,style:j,ref:v},a)}}var j_=()=>{var e;return(e=It(t=>t.rootProps.accessibilityLayer))!==null&&e!==void 0?e:!0};function qw(){return qw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},qw.apply(null,arguments)}function IA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?IA(Object(n),!0).forEach(function(r){Gq(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):IA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Gq(e,t,n){return(t=Yq(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Yq(e){var t=Xq(e,"string");return typeof t=="symbol"?t:t+""}function Xq(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var LA={curveBasisClosed:XV,curveBasisOpen:QV,curveBasis:YV,curveBumpX:_V,curveBumpY:LV,curveLinearClosed:ZV,curveLinear:Ax,curveMonotoneX:JV,curveMonotoneY:e9,curveNatural:t9,curveStep:n9,curveStepAfter:i9,curveStepBefore:r9},v0=e=>hr(e.x)&&hr(e.y),$A=e=>e.base!=null&&v0(e.base)&&v0(e),Of=e=>e.x,If=e=>e.y,Qq=(e,t)=>{if(typeof e=="function")return e;var n="curve".concat(mh(e));return(n==="curveMonotone"||n==="curveBump")&&t?LA["".concat(n).concat(t==="vertical"?"Y":"X")]:LA[n]||Ax},Zq=e=>{var{type:t="linear",points:n=[],baseLine:r,layout:i,connectNulls:a=!1}=e,s=Qq(t,i),o=a?n.filter(v0):n,c;if(Array.isArray(r)){var u=n.map((m,p)=>_A(_A({},m),{},{base:r[p]}));i==="vertical"?c=Dp().y(If).x1(Of).x0(m=>m.base.x):c=Dp().x(Of).y1(If).y0(m=>m.base.y);var d=c.defined($A).curve(s),f=a?u.filter($A):u;return d(f)}i==="vertical"&&Lt(r)?c=Dp().y(If).x1(Of).x0(r):Lt(r)?c=Dp().x(Of).y1(If).y0(r):c=TI().x(Of).y(If);var h=c.defined(v0).curve(s);return h(o)},_N=e=>{var{className:t,points:n,path:r,pathRef:i}=e,a=vh();if((!n||!n.length)&&!r)return null;var s={type:e.type,points:e.points,baseLine:e.baseLine,layout:e.layout||a,connectNulls:e.connectNulls},o=n&&n.length?Zq(s):r;return g.createElement("path",qw({},gs(e),dN(e),{className:En("recharts-curve",t),d:o===null?void 0:o,ref:i}))},Jq=["x","y","top","left","width","height","className"];function Kw(){return Kw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kw.apply(null,arguments)}function FA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function eK(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?FA(Object(n),!0).forEach(function(r){tK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):FA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function tK(e,t,n){return(t=nK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function nK(e){var t=rK(e,"string");return typeof t=="symbol"?t:t+""}function rK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function iK(e,t){if(e==null)return{};var n,r,i=aK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function aK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var sK=(e,t,n,r,i,a)=>"M".concat(e,",").concat(i,"v").concat(r,"M").concat(a,",").concat(t,"h").concat(n),oK=e=>{var{x:t=0,y:n=0,top:r=0,left:i=0,width:a=0,height:s=0,className:o}=e,c=iK(e,Jq),u=eK({x:t,y:n,top:r,left:i,width:a,height:s},c);return!Lt(t)||!Lt(n)||!Lt(a)||!Lt(s)||!Lt(r)||!Lt(i)?null:g.createElement("path",Kw({},Hi(u),{className:En("recharts-cross",o),d:sK(t,n,a,s,r,i)}))};function lK(e,t,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:e==="horizontal"?t.x-i:n.left+.5,y:e==="horizontal"?n.top+.5:t.y-i,width:e==="horizontal"?r:n.width-1,height:e==="horizontal"?n.height-1:r}}function RA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function BA(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?RA(Object(n),!0).forEach(function(r){cK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):RA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function cK(e,t,n){return(t=uK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function uK(e){var t=dK(e,"string");return typeof t=="symbol"?t:t+""}function dK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var fK=e=>e.replace(/([A-Z])/g,t=>"-".concat(t.toLowerCase())),C_=(e,t,n)=>e.map(r=>"".concat(fK(r)," ").concat(t,"ms ").concat(n)).join(","),mK=(e,t)=>[Object.keys(e),Object.keys(t)].reduce((n,r)=>n.filter(i=>r.includes(i))),Gm=(e,t)=>Object.keys(t).reduce((n,r)=>BA(BA({},n),{},{[r]:e(r,t[r])}),{});function zA(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function ti(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?zA(Object(n),!0).forEach(function(r){hK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zA(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function hK(e,t,n){return(t=pK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function pK(e){var t=gK(e,"string");return typeof t=="symbol"?t:t+""}function gK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var y0=(e,t,n)=>e+(t-e)*n,Gw=e=>{var{from:t,to:n}=e;return t!==n},A_=(e,t,n)=>{var r=Gm((i,a)=>{if(Gw(a)){var[s,o]=e(a.from,a.to,a.velocity);return ti(ti({},a),{},{from:s,velocity:o})}return a},t);return n<1?Gm((i,a)=>Gw(a)&&r[i]!=null?ti(ti({},a),{},{velocity:y0(a.velocity,r[i].velocity,n),from:y0(a.from,r[i].from,n)}):a,t):A_(e,r,n-1)};function xK(e,t,n,r,i,a){var s,o=r.reduce((h,m)=>ti(ti({},h),{},{[m]:{from:e[m],velocity:0,to:t[m]}}),{}),c=()=>Gm((h,m)=>m.from,o),u=()=>!Object.values(o).filter(Gw).length,d=null,f=h=>{s||(s=h);var m=h-s,p=m/n.dt;o=A_(n,o,p),i(ti(ti(ti({},e),t),c())),s=h,u()||(d=a.setTimeout(f))};return()=>(d=a.setTimeout(f),()=>{var h;(h=d)===null||h===void 0||h()})}function bK(e,t,n,r,i,a,s){var o=null,c=i.reduce((f,h)=>{var m=e[h],p=t[h];return m==null||p==null?f:ti(ti({},f),{},{[h]:[m,p]})},{}),u,d=f=>{u||(u=f);var h=(f-u)/r,m=Gm((x,v)=>y0(...v,n(h)),c);if(a(ti(ti(ti({},e),t),m)),h<1)o=s.setTimeout(d);else{var p=Gm((x,v)=>y0(...v,n(1)),c);a(ti(ti(ti({},e),t),p))}};return()=>(o=s.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const vK=(e,t,n,r,i,a)=>{var s=mK(e,t);return n==null?()=>(i(ti(ti({},e),t)),()=>{}):n.isStepper===!0?xK(e,t,n,s,i,a):bK(e,t,n,r,s,i,a)};var w0=1e-4,P_=(e,t)=>[0,3*e,3*t-6*e,3*e-3*t+1],D_=(e,t)=>e.map((n,r)=>n*t**r).reduce((n,r)=>n+r),UA=(e,t)=>n=>{var r=P_(e,t);return D_(r,n)},yK=(e,t)=>n=>{var r=P_(e,t),i=[...r.map((a,s)=>a*s).slice(1),0];return D_(i,n)},wK=e=>{var t,n=e.split("(");if(n.length!==2||n[0]!=="cubic-bezier")return null;var r=(t=n[1])===null||t===void 0||(t=t.split(")")[0])===null||t===void 0?void 0:t.split(",");if(r==null||r.length!==4)return null;var i=r.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},kK=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(n.length===1)switch(n[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=wK(n[0]);if(i)return i}}return n.length===4?n:[0,0,1,1]},NK=(e,t,n,r)=>{var i=UA(e,n),a=UA(t,r),s=yK(e,n),o=u=>u>1?1:u<0?0:u,c=u=>{for(var d=u>1?1:u,f=d,h=0;h<8;++h){var m=i(f)-d,p=s(f);if(Math.abs(m-d)<w0||p<w0)return a(f);f=o(f-m/p)}return a(f)};return c.isStepper=!1,c},WA=function(){return NK(...kK(...arguments))},SK=function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:n=100,damping:r=8,dt:i=17}=t,a=(s,o,c)=>{var u=-(s-o)*n,d=c*r,f=c+(u-d)*i/1e3,h=c*i/1e3+s;return Math.abs(h-o)<w0&&Math.abs(f)<w0?[o,0]:[h,f]};return a.isStepper=!0,a.dt=i,a},jK=e=>{if(typeof e=="string")switch(e){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return WA(e);case"spring":return SK();default:if(e.split("(")[0]==="cubic-bezier")return WA(e)}return typeof e=="function"?e:null};function CK(e){var t,n=()=>null,r=!1,i=null,a=s=>{if(!r){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...u]=o;if(typeof c=="number"){i=e.setTimeout(a.bind(null,u),c);return}a(c),i=e.setTimeout(a.bind(null,u));return}typeof s=="string"&&(t=s,n(t)),typeof s=="object"&&(t=s,n(t)),typeof s=="function"&&s()}};return{stop:()=>{r=!0},start:s=>{r=!1,i&&(i(),i=null),a(s)},subscribe:s=>(n=s,()=>{n=()=>null}),getTimeoutController:()=>e}}class AK{setTimeout(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,r=performance.now(),i=null,a=s=>{s-r>=n?t(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function PK(){return CK(new AK)}var DK=g.createContext(PK);function TK(e,t){var n=g.useContext(DK);return g.useMemo(()=>t??n(e),[e,t,n])}var MK=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),eb={isSsr:MK()},EK={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},VA={t:0},Av={t:1};function tb(e){var t=Zr(e,EK),{isActive:n,canBegin:r,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:c,children:u}=t,d=n==="auto"?!eb.isSsr:n,f=TK(t.animationId,t.animationManager),[h,m]=g.useState(d?VA:Av),p=g.useRef(null);return g.useEffect(()=>{d||m(Av)},[d]),g.useEffect(()=>{if(!d||!r)return hh;var x=vK(VA,Av,jK(a),i,m,f.getTimeoutController()),v=()=>{p.current=x()};return f.start([c,s,v,i,o]),()=>{f.stop(),p.current&&p.current(),o()}},[d,r,i,a,s,c,o,f]),u(h.t)}function nb(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",n=g.useRef(zm(t)),r=g.useRef(e);return r.current!==e&&(n.current=zm(t),r.current=e),n.current}var OK=["radius"],IK=["radius"],HA,qA,KA,GA,YA,XA,QA,ZA,JA,eP;function tP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tP(Object(n),!0).forEach(function(r){_K(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function _K(e,t,n){return(t=LK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function LK(e){var t=$K(e,"string");return typeof t=="symbol"?t:t+""}function $K(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function k0(){return k0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},k0.apply(null,arguments)}function rP(e,t){if(e==null)return{};var n,r,i=FK(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function FK(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function ro(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var iP=(e,t,n,r,i)=>{var a=tc(n),s=tc(r),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),c=s>=0?1:-1,u=a>=0?1:-1,d=s>=0&&a>=0||s<0&&a<0?1:0,f;if(o>0&&i instanceof Array){for(var h=[0,0,0,0],m=0,p=4;m<p;m++)h[m]=i[m]>o?o:i[m];f=Dr(HA||(HA=ro(["M",",",""])),e,t+c*h[0]),h[0]>0&&(f+=Dr(qA||(qA=ro(["A ",",",",0,0,",",",",",""])),h[0],h[0],d,e+u*h[0],t)),f+=Dr(KA||(KA=ro(["L ",",",""])),e+n-u*h[1],t),h[1]>0&&(f+=Dr(GA||(GA=ro(["A ",",",",0,0,",`,
        `,",",""])),h[1],h[1],d,e+n,t+c*h[1])),f+=Dr(YA||(YA=ro(["L ",",",""])),e+n,t+r-c*h[2]),h[2]>0&&(f+=Dr(XA||(XA=ro(["A ",",",",0,0,",`,
        `,",",""])),h[2],h[2],d,e+n-u*h[2],t+r)),f+=Dr(QA||(QA=ro(["L ",",",""])),e+u*h[3],t+r),h[3]>0&&(f+=Dr(ZA||(ZA=ro(["A ",",",",0,0,",`,
        `,",",""])),h[3],h[3],d,e,t+r-c*h[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var x=Math.min(o,i);f=Dr(JA||(JA=ro(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),e,t+c*x,x,x,d,e+u*x,t,e+n-u*x,t,x,x,d,e+n,t+c*x,e+n,t+r-c*x,x,x,d,e+n-u*x,t+r,e+u*x,t+r,x,x,d,e,t+r-c*x)}else f=Dr(eP||(eP=ro(["M ",","," h "," v "," h "," Z"])),e,t,n,r,-n);return f},aP={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},T_=e=>{var t=Zr(e,aP),n=g.useRef(null),[r,i]=g.useState(-1);g.useEffect(()=>{if(n.current&&n.current.getTotalLength)try{var fe=n.current.getTotalLength();fe&&i(fe)}catch{}},[]);var{x:a,y:s,width:o,height:c,radius:u,className:d}=t,{animationEasing:f,animationDuration:h,animationBegin:m,isAnimationActive:p,isUpdateAnimationActive:x}=t,v=g.useRef(o),b=g.useRef(c),y=g.useRef(a),w=g.useRef(s),N=g.useMemo(()=>({x:a,y:s,width:o,height:c,radius:u}),[a,s,o,c,u]),j=nb(N,"rectangle-");if(a!==+a||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var k=En("recharts-rectangle",d);if(!x){var C=Hi(t),{radius:E}=C,R=rP(C,OK);return g.createElement("path",k0({},R,{x:tc(a),y:tc(s),width:tc(o),height:tc(c),radius:typeof u=="number"?u:void 0,className:k,d:iP(a,s,o,c,u)}))}var T=v.current,$=b.current,I=y.current,re=w.current,ce="0px ".concat(r===-1?1:r,"px"),ve="".concat(r,"px 0px"),Oe=C_(["strokeDasharray"],h,typeof f=="string"?f:aP.animationEasing);return g.createElement(tb,{animationId:j,key:j,canBegin:r>0,duration:h,easing:f,isActive:x,begin:m},fe=>{var Z=zi(T,o,fe),xe=zi($,c,fe),_=zi(I,a,fe),D=zi(re,s,fe);n.current&&(v.current=Z,b.current=xe,y.current=_,w.current=D);var ue;p?fe>0?ue={transition:Oe,strokeDasharray:ve}:ue={strokeDasharray:ce}:ue={strokeDasharray:ve};var S=Hi(t),{radius:Y}=S,B=rP(S,IK);return g.createElement("path",k0({},B,{radius:typeof u=="number"?u:void 0,className:k,d:iP(_,D,Z,xe,u),ref:n,style:nP(nP({},ue),t.style)}))})};function sP(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oP(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sP(Object(n),!0).forEach(function(r){RK(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sP(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function RK(e,t,n){return(t=BK(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function BK(e){var t=zK(e,"string");return typeof t=="symbol"?t:t+""}function zK(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var N0=Math.PI/180,UK=e=>e*180/Math.PI,Xr=(e,t,n,r)=>({x:e+Math.cos(-N0*r)*n,y:t+Math.sin(-N0*r)*n}),M_=function(t,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(t-(r.left||0)-(r.right||0)),Math.abs(n-(r.top||0)-(r.bottom||0)))/2},WK=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return Math.sqrt((n-i)**2+(r-a)**2)},VK=(e,t)=>{var{x:n,y:r}=e,{cx:i,cy:a}=t,s=WK({x:n,y:r},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(n-i)/s,c=Math.acos(o);return r>a&&(c=2*Math.PI-c),{radius:s,angle:UK(c),angleInRadian:c}},HK=e=>{var{startAngle:t,endAngle:n}=e,r=Math.floor(t/360),i=Math.floor(n/360),a=Math.min(r,i);return{startAngle:t-a*360,endAngle:n-a*360}},qK=(e,t)=>{var{startAngle:n,endAngle:r}=t,i=Math.floor(n/360),a=Math.floor(r/360),s=Math.min(i,a);return e+s*360},KK=(e,t)=>{var{chartX:n,chartY:r}=e,{radius:i,angle:a}=VK({x:n,y:r},t),{innerRadius:s,outerRadius:o}=t;if(i<s||i>o||i===0)return null;var{startAngle:c,endAngle:u}=HK(t),d=a,f;if(c<=u){for(;d>u;)d-=360;for(;d<c;)d+=360;f=d>=c&&d<=u}else{for(;d>c;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=c}return f?oP(oP({},t),{},{radius:i,angle:qK(d,t)}):null};function E_(e){var{cx:t,cy:n,radius:r,startAngle:i,endAngle:a}=e,s=Xr(t,n,r,i),o=Xr(t,n,r,a);return{points:[s,o],cx:t,cy:n,radius:r,startAngle:i,endAngle:a}}var lP,cP,uP,dP,fP,mP,hP;function Yw(){return Yw=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Yw.apply(null,arguments)}function Zc(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var GK=(e,t)=>{var n=Ui(t-e),r=Math.min(Math.abs(t-e),359.999);return n*r},Fp=e=>{var{cx:t,cy:n,radius:r,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:c}=e,u=o*(s?1:-1)+r,d=Math.asin(o/u)/N0,f=c?i:i+a*d,h=Xr(t,n,u,f),m=Xr(t,n,r,f),p=c?i-a*d:i,x=Xr(t,n,u*Math.cos(d*N0),p);return{center:h,circleTangency:m,lineTangency:x,theta:d}},O_=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:a,endAngle:s}=e,o=GK(a,s),c=a+o,u=Xr(t,n,i,a),d=Xr(t,n,i,c),f=Dr(lP||(lP=Zc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(a>c),d.x,d.y);if(r>0){var h=Xr(t,n,r,a),m=Xr(t,n,r,c);f+=Dr(cP||(cP=Zc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),m.x,m.y,r,r,+(Math.abs(o)>180),+(a<=c),h.x,h.y)}else f+=Dr(uP||(uP=Zc(["L ",","," Z"])),t,n);return f},YK=e=>{var{cx:t,cy:n,innerRadius:r,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:u}=e,d=Ui(u-c),{circleTangency:f,lineTangency:h,theta:m}=Fp({cx:t,cy:n,radius:i,angle:c,sign:d,cornerRadius:a,cornerIsExternal:o}),{circleTangency:p,lineTangency:x,theta:v}=Fp({cx:t,cy:n,radius:i,angle:u,sign:-d,cornerRadius:a,cornerIsExternal:o}),b=o?Math.abs(c-u):Math.abs(c-u)-m-v;if(b<0)return s?Dr(dP||(dP=Zc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),h.x,h.y,a,a,a*2,a,a,-a*2):O_({cx:t,cy:n,innerRadius:r,outerRadius:i,startAngle:c,endAngle:u});var y=Dr(fP||(fP=Zc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),h.x,h.y,a,a,+(d<0),f.x,f.y,i,i,+(b>180),+(d<0),p.x,p.y,a,a,+(d<0),x.x,x.y);if(r>0){var{circleTangency:w,lineTangency:N,theta:j}=Fp({cx:t,cy:n,radius:r,angle:c,sign:d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:k,lineTangency:C,theta:E}=Fp({cx:t,cy:n,radius:r,angle:u,sign:-d,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),R=o?Math.abs(c-u):Math.abs(c-u)-j-E;if(R<0&&a===0)return"".concat(y,"L").concat(t,",").concat(n,"Z");y+=Dr(mP||(mP=Zc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,a,a,+(d<0),k.x,k.y,r,r,+(R>180),+(d>0),w.x,w.y,a,a,+(d<0),N.x,N.y)}else y+=Dr(hP||(hP=Zc(["L",",","Z"])),t,n);return y},XK={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},I_=e=>{var t=Zr(e,XK),{cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d,className:f}=t;if(a<i||u===d)return null;var h=En("recharts-sector",f),m=a-i,p=Ba(s,m,0,!0),x;return p>0&&Math.abs(u-d)<360?x=YK({cx:n,cy:r,innerRadius:i,outerRadius:a,cornerRadius:Math.min(p,m/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:u,endAngle:d}):x=O_({cx:n,cy:r,innerRadius:i,outerRadius:a,startAngle:u,endAngle:d}),g.createElement("path",Yw({},Hi(t),{className:h,d:x}))};function QK(e,t,n){if(e==="horizontal")return[{x:t.x,y:n.top},{x:t.x,y:n.top+n.height}];if(e==="vertical")return[{x:n.left,y:t.y},{x:n.left+n.width,y:t.y}];if(qI(t)){if(e==="centric"){var{cx:r,cy:i,innerRadius:a,outerRadius:s,angle:o}=t,c=Xr(r,i,a,o),u=Xr(r,i,s,o);return[{x:c.x,y:c.y},{x:u.x,y:u.y}]}return E_(t)}}var __={},L_={},$_={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=kN;function n(r){return t.isSymbol(r)?NaN:Number(r)}e.toNumber=n})($_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=$_;function n(r){return r?(r=t.toNumber(r),r===1/0||r===-1/0?(r<0?-1:1)*Number.MAX_VALUE:r===r?r:0):r===0?r:0}e.toFinite=n})(L_);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=NN,n=L_;function r(i,a,s){s&&typeof s!="number"&&t.isIterateeCall(i,a,s)&&(a=s=void 0),i=n.toFinite(i),a===void 0?(a=i,i=0):a=n.toFinite(a),s=s===void 0?i<a?1:-1:n.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(o);for(let u=0;u<o;u++)c[u]=i,i+=s;return c}e.range=r})(__);var ZK=__.range;const F_=Ks(ZK);function dc(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function JK(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function LN(e){let t,n,r;e.length!==2?(t=dc,n=(o,c)=>dc(e(o),c),r=(o,c)=>e(o)-c):(t=e===dc||e===JK?e:eG,n=e,r=e);function i(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(o[f],c)<0?u=f+1:d=f}while(u<d)}return u}function a(o,c,u=0,d=o.length){if(u<d){if(t(c,c)!==0)return d;do{const f=u+d>>>1;n(o[f],c)<=0?u=f+1:d=f}while(u<d)}return u}function s(o,c,u=0,d=o.length){const f=i(o,c,u,d-1);return f>u&&r(o[f-1],c)>-r(o[f],c)?f-1:f}return{left:i,center:s,right:a}}function eG(){return 0}function R_(e){return e===null?NaN:+e}function*tG(e,t){for(let n of e)n!=null&&(n=+n)>=n&&(yield n)}const nG=LN(dc),wh=nG.right;LN(R_).center;class pP extends Map{constructor(t,n=aG){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(gP(this,t))}has(t){return super.has(gP(this,t))}set(t,n){return super.set(rG(this,t),n)}delete(t){return super.delete(iG(this,t))}}function gP({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function rG({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function iG({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function aG(e){return e!==null&&typeof e=="object"?e.valueOf():e}function sG(e=dc){if(e===dc)return B_;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function B_(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}const oG=Math.sqrt(50),lG=Math.sqrt(10),cG=Math.sqrt(2);function S0(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),s=a>=oG?10:a>=lG?5:a>=cG?2:1;let o,c,u;return i<0?(u=Math.pow(10,-i)/s,o=Math.round(e*u),c=Math.round(t*u),o/u<e&&++o,c/u>t&&--c,u=-u):(u=Math.pow(10,i)*s,o=Math.round(e/u),c=Math.round(t/u),o*u<e&&++o,c*u>t&&--c),c<o&&.5<=n&&n<2?S0(e,t,n*2):[o,c,u]}function Xw(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,s]=r?S0(t,e,n):S0(e,t,n);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(r)if(s<0)for(let u=0;u<o;++u)c[u]=(a-u)/-s;else for(let u=0;u<o;++u)c[u]=(a-u)*s;else if(s<0)for(let u=0;u<o;++u)c[u]=(i+u)/-s;else for(let u=0;u<o;++u)c[u]=(i+u)*s;return c}function Qw(e,t,n){return t=+t,e=+e,n=+n,S0(e,t,n)[2]}function Zw(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Qw(t,e,n):Qw(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function xP(e,t){let n;for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);return n}function bP(e,t){let n;for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);return n}function z_(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?B_:sG(i);r>n;){if(r-n>600){const c=r-n+1,u=t-n+1,d=Math.log(c),f=.5*Math.exp(2*d/3),h=.5*Math.sqrt(d*f*(c-f)/c)*(u-c/2<0?-1:1),m=Math.max(n,Math.floor(t-u*f/c+h)),p=Math.min(r,Math.floor(t+(c-u)*f/c+h));z_(e,t,m,p,i)}const a=e[t];let s=n,o=r;for(_f(e,n,t),i(e[r],a)>0&&_f(e,n,r);s<o;){for(_f(e,s,o),++s,--o;i(e[s],a)<0;)++s;for(;i(e[o],a)>0;)--o}i(e[n],a)===0?_f(e,n,o):(++o,_f(e,o,r)),o<=t&&(n=o+1),t<=o&&(r=o-1)}return e}function _f(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function uG(e,t,n){if(e=Float64Array.from(tG(e)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return bP(e);if(t>=1)return xP(e);var r,i=(r-1)*t,a=Math.floor(i),s=xP(z_(e,a).subarray(0,a+1)),o=bP(e.subarray(a+1));return s+(o-s)*(i-a)}}function dG(e,t,n=R_){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),s=+n(e[a],a,e),o=+n(e[a+1],a+1,e);return s+(o-s)*(i-a)}}function fG(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function Ss(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function wl(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Jw=Symbol("implicit");function $N(){var e=new pP,t=[],n=[],r=Jw;function i(a){let s=e.get(a);if(s===void 0){if(r!==Jw)return r;e.set(a,s=t.push(a)-1)}return n[s%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new pP;for(const s of a)e.has(s)||e.set(s,t.push(s)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return $N(t,n).unknown(r)},Ss.apply(i,arguments),i}function FN(){var e=$N().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,s,o=!1,c=0,u=0,d=.5;delete e.unknown;function f(){var h=t().length,m=i<r,p=m?i:r,x=m?r:i;a=(x-p)/Math.max(1,h-c+u*2),o&&(a=Math.floor(a)),p+=(x-p-a*(h-c))*d,s=a*(1-c),o&&(p=Math.round(p),s=Math.round(s));var v=fG(h).map(function(b){return p+a*b});return n(m?v.reverse():v)}return e.domain=function(h){return arguments.length?(t(h),f()):t()},e.range=function(h){return arguments.length?([r,i]=h,r=+r,i=+i,f()):[r,i]},e.rangeRound=function(h){return[r,i]=h,r=+r,i=+i,o=!0,f()},e.bandwidth=function(){return s},e.step=function(){return a},e.round=function(h){return arguments.length?(o=!!h,f()):o},e.padding=function(h){return arguments.length?(c=Math.min(1,u=+h),f()):c},e.paddingInner=function(h){return arguments.length?(c=Math.min(1,h),f()):c},e.paddingOuter=function(h){return arguments.length?(u=+h,f()):u},e.align=function(h){return arguments.length?(d=Math.max(0,Math.min(1,h)),f()):d},e.copy=function(){return FN(t(),[r,i]).round(o).paddingInner(c).paddingOuter(u).align(d)},Ss.apply(f(),arguments)}function U_(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return U_(t())},e}function mG(){return U_(FN.apply(null,arguments).paddingInner(1))}function RN(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function W_(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function kh(){}var Ym=.7,j0=1/Ym,Dd="\\s*([+-]?\\d+)\\s*",Xm="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",po="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",hG=/^#([0-9a-f]{3,8})$/,pG=new RegExp(`^rgb\\(${Dd},${Dd},${Dd}\\)$`),gG=new RegExp(`^rgb\\(${po},${po},${po}\\)$`),xG=new RegExp(`^rgba\\(${Dd},${Dd},${Dd},${Xm}\\)$`),bG=new RegExp(`^rgba\\(${po},${po},${po},${Xm}\\)$`),vG=new RegExp(`^hsl\\(${Xm},${po},${po}\\)$`),yG=new RegExp(`^hsla\\(${Xm},${po},${po},${Xm}\\)$`),vP={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};RN(kh,Qm,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:yP,formatHex:yP,formatHex8:wG,formatHsl:kG,formatRgb:wP,toString:wP});function yP(){return this.rgb().formatHex()}function wG(){return this.rgb().formatHex8()}function kG(){return V_(this).formatHsl()}function wP(){return this.rgb().formatRgb()}function Qm(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=hG.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?kP(t):n===3?new va(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Rp(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Rp(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=pG.exec(e))?new va(t[1],t[2],t[3],1):(t=gG.exec(e))?new va(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=xG.exec(e))?Rp(t[1],t[2],t[3],t[4]):(t=bG.exec(e))?Rp(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=vG.exec(e))?jP(t[1],t[2]/100,t[3]/100,1):(t=yG.exec(e))?jP(t[1],t[2]/100,t[3]/100,t[4]):vP.hasOwnProperty(e)?kP(vP[e]):e==="transparent"?new va(NaN,NaN,NaN,0):null}function kP(e){return new va(e>>16&255,e>>8&255,e&255,1)}function Rp(e,t,n,r){return r<=0&&(e=t=n=NaN),new va(e,t,n,r)}function NG(e){return e instanceof kh||(e=Qm(e)),e?(e=e.rgb(),new va(e.r,e.g,e.b,e.opacity)):new va}function e1(e,t,n,r){return arguments.length===1?NG(e):new va(e,t,n,r??1)}function va(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}RN(va,e1,W_(kh,{brighter(e){return e=e==null?j0:Math.pow(j0,e),new va(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Ym:Math.pow(Ym,e),new va(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new va(lu(this.r),lu(this.g),lu(this.b),C0(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:NP,formatHex:NP,formatHex8:SG,formatRgb:SP,toString:SP}));function NP(){return`#${Jc(this.r)}${Jc(this.g)}${Jc(this.b)}`}function SG(){return`#${Jc(this.r)}${Jc(this.g)}${Jc(this.b)}${Jc((isNaN(this.opacity)?1:this.opacity)*255)}`}function SP(){const e=C0(this.opacity);return`${e===1?"rgb(":"rgba("}${lu(this.r)}, ${lu(this.g)}, ${lu(this.b)}${e===1?")":`, ${e})`}`}function C0(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function lu(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Jc(e){return e=lu(e),(e<16?"0":"")+e.toString(16)}function jP(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new $s(e,t,n,r)}function V_(e){if(e instanceof $s)return new $s(e.h,e.s,e.l,e.opacity);if(e instanceof kh||(e=Qm(e)),!e)return new $s;if(e instanceof $s)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),s=NaN,o=a-i,c=(a+i)/2;return o?(t===a?s=(n-r)/o+(n<r)*6:n===a?s=(r-t)/o+2:s=(t-n)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new $s(s,o,c,e.opacity)}function jG(e,t,n,r){return arguments.length===1?V_(e):new $s(e,t,n,r??1)}function $s(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}RN($s,jG,W_(kh,{brighter(e){return e=e==null?j0:Math.pow(j0,e),new $s(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Ym:Math.pow(Ym,e),new $s(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new va(Pv(e>=240?e-240:e+120,i,r),Pv(e,i,r),Pv(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new $s(CP(this.h),Bp(this.s),Bp(this.l),C0(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=C0(this.opacity);return`${e===1?"hsl(":"hsla("}${CP(this.h)}, ${Bp(this.s)*100}%, ${Bp(this.l)*100}%${e===1?")":`, ${e})`}`}}));function CP(e){return e=(e||0)%360,e<0?e+360:e}function Bp(e){return Math.max(0,Math.min(1,e||0))}function Pv(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const BN=e=>()=>e;function CG(e,t){return function(n){return e+n*t}}function AG(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function PG(e){return(e=+e)==1?H_:function(t,n){return n-t?AG(t,n,e):BN(isNaN(t)?n:t)}}function H_(e,t){var n=t-e;return n?CG(e,n):BN(isNaN(e)?t:e)}const AP=function e(t){var n=PG(t);function r(i,a){var s=n((i=e1(i)).r,(a=e1(a)).r),o=n(i.g,a.g),c=n(i.b,a.b),u=H_(i.opacity,a.opacity);return function(d){return i.r=s(d),i.g=o(d),i.b=c(d),i.opacity=u(d),i+""}}return r.gamma=e,r}(1);function DG(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function TG(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function MG(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),s;for(s=0;s<r;++s)i[s]=af(e[s],t[s]);for(;s<n;++s)a[s]=t[s];return function(o){for(s=0;s<r;++s)a[s]=i[s](o);return a}}function EG(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function A0(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function OG(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=af(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var t1=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Dv=new RegExp(t1.source,"g");function IG(e){return function(){return e}}function _G(e){return function(t){return e(t)+""}}function LG(e,t){var n=t1.lastIndex=Dv.lastIndex=0,r,i,a,s=-1,o=[],c=[];for(e=e+"",t=t+"";(r=t1.exec(e))&&(i=Dv.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),o[s]?o[s]+=a:o[++s]=a),(r=r[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:A0(r,i)})),n=Dv.lastIndex;return n<t.length&&(a=t.slice(n),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?_G(c[0].x):IG(t):(t=c.length,function(u){for(var d=0,f;d<t;++d)o[(f=c[d]).i]=f.x(u);return o.join("")})}function af(e,t){var n=typeof t,r;return t==null||n==="boolean"?BN(t):(n==="number"?A0:n==="string"?(r=Qm(t))?(t=r,AP):LG:t instanceof Qm?AP:t instanceof Date?EG:TG(t)?DG:Array.isArray(t)?MG:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?OG:A0)(e,t)}function zN(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}function $G(e,t){t===void 0&&(t=e,e=af);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(s){var o=Math.max(0,Math.min(r-1,Math.floor(s*=r)));return a[o](s-o)}}function FG(e){return function(){return e}}function P0(e){return+e}var PP=[0,1];function ra(e){return e}function n1(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:FG(isNaN(t)?NaN:.5)}function RG(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function BG(e,t,n){var r=e[0],i=e[1],a=t[0],s=t[1];return i<r?(r=n1(i,r),a=n(s,a)):(r=n1(r,i),a=n(a,s)),function(o){return a(r(o))}}function zG(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),s=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++s<r;)i[s]=n1(e[s],e[s+1]),a[s]=n(t[s],t[s+1]);return function(o){var c=wh(e,o,1,r)-1;return a[c](i[c](o))}}function Nh(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function rb(){var e=PP,t=PP,n=af,r,i,a,s=ra,o,c,u;function d(){var h=Math.min(e.length,t.length);return s!==ra&&(s=RG(e[0],e[h-1])),o=h>2?zG:BG,c=u=null,f}function f(h){return h==null||isNaN(h=+h)?a:(c||(c=o(e.map(r),t,n)))(r(s(h)))}return f.invert=function(h){return s(i((u||(u=o(t,e.map(r),A0)))(h)))},f.domain=function(h){return arguments.length?(e=Array.from(h,P0),d()):e.slice()},f.range=function(h){return arguments.length?(t=Array.from(h),d()):t.slice()},f.rangeRound=function(h){return t=Array.from(h),n=zN,d()},f.clamp=function(h){return arguments.length?(s=h?!0:ra,d()):s!==ra},f.interpolate=function(h){return arguments.length?(n=h,d()):n},f.unknown=function(h){return arguments.length?(a=h,f):a},function(h,m){return r=h,i=m,d()}}function UN(){return rb()(ra,ra)}function UG(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function D0(e,t){if(!isFinite(e)||e===0)return null;var n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"),r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function Hd(e){return e=D0(Math.abs(e)),e?e[1]:NaN}function WG(e,t){return function(n,r){for(var i=n.length,a=[],s=0,o=e[0],c=0;i>0&&o>0&&(c+o+1>r&&(o=Math.max(1,r-c)),a.push(n.substring(i-=o,i+o)),!((c+=o+1)>r));)o=e[s=(s+1)%e.length];return a.reverse().join(t)}}function VG(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var HG=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Zm(e){if(!(t=HG.exec(e)))throw new Error("invalid format: "+e);var t;return new WN({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Zm.prototype=WN.prototype;function WN(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}WN.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function qG(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var T0;function KG(e,t){var n=D0(e,t);if(!n)return T0=void 0,e.toPrecision(t);var r=n[0],i=n[1],a=i-(T0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=r.length;return a===s?r:a>s?r+new Array(a-s+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+D0(e,Math.max(0,t+a-1))[0]}function DP(e,t){var n=D0(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const TP={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:UG,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>DP(e*100,t),r:DP,s:KG,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function MP(e){return e}var EP=Array.prototype.map,OP=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function GG(e){var t=e.grouping===void 0||e.thousands===void 0?MP:WG(EP.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?MP:VG(EP.call(e.numerals,String)),s=e.percent===void 0?"%":e.percent+"",o=e.minus===void 0?"":e.minus+"",c=e.nan===void 0?"NaN":e.nan+"";function u(f,h){f=Zm(f);var m=f.fill,p=f.align,x=f.sign,v=f.symbol,b=f.zero,y=f.width,w=f.comma,N=f.precision,j=f.trim,k=f.type;k==="n"?(w=!0,k="g"):TP[k]||(N===void 0&&(N=12),j=!0,k="g"),(b||m==="0"&&p==="=")&&(b=!0,m="0",p="=");var C=(h&&h.prefix!==void 0?h.prefix:"")+(v==="$"?n:v==="#"&&/[boxX]/.test(k)?"0"+k.toLowerCase():""),E=(v==="$"?r:/[%p]/.test(k)?s:"")+(h&&h.suffix!==void 0?h.suffix:""),R=TP[k],T=/[defgprs%]/.test(k);N=N===void 0?6:/[gprs]/.test(k)?Math.max(1,Math.min(21,N)):Math.max(0,Math.min(20,N));function $(I){var re=C,ce=E,ve,Oe,fe;if(k==="c")ce=R(I)+ce,I="";else{I=+I;var Z=I<0||1/I<0;if(I=isNaN(I)?c:R(Math.abs(I),N),j&&(I=qG(I)),Z&&+I==0&&x!=="+"&&(Z=!1),re=(Z?x==="("?x:o:x==="-"||x==="("?"":x)+re,ce=(k==="s"&&!isNaN(I)&&T0!==void 0?OP[8+T0/3]:"")+ce+(Z&&x==="("?")":""),T){for(ve=-1,Oe=I.length;++ve<Oe;)if(fe=I.charCodeAt(ve),48>fe||fe>57){ce=(fe===46?i+I.slice(ve+1):I.slice(ve))+ce,I=I.slice(0,ve);break}}}w&&!b&&(I=t(I,1/0));var xe=re.length+I.length+ce.length,_=xe<y?new Array(y-xe+1).join(m):"";switch(w&&b&&(I=t(_+I,_.length?y-ce.length:1/0),_=""),p){case"<":I=re+I+ce+_;break;case"=":I=re+_+I+ce;break;case"^":I=_.slice(0,xe=_.length>>1)+re+I+ce+_.slice(xe);break;default:I=_+re+I+ce;break}return a(I)}return $.toString=function(){return f+""},$}function d(f,h){var m=Math.max(-8,Math.min(8,Math.floor(Hd(h)/3)))*3,p=Math.pow(10,-m),x=u((f=Zm(f),f.type="f",f),{suffix:OP[8+m/3]});return function(v){return x(p*v)}}return{format:u,formatPrefix:d}}var zp,VN,q_;YG({thousands:",",grouping:[3],currency:["$",""]});function YG(e){return zp=GG(e),VN=zp.format,q_=zp.formatPrefix,zp}function XG(e){return Math.max(0,-Hd(Math.abs(e)))}function QG(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Hd(t)/3)))*3-Hd(Math.abs(e)))}function ZG(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,Hd(t)-Hd(e))+1}function K_(e,t,n,r){var i=Zw(e,t,n),a;switch(r=Zm(r??",f"),r.type){case"s":{var s=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=QG(i,s))&&(r.precision=a),q_(r,s)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ZG(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=XG(i))&&(r.precision=a-(r.type==="%")*2);break}}return VN(r)}function jc(e){var t=e.domain;return e.ticks=function(n){var r=t();return Xw(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return K_(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,s=r[i],o=r[a],c,u,d=10;for(o<s&&(u=s,s=o,o=u,u=i,i=a,a=u);d-- >0;){if(u=Qw(s,o,n),u===c)return r[i]=s,r[a]=o,t(r);if(u>0)s=Math.floor(s/u)*u,o=Math.ceil(o/u)*u;else if(u<0)s=Math.ceil(s*u)/u,o=Math.floor(o*u)/u;else break;c=u}return e},e}function G_(){var e=UN();return e.copy=function(){return Nh(e,G_())},Ss.apply(e,arguments),jc(e)}function Y_(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,P0),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Y_(e).unknown(t)},e=arguments.length?Array.from(e,P0):[0,1],jc(n)}function X_(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],s;return a<i&&(s=n,n=r,r=s,s=i,i=a,a=s),e[n]=t.floor(i),e[r]=t.ceil(a),e}function IP(e){return Math.log(e)}function _P(e){return Math.exp(e)}function JG(e){return-Math.log(-e)}function eY(e){return-Math.exp(-e)}function tY(e){return isFinite(e)?+("1e"+e):e<0?0:e}function nY(e){return e===10?tY:e===Math.E?Math.exp:t=>Math.pow(e,t)}function rY(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function LP(e){return(t,n)=>-e(-t,n)}function HN(e){const t=e(IP,_P),n=t.domain;let r=10,i,a;function s(){return i=rY(r),a=nY(r),n()[0]<0?(i=LP(i),a=LP(a),e(JG,eY)):e(IP,_P),t}return t.base=function(o){return arguments.length?(r=+o,s()):r},t.domain=function(o){return arguments.length?(n(o),s()):n()},t.ticks=o=>{const c=n();let u=c[0],d=c[c.length-1];const f=d<u;f&&([u,d]=[d,u]);let h=i(u),m=i(d),p,x;const v=o==null?10:+o;let b=[];if(!(r%1)&&m-h<v){if(h=Math.floor(h),m=Math.ceil(m),u>0){for(;h<=m;++h)for(p=1;p<r;++p)if(x=h<0?p/a(-h):p*a(h),!(x<u)){if(x>d)break;b.push(x)}}else for(;h<=m;++h)for(p=r-1;p>=1;--p)if(x=h>0?p/a(-h):p*a(h),!(x<u)){if(x>d)break;b.push(x)}b.length*2<v&&(b=Xw(u,d,v))}else b=Xw(h,m,Math.min(m-h,v)).map(a);return f?b.reverse():b},t.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=r===10?"s":","),typeof c!="function"&&(!(r%1)&&(c=Zm(c)).precision==null&&(c.trim=!0),c=VN(c)),o===1/0)return c;const u=Math.max(1,r*o/t.ticks().length);return d=>{let f=d/a(Math.round(i(d)));return f*r<r-.5&&(f*=r),f<=u?c(d):""}},t.nice=()=>n(X_(n(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),t}function Q_(){const e=HN(rb()).domain([1,10]);return e.copy=()=>Nh(e,Q_()).base(e.base()),Ss.apply(e,arguments),e}function $P(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function FP(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function qN(e){var t=1,n=e($P(t),FP(t));return n.constant=function(r){return arguments.length?e($P(t=+r),FP(t)):t},jc(n)}function Z_(){var e=qN(rb());return e.copy=function(){return Nh(e,Z_()).constant(e.constant())},Ss.apply(e,arguments)}function RP(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function iY(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function aY(e){return e<0?-e*e:e*e}function KN(e){var t=e(ra,ra),n=1;function r(){return n===1?e(ra,ra):n===.5?e(iY,aY):e(RP(n),RP(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},jc(t)}function GN(){var e=KN(rb());return e.copy=function(){return Nh(e,GN()).exponent(e.exponent())},Ss.apply(e,arguments),e}function sY(){return GN.apply(null,arguments).exponent(.5)}function BP(e){return Math.sign(e)*e*e}function oY(e){return Math.sign(e)*Math.sqrt(Math.abs(e))}function J_(){var e=UN(),t=[0,1],n=!1,r;function i(a){var s=oY(e(a));return isNaN(s)?r:n?Math.round(s):s}return i.invert=function(a){return e.invert(BP(a))},i.domain=function(a){return arguments.length?(e.domain(a),i):e.domain()},i.range=function(a){return arguments.length?(e.range((t=Array.from(a,P0)).map(BP)),i):t.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(n=!!a,i):n},i.clamp=function(a){return arguments.length?(e.clamp(a),i):e.clamp()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return J_(e.domain(),t).round(n).clamp(e.clamp()).unknown(r)},Ss.apply(i,arguments),jc(i)}function e4(){var e=[],t=[],n=[],r;function i(){var s=0,o=Math.max(1,t.length);for(n=new Array(o-1);++s<o;)n[s-1]=dG(e,s/o);return a}function a(s){return s==null||isNaN(s=+s)?r:t[wh(n,s)]}return a.invertExtent=function(s){var o=t.indexOf(s);return o<0?[NaN,NaN]:[o>0?n[o-1]:e[0],o<n.length?n[o]:e[e.length-1]]},a.domain=function(s){if(!arguments.length)return e.slice();e=[];for(let o of s)o!=null&&!isNaN(o=+o)&&e.push(o);return e.sort(dc),i()},a.range=function(s){return arguments.length?(t=Array.from(s),i()):t.slice()},a.unknown=function(s){return arguments.length?(r=s,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return e4().domain(e).range(t).unknown(r)},Ss.apply(a,arguments)}function t4(){var e=0,t=1,n=1,r=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[wh(r,c,0,n)]:a}function o(){var c=-1;for(r=new Array(n);++c<n;)r[c]=((c+1)*t-(c-n)*e)/(n+1);return s}return s.domain=function(c){return arguments.length?([e,t]=c,e=+e,t=+t,o()):[e,t]},s.range=function(c){return arguments.length?(n=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var u=i.indexOf(c);return u<0?[NaN,NaN]:u<1?[e,r[0]]:u>=n?[r[n-1],t]:[r[u-1],r[u]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return r.slice()},s.copy=function(){return t4().domain([e,t]).range(i).unknown(a)},Ss.apply(jc(s),arguments)}function n4(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[wh(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var s=t.indexOf(a);return[e[s-1],e[s]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return n4().domain(e).range(t).unknown(n)},Ss.apply(i,arguments)}const Tv=new Date,Mv=new Date;function ai(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(t(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let u;do c.push(u=new Date(+a)),t(a,o),e(a);while(u<a&&a<s);return c},i.filter=a=>ai(s=>{if(s>=s)for(;e(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;t(s,-1),!a(s););else for(;--o>=0;)for(;t(s,1),!a(s););}),n&&(i.count=(a,s)=>(Tv.setTime(+a),Mv.setTime(+s),e(Tv),e(Mv),Math.floor(n(Tv,Mv))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?s=>r(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const M0=ai(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);M0.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ai(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):M0);M0.range;const Qo=1e3,fs=Qo*60,Zo=fs*60,fl=Zo*24,YN=fl*7,zP=fl*30,Ev=fl*365,eu=ai(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Qo)},(e,t)=>(t-e)/Qo,e=>e.getUTCSeconds());eu.range;const XN=ai(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qo)},(e,t)=>{e.setTime(+e+t*fs)},(e,t)=>(t-e)/fs,e=>e.getMinutes());XN.range;const QN=ai(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*fs)},(e,t)=>(t-e)/fs,e=>e.getUTCMinutes());QN.range;const ZN=ai(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Qo-e.getMinutes()*fs)},(e,t)=>{e.setTime(+e+t*Zo)},(e,t)=>(t-e)/Zo,e=>e.getHours());ZN.range;const JN=ai(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Zo)},(e,t)=>(t-e)/Zo,e=>e.getUTCHours());JN.range;const Sh=ai(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*fs)/fl,e=>e.getDate()-1);Sh.range;const ib=ai(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fl,e=>e.getUTCDate()-1);ib.range;const r4=ai(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/fl,e=>Math.floor(e/fl));r4.range;function Du(e){return ai(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*fs)/YN)}const ab=Du(0),E0=Du(1),lY=Du(2),cY=Du(3),qd=Du(4),uY=Du(5),dY=Du(6);ab.range;E0.range;lY.range;cY.range;qd.range;uY.range;dY.range;function Tu(e){return ai(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/YN)}const sb=Tu(0),O0=Tu(1),fY=Tu(2),mY=Tu(3),Kd=Tu(4),hY=Tu(5),pY=Tu(6);sb.range;O0.range;fY.range;mY.range;Kd.range;hY.range;pY.range;const eS=ai(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());eS.range;const tS=ai(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());tS.range;const ml=ai(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ml.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ai(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ml.range;const hl=ai(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());hl.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ai(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});hl.range;function i4(e,t,n,r,i,a){const s=[[eu,1,Qo],[eu,5,5*Qo],[eu,15,15*Qo],[eu,30,30*Qo],[a,1,fs],[a,5,5*fs],[a,15,15*fs],[a,30,30*fs],[i,1,Zo],[i,3,3*Zo],[i,6,6*Zo],[i,12,12*Zo],[r,1,fl],[r,2,2*fl],[n,1,YN],[t,1,zP],[t,3,3*zP],[e,1,Ev]];function o(u,d,f){const h=d<u;h&&([u,d]=[d,u]);const m=f&&typeof f.range=="function"?f:c(u,d,f),p=m?m.range(u,+d+1):[];return h?p.reverse():p}function c(u,d,f){const h=Math.abs(d-u)/f,m=LN(([,,v])=>v).right(s,h);if(m===s.length)return e.every(Zw(u/Ev,d/Ev,f));if(m===0)return M0.every(Math.max(Zw(u,d,f),1));const[p,x]=s[h/s[m-1][2]<s[m][2]/h?m-1:m];return p.every(x)}return[o,c]}const[gY,xY]=i4(hl,tS,sb,r4,JN,QN),[bY,vY]=i4(ml,eS,ab,Sh,ZN,XN);function Ov(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Iv(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Lf(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function yY(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,s=e.shortDays,o=e.months,c=e.shortMonths,u=$f(i),d=Ff(i),f=$f(a),h=Ff(a),m=$f(s),p=Ff(s),x=$f(o),v=Ff(o),b=$f(c),y=Ff(c),w={a:fe,A:Z,b:xe,B:_,c:null,d:KP,e:KP,f:WY,g:JY,G:tX,H:BY,I:zY,j:UY,L:a4,m:VY,M:HY,p:D,q:ue,Q:XP,s:QP,S:qY,u:KY,U:GY,V:YY,w:XY,W:QY,x:null,X:null,y:ZY,Y:eX,Z:nX,"%":YP},N={a:S,A:Y,b:B,B:ee,c:null,d:GP,e:GP,f:sX,g:gX,G:bX,H:rX,I:iX,j:aX,L:o4,m:oX,M:lX,p:de,q:oe,Q:XP,s:QP,S:cX,u:uX,U:dX,V:fX,w:mX,W:hX,x:null,X:null,y:pX,Y:xX,Z:vX,"%":YP},j={a:T,A:$,b:I,B:re,c:ce,d:HP,e:HP,f:LY,g:VP,G:WP,H:qP,I:qP,j:EY,L:_Y,m:MY,M:OY,p:R,q:TY,Q:FY,s:RY,S:IY,u:jY,U:CY,V:AY,w:SY,W:PY,x:ve,X:Oe,y:VP,Y:WP,Z:DY,"%":$Y};w.x=k(n,w),w.X=k(r,w),w.c=k(t,w),N.x=k(n,N),N.X=k(r,N),N.c=k(t,N);function k(H,K){return function(J){var ae=[],V=-1,be=0,ie=H.length,me,Ye,Qe;for(J instanceof Date||(J=new Date(+J));++V<ie;)H.charCodeAt(V)===37&&(ae.push(H.slice(be,V)),(Ye=UP[me=H.charAt(++V)])!=null?me=H.charAt(++V):Ye=me==="e"?" ":"0",(Qe=K[me])&&(me=Qe(J,Ye)),ae.push(me),be=V+1);return ae.push(H.slice(be,V)),ae.join("")}}function C(H,K){return function(J){var ae=Lf(1900,void 0,1),V=E(ae,H,J+="",0),be,ie;if(V!=J.length)return null;if("Q"in ae)return new Date(ae.Q);if("s"in ae)return new Date(ae.s*1e3+("L"in ae?ae.L:0));if(K&&!("Z"in ae)&&(ae.Z=0),"p"in ae&&(ae.H=ae.H%12+ae.p*12),ae.m===void 0&&(ae.m="q"in ae?ae.q:0),"V"in ae){if(ae.V<1||ae.V>53)return null;"w"in ae||(ae.w=1),"Z"in ae?(be=Iv(Lf(ae.y,0,1)),ie=be.getUTCDay(),be=ie>4||ie===0?O0.ceil(be):O0(be),be=ib.offset(be,(ae.V-1)*7),ae.y=be.getUTCFullYear(),ae.m=be.getUTCMonth(),ae.d=be.getUTCDate()+(ae.w+6)%7):(be=Ov(Lf(ae.y,0,1)),ie=be.getDay(),be=ie>4||ie===0?E0.ceil(be):E0(be),be=Sh.offset(be,(ae.V-1)*7),ae.y=be.getFullYear(),ae.m=be.getMonth(),ae.d=be.getDate()+(ae.w+6)%7)}else("W"in ae||"U"in ae)&&("w"in ae||(ae.w="u"in ae?ae.u%7:"W"in ae?1:0),ie="Z"in ae?Iv(Lf(ae.y,0,1)).getUTCDay():Ov(Lf(ae.y,0,1)).getDay(),ae.m=0,ae.d="W"in ae?(ae.w+6)%7+ae.W*7-(ie+5)%7:ae.w+ae.U*7-(ie+6)%7);return"Z"in ae?(ae.H+=ae.Z/100|0,ae.M+=ae.Z%100,Iv(ae)):Ov(ae)}}function E(H,K,J,ae){for(var V=0,be=K.length,ie=J.length,me,Ye;V<be;){if(ae>=ie)return-1;if(me=K.charCodeAt(V++),me===37){if(me=K.charAt(V++),Ye=j[me in UP?K.charAt(V++):me],!Ye||(ae=Ye(H,J,ae))<0)return-1}else if(me!=J.charCodeAt(ae++))return-1}return ae}function R(H,K,J){var ae=u.exec(K.slice(J));return ae?(H.p=d.get(ae[0].toLowerCase()),J+ae[0].length):-1}function T(H,K,J){var ae=m.exec(K.slice(J));return ae?(H.w=p.get(ae[0].toLowerCase()),J+ae[0].length):-1}function $(H,K,J){var ae=f.exec(K.slice(J));return ae?(H.w=h.get(ae[0].toLowerCase()),J+ae[0].length):-1}function I(H,K,J){var ae=b.exec(K.slice(J));return ae?(H.m=y.get(ae[0].toLowerCase()),J+ae[0].length):-1}function re(H,K,J){var ae=x.exec(K.slice(J));return ae?(H.m=v.get(ae[0].toLowerCase()),J+ae[0].length):-1}function ce(H,K,J){return E(H,t,K,J)}function ve(H,K,J){return E(H,n,K,J)}function Oe(H,K,J){return E(H,r,K,J)}function fe(H){return s[H.getDay()]}function Z(H){return a[H.getDay()]}function xe(H){return c[H.getMonth()]}function _(H){return o[H.getMonth()]}function D(H){return i[+(H.getHours()>=12)]}function ue(H){return 1+~~(H.getMonth()/3)}function S(H){return s[H.getUTCDay()]}function Y(H){return a[H.getUTCDay()]}function B(H){return c[H.getUTCMonth()]}function ee(H){return o[H.getUTCMonth()]}function de(H){return i[+(H.getUTCHours()>=12)]}function oe(H){return 1+~~(H.getUTCMonth()/3)}return{format:function(H){var K=k(H+="",w);return K.toString=function(){return H},K},parse:function(H){var K=C(H+="",!1);return K.toString=function(){return H},K},utcFormat:function(H){var K=k(H+="",N);return K.toString=function(){return H},K},utcParse:function(H){var K=C(H+="",!0);return K.toString=function(){return H},K}}}var UP={"-":"",_:" ",0:"0"},yi=/^\s*\d+/,wY=/^%/,kY=/[\\^$*+?|[\]().{}]/g;function On(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function NY(e){return e.replace(kY,"\\$&")}function $f(e){return new RegExp("^(?:"+e.map(NY).join("|")+")","i")}function Ff(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function SY(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function jY(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function CY(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function AY(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function PY(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function WP(e,t,n){var r=yi.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function VP(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function DY(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function TY(e,t,n){var r=yi.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function MY(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function HP(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function EY(e,t,n){var r=yi.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function qP(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function OY(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function IY(e,t,n){var r=yi.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function _Y(e,t,n){var r=yi.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function LY(e,t,n){var r=yi.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function $Y(e,t,n){var r=wY.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function FY(e,t,n){var r=yi.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function RY(e,t,n){var r=yi.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function KP(e,t){return On(e.getDate(),t,2)}function BY(e,t){return On(e.getHours(),t,2)}function zY(e,t){return On(e.getHours()%12||12,t,2)}function UY(e,t){return On(1+Sh.count(ml(e),e),t,3)}function a4(e,t){return On(e.getMilliseconds(),t,3)}function WY(e,t){return a4(e,t)+"000"}function VY(e,t){return On(e.getMonth()+1,t,2)}function HY(e,t){return On(e.getMinutes(),t,2)}function qY(e,t){return On(e.getSeconds(),t,2)}function KY(e){var t=e.getDay();return t===0?7:t}function GY(e,t){return On(ab.count(ml(e)-1,e),t,2)}function s4(e){var t=e.getDay();return t>=4||t===0?qd(e):qd.ceil(e)}function YY(e,t){return e=s4(e),On(qd.count(ml(e),e)+(ml(e).getDay()===4),t,2)}function XY(e){return e.getDay()}function QY(e,t){return On(E0.count(ml(e)-1,e),t,2)}function ZY(e,t){return On(e.getFullYear()%100,t,2)}function JY(e,t){return e=s4(e),On(e.getFullYear()%100,t,2)}function eX(e,t){return On(e.getFullYear()%1e4,t,4)}function tX(e,t){var n=e.getDay();return e=n>=4||n===0?qd(e):qd.ceil(e),On(e.getFullYear()%1e4,t,4)}function nX(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+On(t/60|0,"0",2)+On(t%60,"0",2)}function GP(e,t){return On(e.getUTCDate(),t,2)}function rX(e,t){return On(e.getUTCHours(),t,2)}function iX(e,t){return On(e.getUTCHours()%12||12,t,2)}function aX(e,t){return On(1+ib.count(hl(e),e),t,3)}function o4(e,t){return On(e.getUTCMilliseconds(),t,3)}function sX(e,t){return o4(e,t)+"000"}function oX(e,t){return On(e.getUTCMonth()+1,t,2)}function lX(e,t){return On(e.getUTCMinutes(),t,2)}function cX(e,t){return On(e.getUTCSeconds(),t,2)}function uX(e){var t=e.getUTCDay();return t===0?7:t}function dX(e,t){return On(sb.count(hl(e)-1,e),t,2)}function l4(e){var t=e.getUTCDay();return t>=4||t===0?Kd(e):Kd.ceil(e)}function fX(e,t){return e=l4(e),On(Kd.count(hl(e),e)+(hl(e).getUTCDay()===4),t,2)}function mX(e){return e.getUTCDay()}function hX(e,t){return On(O0.count(hl(e)-1,e),t,2)}function pX(e,t){return On(e.getUTCFullYear()%100,t,2)}function gX(e,t){return e=l4(e),On(e.getUTCFullYear()%100,t,2)}function xX(e,t){return On(e.getUTCFullYear()%1e4,t,4)}function bX(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Kd(e):Kd.ceil(e),On(e.getUTCFullYear()%1e4,t,4)}function vX(){return"+0000"}function YP(){return"%"}function XP(e){return+e}function QP(e){return Math.floor(+e/1e3)}var Gu,c4,u4;yX({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function yX(e){return Gu=yY(e),c4=Gu.format,Gu.parse,u4=Gu.utcFormat,Gu.utcParse,Gu}function wX(e){return new Date(e)}function kX(e){return e instanceof Date?+e:+new Date(+e)}function nS(e,t,n,r,i,a,s,o,c,u){var d=UN(),f=d.invert,h=d.domain,m=u(".%L"),p=u(":%S"),x=u("%I:%M"),v=u("%I %p"),b=u("%a %d"),y=u("%b %d"),w=u("%B"),N=u("%Y");function j(k){return(c(k)<k?m:o(k)<k?p:s(k)<k?x:a(k)<k?v:r(k)<k?i(k)<k?b:y:n(k)<k?w:N)(k)}return d.invert=function(k){return new Date(f(k))},d.domain=function(k){return arguments.length?h(Array.from(k,kX)):h().map(wX)},d.ticks=function(k){var C=h();return e(C[0],C[C.length-1],k??10)},d.tickFormat=function(k,C){return C==null?j:u(C)},d.nice=function(k){var C=h();return(!k||typeof k.range!="function")&&(k=t(C[0],C[C.length-1],k??10)),k?h(X_(C,k)):d},d.copy=function(){return Nh(d,nS(e,t,n,r,i,a,s,o,c,u))},d}function NX(){return Ss.apply(nS(bY,vY,ml,eS,ab,Sh,ZN,XN,eu,c4).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function SX(){return Ss.apply(nS(gY,xY,hl,tS,sb,ib,JN,QN,eu,u4).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ob(){var e=0,t=1,n,r,i,a,s=ra,o=!1,c;function u(f){return f==null||isNaN(f=+f)?c:s(i===0?.5:(f=(a(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([e,t]=f,n=a(e=+e),r=a(t=+t),i=n===r?0:1/(r-n),u):[e,t]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(s=f,u):s};function d(f){return function(h){var m,p;return arguments.length?([m,p]=h,s=f(m,p),u):[s(0),s(1)]}}return u.range=d(af),u.rangeRound=d(zN),u.unknown=function(f){return arguments.length?(c=f,u):c},function(f){return a=f,n=f(e),r=f(t),i=n===r?0:1/(r-n),u}}function Cc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function d4(){var e=jc(ob()(ra));return e.copy=function(){return Cc(e,d4())},wl.apply(e,arguments)}function f4(){var e=HN(ob()).domain([1,10]);return e.copy=function(){return Cc(e,f4()).base(e.base())},wl.apply(e,arguments)}function m4(){var e=qN(ob());return e.copy=function(){return Cc(e,m4()).constant(e.constant())},wl.apply(e,arguments)}function rS(){var e=KN(ob());return e.copy=function(){return Cc(e,rS()).exponent(e.exponent())},wl.apply(e,arguments)}function jX(){return rS.apply(null,arguments).exponent(.5)}function h4(){var e=[],t=ra;function n(r){if(r!=null&&!isNaN(r=+r))return t((wh(e,r,1)-1)/(e.length-1))}return n.domain=function(r){if(!arguments.length)return e.slice();e=[];for(let i of r)i!=null&&!isNaN(i=+i)&&e.push(i);return e.sort(dc),n},n.interpolator=function(r){return arguments.length?(t=r,n):t},n.range=function(){return e.map((r,i)=>t(i/(e.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,a)=>uG(e,a/r))},n.copy=function(){return h4(t).domain(e)},wl.apply(n,arguments)}function lb(){var e=0,t=.5,n=1,r=1,i,a,s,o,c,u=ra,d,f=!1,h;function m(x){return isNaN(x=+x)?h:(x=.5+((x=+d(x))-a)*(r*x<r*a?o:c),u(f?Math.max(0,Math.min(1,x)):x))}m.domain=function(x){return arguments.length?([e,t,n]=x,i=d(e=+e),a=d(t=+t),s=d(n=+n),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,m):[e,t,n]},m.clamp=function(x){return arguments.length?(f=!!x,m):f},m.interpolator=function(x){return arguments.length?(u=x,m):u};function p(x){return function(v){var b,y,w;return arguments.length?([b,y,w]=v,u=$G(x,[b,y,w]),m):[u(0),u(.5),u(1)]}}return m.range=p(af),m.rangeRound=p(zN),m.unknown=function(x){return arguments.length?(h=x,m):h},function(x){return d=x,i=x(e),a=x(t),s=x(n),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),r=a<i?-1:1,m}}function p4(){var e=jc(lb()(ra));return e.copy=function(){return Cc(e,p4())},wl.apply(e,arguments)}function g4(){var e=HN(lb()).domain([.1,1,10]);return e.copy=function(){return Cc(e,g4()).base(e.base())},wl.apply(e,arguments)}function x4(){var e=qN(lb());return e.copy=function(){return Cc(e,x4()).constant(e.constant())},wl.apply(e,arguments)}function iS(){var e=KN(lb());return e.copy=function(){return Cc(e,iS()).exponent(e.exponent())},wl.apply(e,arguments)}function CX(){return iS.apply(null,arguments).exponent(.5)}const Zf=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:FN,scaleDiverging:p4,scaleDivergingLog:g4,scaleDivergingPow:iS,scaleDivergingSqrt:CX,scaleDivergingSymlog:x4,scaleIdentity:Y_,scaleImplicit:Jw,scaleLinear:G_,scaleLog:Q_,scaleOrdinal:$N,scalePoint:mG,scalePow:GN,scaleQuantile:e4,scaleQuantize:t4,scaleRadial:J_,scaleSequential:d4,scaleSequentialLog:f4,scaleSequentialPow:rS,scaleSequentialQuantile:h4,scaleSequentialSqrt:jX,scaleSequentialSymlog:m4,scaleSqrt:sY,scaleSymlog:Z_,scaleThreshold:n4,scaleTime:NX,scaleUtc:SX,tickFormat:K_},Symbol.toStringTag,{value:"Module"}));var Ac=e=>e.chartData,aS=Be([Ac],e=>{var t=e.chartData!=null?e.chartData.length-1:0;return{chartData:e.chartData,computedData:e.computedData,dataEndIndex:t,dataStartIndex:0}}),sS=(e,t,n,r)=>r?aS(e):Ac(e);function pc(e){if(Array.isArray(e)&&e.length===2){var[t,n]=e;if(hr(t)&&hr(n))return!0}return!1}function ZP(e,t,n){return n?e:[Math.min(e[0],t[0]),Math.max(e[1],t[1])]}function b4(e,t){if(t&&typeof e!="function"&&Array.isArray(e)&&e.length===2){var[n,r]=e,i,a;if(hr(n))i=n;else if(typeof n=="function")return;if(hr(r))a=r;else if(typeof r=="function")return;var s=[i,a];if(pc(s))return s}}function AX(e,t,n){if(!(!n&&t==null)){if(typeof e=="function"&&t!=null)try{var r=e(t,n);if(pc(r))return ZP(r,t,n)}catch{}if(Array.isArray(e)&&e.length===2){var[i,a]=e,s,o;if(i==="auto")t!=null&&(s=Math.min(...t));else if(Lt(i))s=i;else if(typeof i=="function")try{t!=null&&(s=i(t==null?void 0:t[0]))}catch{}else if(typeof i=="string"&&xA.test(i)){var c=xA.exec(i);if(c==null||c[1]==null||t==null)s=void 0;else{var u=+c[1];s=t[0]-u}}else s=t==null?void 0:t[0];if(a==="auto")t!=null&&(o=Math.max(...t));else if(Lt(a))o=a;else if(typeof a=="function")try{t!=null&&(o=a(t==null?void 0:t[1]))}catch{}else if(typeof a=="string"&&bA.test(a)){var d=bA.exec(a);if(d==null||d[1]==null||t==null)o=void 0;else{var f=+d[1];o=t[1]+f}}else o=t==null?void 0:t[1];var h=[s,o];if(pc(h))return t==null?h:ZP(h,t,n)}}}var sf=1e9,PX={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},lS,pr=!0,ws="[DecimalError] ",cu=ws+"Invalid argument: ",oS=ws+"Exponent out of range: ",of=Math.floor,Wc=Math.pow,DX=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,La,hi=1e7,ar=7,v4=9007199254740991,I0=of(v4/ar),Mt={};Mt.absoluteValue=Mt.abs=function(){var e=new this.constructor(this);return e.s&&(e.s=1),e};Mt.comparedTo=Mt.cmp=function(e){var t,n,r,i,a=this;if(e=new a.constructor(e),a.s!==e.s)return a.s||-e.s;if(a.e!==e.e)return a.e>e.e^a.s<0?1:-1;for(r=a.d.length,i=e.d.length,t=0,n=r<i?r:i;t<n;++t)if(a.d[t]!==e.d[t])return a.d[t]>e.d[t]^a.s<0?1:-1;return r===i?0:r>i^a.s<0?1:-1};Mt.decimalPlaces=Mt.dp=function(){var e=this,t=e.d.length-1,n=(t-e.e)*ar;if(t=e.d[t],t)for(;t%10==0;t/=10)n--;return n<0?0:n};Mt.dividedBy=Mt.div=function(e){return nl(this,new this.constructor(e))};Mt.dividedToIntegerBy=Mt.idiv=function(e){var t=this,n=t.constructor;return Hn(nl(t,new n(e),0,1),n.precision)};Mt.equals=Mt.eq=function(e){return!this.cmp(e)};Mt.exponent=function(){return Qr(this)};Mt.greaterThan=Mt.gt=function(e){return this.cmp(e)>0};Mt.greaterThanOrEqualTo=Mt.gte=function(e){return this.cmp(e)>=0};Mt.isInteger=Mt.isint=function(){return this.e>this.d.length-2};Mt.isNegative=Mt.isneg=function(){return this.s<0};Mt.isPositive=Mt.ispos=function(){return this.s>0};Mt.isZero=function(){return this.s===0};Mt.lessThan=Mt.lt=function(e){return this.cmp(e)<0};Mt.lessThanOrEqualTo=Mt.lte=function(e){return this.cmp(e)<1};Mt.logarithm=Mt.log=function(e){var t,n=this,r=n.constructor,i=r.precision,a=i+5;if(e===void 0)e=new r(10);else if(e=new r(e),e.s<1||e.eq(La))throw Error(ws+"NaN");if(n.s<1)throw Error(ws+(n.s?"NaN":"-Infinity"));return n.eq(La)?new r(0):(pr=!1,t=nl(Jm(n,a),Jm(e,a),a),pr=!0,Hn(t,i))};Mt.minus=Mt.sub=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?k4(t,e):y4(t,(e.s=-e.s,e))};Mt.modulo=Mt.mod=function(e){var t,n=this,r=n.constructor,i=r.precision;if(e=new r(e),!e.s)throw Error(ws+"NaN");return n.s?(pr=!1,t=nl(n,e,0,1).times(e),pr=!0,n.minus(t)):Hn(new r(n),i)};Mt.naturalExponential=Mt.exp=function(){return w4(this)};Mt.naturalLogarithm=Mt.ln=function(){return Jm(this)};Mt.negated=Mt.neg=function(){var e=new this.constructor(this);return e.s=-e.s||0,e};Mt.plus=Mt.add=function(e){var t=this;return e=new t.constructor(e),t.s==e.s?y4(t,e):k4(t,(e.s=-e.s,e))};Mt.precision=Mt.sd=function(e){var t,n,r,i=this;if(e!==void 0&&e!==!!e&&e!==1&&e!==0)throw Error(cu+e);if(t=Qr(i)+1,r=i.d.length-1,n=r*ar+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return e&&t>n?t:n};Mt.squareRoot=Mt.sqrt=function(){var e,t,n,r,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(ws+"NaN")}for(e=Qr(o),pr=!1,i=Math.sqrt(+o),i==0||i==1/0?(t=fo(o.d),(t.length+e)%2==0&&(t+="0"),i=Math.sqrt(t),e=of((e+1)/2)-(e<0||e%2),i==1/0?t="5e"+e:(t=i.toExponential(),t=t.slice(0,t.indexOf("e")+1)+e),r=new c(t)):r=new c(i.toString()),n=c.precision,i=s=n+3;;)if(a=r,r=a.plus(nl(o,a,s+2)).times(.5),fo(a.d).slice(0,s)===(t=fo(r.d)).slice(0,s)){if(t=t.slice(s-3,s+1),i==s&&t=="4999"){if(Hn(a,n+1,0),a.times(a).eq(o)){r=a;break}}else if(t!="9999")break;s+=4}return pr=!0,Hn(r,n)};Mt.times=Mt.mul=function(e){var t,n,r,i,a,s,o,c,u,d=this,f=d.constructor,h=d.d,m=(e=new f(e)).d;if(!d.s||!e.s)return new f(0);for(e.s*=d.s,n=d.e+e.e,c=h.length,u=m.length,c<u&&(a=h,h=m,m=a,s=c,c=u,u=s),a=[],s=c+u,r=s;r--;)a.push(0);for(r=u;--r>=0;){for(t=0,i=c+r;i>r;)o=a[i]+m[r]*h[i-r-1]+t,a[i--]=o%hi|0,t=o/hi|0;a[i]=(a[i]+t)%hi|0}for(;!a[--s];)a.pop();return t?++n:a.shift(),e.d=a,e.e=n,pr?Hn(e,f.precision):e};Mt.toDecimalPlaces=Mt.todp=function(e,t){var n=this,r=n.constructor;return n=new r(n),e===void 0?n:(bo(e,0,sf),t===void 0?t=r.rounding:bo(t,0,8),Hn(n,e+Qr(n)+1,t))};Mt.toExponential=function(e,t){var n,r=this,i=r.constructor;return e===void 0?n=Nu(r,!0):(bo(e,0,sf),t===void 0?t=i.rounding:bo(t,0,8),r=Hn(new i(r),e+1,t),n=Nu(r,!0,e+1)),n};Mt.toFixed=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?Nu(i):(bo(e,0,sf),t===void 0?t=a.rounding:bo(t,0,8),r=Hn(new a(i),e+Qr(i)+1,t),n=Nu(r.abs(),!1,e+Qr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};Mt.toInteger=Mt.toint=function(){var e=this,t=e.constructor;return Hn(new t(e),Qr(e)+1,t.rounding)};Mt.toNumber=function(){return+this};Mt.toPower=Mt.pow=function(e){var t,n,r,i,a,s,o=this,c=o.constructor,u=12,d=+(e=new c(e));if(!e.s)return new c(La);if(o=new c(o),!o.s){if(e.s<1)throw Error(ws+"Infinity");return o}if(o.eq(La))return o;if(r=c.precision,e.eq(La))return Hn(o,r);if(t=e.e,n=e.d.length-1,s=t>=n,a=o.s,s){if((n=d<0?-d:d)<=v4){for(i=new c(La),t=Math.ceil(r/ar+4),pr=!1;n%2&&(i=i.times(o),eD(i.d,t)),n=of(n/2),n!==0;)o=o.times(o),eD(o.d,t);return pr=!0,e.s<0?new c(La).div(i):Hn(i,r)}}else if(a<0)throw Error(ws+"NaN");return a=a<0&&e.d[Math.max(t,n)]&1?-1:1,o.s=1,pr=!1,i=e.times(Jm(o,r+u)),pr=!0,i=w4(i),i.s=a,i};Mt.toPrecision=function(e,t){var n,r,i=this,a=i.constructor;return e===void 0?(n=Qr(i),r=Nu(i,n<=a.toExpNeg||n>=a.toExpPos)):(bo(e,1,sf),t===void 0?t=a.rounding:bo(t,0,8),i=Hn(new a(i),e,t),n=Qr(i),r=Nu(i,e<=n||n<=a.toExpNeg,e)),r};Mt.toSignificantDigits=Mt.tosd=function(e,t){var n=this,r=n.constructor;return e===void 0?(e=r.precision,t=r.rounding):(bo(e,1,sf),t===void 0?t=r.rounding:bo(t,0,8)),Hn(new r(n),e,t)};Mt.toString=Mt.valueOf=Mt.val=Mt.toJSON=Mt[Symbol.for("nodejs.util.inspect.custom")]=function(){var e=this,t=Qr(e),n=e.constructor;return Nu(e,t<=n.toExpNeg||t>=n.toExpPos)};function y4(e,t){var n,r,i,a,s,o,c,u,d=e.constructor,f=d.precision;if(!e.s||!t.s)return t.s||(t=new d(e)),pr?Hn(t,f):t;if(c=e.d,u=t.d,s=e.e,i=t.e,c=c.slice(),a=s-i,a){for(a<0?(r=c,a=-a,o=u.length):(r=u,i=s,o=c.length),s=Math.ceil(f/ar),o=s>o?s+1:o+1,a>o&&(a=o,r.length=1),r.reverse();a--;)r.push(0);r.reverse()}for(o=c.length,a=u.length,o-a<0&&(a=o,r=u,u=c,c=r),n=0;a;)n=(c[--a]=c[a]+u[a]+n)/hi|0,c[a]%=hi;for(n&&(c.unshift(n),++i),o=c.length;c[--o]==0;)c.pop();return t.d=c,t.e=i,pr?Hn(t,f):t}function bo(e,t,n){if(e!==~~e||e<t||e>n)throw Error(cu+e)}function fo(e){var t,n,r,i=e.length-1,a="",s=e[0];if(i>0){for(a+=s,t=1;t<i;t++)r=e[t]+"",n=ar-r.length,n&&(a+=Hl(n)),a+=r;s=e[t],r=s+"",n=ar-r.length,n&&(a+=Hl(n))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var nl=function(){function e(r,i){var a,s=0,o=r.length;for(r=r.slice();o--;)a=r[o]*i+s,r[o]=a%hi|0,s=a/hi|0;return s&&r.unshift(s),r}function t(r,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(r[o]!=i[o]){c=r[o]>i[o]?1:-1;break}return c}function n(r,i,a){for(var s=0;a--;)r[a]-=s,s=r[a]<i[a]?1:0,r[a]=s*hi+r[a]-i[a];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,a,s){var o,c,u,d,f,h,m,p,x,v,b,y,w,N,j,k,C,E,R=r.constructor,T=r.s==i.s?1:-1,$=r.d,I=i.d;if(!r.s)return new R(r);if(!i.s)throw Error(ws+"Division by zero");for(c=r.e-i.e,C=I.length,j=$.length,m=new R(T),p=m.d=[],u=0;I[u]==($[u]||0);)++u;if(I[u]>($[u]||0)&&--c,a==null?y=a=R.precision:s?y=a+(Qr(r)-Qr(i))+1:y=a,y<0)return new R(0);if(y=y/ar+2|0,u=0,C==1)for(d=0,I=I[0],y++;(u<j||d)&&y--;u++)w=d*hi+($[u]||0),p[u]=w/I|0,d=w%I|0;else{for(d=hi/(I[0]+1)|0,d>1&&(I=e(I,d),$=e($,d),C=I.length,j=$.length),N=C,x=$.slice(0,C),v=x.length;v<C;)x[v++]=0;E=I.slice(),E.unshift(0),k=I[0],I[1]>=hi/2&&++k;do d=0,o=t(I,x,C,v),o<0?(b=x[0],C!=v&&(b=b*hi+(x[1]||0)),d=b/k|0,d>1?(d>=hi&&(d=hi-1),f=e(I,d),h=f.length,v=x.length,o=t(f,x,h,v),o==1&&(d--,n(f,C<h?E:I,h))):(d==0&&(o=d=1),f=I.slice()),h=f.length,h<v&&f.unshift(0),n(x,f,v),o==-1&&(v=x.length,o=t(I,x,C,v),o<1&&(d++,n(x,C<v?E:I,v))),v=x.length):o===0&&(d++,x=[0]),p[u++]=d,o&&x[0]?x[v++]=$[N]||0:(x=[$[N]],v=1);while((N++<j||x[0]!==void 0)&&y--)}return p[0]||p.shift(),m.e=c,Hn(m,s?a+Qr(m)+1:a)}}();function w4(e,t){var n,r,i,a,s,o,c=0,u=0,d=e.constructor,f=d.precision;if(Qr(e)>16)throw Error(oS+Qr(e));if(!e.s)return new d(La);for(pr=!1,o=f,s=new d(.03125);e.abs().gte(.1);)e=e.times(s),u+=5;for(r=Math.log(Wc(2,u))/Math.LN10*2+5|0,o+=r,n=i=a=new d(La),d.precision=o;;){if(i=Hn(i.times(e),o),n=n.times(++c),s=a.plus(nl(i,n,o)),fo(s.d).slice(0,o)===fo(a.d).slice(0,o)){for(;u--;)a=Hn(a.times(a),o);return d.precision=f,t==null?(pr=!0,Hn(a,f)):a}a=s}}function Qr(e){for(var t=e.e*ar,n=e.d[0];n>=10;n/=10)t++;return t}function _v(e,t,n){if(t>e.LN10.sd())throw pr=!0,n&&(e.precision=n),Error(ws+"LN10 precision limit exceeded");return Hn(new e(e.LN10),t)}function Hl(e){for(var t="";e--;)t+="0";return t}function Jm(e,t){var n,r,i,a,s,o,c,u,d,f=1,h=10,m=e,p=m.d,x=m.constructor,v=x.precision;if(m.s<1)throw Error(ws+(m.s?"NaN":"-Infinity"));if(m.eq(La))return new x(0);if(t==null?(pr=!1,u=v):u=t,m.eq(10))return t==null&&(pr=!0),_v(x,u);if(u+=h,x.precision=u,n=fo(p),r=n.charAt(0),a=Qr(m),Math.abs(a)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)m=m.times(e),n=fo(m.d),r=n.charAt(0),f++;a=Qr(m),r>1?(m=new x("0."+n),a++):m=new x(r+"."+n.slice(1))}else return c=_v(x,u+2,v).times(a+""),m=Jm(new x(r+"."+n.slice(1)),u-h).plus(c),x.precision=v,t==null?(pr=!0,Hn(m,v)):m;for(o=s=m=nl(m.minus(La),m.plus(La),u),d=Hn(m.times(m),u),i=3;;){if(s=Hn(s.times(d),u),c=o.plus(nl(s,new x(i),u)),fo(c.d).slice(0,u)===fo(o.d).slice(0,u))return o=o.times(2),a!==0&&(o=o.plus(_v(x,u+2,v).times(a+""))),o=nl(o,new x(f),u),x.precision=v,t==null?(pr=!0,Hn(o,v)):o;o=c,i+=2}}function JP(e,t){var n,r,i;for((n=t.indexOf("."))>-1&&(t=t.replace(".","")),(r=t.search(/e/i))>0?(n<0&&(n=r),n+=+t.slice(r+1),t=t.substring(0,r)):n<0&&(n=t.length),r=0;t.charCodeAt(r)===48;)++r;for(i=t.length;t.charCodeAt(i-1)===48;)--i;if(t=t.slice(r,i),t){if(i-=r,n=n-r-1,e.e=of(n/ar),e.d=[],r=(n+1)%ar,n<0&&(r+=ar),r<i){for(r&&e.d.push(+t.slice(0,r)),i-=ar;r<i;)e.d.push(+t.slice(r,r+=ar));t=t.slice(r),r=ar-t.length}else r-=i;for(;r--;)t+="0";if(e.d.push(+t),pr&&(e.e>I0||e.e<-I0))throw Error(oS+n)}else e.s=0,e.e=0,e.d=[0];return e}function Hn(e,t,n){var r,i,a,s,o,c,u,d,f=e.d;for(s=1,a=f[0];a>=10;a/=10)s++;if(r=t-s,r<0)r+=ar,i=t,u=f[d=0];else{if(d=Math.ceil((r+1)/ar),a=f.length,d>=a)return e;for(u=a=f[d],s=1;a>=10;a/=10)s++;r%=ar,i=r-ar+s}if(n!==void 0&&(a=Wc(10,s-i-1),o=u/a%10|0,c=t<0||f[d+1]!==void 0||u%a,c=n<4?(o||c)&&(n==0||n==(e.s<0?3:2)):o>5||o==5&&(n==4||c||n==6&&(r>0?i>0?u/Wc(10,s-i):0:f[d-1])%10&1||n==(e.s<0?8:7))),t<1||!f[0])return c?(a=Qr(e),f.length=1,t=t-a-1,f[0]=Wc(10,(ar-t%ar)%ar),e.e=of(-t/ar)||0):(f.length=1,f[0]=e.e=e.s=0),e;if(r==0?(f.length=d,a=1,d--):(f.length=d+1,a=Wc(10,ar-r),f[d]=i>0?(u/Wc(10,s-i)%Wc(10,i)|0)*a:0),c)for(;;)if(d==0){(f[0]+=a)==hi&&(f[0]=1,++e.e);break}else{if(f[d]+=a,f[d]!=hi)break;f[d--]=0,a=1}for(r=f.length;f[--r]===0;)f.pop();if(pr&&(e.e>I0||e.e<-I0))throw Error(oS+Qr(e));return e}function k4(e,t){var n,r,i,a,s,o,c,u,d,f,h=e.constructor,m=h.precision;if(!e.s||!t.s)return t.s?t.s=-t.s:t=new h(e),pr?Hn(t,m):t;if(c=e.d,f=t.d,r=t.e,u=e.e,c=c.slice(),s=u-r,s){for(d=s<0,d?(n=c,s=-s,o=f.length):(n=f,r=u,o=c.length),i=Math.max(Math.ceil(m/ar),o)+2,s>i&&(s=i,n.length=1),n.reverse(),i=s;i--;)n.push(0);n.reverse()}else{for(i=c.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(c[i]!=f[i]){d=c[i]<f[i];break}s=0}for(d&&(n=c,c=f,f=n,t.s=-t.s),o=c.length,i=f.length-o;i>0;--i)c[o++]=0;for(i=f.length;i>s;){if(c[--i]<f[i]){for(a=i;a&&c[--a]===0;)c[a]=hi-1;--c[a],c[i]+=hi}c[i]-=f[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--r;return c[0]?(t.d=c,t.e=r,pr?Hn(t,m):t):new h(0)}function Nu(e,t,n){var r,i=Qr(e),a=fo(e.d),s=a.length;return t?(n&&(r=n-s)>0?a=a.charAt(0)+"."+a.slice(1)+Hl(r):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Hl(-i-1)+a,n&&(r=n-s)>0&&(a+=Hl(r))):i>=s?(a+=Hl(i+1-s),n&&(r=n-i-1)>0&&(a=a+"."+Hl(r))):((r=i+1)<s&&(a=a.slice(0,r)+"."+a.slice(r)),n&&(r=n-s)>0&&(i+1===s&&(a+="."),a+=Hl(r))),e.s<0?"-"+a:a}function eD(e,t){if(e.length>t)return e.length=t,!0}function N4(e){var t,n,r;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(cu+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return JP(s,a.toString())}else if(typeof a!="string")throw Error(cu+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,DX.test(a))JP(s,a);else throw Error(cu+a)}if(i.prototype=Mt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=N4,i.config=i.set=TX,e===void 0&&(e={}),e)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],t=0;t<r.length;)e.hasOwnProperty(n=r[t++])||(e[n]=this[n]);return i.config(e),i}function TX(e){if(!e||typeof e!="object")throw Error(ws+"Object expected");var t,n,r,i=["precision",1,sf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(t=0;t<i.length;t+=3)if((r=e[n=i[t]])!==void 0)if(of(r)===r&&r>=i[t+1]&&r<=i[t+2])this[n]=r;else throw Error(cu+n+": "+r);if((r=e[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(cu+n+": "+r);return this}var lS=N4(PX);La=new lS(1);const zn=lS;var MX=e=>e,S4={},j4=e=>e===S4,tD=e=>function t(){return arguments.length===0||arguments.length===1&&j4(arguments.length<=0?void 0:arguments[0])?t:e(...arguments)},C4=(e,t)=>e===1?t:tD(function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=r.filter(s=>s!==S4).length;return a>=e?t(...r):C4(e-a,tD(function(){for(var s=arguments.length,o=new Array(s),c=0;c<s;c++)o[c]=arguments[c];var u=r.map(d=>j4(d)?o.shift():d);return t(...u,...o)}))}),EX=e=>C4(e.length,e),r1=(e,t)=>{for(var n=[],r=e;r<t;++r)n[r-e]=r;return n},OX=EX((e,t)=>Array.isArray(t)?t.map(e):Object.keys(t).map(n=>t[n]).map(e)),IX=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];if(!n.length)return MX;var i=n.reverse(),a=i[0],s=i.slice(1);return function(){return s.reduce((o,c)=>c(o),a(...arguments))}};function A4(e){var t;return e===0?t=1:t=Math.floor(new zn(e).abs().log(10).toNumber())+1,t}function P4(e,t,n){for(var r=new zn(e),i=0,a=[];r.lt(t)&&i<1e5;)a.push(r.toNumber()),r=r.add(n),i++;return a}var D4=e=>{var[t,n]=e,[r,i]=[t,n];return t>n&&([r,i]=[n,t]),[r,i]},T4=(e,t,n)=>{if(e.lte(0))return new zn(0);var r=A4(e.toNumber()),i=new zn(10).pow(r),a=e.div(i),s=r!==1?.05:.1,o=new zn(Math.ceil(a.div(s).toNumber())).add(n).mul(s),c=o.mul(i);return t?new zn(c.toNumber()):new zn(Math.ceil(c.toNumber()))},_X=(e,t,n)=>{var r=new zn(1),i=new zn(e);if(!i.isint()&&n){var a=Math.abs(e);a<1?(r=new zn(10).pow(A4(e)-1),i=new zn(Math.floor(i.div(r).toNumber())).mul(r)):a>1&&(i=new zn(Math.floor(e)))}else e===0?i=new zn(Math.floor((t-1)/2)):n||(i=new zn(Math.floor(e)));var s=Math.floor((t-1)/2),o=IX(OX(c=>i.add(new zn(c-s).mul(r)).toNumber()),r1);return o(0,t)},M4=function(t,n,r,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((n-t)/(r-1)))return{step:new zn(0),tickMin:new zn(0),tickMax:new zn(0)};var s=T4(new zn(n).sub(t).div(r-1),i,a),o;t<=0&&n>=0?o=new zn(0):(o=new zn(t).add(n).div(2),o=o.sub(new zn(o).mod(s)));var c=Math.ceil(o.sub(t).div(s).toNumber()),u=Math.ceil(new zn(n).sub(o).div(s).toNumber()),d=c+u+1;return d>r?M4(t,n,r,i,a+1):(d<r&&(u=n>0?u+(r-d):u,c=n>0?c:c+(r-d)),{step:s,tickMin:o.sub(new zn(c).mul(s)),tickMax:o.add(new zn(u).mul(s))})},LX=function(t){var[n,r]=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,c]=D4([n,r]);if(o===-1/0||c===1/0){var u=c===1/0?[o,...r1(0,i-1).map(()=>1/0)]:[...r1(0,i-1).map(()=>-1/0),c];return n>r?u.reverse():u}if(o===c)return _X(o,i,a);var{step:d,tickMin:f,tickMax:h}=M4(o,c,s,a,0),m=P4(f,h.add(new zn(.1).mul(d)),d);return n>r?m.reverse():m},$X=function(t,n){var[r,i]=t,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=D4([r,i]);if(s===-1/0||o===1/0)return[r,i];if(s===o)return[s];var c=Math.max(n,2),u=T4(new zn(o).sub(s).div(c-1),a,0),d=[...P4(new zn(s),new zn(o),u),o];return a===!1&&(d=d.map(f=>Math.round(f))),r>i?d.reverse():d},FX=e=>e.rootProps.barCategoryGap,jh=e=>e.rootProps.stackOffset,E4=e=>e.rootProps.reverseStackOrder,cS=e=>e.options.chartName,uS=e=>e.rootProps.syncId,O4=e=>e.rootProps.syncMethod,dS=e=>e.options.eventEmitter,gi={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Ko={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},_a={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},cb=(e,t)=>{if(!(!e||!t))return e!=null&&e.reversed?[t[1],t[0]]:t},RX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Ko.angleAxisId,includeHidden:!1,name:void 0,reversed:Ko.reversed,scale:Ko.scale,tick:Ko.tick,tickCount:void 0,ticks:void 0,type:Ko.type,unit:void 0},BX={allowDataOverflow:_a.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:_a.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_a.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_a.scale,tick:_a.tick,tickCount:_a.tickCount,ticks:void 0,type:_a.type,unit:void 0},zX={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Ko.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ko.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ko.scale,tick:Ko.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},UX={allowDataOverflow:_a.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:_a.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:_a.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:_a.scale,tick:_a.tick,tickCount:_a.tickCount,ticks:void 0,type:"category",unit:void 0},fS=(e,t)=>e.polarAxis.angleAxis[t]!=null?e.polarAxis.angleAxis[t]:e.layout.layoutType==="radial"?zX:RX,mS=(e,t)=>e.polarAxis.radiusAxis[t]!=null?e.polarAxis.radiusAxis[t]:e.layout.layoutType==="radial"?UX:BX,ub=e=>e.polarOptions,hS=Be([vl,yl,vi],M_),I4=Be([ub,hS],(e,t)=>{if(e!=null)return Ba(e.innerRadius,t,0)}),_4=Be([ub,hS],(e,t)=>{if(e!=null)return Ba(e.outerRadius,t,t*.8)}),WX=e=>{if(e==null)return[0,0];var{startAngle:t,endAngle:n}=e;return[t,n]},L4=Be([ub],WX);Be([fS,L4],cb);var $4=Be([hS,I4,_4],(e,t,n)=>{if(!(e==null||t==null||n==null))return[t,n]});Be([mS,$4],cb);var F4=Be([Wn,ub,I4,_4,vl,yl],(e,t,n,r,i,a)=>{if(!(e!=="centric"&&e!=="radial"||t==null||n==null||r==null)){var{cx:s,cy:o,startAngle:c,endAngle:u}=t;return{cx:Ba(s,i,i/2),cy:Ba(o,a,a/2),innerRadius:n,outerRadius:r,startAngle:c,endAngle:u,clockWise:!1}}}),gr=(e,t)=>t,Ch=(e,t,n)=>n;function R4(e){return e==null?void 0:e.id}function B4(e,t,n){var{chartData:r=[]}=t,{allowDuplicatedCategory:i,dataKey:a}=n,s=new Map;return e.forEach(o=>{var c,u=(c=o.data)!==null&&c!==void 0?c:r;if(!(u==null||u.length===0)){var d=R4(o);u.forEach((f,h)=>{var m=a==null||i?h:String(or(f,a,null)),p=or(f,o.dataKey,0),x;s.has(m)?x=s.get(m):x={},Object.assign(x,{[d]:p}),s.set(m,x)})}}),Array.from(s.values())}function pS(e){return"stackId"in e&&e.stackId!=null&&e.dataKey!=null}var db=(e,t)=>e===t?!0:e==null||t==null?!1:e[0]===t[0]&&e[1]===t[1];function fb(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===0&&t.length===0?!0:e===t}function VX(e,t){if(e.length===t.length){for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}return!1}var si=e=>{var t=Wn(e);return t==="horizontal"?"xAxis":t==="vertical"?"yAxis":t==="centric"?"angleAxis":"radiusAxis"},lf=e=>e.tooltip.settings.axisId;function nD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?nD(Object(n),!0).forEach(function(r){HX(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):nD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function HX(e,t,n){return(t=qX(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qX(e){var t=KX(e,"string");return typeof t=="symbol"?t:t+""}function KX(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var i1=[0,"auto"],di={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},z4=(e,t)=>e.cartesianAxis.xAxis[t],ko=(e,t)=>{var n=z4(e,t);return n??di},fi={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:i1,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:xh},U4=(e,t)=>e.cartesianAxis.yAxis[t],No=(e,t)=>{var n=U4(e,t);return n??fi},GX={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},gS=(e,t)=>{var n=e.cartesianAxis.zAxis[t];return n??GX},Sr=(e,t,n)=>{switch(t){case"xAxis":return ko(e,n);case"yAxis":return No(e,n);case"zAxis":return gS(e,n);case"angleAxis":return fS(e,n);case"radiusAxis":return mS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},YX=(e,t,n)=>{switch(t){case"xAxis":return ko(e,n);case"yAxis":return No(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},Ah=(e,t,n)=>{switch(t){case"xAxis":return ko(e,n);case"yAxis":return No(e,n);case"angleAxis":return fS(e,n);case"radiusAxis":return mS(e,n);default:throw new Error("Unexpected axis type: ".concat(t))}},W4=e=>e.graphicalItems.cartesianItems.some(t=>t.type==="bar")||e.graphicalItems.polarItems.some(t=>t.type==="radialBar");function xS(e,t){return n=>{switch(e){case"xAxis":return"xAxisId"in n&&n.xAxisId===t;case"yAxis":return"yAxisId"in n&&n.yAxisId===t;case"zAxis":return"zAxisId"in n&&n.zAxisId===t;case"angleAxis":return"angleAxisId"in n&&n.angleAxisId===t;case"radiusAxis":return"radiusAxisId"in n&&n.radiusAxisId===t;default:return!1}}}var V4=e=>e.graphicalItems.cartesianItems,XX=Be([gr,Ch],xS),bS=(e,t,n)=>e.filter(n).filter(r=>(t==null?void 0:t.includeHidden)===!0?!0:!r.hide),Ph=Be([V4,Sr,XX],bS,{memoizeOptions:{resultEqualityCheck:fb}}),H4=Be([Ph],e=>e.filter(t=>t.type==="area"||t.type==="bar").filter(pS)),q4=e=>e.filter(t=>!("stackId"in t)||t.stackId===void 0),QX=Be([Ph],q4),vS=e=>e.map(t=>t.data).filter(Boolean).flat(1),ZX=Be([Ph],vS,{memoizeOptions:{resultEqualityCheck:fb}}),yS=(e,t)=>{var{chartData:n=[],dataStartIndex:r,dataEndIndex:i}=t;return e.length>0?e:n.slice(r,i+1)},wS=Be([ZX,sS],yS),kS=(e,t,n)=>(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:or(r,t.dataKey)})):n.length>0?n.map(r=>r.dataKey).flatMap(r=>e.map(i=>({value:or(i,r)}))):e.map(r=>({value:r})),mb=Be([wS,Sr,Ph],kS);function K4(e,t){switch(e){case"xAxis":return t.direction==="x";case"yAxis":return t.direction==="y";default:return!1}}function gg(e){if(bs(e)||e instanceof Date){var t=Number(e);if(hr(t))return t}}function rD(e){if(Array.isArray(e)){var t=[gg(e[0]),gg(e[1])];return pc(t)?t:void 0}var n=gg(e);if(n!=null)return[n,n]}function pl(e){return e.map(gg).filter(h9)}function JX(e,t,n){return!n||typeof t!="number"||xs(t)?[]:n.length?pl(n.flatMap(r=>{var i=or(e,r.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!hr(a)||!hr(s)))return[t-a,t+s]})):[]}var oi=e=>{var t=si(e),n=lf(e);return Ah(e,t,n)},Dh=Be([oi],e=>e==null?void 0:e.dataKey),eQ=Be([H4,sS,oi],B4),G4=(e,t,n,r)=>{var i={},a=t.reduce((s,o)=>{if(o.stackId==null)return s;var c=s[o.stackId];return c==null&&(c=[]),c.push(o),s[o.stackId]=c,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,c]=s,u=r?[...c].reverse():c,d=u.map(R4);return[o,{stackedData:T7(e,d,n),graphicalItems:u}]}))},tQ=Be([eQ,H4,jh,E4],G4),Y4=(e,t,n,r)=>{var{dataStartIndex:i,dataEndIndex:a}=t;if(r==null&&n!=="zAxis"){var s=O7(e,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},nQ=Be([Sr],e=>e.allowDataOverflow),NS=e=>{var t;if(e==null||!("domain"in e))return i1;if(e.domain!=null)return e.domain;if("ticks"in e&&e.ticks!=null){if(e.type==="number"){var n=pl(e.ticks);return[Math.min(...n),Math.max(...n)]}if(e.type==="category")return e.ticks.map(String)}return(t=e==null?void 0:e.domain)!==null&&t!==void 0?t:i1},SS=Be([Sr],NS),jS=Be([SS,nQ],b4),rQ=Be([tQ,Ac,gr,jS],Y4,{memoizeOptions:{resultEqualityCheck:db}}),hb=e=>e.errorBars,iQ=(e,t,n)=>e.flatMap(r=>t[r.id]).filter(Boolean).filter(r=>K4(n,r)),L0=function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=n.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},CS=(e,t,n,r,i)=>{var a,s;if(n.length>0&&e.forEach(o=>{n.forEach(c=>{var u,d,f=(u=r[c.id])===null||u===void 0?void 0:u.filter(b=>K4(i,b)),h=or(o,(d=t.dataKey)!==null&&d!==void 0?d:c.dataKey),m=JX(o,h,f);if(m.length>=2){var p=Math.min(...m),x=Math.max(...m);(a==null||p<a)&&(a=p),(s==null||x>s)&&(s=x)}var v=rD(h);v!=null&&(a=a==null?v[0]:Math.min(a,v[0]),s=s==null?v[1]:Math.max(s,v[1]))})}),(t==null?void 0:t.dataKey)!=null&&e.forEach(o=>{var c=rD(or(o,t.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),hr(a)&&hr(s))return[a,s]},aQ=Be([wS,Sr,QX,hb,gr],CS,{memoizeOptions:{resultEqualityCheck:db}});function sQ(e){var{value:t}=e;if(bs(t)||t instanceof Date)return t}var oQ=(e,t,n)=>{var r=e.map(sQ).filter(i=>i!=null);return n&&(t.dataKey==null||t.allowDuplicatedCategory&&WI(r))?F_(0,e.length):t.allowDuplicatedCategory?r:Array.from(new Set(r))},X4=e=>e.referenceElements.dots,cf=(e,t,n)=>e.filter(r=>r.ifOverflow==="extendDomain").filter(r=>t==="xAxis"?r.xAxisId===n:r.yAxisId===n),lQ=Be([X4,gr,Ch],cf),Q4=e=>e.referenceElements.areas,cQ=Be([Q4,gr,Ch],cf),Z4=e=>e.referenceElements.lines,uQ=Be([Z4,gr,Ch],cf),J4=(e,t)=>{if(e!=null){var n=pl(e.map(r=>t==="xAxis"?r.x:r.y));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},dQ=Be(lQ,gr,J4),eL=(e,t)=>{if(e!=null){var n=pl(e.flatMap(r=>[t==="xAxis"?r.x1:r.y1,t==="xAxis"?r.x2:r.y2]));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},fQ=Be([cQ,gr],eL);function mQ(e){var t;if(e.x!=null)return pl([e.x]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.x);return n==null||n.length===0?[]:pl(n)}function hQ(e){var t;if(e.y!=null)return pl([e.y]);var n=(t=e.segment)===null||t===void 0?void 0:t.map(r=>r.y);return n==null||n.length===0?[]:pl(n)}var tL=(e,t)=>{if(e!=null){var n=e.flatMap(r=>t==="xAxis"?mQ(r):hQ(r));if(n.length!==0)return[Math.min(...n),Math.max(...n)]}},pQ=Be([uQ,gr],tL),gQ=Be(dQ,pQ,fQ,(e,t,n)=>L0(e,n,t)),AS=(e,t,n,r,i,a,s,o)=>{if(n!=null)return n;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",u=c?L0(r,a,i):L0(a,i);return AX(t,u,e.allowDataOverflow)},xQ=Be([Sr,SS,jS,rQ,aQ,gQ,Wn,gr],AS,{memoizeOptions:{resultEqualityCheck:db}}),bQ=[0,1],PS=(e,t,n,r,i,a,s)=>{if(!((e==null||n==null||n.length===0)&&s===void 0)){var{dataKey:o,type:c}=e,u=Sc(t,a);if(u&&o==null){var d;return F_(0,(d=n==null?void 0:n.length)!==null&&d!==void 0?d:0)}return c==="category"?oQ(r,e,u):i==="expand"?bQ:s}},DS=Be([Sr,Wn,wS,mb,jh,gr,xQ],PS),nL=(e,t,n,r,i)=>{if(e!=null){var{scale:a,type:s}=e;if(a==="auto")return t==="radial"&&i==="radiusAxis"?"band":t==="radial"&&i==="angleAxis"?"linear":s==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!n)?"point":s==="category"?"band":"linear";if(typeof a=="string"){var o="scale".concat(mh(a));return o in Zf?o:"point"}}},uf=Be([Sr,Wn,W4,cS,gr],nL);function vQ(e){if(e!=null){if(e in Zf)return Zf[e]();var t="scale".concat(mh(e));if(t in Zf)return Zf[t]()}}function TS(e,t,n,r){if(!(n==null||r==null)){if(typeof e.scale=="function")return e.scale.copy().domain(n).range(r);var i=vQ(t);if(i!=null){var a=i.domain(n).range(r);return C7(a),a}}}var MS=(e,t,n)=>{var r=NS(t);if(!(n!=="auto"&&n!=="linear")){if(t!=null&&t.tickCount&&Array.isArray(r)&&(r[0]==="auto"||r[1]==="auto")&&pc(e))return LX(e,t.tickCount,t.allowDecimals);if(t!=null&&t.tickCount&&t.type==="number"&&pc(e))return $X(e,t.tickCount,t.allowDecimals)}},ES=Be([DS,Ah,uf],MS),OS=(e,t,n,r)=>{if(r!=="angleAxis"&&(e==null?void 0:e.type)==="number"&&pc(t)&&Array.isArray(n)&&n.length>0){var i=t[0],a=n[0],s=t[1],o=n[n.length-1];return[Math.min(i,a),Math.max(s,o)]}return t},yQ=Be([Sr,DS,ES,gr],OS),wQ=Be(mb,Sr,(e,t)=>{if(!(!t||t.type!=="number")){var n=1/0,r=Array.from(pl(e.map(f=>f.value))).sort((f,h)=>f-h),i=r[0],a=r[r.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<r.length-1;o++){var c=r[o],u=r[o+1];if(!(c==null||u==null)){var d=u-c;n=Math.min(n,d)}}return n/s}}),rL=Be(wQ,Wn,FX,vi,(e,t,n,r,i)=>i,(e,t,n,r,i)=>{if(!hr(e))return 0;var a=t==="vertical"?r.height:r.width;if(i==="gap")return e*a/2;if(i==="no-gap"){var s=Ba(n,e*a),o=e*a/2;return o-s-(o-s)/a*s}return 0}),kQ=(e,t,n)=>{var r=ko(e,t);return r==null||typeof r.padding!="string"?0:rL(e,"xAxis",t,n,r.padding)},NQ=(e,t,n)=>{var r=No(e,t);return r==null||typeof r.padding!="string"?0:rL(e,"yAxis",t,n,r.padding)},SQ=Be(ko,kQ,(e,t)=>{var n,r;if(e==null)return{left:0,right:0};var{padding:i}=e;return typeof i=="string"?{left:t,right:t}:{left:((n=i.left)!==null&&n!==void 0?n:0)+t,right:((r=i.right)!==null&&r!==void 0?r:0)+t}}),jQ=Be(No,NQ,(e,t)=>{var n,r;if(e==null)return{top:0,bottom:0};var{padding:i}=e;return typeof i=="string"?{top:t,bottom:t}:{top:((n=i.top)!==null&&n!==void 0?n:0)+t,bottom:((r=i.bottom)!==null&&r!==void 0?r:0)+t}}),CQ=Be([vi,SQ,Yx,Gx,(e,t,n)=>n],(e,t,n,r,i)=>{var{padding:a}=r;return i?[a.left,n.width-a.right]:[e.left+t.left,e.left+e.width-t.right]}),AQ=Be([vi,Wn,jQ,Yx,Gx,(e,t,n)=>n],(e,t,n,r,i,a)=>{var{padding:s}=i;return a?[r.height-s.bottom,s.top]:t==="horizontal"?[e.top+e.height-n.bottom,e.top+n.top]:[e.top+n.top,e.top+e.height-n.bottom]}),Th=(e,t,n,r)=>{var i;switch(t){case"xAxis":return CQ(e,n,r);case"yAxis":return AQ(e,n,r);case"zAxis":return(i=gS(e,n))===null||i===void 0?void 0:i.range;case"angleAxis":return L4(e);case"radiusAxis":return $4(e,n);default:return}},iL=Be([Sr,Th],cb),Gd=Be([Sr,uf,yQ,iL],TS);Be([Ph,hb,gr],iQ);function aL(e,t){return e.id<t.id?-1:e.id>t.id?1:0}var pb=(e,t)=>t,gb=(e,t,n)=>n,PQ=Be(qx,pb,gb,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(aL)),DQ=Be(Kx,pb,gb,(e,t,n)=>e.filter(r=>r.orientation===t).filter(r=>r.mirror===n).sort(aL)),sL=(e,t)=>({width:e.width,height:t.height}),TQ=(e,t)=>{var n=typeof t.width=="number"?t.width:xh;return{width:n,height:e.height}},MQ=Be(vi,ko,sL),EQ=(e,t,n)=>{switch(t){case"top":return e.top;case"bottom":return n-e.bottom;default:return 0}},OQ=(e,t,n)=>{switch(t){case"left":return e.left;case"right":return n-e.right;default:return 0}},IQ=Be(yl,vi,PQ,pb,gb,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var c=sL(t,o);s==null&&(s=EQ(t,r,e));var u=r==="top"&&!i||r==="bottom"&&i;a[o.id]=s-Number(u)*c.height,s+=(u?-1:1)*c.height}),a}),_Q=Be(vl,vi,DQ,pb,gb,(e,t,n,r,i)=>{var a={},s;return n.forEach(o=>{var c=TQ(t,o);s==null&&(s=OQ(t,r,e));var u=r==="left"&&!i||r==="right"&&i;a[o.id]=s-Number(u)*c.width,s+=(u?-1:1)*c.width}),a}),LQ=(e,t)=>{var n=ko(e,t);if(n!=null)return IQ(e,n.orientation,n.mirror)},$Q=Be([vi,ko,LQ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:e.left,y:0}:{x:e.left,y:i}}}),FQ=(e,t)=>{var n=No(e,t);if(n!=null)return _Q(e,n.orientation,n.mirror)},RQ=Be([vi,No,FQ,(e,t)=>t],(e,t,n,r)=>{if(t!=null){var i=n==null?void 0:n[r];return i==null?{x:0,y:e.top}:{x:i,y:e.top}}}),BQ=Be(vi,No,(e,t)=>{var n=typeof t.width=="number"?t.width:xh;return{width:n,height:e.height}}),oL=(e,t,n,r)=>{if(n!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=n,o=Sc(e,r),c=t.map(u=>u.value);if(s&&o&&a==="category"&&i&&WI(c))return c}},IS=Be([Wn,mb,Sr,gr],oL),lL=(e,t,n,r)=>{if(!(n==null||n.dataKey==null)){var{type:i,scale:a}=n,s=Sc(e,r);if(s&&(i==="number"||a!=="auto"))return t.map(o=>o.value)}},_S=Be([Wn,mb,Ah,gr],lL),iD=Be([Wn,YX,uf,Gd,IS,_S,Th,ES,gr],(e,t,n,r,i,a,s,o,c)=>{if(t!=null){var u=Sc(e,c);return{angle:t.angle,interval:t.interval,minTickGap:t.minTickGap,orientation:t.orientation,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:u,niceTicks:o,range:s,realScaleType:n,scale:r}}}),zQ=(e,t,n,r,i,a,s,o,c)=>{if(!(t==null||r==null)){var u=Sc(e,c),{type:d,ticks:f,tickCount:h}=t,m=n==="scaleBand"&&typeof r.bandwidth=="function"?r.bandwidth()/2:2,p=d==="category"&&r.bandwidth?r.bandwidth()/m:0;p=c==="angleAxis"&&a!=null&&a.length>=2?Ui(a[0]-a[1])*2*p:p;var x=f||i;if(x){var v=x.map((b,y)=>{var w=s?s.indexOf(b):b;return{index:y,coordinate:r(w)+p,value:b,offset:p}});return v.filter(b=>hr(b.coordinate))}return u&&o?o.map((b,y)=>({coordinate:r(b)+p,value:b,index:y,offset:p})).filter(b=>hr(b.coordinate)):r.ticks?r.ticks(h).map(b=>({coordinate:r(b)+p,value:b,offset:p})):r.domain().map((b,y)=>({coordinate:r(b)+p,value:s?s[b]:b,index:y,offset:p}))}},cL=Be([Wn,Ah,uf,Gd,ES,Th,IS,_S,gr],zQ),UQ=(e,t,n,r,i,a,s)=>{if(!(t==null||n==null||r==null||r[0]===r[1])){var o=Sc(e,s),{tickCount:c}=t,u=0;return u=s==="angleAxis"&&(r==null?void 0:r.length)>=2?Ui(r[0]-r[1])*2*u:u,o&&a?a.map((d,f)=>({coordinate:n(d)+u,value:d,index:f,offset:u})):n.ticks?n.ticks(c).map(d=>({coordinate:n(d)+u,value:d,offset:u})):n.domain().map((d,f)=>({coordinate:n(d)+u,value:i?i[d]:d,index:f,offset:u}))}},uL=Be([Wn,Ah,Gd,Th,IS,_S,gr],UQ),dL=Be(Sr,Gd,(e,t)=>{if(!(e==null||t==null))return _0(_0({},e),{},{scale:t})}),WQ=Be([Sr,uf,DS,iL],TS);Be((e,t,n)=>gS(e,n),WQ,(e,t)=>{if(!(e==null||t==null))return _0(_0({},e),{},{scale:t})});var VQ=Be([Wn,qx,Kx],(e,t,n)=>{switch(e){case"horizontal":return t.some(r=>r.reversed)?"right-to-left":"left-to-right";case"vertical":return n.some(r=>r.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),fL=e=>e.options.defaultTooltipEventType,mL=e=>e.options.validateTooltipEventTypes;function hL(e,t,n){if(e==null)return t;var r=e?"axis":"item";return n==null?t:n.includes(r)?r:t}function LS(e,t){var n=fL(e),r=mL(e);return hL(t,n,r)}function HQ(e){return It(t=>LS(t,e))}var pL=(e,t)=>{var n,r=Number(t);if(!(xs(r)||t==null))return r>=0?e==null||(n=e[r])===null||n===void 0?void 0:n.value:void 0},qQ=e=>e.tooltip.settings,Ql={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},KQ={itemInteraction:{click:Ql,hover:Ql},axisInteraction:{click:Ql,hover:Ql},keyboardInteraction:Ql,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},gL=ja({name:"tooltip",initialState:KQ,reducers:{addTooltipEntrySettings:{reducer(e,t){e.tooltipItemPayloads.push(t.payload)},prepare:fr()},replaceTooltipEntrySettings:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Bs(e).tooltipItemPayloads.indexOf(n);i>-1&&(e.tooltipItemPayloads[i]=r)},prepare:fr()},removeTooltipEntrySettings:{reducer(e,t){var n=Bs(e).tooltipItemPayloads.indexOf(t.payload);n>-1&&e.tooltipItemPayloads.splice(n,1)},prepare:fr()},setTooltipSettingsState(e,t){e.settings=t.payload},setActiveMouseOverItemIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.itemInteraction.hover.active=!0,e.itemInteraction.hover.index=t.payload.activeIndex,e.itemInteraction.hover.dataKey=t.payload.activeDataKey,e.itemInteraction.hover.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.hover.coordinate=t.payload.activeCoordinate},mouseLeaveChart(e){e.itemInteraction.hover.active=!1,e.axisInteraction.hover.active=!1},mouseLeaveItem(e){e.itemInteraction.hover.active=!1},setActiveClickItemIndex(e,t){e.syncInteraction.active=!1,e.itemInteraction.click.active=!0,e.keyboardInteraction.active=!1,e.itemInteraction.click.index=t.payload.activeIndex,e.itemInteraction.click.dataKey=t.payload.activeDataKey,e.itemInteraction.click.graphicalItemId=t.payload.activeGraphicalItemId,e.itemInteraction.click.coordinate=t.payload.activeCoordinate},setMouseOverAxisIndex(e,t){e.syncInteraction.active=!1,e.axisInteraction.hover.active=!0,e.keyboardInteraction.active=!1,e.axisInteraction.hover.index=t.payload.activeIndex,e.axisInteraction.hover.dataKey=t.payload.activeDataKey,e.axisInteraction.hover.coordinate=t.payload.activeCoordinate},setMouseClickAxisIndex(e,t){e.syncInteraction.active=!1,e.keyboardInteraction.active=!1,e.axisInteraction.click.active=!0,e.axisInteraction.click.index=t.payload.activeIndex,e.axisInteraction.click.dataKey=t.payload.activeDataKey,e.axisInteraction.click.coordinate=t.payload.activeCoordinate},setSyncInteraction(e,t){e.syncInteraction=t.payload},setKeyboardInteraction(e,t){e.keyboardInteraction.active=t.payload.active,e.keyboardInteraction.index=t.payload.activeIndex,e.keyboardInteraction.coordinate=t.payload.activeCoordinate}}}),{addTooltipEntrySettings:GQ,replaceTooltipEntrySettings:YQ,removeTooltipEntrySettings:XQ,setTooltipSettingsState:QQ,setActiveMouseOverItemIndex:xL,mouseLeaveItem:ZQ,mouseLeaveChart:bL,setActiveClickItemIndex:JQ,setMouseOverAxisIndex:vL,setMouseClickAxisIndex:eZ,setSyncInteraction:a1,setKeyboardInteraction:s1}=gL.actions,tZ=gL.reducer;function aD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Up(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aD(Object(n),!0).forEach(function(r){nZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function nZ(e,t,n){return(t=rZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function rZ(e){var t=iZ(e,"string");return typeof t=="symbol"?t:t+""}function iZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function aZ(e,t,n){return t==="axis"?n==="click"?e.axisInteraction.click:e.axisInteraction.hover:n==="click"?e.itemInteraction.click:e.itemInteraction.hover}function sZ(e){return e.index!=null}var yL=(e,t,n,r)=>{if(t==null)return Ql;var i=aZ(e,t,n);if(i==null)return Ql;if(i.active)return i;if(e.keyboardInteraction.active)return e.keyboardInteraction;if(e.syncInteraction.active&&e.syncInteraction.index!=null)return e.syncInteraction;var a=e.settings.active===!0;if(sZ(i)){if(a)return Up(Up({},i),{},{active:!0})}else if(r!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:r,graphicalItemId:void 0};return Up(Up({},Ql),{},{coordinate:i.coordinate})};function oZ(e){if(typeof e=="number")return Number.isFinite(e)?e:void 0;if(e instanceof Date){var t=e.valueOf();return Number.isFinite(t)?t:void 0}var n=Number(e);return Number.isFinite(n)?n:void 0}function lZ(e,t){var n=oZ(e),r=t[0],i=t[1];if(n===void 0)return!1;var a=Math.min(r,i),s=Math.max(r,i);return n>=a&&n<=s}function cZ(e,t,n){if(n==null||t==null)return!0;var r=or(e,t);return r==null||!pc(n)?!0:lZ(r,n)}var $S=(e,t,n,r)=>{var i=e==null?void 0:e.index;if(i==null)return null;var a=Number(i);if(!hr(a))return i;var s=0,o=1/0;t.length>0&&(o=t.length-1);var c=Math.max(s,Math.min(a,o)),u=t[c];return u==null||cZ(u,n,r)?String(c):null},wL=(e,t,n,r,i,a,s,o)=>{if(!(a==null||o==null)){var c=s[0],u=c==null?void 0:o(c.positions,a);if(u!=null)return u;var d=i==null?void 0:i[Number(a)];if(d)switch(n){case"horizontal":return{x:d.coordinate,y:(r.top+t)/2};default:return{x:(r.left+e)/2,y:d.coordinate}}}},kL=(e,t,n,r)=>{if(t==="axis")return e.tooltipItemPayloads;if(e.tooltipItemPayloads.length===0)return[];var i;if(n==="hover"?i=e.itemInteraction.hover.graphicalItemId:i=e.itemInteraction.click.graphicalItemId,i==null&&r!=null){var a=e.tooltipItemPayloads[0];return a!=null?[a]:[]}return e.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Mh=e=>e.options.tooltipPayloadSearcher,df=e=>e.tooltip;function sD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function oD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?sD(Object(n),!0).forEach(function(r){uZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):sD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uZ(e,t,n){return(t=dZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dZ(e){var t=fZ(e,"string");return typeof t=="symbol"?t:t+""}function fZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function mZ(e,t){return e??t}var NL=(e,t,n,r,i,a,s)=>{if(!(t==null||a==null)){var{chartData:o,computedData:c,dataStartIndex:u,dataEndIndex:d}=n,f=[];return e.reduce((h,m)=>{var p,{dataDefinedOnItem:x,settings:v}=m,b=mZ(x,o),y=Array.isArray(b)?J3(b,u,d):b,w=(p=v==null?void 0:v.dataKey)!==null&&p!==void 0?p:r,N=v==null?void 0:v.nameKey,j;if(r&&Array.isArray(y)&&!Array.isArray(y[0])&&s==="axis"?j=VI(y,r,i):j=a(y,t,c,N),Array.isArray(j))j.forEach(C=>{var E=oD(oD({},v),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});h.push(vA({tooltipEntrySettings:E,dataKey:C.dataKey,payload:C.payload,value:or(C.payload,C.dataKey),name:C.name}))});else{var k;h.push(vA({tooltipEntrySettings:v,dataKey:w,payload:j,value:or(j,w),name:(k=or(j,N))!==null&&k!==void 0?k:v==null?void 0:v.name}))}return h},f)}},FS=Be([oi,Wn,W4,cS,si],nL),hZ=Be([e=>e.graphicalItems.cartesianItems,e=>e.graphicalItems.polarItems],(e,t)=>[...e,...t]),pZ=Be([si,lf],xS),ff=Be([hZ,oi,pZ],bS,{memoizeOptions:{resultEqualityCheck:fb}}),gZ=Be([ff],e=>e.filter(pS)),xZ=Be([ff],vS,{memoizeOptions:{resultEqualityCheck:fb}}),mf=Be([xZ,Ac],yS),bZ=Be([gZ,Ac,oi],B4),RS=Be([mf,oi,ff],kS),SL=Be([oi],NS),vZ=Be([oi],e=>e.allowDataOverflow),jL=Be([SL,vZ],b4),yZ=Be([ff],e=>e.filter(pS)),wZ=Be([bZ,yZ,jh,E4],G4),kZ=Be([wZ,Ac,si,jL],Y4),NZ=Be([ff],q4),SZ=Be([mf,oi,NZ,hb,si],CS,{memoizeOptions:{resultEqualityCheck:db}}),jZ=Be([X4,si,lf],cf),CZ=Be([jZ,si],J4),AZ=Be([Q4,si,lf],cf),PZ=Be([AZ,si],eL),DZ=Be([Z4,si,lf],cf),TZ=Be([DZ,si],tL),MZ=Be([CZ,TZ,PZ],L0),EZ=Be([oi,SL,jL,kZ,SZ,MZ,Wn,si],AS),Eh=Be([oi,Wn,mf,RS,jh,si,EZ],PS),OZ=Be([Eh,oi,FS],MS),IZ=Be([oi,Eh,OZ,si],OS),CL=e=>{var t=si(e),n=lf(e),r=!1;return Th(e,t,n,r)},AL=Be([oi,CL],cb),PL=Be([oi,FS,IZ,AL],TS),_Z=Be([Wn,RS,oi,si],oL),LZ=Be([Wn,RS,oi,si],lL),$Z=(e,t,n,r,i,a,s,o)=>{if(t){var{type:c}=t,u=Sc(e,o);if(r){var d=n==="scaleBand"&&r.bandwidth?r.bandwidth()/2:2,f=c==="category"&&r.bandwidth?r.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ui(i[0]-i[1])*2*f:f,u&&s?s.map((h,m)=>({coordinate:r(h)+f,value:h,index:m,offset:f})):r.domain().map((h,m)=>({coordinate:r(h)+f,value:a?a[h]:h,index:m,offset:f}))}}},kl=Be([Wn,oi,FS,PL,CL,_Z,LZ,si],$Z),BS=Be([fL,mL,qQ],(e,t,n)=>hL(n.shared,e,t)),DL=e=>e.tooltip.settings.trigger,zS=e=>e.tooltip.settings.defaultIndex,Oh=Be([df,BS,DL,zS],yL),Yd=Be([Oh,mf,Dh,Eh],$S),TL=Be([kl,Yd],pL),ML=Be([Oh],e=>{if(e)return e.dataKey}),FZ=Be([Oh],e=>{if(e)return e.graphicalItemId}),EL=Be([df,BS,DL,zS],kL),RZ=Be([vl,yl,Wn,vi,kl,zS,EL,Mh],wL),BZ=Be([Oh,RZ],(e,t)=>e!=null&&e.coordinate?e.coordinate:t),zZ=Be([Oh],e=>{var t;return(t=e==null?void 0:e.active)!==null&&t!==void 0?t:!1}),UZ=Be([EL,Yd,Ac,Dh,TL,Mh,BS],NL),WZ=Be([UZ],e=>{if(e!=null){var t=e.map(n=>n.payload).filter(n=>n!=null);return Array.from(new Set(t))}});function lD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lD(Object(n),!0).forEach(function(r){VZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function VZ(e,t,n){return(t=HZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function HZ(e){var t=qZ(e,"string");return typeof t=="symbol"?t:t+""}function qZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var KZ=()=>It(oi),GZ=()=>{var e=KZ(),t=It(kl),n=It(PL);return h0(!e||!n?void 0:cD(cD({},e),{},{scale:n}),t)};function uD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Yu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?uD(Object(n),!0).forEach(function(r){YZ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):uD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function YZ(e,t,n){return(t=XZ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function XZ(e){var t=QZ(e,"string");return typeof t=="symbol"?t:t+""}function QZ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var ZZ=(e,t,n,r)=>{var i=t.find(a=>a&&a.index===n);if(i){if(e==="horizontal")return{x:i.coordinate,y:r.chartY};if(e==="vertical")return{x:r.chartX,y:i.coordinate}}return{x:0,y:0}},JZ=(e,t,n,r)=>{var i=t.find(u=>u&&u.index===n);if(i){if(e==="centric"){var a=i.coordinate,{radius:s}=r;return Yu(Yu(Yu({},r),Xr(r.cx,r.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:c}=r;return Yu(Yu(Yu({},r),Xr(r.cx,r.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function eJ(e,t){var{chartX:n,chartY:r}=e;return n>=t.left&&n<=t.left+t.width&&r>=t.top&&r<=t.top+t.height}var OL=(e,t,n,r,i)=>{var a,s=(a=t==null?void 0:t.length)!==null&&a!==void 0?a:0;if(s<=1||e==null)return 0;if(r==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var c,u,d,f,h,m=o>0?(c=n[o-1])===null||c===void 0?void 0:c.coordinate:(u=n[s-1])===null||u===void 0?void 0:u.coordinate,p=(d=n[o])===null||d===void 0?void 0:d.coordinate,x=o>=s-1?(f=n[0])===null||f===void 0?void 0:f.coordinate:(h=n[o+1])===null||h===void 0?void 0:h.coordinate,v=void 0;if(!(m==null||p==null||x==null))if(Ui(p-m)!==Ui(x-p)){var b=[];if(Ui(x-p)===Ui(i[1]-i[0])){v=x;var y=p+i[1]-i[0];b[0]=Math.min(y,(y+m)/2),b[1]=Math.max(y,(y+m)/2)}else{v=m;var w=x+i[1]-i[0];b[0]=Math.min(p,(w+p)/2),b[1]=Math.max(p,(w+p)/2)}var N=[Math.min(p,(v+p)/2),Math.max(p,(v+p)/2)];if(e>N[0]&&e<=N[1]||e>=b[0]&&e<=b[1]){var j;return(j=n[o])===null||j===void 0?void 0:j.index}}else{var k=Math.min(m,x),C=Math.max(m,x);if(e>(k+p)/2&&e<=(C+p)/2){var E;return(E=n[o])===null||E===void 0?void 0:E.index}}}else if(t)for(var R=0;R<s;R++){var T=t[R];if(T!=null){var $=t[R+1],I=t[R-1];if(R===0&&$!=null&&e<=(T.coordinate+$.coordinate)/2||R===s-1&&I!=null&&e>(T.coordinate+I.coordinate)/2||R>0&&R<s-1&&I!=null&&$!=null&&e>(T.coordinate+I.coordinate)/2&&e<=(T.coordinate+$.coordinate)/2)return T.index}}return-1},tJ=()=>It(cS),US=(e,t)=>t,IL=(e,t,n)=>n,WS=(e,t,n,r)=>r,nJ=Be(kl,e=>_x(e,t=>t.coordinate)),VS=Be([df,US,IL,WS],yL),HS=Be([VS,mf,Dh,Eh],$S),rJ=(e,t,n)=>{if(t!=null){var r=df(e);return t==="axis"?n==="hover"?r.axisInteraction.hover.dataKey:r.axisInteraction.click.dataKey:n==="hover"?r.itemInteraction.hover.dataKey:r.itemInteraction.click.dataKey}},_L=Be([df,US,IL,WS],kL),$0=Be([vl,yl,Wn,vi,kl,WS,_L,Mh],wL),iJ=Be([VS,$0],(e,t)=>{var n;return(n=e.coordinate)!==null&&n!==void 0?n:t}),LL=Be([kl,HS],pL),aJ=Be([_L,HS,Ac,Dh,LL,Mh,US],NL),sJ=Be([VS,HS],(e,t)=>({isActive:e.active&&t!=null,activeIndex:t})),oJ=(e,t,n,r,i,a,s)=>{if(!(!e||!n||!r||!i)&&eJ(e,s)){var o=I7(e,t),c=OL(o,a,i,n,r),u=ZZ(t,i,c,e);return{activeIndex:String(c),activeCoordinate:u}}},lJ=(e,t,n,r,i,a,s)=>{if(!(!e||!r||!i||!a||!n)){var o=KK(e,n);if(o){var c=_7(o,t),u=OL(c,s,a,r,i),d=JZ(t,a,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},cJ=(e,t,n,r,i,a,s,o)=>{if(!(!e||!t||!r||!i||!a))return t==="horizontal"||t==="vertical"?oJ(e,t,r,i,a,s,o):lJ(e,t,n,r,i,a,s)},uJ=Be(e=>e.zIndex.zIndexMap,(e,t)=>t,(e,t,n)=>n,(e,t,n)=>{if(t!=null){var r=e[t];if(r!=null)return n?r.panoramaElement:r.element}}),dJ=Be(e=>e.zIndex.zIndexMap,e=>{var t=Object.keys(e).map(r=>parseInt(r,10)).concat(Object.values(gi)),n=Array.from(new Set(t));return n.sort((r,i)=>r-i)},{memoizeOptions:{resultEqualityCheck:VX}});function dD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function fD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?dD(Object(n),!0).forEach(function(r){fJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):dD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fJ(e,t,n){return(t=mJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mJ(e){var t=hJ(e,"string");return typeof t=="symbol"?t:t+""}function hJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pJ={},gJ={zIndexMap:Object.values(gi).reduce((e,t)=>fD(fD({},e),{},{[t]:{element:void 0,panoramaElement:void 0,consumers:0}}),pJ)},xJ=new Set(Object.values(gi));function bJ(e){return xJ.has(e)}var $L=ja({name:"zIndex",initialState:gJ,reducers:{registerZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]?e.zIndexMap[n].consumers+=1:e.zIndexMap[n]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:fr()},unregisterZIndexPortal:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(e.zIndexMap[n].consumers-=1,e.zIndexMap[n].consumers<=0&&!bJ(n)&&delete e.zIndexMap[n])},prepare:fr()},registerZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n,element:r,isPanorama:i}=t.payload;e.zIndexMap[n]?i?e.zIndexMap[n].panoramaElement=r:e.zIndexMap[n].element=r:e.zIndexMap[n]={consumers:0,element:i?void 0:r,panoramaElement:i?r:void 0}},prepare:fr()},unregisterZIndexPortalElement:{reducer:(e,t)=>{var{zIndex:n}=t.payload;e.zIndexMap[n]&&(t.payload.isPanorama?e.zIndexMap[n].panoramaElement=void 0:e.zIndexMap[n].element=void 0)},prepare:fr()}}}),{registerZIndexPortal:vJ,unregisterZIndexPortal:yJ,registerZIndexPortalElement:wJ,unregisterZIndexPortalElement:kJ}=$L.actions,NJ=$L.reducer;function js(e){var{zIndex:t,children:n}=e,r=lq(),i=r&&t!==void 0&&t!==0,a=ca(),s=Kn();g.useLayoutEffect(()=>i?(s(vJ({zIndex:t})),()=>{s(yJ({zIndex:t}))}):hh,[s,t,i]);var o=It(c=>uJ(c,t,a));return i?o?rf.createPortal(n,o):null:n}function o1(){return o1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o1.apply(null,arguments)}function mD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Wp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?mD(Object(n),!0).forEach(function(r){SJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):mD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function SJ(e,t,n){return(t=jJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function jJ(e){var t=CJ(e,"string");return typeof t=="symbol"?t:t+""}function CJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function AJ(e){var{cursor:t,cursorComp:n,cursorProps:r}=e;return g.isValidElement(t)?g.cloneElement(t,r):g.createElement(n,r)}function PJ(e){var t,{coordinate:n,payload:r,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:u,chartName:d}=e,f=n,h=r,m=i;if(!c||!f||d!=="ScatterChart"&&u!=="axis")return null;var p,x,v;if(d==="ScatterChart")p=f,x=oK,v=gi.cursorLine;else if(d==="BarChart")p=lK(o,f,a,s),x=T_,v=gi.cursorRectangle;else if(o==="radial"&&qI(f)){var{cx:b,cy:y,radius:w,startAngle:N,endAngle:j}=E_(f);p={cx:b,cy:y,startAngle:N,endAngle:j,innerRadius:w,outerRadius:w},x=I_,v=gi.cursorLine}else p={points:QK(o,f,a)},x=_N,v=gi.cursorLine;var k=typeof c=="object"&&"className"in c?c.className:void 0,C=Wp(Wp(Wp(Wp({stroke:"#ccc",pointerEvents:"none"},a),p),Bd(c)),{},{payload:h,payloadIndex:m,className:En("recharts-tooltip-cursor",k)});return g.createElement(js,{zIndex:(t=e.zIndex)!==null&&t!==void 0?t:v},g.createElement(AJ,{cursor:c,cursorComp:x,cursorProps:C}))}function DJ(e){var t=GZ(),n=m_(),r=vh(),i=tJ();return t==null||n==null||r==null||i==null?null:g.createElement(PJ,o1({},e,{offset:n,layout:r,tooltipAxisBandSize:t,chartName:i}))}var FL=g.createContext(null),TJ=()=>g.useContext(FL),RL={exports:{}};(function(e){var t=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(c,u,d){this.fn=c,this.context=u,this.once=d||!1}function a(c,u,d,f,h){if(typeof d!="function")throw new TypeError("The listener must be a function");var m=new i(d,f||c,h),p=n?n+u:u;return c._events[p]?c._events[p].fn?c._events[p]=[c._events[p],m]:c._events[p].push(m):(c._events[p]=m,c._eventsCount++),c}function s(c,u){--c._eventsCount===0?c._events=new r:delete c._events[u]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)t.call(d,f)&&u.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=n?n+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var h=0,m=f.length,p=new Array(m);h<m;h++)p[h]=f[h].fn;return p},o.prototype.listenerCount=function(u){var d=n?n+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,h,m,p){var x=n?n+u:u;if(!this._events[x])return!1;var v=this._events[x],b=arguments.length,y,w;if(v.fn){switch(v.once&&this.removeListener(u,v.fn,void 0,!0),b){case 1:return v.fn.call(v.context),!0;case 2:return v.fn.call(v.context,d),!0;case 3:return v.fn.call(v.context,d,f),!0;case 4:return v.fn.call(v.context,d,f,h),!0;case 5:return v.fn.call(v.context,d,f,h,m),!0;case 6:return v.fn.call(v.context,d,f,h,m,p),!0}for(w=1,y=new Array(b-1);w<b;w++)y[w-1]=arguments[w];v.fn.apply(v.context,y)}else{var N=v.length,j;for(w=0;w<N;w++)switch(v[w].once&&this.removeListener(u,v[w].fn,void 0,!0),b){case 1:v[w].fn.call(v[w].context);break;case 2:v[w].fn.call(v[w].context,d);break;case 3:v[w].fn.call(v[w].context,d,f);break;case 4:v[w].fn.call(v[w].context,d,f,h);break;default:if(!y)for(j=1,y=new Array(b-1);j<b;j++)y[j-1]=arguments[j];v[w].fn.apply(v[w].context,y)}}return!0},o.prototype.on=function(u,d,f){return a(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return a(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,h){var m=n?n+u:u;if(!this._events[m])return this;if(!d)return s(this,m),this;var p=this._events[m];if(p.fn)p.fn===d&&(!h||p.once)&&(!f||p.context===f)&&s(this,m);else{for(var x=0,v=[],b=p.length;x<b;x++)(p[x].fn!==d||h&&!p[x].once||f&&p[x].context!==f)&&v.push(p[x]);v.length?this._events[m]=v.length===1?v[0]:v:s(this,m)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=n?n+u:u,this._events[d]&&s(this,d)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,e.exports=o})(RL);var MJ=RL.exports;const EJ=Ks(MJ);var eh=new EJ,l1="recharts.syncEvent.tooltip",hD="recharts.syncEvent.brush";function BL(e,t){if(t){var n=Number.parseInt(t,10);if(!xs(n))return e==null?void 0:e[n]}}var OJ={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},zL=ja({name:"options",initialState:OJ,reducers:{createEventEmitter:e=>{e.eventEmitter==null&&(e.eventEmitter=Symbol("rechartsEventEmitter"))}}}),IJ=zL.reducer,{createEventEmitter:_J}=zL.actions;function LJ(e){return e.tooltip.syncInteraction}var $J={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},UL=ja({name:"chartData",initialState:$J,reducers:{setChartData(e,t){if(e.chartData=t.payload,t.payload==null){e.dataStartIndex=0,e.dataEndIndex=0;return}t.payload.length>0&&e.dataEndIndex!==t.payload.length-1&&(e.dataEndIndex=t.payload.length-1)},setComputedData(e,t){e.computedData=t.payload},setDataStartEndIndexes(e,t){var{startIndex:n,endIndex:r}=t.payload;n!=null&&(e.dataStartIndex=n),r!=null&&(e.dataEndIndex=r)}}}),{setChartData:pD,setDataStartEndIndexes:FJ,setComputedData:cbe}=UL.actions,RJ=UL.reducer,BJ=["x","y"];function gD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Xu(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?gD(Object(n),!0).forEach(function(r){zJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):gD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zJ(e,t,n){return(t=UJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function UJ(e){var t=WJ(e,"string");return typeof t=="symbol"?t:t+""}function WJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function VJ(e,t){if(e==null)return{};var n,r,i=HJ(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function HJ(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qJ(){var e=It(uS),t=It(dS),n=Kn(),r=It(O4),i=It(kl),a=vh(),s=bh(),o=It(c=>c.rootProps.className);g.useEffect(()=>{if(e==null)return hh;var c=(u,d,f)=>{if(t!==f&&e===u){if(r==="index"){var h;if(s&&d!==null&&d!==void 0&&(h=d.payload)!==null&&h!==void 0&&h.coordinate&&d.payload.sourceViewBox){var m=d.payload.coordinate,{x:p,y:x}=m,v=VJ(m,BJ),{x:b,y,width:w,height:N}=d.payload.sourceViewBox,j=Xu(Xu({},v),{},{x:s.x+(w?(p-b)/w:0)*s.width,y:s.y+(N?(x-y)/N:0)*s.height});n(Xu(Xu({},d),{},{payload:Xu(Xu({},d.payload),{},{coordinate:j})}))}else n(d);return}if(i!=null){var k;if(typeof r=="function"){var C={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},E=r(i,C);k=i[E]}else r==="value"&&(k=i.find(Oe=>String(Oe.value)===d.payload.label));var{coordinate:R}=d.payload;if(k==null||d.payload.active===!1||R==null||s==null){n(a1({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:T,y:$}=R,I=Math.min(T,s.x+s.width),re=Math.min($,s.y+s.height),ce={x:a==="horizontal"?k.coordinate:I,y:a==="horizontal"?re:k.coordinate},ve=a1({active:d.payload.active,coordinate:ce,dataKey:d.payload.dataKey,index:String(k.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});n(ve)}}};return eh.on(l1,c),()=>{eh.off(l1,c)}},[o,n,t,e,r,i,a,s])}function KJ(){var e=It(uS),t=It(dS),n=Kn();g.useEffect(()=>{if(e==null)return hh;var r=(i,a,s)=>{t!==s&&e===i&&n(FJ(a))};return eh.on(hD,r),()=>{eh.off(hD,r)}},[n,t,e])}function GJ(){var e=Kn();g.useEffect(()=>{e(_J())},[e]),qJ(),KJ()}function YJ(e,t,n,r,i,a){var s=It(m=>rJ(m,e,t)),o=It(dS),c=It(uS),u=It(O4),d=It(LJ),f=d==null?void 0:d.active,h=bh();g.useEffect(()=>{if(!f&&c!=null&&o!=null){var m=a1({active:a,coordinate:n,dataKey:s,index:i,label:typeof r=="number"?String(r):r,sourceViewBox:h,graphicalItemId:void 0});eh.emit(l1,c,m,o)}},[f,n,s,i,r,o,c,u,a,h])}function xD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function bD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?xD(Object(n),!0).forEach(function(r){XJ(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):xD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function XJ(e,t,n){return(t=QJ(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function QJ(e){var t=ZJ(e,"string");return typeof t=="symbol"?t:t+""}function ZJ(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function JJ(e){return e.dataKey}function eee(e,t){return g.isValidElement(e)?g.cloneElement(e,t):typeof e=="function"?g.createElement(e,t):g.createElement(Bq,t)}var vD=[],tee={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function ks(e){var t,n,r=Zr(e,tee),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:c,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:h,position:m,reverseDirection:p,useTranslate3d:x,wrapperStyle:v,cursor:b,shared:y,trigger:w,defaultIndex:N,portal:j,axisId:k}=r,C=Kn(),E=typeof N=="number"?String(N):N;g.useEffect(()=>{C(QQ({shared:y,trigger:w,axisId:k,active:i,defaultIndex:E}))},[C,y,w,k,i,E]);var R=bh(),T=j_(),$=HQ(y),{activeIndex:I,isActive:re}=(t=It(de=>sJ(de,$,w,E)))!==null&&t!==void 0?t:{},ce=It(de=>aJ(de,$,w,E)),ve=It(de=>LL(de,$,w,E)),Oe=It(de=>iJ(de,$,w,E)),fe=ce,Z=TJ(),xe=(n=i??re)!==null&&n!==void 0?n:!1,[_,D]=N3([fe,xe]),ue=$==="axis"?ve:void 0;YJ($,w,Oe,ue,I,xe);var S=j??Z;if(S==null||R==null||$==null)return null;var Y=fe??vD;xe||(Y=vD),u&&Y.length&&(Y=d3(Y.filter(de=>de.value!=null&&(de.hide!==!0||r.includeHidden)),h,JJ));var B=Y.length>0,ee=g.createElement(Kq,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:d,active:xe,coordinate:Oe,hasPayload:B,offset:f,position:m,reverseDirection:p,useTranslate3d:x,viewBox:R,wrapperStyle:v,lastBoundingBox:_,innerRef:D,hasPortalFromProps:!!j},eee(c,bD(bD({},r),{},{payload:Y,label:ue,active:xe,activeIndex:I,coordinate:Oe,accessibilityLayer:T})));return g.createElement(g.Fragment,null,rf.createPortal(ee,S),xe&&g.createElement(DJ,{cursor:b,tooltipEventType:$,coordinate:Oe,payload:Y,index:I}))}var Xd=e=>null;Xd.displayName="Cell";function nee(e,t,n){return(t=ree(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ree(e){var t=iee(e,"string");return typeof t=="symbol"?t:t+""}function iee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}class aee{constructor(t){nee(this,"cache",new Map),this.maxSize=t}get(t){var n=this.cache.get(t);return n!==void 0&&(this.cache.delete(t),this.cache.set(t,n)),n}set(t,n){if(this.cache.has(t))this.cache.delete(t);else if(this.cache.size>=this.maxSize){var r=this.cache.keys().next().value;r!=null&&this.cache.delete(r)}this.cache.set(t,n)}clear(){this.cache.clear()}size(){return this.cache.size}}function yD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function see(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?yD(Object(n),!0).forEach(function(r){oee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function oee(e,t,n){return(t=lee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function lee(e){var t=cee(e,"string");return typeof t=="symbol"?t:t+""}function cee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var uee={cacheSize:2e3,enableCache:!0},WL=see({},uee),wD=new aee(WL.cacheSize),dee={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},kD="recharts_measurement_span";function fee(e,t){var n=t.fontSize||"",r=t.fontFamily||"",i=t.fontWeight||"",a=t.fontStyle||"",s=t.letterSpacing||"",o=t.textTransform||"";return"".concat(e,"|").concat(n,"|").concat(r,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var ND=(e,t)=>{try{var n=document.getElementById(kD);n||(n=document.createElement("span"),n.setAttribute("id",kD),n.setAttribute("aria-hidden","true"),document.body.appendChild(n)),Object.assign(n.style,dee,t),n.textContent="".concat(e);var r=n.getBoundingClientRect();return{width:r.width,height:r.height}}catch{return{width:0,height:0}}},fm=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t==null||eb.isSsr)return{width:0,height:0};if(!WL.enableCache)return ND(t,n);var r=fee(t,n),i=wD.get(r);if(i)return i;var a=ND(t,n);return wD.set(r,a),a},VL;function mee(e,t,n){return(t=hee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function hee(e){var t=pee(e,"string");return typeof t=="symbol"?t:t+""}function pee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var SD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,jD=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gee=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,xee=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,bee={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},vee=["cm","mm","pt","pc","in","Q","px"];function yee(e){return vee.includes(e)}var pd="NaN";function wee(e,t){return e*bee[t]}class Ti{static parse(t){var n,[,r,i]=(n=xee.exec(t))!==null&&n!==void 0?n:[];return r==null?Ti.NaN:new Ti(parseFloat(r),i??"")}constructor(t,n){this.num=t,this.unit=n,this.num=t,this.unit=n,xs(t)&&(this.unit=""),n!==""&&!gee.test(n)&&(this.num=NaN,this.unit=""),yee(n)&&(this.num=wee(t,n),this.unit="px")}add(t){return this.unit!==t.unit?new Ti(NaN,""):new Ti(this.num+t.num,this.unit)}subtract(t){return this.unit!==t.unit?new Ti(NaN,""):new Ti(this.num-t.num,this.unit)}multiply(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ti(NaN,""):new Ti(this.num*t.num,this.unit||t.unit)}divide(t){return this.unit!==""&&t.unit!==""&&this.unit!==t.unit?new Ti(NaN,""):new Ti(this.num/t.num,this.unit||t.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return xs(this.num)}}VL=Ti;mee(Ti,"NaN",new VL(NaN,""));function HL(e){if(e==null||e.includes(pd))return pd;for(var t=e;t.includes("*")||t.includes("/");){var n,[,r,i,a]=(n=SD.exec(t))!==null&&n!==void 0?n:[],s=Ti.parse(r??""),o=Ti.parse(a??""),c=i==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return pd;t=t.replace(SD,c.toString())}for(;t.includes("+")||/.-\d+(?:\.\d+)?/.test(t);){var u,[,d,f,h]=(u=jD.exec(t))!==null&&u!==void 0?u:[],m=Ti.parse(d??""),p=Ti.parse(h??""),x=f==="+"?m.add(p):m.subtract(p);if(x.isNaN())return pd;t=t.replace(jD,x.toString())}return t}var CD=/\(([^()]*)\)/;function kee(e){for(var t=e,n;(n=CD.exec(t))!=null;){var[,r]=n;t=t.replace(CD,HL(r))}return t}function Nee(e){var t=e.replace(/\s+/g,"");return t=kee(t),t=HL(t),t}function See(e){try{return Nee(e)}catch{return pd}}function Lv(e){var t=See(e.slice(5,-1));return t===pd?"":t}var jee=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],Cee=["dx","dy","angle","className","breakAll"];function c1(){return c1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},c1.apply(null,arguments)}function AD(e,t){if(e==null)return{};var n,r,i=Aee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Aee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var qL=/[ \f\n\r\t\v\u2028\u2029]+/,KL=e=>{var{children:t,breakAll:n,style:r}=e;try{var i=[];ri(t)||(n?i=t.toString().split(""):i=t.toString().split(qL));var a=i.map(o=>({word:o,width:fm(o,r).width})),s=n?0:fm("",r).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function Pee(e){return e==="start"||e==="middle"||e==="end"||e==="inherit"}var GL=(e,t,n,r)=>e.reduce((i,a)=>{var{word:s,width:o}=a,c=i[i.length-1];if(c&&o!=null&&(t==null||r||c.width+o+n<Number(t)))c.words.push(s),c.width+=o+n;else{var u={words:[s],width:o};i.push(u)}return i},[]),YL=e=>e.reduce((t,n)=>t.width>n.width?t:n),Dee="",PD=(e,t,n,r,i,a,s,o)=>{var c=e.slice(0,t),u=KL({breakAll:n,style:r,children:c+Dee});if(!u)return[!1,[]];var d=GL(u.wordsWithComputedWidth,a,s,o),f=d.length>i||YL(d).width>Number(a);return[f,d]},Tee=(e,t,n,r,i)=>{var{maxLines:a,children:s,style:o,breakAll:c}=e,u=Lt(a),d=String(s),f=GL(t,r,n,i);if(!u||i)return f;var h=f.length>a||YL(f).width>Number(r);if(!h)return f;for(var m=0,p=d.length-1,x=0,v;m<=p&&x<=d.length-1;){var b=Math.floor((m+p)/2),y=b-1,[w,N]=PD(d,y,c,o,a,r,n,i),[j]=PD(d,b,c,o,a,r,n,i);if(!w&&!j&&(m=b+1),w&&j&&(p=b-1),!w&&j){v=N;break}x++}return v||f},DD=e=>{var t=ri(e)?[]:e.toString().split(qL);return[{words:t,width:void 0}]},Mee=e=>{var{width:t,scaleToFit:n,children:r,style:i,breakAll:a,maxLines:s}=e;if((t||n)&&!eb.isSsr){var o,c,u=KL({breakAll:a,children:r,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,c=f}else return DD(r);return Tee({breakAll:a,children:r,maxLines:s,style:i},o,c,t,!!n)}return DD(r)},XL="#808080",Eee={angle:0,breakAll:!1,capHeight:"0.71em",fill:XL,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},xb=g.forwardRef((e,t)=>{var n=Zr(e,Eee),{x:r,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:c,textAnchor:u,verticalAnchor:d}=n,f=AD(n,jee),h=g.useMemo(()=>Mee({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:c,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,c,f.style,f.width]),{dx:m,dy:p,angle:x,className:v,breakAll:b}=f,y=AD(f,Cee);if(!bs(r)||!bs(i)||h.length===0)return null;var w=Number(r)+(Lt(m)?m:0),N=Number(i)+(Lt(p)?p:0);if(!hr(w)||!hr(N))return null;var j;switch(d){case"start":j=Lv("calc(".concat(s,")"));break;case"middle":j=Lv("calc(".concat((h.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:j=Lv("calc(".concat(h.length-1," * -").concat(a,")"));break}var k=[];if(c){var C=h[0].width,{width:E}=f;k.push("scale(".concat(Lt(E)&&Lt(C)?E/C:1,")"))}return x&&k.push("rotate(".concat(x,", ").concat(w,", ").concat(N,")")),k.length&&(y.transform=k.join(" ")),g.createElement("text",c1({},Hi(y),{ref:t,x:w,y:N,className:En("recharts-text",v),textAnchor:u,fill:o.includes("url")?XL:o}),h.map((R,T)=>{var $=R.words.join(b?"":" ");return g.createElement("tspan",{x:w,dy:T===0?j:a,key:"".concat($,"-").concat(T)},$)}))});xb.displayName="Text";var Oee=["labelRef"],Iee=["content"];function TD(e,t){if(e==null)return{};var n,r,i=_ee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function _ee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function MD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function $r(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?MD(Object(n),!0).forEach(function(r){Lee(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):MD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Lee(e,t,n){return(t=$ee(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function $ee(e){var t=Fee(e,"string");return typeof t=="symbol"?t:t+""}function Fee(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Go(){return Go=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Go.apply(null,arguments)}var QL=g.createContext(null),ZL=e=>{var{x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s,children:o}=e,c=g.useMemo(()=>({x:t,y:n,upperWidth:r,lowerWidth:i,width:a,height:s}),[t,n,r,i,a,s]);return g.createElement(QL.Provider,{value:c},o)},JL=()=>{var e=g.useContext(QL),t=bh();return e||f_(t)},Ree=g.createContext(null),Bee=()=>{var e=g.useContext(Ree),t=It(F4);return e||t},zee=e=>{var{value:t,formatter:n}=e,r=ri(e.children)?t:e.children;return typeof n=="function"?n(r):r},qS=e=>e!=null&&typeof e=="function",Uee=(e,t)=>{var n=Ui(t-e),r=Math.min(Math.abs(t-e),360);return n*r},Wee=(e,t,n,r,i)=>{var{offset:a,className:s}=e,{cx:o,cy:c,innerRadius:u,outerRadius:d,startAngle:f,endAngle:h,clockWise:m}=i,p=(u+d)/2,x=Uee(f,h),v=x>=0?1:-1,b,y;switch(t){case"insideStart":b=f+v*a,y=m;break;case"insideEnd":b=h-v*a,y=!m;break;case"end":b=h+v*a,y=m;break;default:throw new Error("Unsupported position ".concat(t))}y=x<=0?y:!y;var w=Xr(o,c,p,b),N=Xr(o,c,p,b+(y?1:-1)*359),j="M".concat(w.x,",").concat(w.y,`
    A`).concat(p,",").concat(p,",0,1,").concat(y?0:1,`,
    `).concat(N.x,",").concat(N.y),k=ri(e.id)?zm("recharts-radial-line-"):e.id;return g.createElement("text",Go({},r,{dominantBaseline:"central",className:En("recharts-radial-bar-label",s)}),g.createElement("defs",null,g.createElement("path",{id:k,d:j})),g.createElement("textPath",{xlinkHref:"#".concat(k)},n))},Vee=(e,t,n)=>{var{cx:r,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=e,u=(o+c)/2;if(n==="outside"){var{x:d,y:f}=Xr(r,i,s+t,u);return{x:d,y:f,textAnchor:d>=r?"start":"end",verticalAnchor:"middle"}}if(n==="center")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(n==="centerTop")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"start"};if(n==="centerBottom")return{x:r,y:i,textAnchor:"middle",verticalAnchor:"end"};var h=(a+s)/2,{x:m,y:p}=Xr(r,i,h,u);return{x:m,y:p,textAnchor:"middle",verticalAnchor:"middle"}},u1=e=>"cx"in e&&Lt(e.cx),Hee=(e,t)=>{var{parentViewBox:n,offset:r,position:i}=e,a;n!=null&&!u1(n)&&(a=n);var{x:s,y:o,upperWidth:c,lowerWidth:u,height:d}=t,f=s,h=s+(c-u)/2,m=(f+h)/2,p=(c+u)/2,x=f+c/2,v=d>=0?1:-1,b=v*r,y=v>0?"end":"start",w=v>0?"start":"end",N=c>=0?1:-1,j=N*r,k=N>0?"end":"start",C=N>0?"start":"end";if(i==="top"){var E={x:f+c/2,y:o-b,textAnchor:"middle",verticalAnchor:y};return $r($r({},E),a?{height:Math.max(o-a.y,0),width:c}:{})}if(i==="bottom"){var R={x:h+u/2,y:o+d+b,textAnchor:"middle",verticalAnchor:w};return $r($r({},R),a?{height:Math.max(a.y+a.height-(o+d),0),width:u}:{})}if(i==="left"){var T={x:m-j,y:o+d/2,textAnchor:k,verticalAnchor:"middle"};return $r($r({},T),a?{width:Math.max(T.x-a.x,0),height:d}:{})}if(i==="right"){var $={x:m+p+j,y:o+d/2,textAnchor:C,verticalAnchor:"middle"};return $r($r({},$),a?{width:Math.max(a.x+a.width-$.x,0),height:d}:{})}var I=a?{width:p,height:d}:{};return i==="insideLeft"?$r({x:m+j,y:o+d/2,textAnchor:C,verticalAnchor:"middle"},I):i==="insideRight"?$r({x:m+p-j,y:o+d/2,textAnchor:k,verticalAnchor:"middle"},I):i==="insideTop"?$r({x:f+c/2,y:o+b,textAnchor:"middle",verticalAnchor:w},I):i==="insideBottom"?$r({x:h+u/2,y:o+d-b,textAnchor:"middle",verticalAnchor:y},I):i==="insideTopLeft"?$r({x:f+j,y:o+b,textAnchor:C,verticalAnchor:w},I):i==="insideTopRight"?$r({x:f+c-j,y:o+b,textAnchor:k,verticalAnchor:w},I):i==="insideBottomLeft"?$r({x:h+j,y:o+d-b,textAnchor:C,verticalAnchor:y},I):i==="insideBottomRight"?$r({x:h+u-j,y:o+d-b,textAnchor:k,verticalAnchor:y},I):i&&typeof i=="object"&&(Lt(i.x)||ul(i.x))&&(Lt(i.y)||ul(i.y))?$r({x:s+Ba(i.x,p),y:o+Ba(i.y,d),textAnchor:"end",verticalAnchor:"end"},I):$r({x,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},I)},qee={angle:0,offset:5,zIndex:gi.label,position:"middle",textBreakAll:!1};function ql(e){var t=Zr(e,qee),{viewBox:n,position:r,value:i,children:a,content:s,className:o="",textBreakAll:c,labelRef:u}=t,d=Bee(),f=JL(),h=r==="center"?f:d??f,m,p,x;if(n==null?m=h:u1(n)?m=n:m=f_(n),!m||ri(i)&&ri(a)&&!g.isValidElement(s)&&typeof s!="function")return null;var v=$r($r({},t),{},{viewBox:m});if(g.isValidElement(s)){var{labelRef:b}=v,y=TD(v,Oee);return g.cloneElement(s,y)}if(typeof s=="function"){var{content:w}=v,N=TD(v,Iee);if(p=g.createElement(s,N),g.isValidElement(p))return p}else p=zee(t);var j=Hi(t);if(u1(m)){if(r==="insideStart"||r==="insideEnd"||r==="end")return Wee(t,r,p,j,m);x=Vee(m,t.offset,t.position)}else x=Hee(t,m);return g.createElement(js,{zIndex:t.zIndex},g.createElement(xb,Go({ref:u,className:En("recharts-label",o)},j,x,{textAnchor:Pee(j.textAnchor)?j.textAnchor:x.textAnchor,breakAll:c}),p))}ql.displayName="Label";var Kee=(e,t,n)=>{if(!e)return null;var r={viewBox:t,labelRef:n};return e===!0?g.createElement(ql,Go({key:"label-implicit"},r)):bs(e)?g.createElement(ql,Go({key:"label-implicit",value:e},r)):g.isValidElement(e)?e.type===ql?g.cloneElement(e,$r({key:"label-implicit"},r)):g.createElement(ql,Go({key:"label-implicit",content:e},r)):qS(e)?g.createElement(ql,Go({key:"label-implicit",content:e},r)):e&&typeof e=="object"?g.createElement(ql,Go({},e,{key:"label-implicit"},r)):null};function e$(e){var{label:t,labelRef:n}=e,r=JL();return Kee(t,r,n)||null}var t$={},n$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return n[n.length-1]}e.last=t})(n$);var r$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){return Array.isArray(n)?n:Array.from(n)}e.toArray=t})(r$);(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});const t=n$,n=r$,r=Ex;function i(a){if(r.isArrayLike(a))return t.last(n.toArray(a))}e.last=i})(t$);var Gee=t$.last;const Yee=Ks(Gee);var Xee=["valueAccessor"],Qee=["dataKey","clockWise","id","textBreakAll","zIndex"];function F0(){return F0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},F0.apply(null,arguments)}function ED(e,t){if(e==null)return{};var n,r,i=Zee(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Zee(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Jee=e=>Array.isArray(e.value)?Yee(e.value):e.value,i$=g.createContext(void 0),ete=i$.Provider,a$=g.createContext(void 0),tte=a$.Provider;function nte(){return g.useContext(i$)}function rte(){return g.useContext(a$)}function xg(e){var{valueAccessor:t=Jee}=e,n=ED(e,Xee),{dataKey:r,clockWise:i,id:a,textBreakAll:s,zIndex:o}=n,c=ED(n,Qee),u=nte(),d=rte(),f=u||d;return!f||!f.length?null:g.createElement(js,{zIndex:o??gi.label},g.createElement(aa,{className:"recharts-label-list"},f.map((h,m)=>{var p,x=ri(r)?t(h,m):or(h&&h.payload,r),v=ri(a)?{}:{id:"".concat(a,"-").concat(m)};return g.createElement(ql,F0({key:"label-".concat(m)},Hi(h),c,v,{fill:(p=n.fill)!==null&&p!==void 0?p:h.fill,parentViewBox:h.parentViewBox,value:x,textBreakAll:s,viewBox:h.viewBox,index:m,zIndex:0}))})))}xg.displayName="LabelList";function s$(e){var{label:t}=e;return t?t===!0?g.createElement(xg,{key:"labelList-implicit"}):g.isValidElement(t)||qS(t)?g.createElement(xg,{key:"labelList-implicit",content:t}):typeof t=="object"?g.createElement(xg,F0({key:"labelList-implicit"},t,{type:String(t.type)})):null:null}function d1(){return d1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},d1.apply(null,arguments)}var o$=e=>{var{cx:t,cy:n,r,className:i}=e,a=En("recharts-dot",i);return Lt(t)&&Lt(n)&&Lt(r)?g.createElement("circle",d1({},gs(e),dN(e),{className:a,cx:t,cy:n,r})):null},l$=e=>e.graphicalItems.polarItems,ite=Be([gr,Ch],xS),bb=Be([l$,Sr,ite],bS),ate=Be([bb],vS),vb=Be([ate,aS],yS),ste=Be([vb,Sr,bb],kS);Be([vb,Sr,bb],(e,t,n)=>n.length>0?e.flatMap(r=>n.flatMap(i=>{var a,s=or(r,(a=t.dataKey)!==null&&a!==void 0?a:i.dataKey);return{value:s,errorDomain:[]}})).filter(Boolean):(t==null?void 0:t.dataKey)!=null?e.map(r=>({value:or(r,t.dataKey),errorDomain:[]})):e.map(r=>({value:r,errorDomain:[]})));var OD=()=>{},ote=Be([vb,Sr,bb,hb,gr],CS),lte=Be([Sr,SS,jS,OD,ote,OD,Wn,gr],AS),c$=Be([Sr,Wn,vb,ste,jh,gr,lte],PS),cte=Be([c$,Sr,uf],MS);Be([Sr,c$,cte,gr],OS);var ute={radiusAxis:{},angleAxis:{}},u$=ja({name:"polarAxis",initialState:ute,reducers:{addRadiusAxis(e,t){e.radiusAxis[t.payload.id]=t.payload},removeRadiusAxis(e,t){delete e.radiusAxis[t.payload.id]},addAngleAxis(e,t){e.angleAxis[t.payload.id]=t.payload},removeAngleAxis(e,t){delete e.angleAxis[t.payload.id]}}}),{addRadiusAxis:ube,removeRadiusAxis:dbe,addAngleAxis:fbe,removeAngleAxis:mbe}=u$.actions,dte=u$.reducer;function ID(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function _D(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ID(Object(n),!0).forEach(function(r){fte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ID(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function fte(e,t,n){return(t=mte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function mte(e){var t=hte(e,"string");return typeof t=="symbol"?t:t+""}function hte(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var pte=(e,t)=>t,KS=Be([l$,pte],(e,t)=>e.filter(n=>n.type==="pie").find(n=>n.id===t)),gte=[],GS=(e,t,n)=>(n==null?void 0:n.length)===0?gte:n,d$=Be([aS,KS,GS],(e,t,n)=>{var{chartData:r}=e;if(t!=null){var i;if((t==null?void 0:t.data)!=null&&t.data.length>0?i=t.data:i=r,(!i||!i.length)&&n!=null&&(i=n.map(a=>_D(_D({},t.presentationProps),a.props))),i!=null)return i}}),xte=Be([d$,KS,GS],(e,t,n)=>{if(!(e==null||t==null))return e.map((r,i)=>{var a,s=or(r,t.nameKey,t.name),o;return n!=null&&(a=n[i])!==null&&a!==void 0&&(a=a.props)!==null&&a!==void 0&&a.fill?o=n[i].props.fill:typeof r=="object"&&r!=null&&"fill"in r?o=r.fill:o=t.fill,{value:Hx(s,t.dataKey),color:o,payload:r,type:t.legendType}})}),bte=Be([d$,KS,GS,vi],(e,t,n,r)=>{if(!(t==null||e==null))return Mne({offset:r,pieSettings:t,displayedData:e,cells:n})}),f$={exports:{}},Gn={};/** @license React v17.0.2
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yb=60103,wb=60106,Ih=60107,_h=60108,Lh=60114,$h=60109,Fh=60110,Rh=60112,Bh=60113,YS=60120,zh=60115,Uh=60116,m$=60121,h$=60122,p$=60117,g$=60129,x$=60131;if(typeof Symbol=="function"&&Symbol.for){var Ci=Symbol.for;yb=Ci("react.element"),wb=Ci("react.portal"),Ih=Ci("react.fragment"),_h=Ci("react.strict_mode"),Lh=Ci("react.profiler"),$h=Ci("react.provider"),Fh=Ci("react.context"),Rh=Ci("react.forward_ref"),Bh=Ci("react.suspense"),YS=Ci("react.suspense_list"),zh=Ci("react.memo"),Uh=Ci("react.lazy"),m$=Ci("react.block"),h$=Ci("react.server.block"),p$=Ci("react.fundamental"),g$=Ci("react.debug_trace_mode"),x$=Ci("react.legacy_hidden")}function Ys(e){if(typeof e=="object"&&e!==null){var t=e.$$typeof;switch(t){case yb:switch(e=e.type,e){case Ih:case Lh:case _h:case Bh:case YS:return e;default:switch(e=e&&e.$$typeof,e){case Fh:case Rh:case Uh:case zh:case $h:return e;default:return t}}case wb:return t}}}var vte=$h,yte=yb,wte=Rh,kte=Ih,Nte=Uh,Ste=zh,jte=wb,Cte=Lh,Ate=_h,Pte=Bh;Gn.ContextConsumer=Fh;Gn.ContextProvider=vte;Gn.Element=yte;Gn.ForwardRef=wte;Gn.Fragment=kte;Gn.Lazy=Nte;Gn.Memo=Ste;Gn.Portal=jte;Gn.Profiler=Cte;Gn.StrictMode=Ate;Gn.Suspense=Pte;Gn.isAsyncMode=function(){return!1};Gn.isConcurrentMode=function(){return!1};Gn.isContextConsumer=function(e){return Ys(e)===Fh};Gn.isContextProvider=function(e){return Ys(e)===$h};Gn.isElement=function(e){return typeof e=="object"&&e!==null&&e.$$typeof===yb};Gn.isForwardRef=function(e){return Ys(e)===Rh};Gn.isFragment=function(e){return Ys(e)===Ih};Gn.isLazy=function(e){return Ys(e)===Uh};Gn.isMemo=function(e){return Ys(e)===zh};Gn.isPortal=function(e){return Ys(e)===wb};Gn.isProfiler=function(e){return Ys(e)===Lh};Gn.isStrictMode=function(e){return Ys(e)===_h};Gn.isSuspense=function(e){return Ys(e)===Bh};Gn.isValidElementType=function(e){return typeof e=="string"||typeof e=="function"||e===Ih||e===Lh||e===g$||e===_h||e===Bh||e===YS||e===x$||typeof e=="object"&&e!==null&&(e.$$typeof===Uh||e.$$typeof===zh||e.$$typeof===$h||e.$$typeof===Fh||e.$$typeof===Rh||e.$$typeof===p$||e.$$typeof===m$||e[0]===h$)};Gn.typeOf=Ys;f$.exports=Gn;var Dte=f$.exports,LD=e=>typeof e=="string"?e:e?e.displayName||e.name||"Component":"",$D=null,$v=null,b$=e=>{if(e===$D&&Array.isArray($v))return $v;var t=[];return g.Children.forEach(e,n=>{ri(n)||(Dte.isFragment(n)?t=t.concat(b$(n.props.children)):t.push(n))}),$v=t,$D=e,t};function v$(e,t){var n=[],r=[];return Array.isArray(t)?r=t.map(i=>LD(i)):r=[LD(t)],b$(e).forEach(i=>{var a=vu(i,"type.displayName")||vu(i,"type.name");a&&r.indexOf(a)!==-1&&n.push(i)}),n}var y$=e=>e&&typeof e=="object"&&"clipDot"in e?!!e.clipDot:!0,w$={};(function(e){Object.defineProperty(e,Symbol.toStringTag,{value:"Module"});function t(n){var i;if(typeof n!="object"||n==null)return!1;if(Object.getPrototypeOf(n)===null)return!0;if(Object.prototype.toString.call(n)!=="[object Object]"){const a=n[Symbol.toStringTag];return a==null||!((i=Object.getOwnPropertyDescriptor(n,Symbol.toStringTag))!=null&&i.writable)?!1:n.toString()===`[object ${a}]`}let r=n;for(;Object.getPrototypeOf(r)!==null;)r=Object.getPrototypeOf(r);return Object.getPrototypeOf(n)===r}e.isPlainObject=t})(w$);var Tte=w$.isPlainObject;const Mte=Ks(Tte);var FD,RD,BD,zD,UD;function WD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function VD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?WD(Object(n),!0).forEach(function(r){Ete(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):WD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ete(e,t,n){return(t=Ote(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ote(e){var t=Ite(e,"string");return typeof t=="symbol"?t:t+""}function Ite(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function R0(){return R0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},R0.apply(null,arguments)}function Rf(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}var HD=(e,t,n,r,i)=>{var a=n-r,s;return s=Dr(FD||(FD=Rf(["M ",",",""])),e,t),s+=Dr(RD||(RD=Rf(["L ",",",""])),e+n,t),s+=Dr(BD||(BD=Rf(["L ",",",""])),e+n-a/2,t+i),s+=Dr(zD||(zD=Rf(["L ",",",""])),e+n-a/2-r,t+i),s+=Dr(UD||(UD=Rf(["L ",","," Z"])),e,t),s},_te={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Lte=e=>{var t=Zr(e,_te),{x:n,y:r,upperWidth:i,lowerWidth:a,height:s,className:o}=t,{animationEasing:c,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=t,h=g.useRef(null),[m,p]=g.useState(-1),x=g.useRef(i),v=g.useRef(a),b=g.useRef(s),y=g.useRef(n),w=g.useRef(r),N=nb(e,"trapezoid-");if(g.useEffect(()=>{if(h.current&&h.current.getTotalLength)try{var ce=h.current.getTotalLength();ce&&p(ce)}catch{}},[]),n!==+n||r!==+r||i!==+i||a!==+a||s!==+s||i===0&&a===0||s===0)return null;var j=En("recharts-trapezoid",o);if(!f)return g.createElement("g",null,g.createElement("path",R0({},Hi(t),{className:j,d:HD(n,r,i,a,s)})));var k=x.current,C=v.current,E=b.current,R=y.current,T=w.current,$="0px ".concat(m===-1?1:m,"px"),I="".concat(m,"px 0px"),re=C_(["strokeDasharray"],u,c);return g.createElement(tb,{animationId:N,key:N,canBegin:m>0,duration:u,easing:c,isActive:f,begin:d},ce=>{var ve=zi(k,i,ce),Oe=zi(C,a,ce),fe=zi(E,s,ce),Z=zi(R,n,ce),xe=zi(T,r,ce);h.current&&(x.current=ve,v.current=Oe,b.current=fe,y.current=Z,w.current=xe);var _=ce>0?{transition:re,strokeDasharray:I}:{strokeDasharray:$};return g.createElement("path",R0({},Hi(t),{className:j,d:HD(Z,xe,ve,Oe,fe),ref:h,style:VD(VD({},_),t.style)}))})},$te=["option","shapeType","activeClassName"];function Fte(e,t){if(e==null)return{};var n,r,i=Rte(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Rte(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function qD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function B0(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?qD(Object(n),!0).forEach(function(r){Bte(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):qD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Bte(e,t,n){return(t=zte(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function zte(e){var t=Ute(e,"string");return typeof t=="symbol"?t:t+""}function Ute(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Wte(e,t){return B0(B0({},t),e)}function Vte(e,t){return e==="symbols"}function KD(e){var{shapeType:t,elementProps:n}=e;switch(t){case"rectangle":return g.createElement(T_,n);case"trapezoid":return g.createElement(Lte,n);case"sector":return g.createElement(I_,n);case"symbols":if(Vte(t))return g.createElement(uN,n);break;case"curve":return g.createElement(_N,n);default:return null}}function Hte(e){return g.isValidElement(e)?e.props:e}function k$(e){var{option:t,shapeType:n,activeClassName:r="recharts-active-shape"}=e,i=Fte(e,$te),a;if(g.isValidElement(t))a=g.cloneElement(t,B0(B0({},i),Hte(t)));else if(typeof t=="function")a=t(i,i.index);else if(Mte(t)&&typeof t!="boolean"){var s=Wte(t,i);a=g.createElement(KD,{shapeType:n,elementProps:s})}else{var o=i;a=g.createElement(KD,{shapeType:n,elementProps:o})}return i.isActive?g.createElement(aa,{className:r},a):a}var qte=(e,t,n)=>{var r=Kn();return(i,a)=>s=>{e==null||e(i,a,s),r(xL({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}},Kte=e=>{var t=Kn();return(n,r)=>i=>{e==null||e(n,r,i),t(ZQ())}},Gte=(e,t,n)=>{var r=Kn();return(i,a)=>s=>{e==null||e(i,a,s),r(JQ({activeIndex:String(a),activeDataKey:t,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:n}))}};function N$(e){var{tooltipEntrySettings:t}=e,n=Kn(),r=ca(),i=g.useRef(null);return g.useLayoutEffect(()=>{r||(i.current===null?n(GQ(t)):i.current!==t&&n(YQ({prev:i.current,next:t})),i.current=t)},[t,n,r]),g.useLayoutEffect(()=>()=>{i.current&&(n(XQ(i.current)),i.current=null)},[n]),null}function Yte(e){var{legendPayload:t}=e,n=Kn(),r=ca(),i=g.useRef(null);return g.useLayoutEffect(()=>{r||(i.current===null?n(w_(t)):i.current!==t&&n(k_({prev:i.current,next:t})),i.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{i.current&&(n(N_(i.current)),i.current=null)},[n]),null}function Xte(e){var{legendPayload:t}=e,n=Kn(),r=It(Wn),i=g.useRef(null);return g.useLayoutEffect(()=>{r!=="centric"&&r!=="radial"||(i.current===null?n(w_(t)):i.current!==t&&n(k_({prev:i.current,next:t})),i.current=t)},[n,r,t]),g.useLayoutEffect(()=>()=>{i.current&&(n(N_(i.current)),i.current=null)},[n]),null}var Fv,Qte=()=>{var[e]=g.useState(()=>zm("uid-"));return e},Zte=(Fv=d6.useId)!==null&&Fv!==void 0?Fv:Qte;function Jte(e,t){var n=Zte();return t||(e?"".concat(e,"-").concat(n):n)}var ene=g.createContext(void 0),S$=e=>{var{id:t,type:n,children:r}=e,i=Jte("recharts-".concat(n),t);return g.createElement(ene.Provider,{value:i},r(i))},tne={cartesianItems:[],polarItems:[]},j$=ja({name:"graphicalItems",initialState:tne,reducers:{addCartesianGraphicalItem:{reducer(e,t){e.cartesianItems.push(t.payload)},prepare:fr()},replaceCartesianGraphicalItem:{reducer(e,t){var{prev:n,next:r}=t.payload,i=Bs(e).cartesianItems.indexOf(n);i>-1&&(e.cartesianItems[i]=r)},prepare:fr()},removeCartesianGraphicalItem:{reducer(e,t){var n=Bs(e).cartesianItems.indexOf(t.payload);n>-1&&e.cartesianItems.splice(n,1)},prepare:fr()},addPolarGraphicalItem:{reducer(e,t){e.polarItems.push(t.payload)},prepare:fr()},removePolarGraphicalItem:{reducer(e,t){var n=Bs(e).polarItems.indexOf(t.payload);n>-1&&e.polarItems.splice(n,1)},prepare:fr()}}}),{addCartesianGraphicalItem:nne,replaceCartesianGraphicalItem:rne,removeCartesianGraphicalItem:ine,addPolarGraphicalItem:ane,removePolarGraphicalItem:sne}=j$.actions,one=j$.reducer,lne=e=>{var t=Kn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(nne(e)):n.current!==e&&t(rne({prev:n.current,next:e})),n.current=e},[t,e]),g.useLayoutEffect(()=>()=>{n.current&&(t(ine(n.current)),n.current=null)},[t]),null},cne=g.memo(lne);function une(e){var t=Kn();return g.useLayoutEffect(()=>(t(ane(e)),()=>{t(sne(e))}),[t,e]),null}var dne=["key"],fne=["onMouseEnter","onClick","onMouseLeave"],mne=["id"],hne=["id"];function GD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Mr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?GD(Object(n),!0).forEach(function(r){pne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):GD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function pne(e,t,n){return(t=gne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function gne(e){var t=xne(e,"string");return typeof t=="symbol"?t:t+""}function xne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function gc(){return gc=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},gc.apply(null,arguments)}function kb(e,t){if(e==null)return{};var n,r,i=bne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function bne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function vne(e){var t=g.useMemo(()=>v$(e.children,Xd),[e.children]),n=It(r=>xte(r,e.id,t));return n==null?null:g.createElement(Xte,{legendPayload:n})}var yne=g.memo(e=>{var{dataKey:t,nameKey:n,sectors:r,stroke:i,strokeWidth:a,fill:s,name:o,hide:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:r.map(h=>h.tooltipPayload),positions:r.map(h=>h.tooltipPosition),settings:{stroke:i,strokeWidth:a,fill:s,dataKey:t,nameKey:n,name:Hx(o,t),hide:c,type:u,color:s,unit:"",graphicalItemId:d}};return g.createElement(N$,{tooltipEntrySettings:f})}),wne=(e,t)=>e>t?"start":e<t?"end":"middle",kne=(e,t,n)=>Ba(typeof t=="function"?t(e):t,n,n*.8),Nne=(e,t,n)=>{var{top:r,left:i,width:a,height:s}=t,o=M_(a,s),c=i+Ba(e.cx,a,a/2),u=r+Ba(e.cy,s,s/2),d=Ba(e.innerRadius,o,0),f=kne(n,e.outerRadius,o),h=e.maxRadius||Math.sqrt(a*a+s*s)/2;return{cx:c,cy:u,innerRadius:d,outerRadius:f,maxRadius:h}},Sne=(e,t)=>{var n=Ui(t-e),r=Math.min(Math.abs(t-e),360);return n*r};function jne(e){return e&&typeof e=="object"&&"className"in e&&typeof e.className=="string"?e.className:""}var Cne=(e,t)=>{if(g.isValidElement(e))return g.cloneElement(e,t);if(typeof e=="function")return e(t);var n=En("recharts-pie-label-line",typeof e!="boolean"?e.className:""),{key:r}=t,i=kb(t,dne);return g.createElement(_N,gc({},i,{type:"linear",className:n}))},Ane=(e,t,n)=>{if(g.isValidElement(e))return g.cloneElement(e,t);var r=n;if(typeof e=="function"&&(r=e(t),g.isValidElement(r)))return r;var i=En("recharts-pie-label-text",jne(e));return g.createElement(xb,gc({},t,{alignmentBaseline:"middle",className:i}),r)};function Pne(e){var{sectors:t,props:n,showLabels:r}=e,{label:i,labelLine:a,dataKey:s}=n;if(!r||!i||!t)return null;var o=gs(n),c=Bd(i),u=Bd(a),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=t.map((h,m)=>{var p=(h.startAngle+h.endAngle)/2,x=Xr(h.cx,h.cy,h.outerRadius+d,p),v=Mr(Mr(Mr(Mr({},o),h),{},{stroke:"none"},c),{},{index:m,textAnchor:wne(x.x,h.cx)},x),b=Mr(Mr(Mr(Mr({},o),h),{},{fill:"none",stroke:h.fill},u),{},{index:m,points:[Xr(h.cx,h.cy,h.outerRadius,p),x],key:"line"});return g.createElement(js,{zIndex:gi.label,key:"label-".concat(h.startAngle,"-").concat(h.endAngle,"-").concat(h.midAngle,"-").concat(m)},g.createElement(aa,null,a&&Cne(a,b),Ane(i,v,or(h,s))))});return g.createElement(aa,{className:"recharts-pie-labels"},f)}function Dne(e){var{sectors:t,props:n,showLabels:r}=e,{label:i}=n;return typeof i=="object"&&i!=null&&"position"in i?g.createElement(s$,{label:i}):g.createElement(Pne,{sectors:t,props:n,showLabels:r})}function Tne(e){var{sectors:t,activeShape:n,inactiveShape:r,allOtherPieProps:i,shape:a,id:s}=e,o=It(Yd),c=It(ML),u=It(FZ),{onMouseEnter:d,onClick:f,onMouseLeave:h}=i,m=kb(i,fne),p=qte(d,i.dataKey,s),x=Kte(h),v=Gte(f,i.dataKey,s);return t==null||t.length===0?null:g.createElement(g.Fragment,null,t.map((b,y)=>{if((b==null?void 0:b.startAngle)===0&&(b==null?void 0:b.endAngle)===0&&t.length!==1)return null;var w=u==null||u===s,N=String(y)===o&&(c==null||i.dataKey===c)&&w,j=o?r:null,k=n&&N?n:j,C=Mr(Mr({},b),{},{stroke:b.stroke,tabIndex:-1,[r_]:y,[i_]:s});return g.createElement(aa,gc({key:"sector-".concat(b==null?void 0:b.startAngle,"-").concat(b==null?void 0:b.endAngle,"-").concat(b.midAngle,"-").concat(y),tabIndex:-1,className:"recharts-pie-sector"},fN(m,b,y),{onMouseEnter:p(b,y),onMouseLeave:x(b,y),onClick:v(b,y)}),g.createElement(k$,gc({option:a??k,index:y,shapeType:"sector",isActive:N},C)))}))}function Mne(e){var t,{pieSettings:n,displayedData:r,cells:i,offset:a}=e,{cornerRadius:s,startAngle:o,endAngle:c,dataKey:u,nameKey:d,tooltipType:f}=n,h=Math.abs(n.minAngle),m=Sne(o,c),p=Math.abs(m),x=r.length<=1?0:(t=n.paddingAngle)!==null&&t!==void 0?t:0,v=r.filter(k=>or(k,u,0)!==0).length,b=(p>=360?v:v-1)*x,y=p-v*h-b,w=r.reduce((k,C)=>{var E=or(C,u,0);return k+(Lt(E)?E:0)},0),N;if(w>0){var j;N=r.map((k,C)=>{var E=or(k,u,0),R=or(k,d,C),T=Nne(n,a,k),$=(Lt(E)?E:0)/w,I,re=Mr(Mr({},k),i&&i[C]&&i[C].props);C?I=j.endAngle+Ui(m)*x*(E!==0?1:0):I=o;var ce=I+Ui(m)*((E!==0?h:0)+$*y),ve=(I+ce)/2,Oe=(T.innerRadius+T.outerRadius)/2,fe=[{name:R,value:E,payload:re,dataKey:u,type:f,graphicalItemId:n.id}],Z=Xr(T.cx,T.cy,Oe,ve);return j=Mr(Mr(Mr(Mr({},n.presentationProps),{},{percent:$,cornerRadius:typeof s=="string"?parseFloat(s):s,name:R,tooltipPayload:fe,midAngle:ve,middleRadius:Oe,tooltipPosition:Z},re),T),{},{value:E,dataKey:u,startAngle:I,endAngle:ce,payload:re,paddingAngle:Ui(m)*x}),j})}return N}function Ene(e){var{showLabels:t,sectors:n,children:r}=e,i=g.useMemo(()=>!t||!n?[]:n.map(a=>({value:a.value,payload:a.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:a.cx,cy:a.cy,innerRadius:a.innerRadius,outerRadius:a.outerRadius,startAngle:a.startAngle,endAngle:a.endAngle,clockWise:!1},fill:a.fill})),[n,t]);return g.createElement(tte,{value:t?i:void 0},r)}function One(e){var{props:t,previousSectorsRef:n,id:r}=e,{sectors:i,isAnimationActive:a,animationBegin:s,animationDuration:o,animationEasing:c,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:h}=t,m=nb(t,"recharts-pie-"),p=n.current,[x,v]=g.useState(!1),b=g.useCallback(()=>{typeof h=="function"&&h(),v(!1)},[h]),y=g.useCallback(()=>{typeof f=="function"&&f(),v(!0)},[f]);return g.createElement(Ene,{showLabels:!x,sectors:i},g.createElement(tb,{animationId:m,begin:s,duration:o,isActive:a,easing:c,onAnimationStart:y,onAnimationEnd:b,key:m},w=>{var N=[],j=i&&i[0],k=j==null?void 0:j.startAngle;return i==null||i.forEach((C,E)=>{var R=p&&p[E],T=E>0?vu(C,"paddingAngle",0):0;if(R){var $=zi(R.endAngle-R.startAngle,C.endAngle-C.startAngle,w),I=Mr(Mr({},C),{},{startAngle:k+T,endAngle:k+$+T});N.push(I),k=I.endAngle}else{var{endAngle:re,startAngle:ce}=C,ve=zi(0,re-ce,w),Oe=Mr(Mr({},C),{},{startAngle:k+T,endAngle:k+ve+T});N.push(Oe),k=Oe.endAngle}}),n.current=N,g.createElement(aa,null,g.createElement(Tne,{sectors:N,activeShape:u,inactiveShape:d,allOtherPieProps:t,shape:t.shape,id:r}))}),g.createElement(Dne,{showLabels:!x,sectors:i,props:t}),t.children)}var Ine={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:gi.area};function _ne(e){var{id:t}=e,n=kb(e,mne),{hide:r,className:i,rootTabIndex:a}=e,s=g.useMemo(()=>v$(e.children,Xd),[e.children]),o=It(d=>bte(d,t,s)),c=g.useRef(null),u=En("recharts-pie",i);return r||o==null?(c.current=null,g.createElement(aa,{tabIndex:a,className:u})):g.createElement(js,{zIndex:e.zIndex},g.createElement(yne,{dataKey:e.dataKey,nameKey:e.nameKey,sectors:o,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,tooltipType:e.tooltipType,id:t}),g.createElement(aa,{tabIndex:a,className:u},g.createElement(One,{props:Mr(Mr({},n),{},{sectors:o}),previousSectorsRef:c,id:t})))}function z0(e){var t=Zr(e,Ine),{id:n}=t,r=kb(t,hne),i=gs(r);return g.createElement(S$,{id:n,type:"pie"},a=>g.createElement(g.Fragment,null,g.createElement(une,{type:"pie",id:a,data:r.data,dataKey:r.dataKey,hide:r.hide,angleAxisId:0,radiusAxisId:0,name:r.name,nameKey:r.nameKey,tooltipType:r.tooltipType,legendType:r.legendType,fill:r.fill,cx:r.cx,cy:r.cy,startAngle:r.startAngle,endAngle:r.endAngle,paddingAngle:r.paddingAngle,minAngle:r.minAngle,innerRadius:r.innerRadius,outerRadius:r.outerRadius,cornerRadius:r.cornerRadius,presentationProps:i,maxRadius:t.maxRadius}),g.createElement(vne,gc({},r,{id:a})),g.createElement(_ne,gc({},r,{id:a}))))}z0.displayName="Pie";var Lne=["points"];function YD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Rv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?YD(Object(n),!0).forEach(function(r){$ne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):YD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function $ne(e,t,n){return(t=Fne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Fne(e){var t=Rne(e,"string");return typeof t=="symbol"?t:t+""}function Rne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function U0(){return U0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},U0.apply(null,arguments)}function Bne(e,t){if(e==null)return{};var n,r,i=zne(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function zne(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Une(e){var{option:t,dotProps:n,className:r}=e;if(g.isValidElement(t))return g.cloneElement(t,n);if(typeof t=="function")return t(n);var i=En(r,typeof t!="boolean"?t.className:""),a=n??{},{points:s}=a,o=Bne(a,Lne);return g.createElement(o$,U0({},o,{className:i}))}function Wne(e,t){return e==null?!1:t?!0:e.length===1}function Vne(e){var{points:t,dot:n,className:r,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:c,zIndex:u=gi.scatter}=e;if(!Wne(t,n))return null;var d=y$(n),f=SV(n),h=t.map((p,x)=>{var v,b,y=Rv(Rv(Rv({r:3},s),f),{},{index:x,cx:(v=p.x)!==null&&v!==void 0?v:void 0,cy:(b=p.y)!==null&&b!==void 0?b:void 0,dataKey:a,value:p.value,payload:p.payload,points:t});return g.createElement(Une,{key:"dot-".concat(x),option:n,dotProps:y,className:i})}),m={};return o&&c!=null&&(m.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(c,")")),g.createElement(js,{zIndex:u},g.createElement(aa,U0({className:r},m),h))}function XD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function QD(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?XD(Object(n),!0).forEach(function(r){Hne(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):XD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Hne(e,t,n){return(t=qne(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qne(e){var t=Kne(e,"string");return typeof t=="symbol"?t:t+""}function Kne(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Gne={xAxis:{},yAxis:{},zAxis:{}},C$=ja({name:"cartesianAxis",initialState:Gne,reducers:{addXAxis:{reducer(e,t){e.xAxis[t.payload.id]=t.payload},prepare:fr()},replaceXAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.xAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.xAxis[n.id],e.xAxis[r.id]=r)},prepare:fr()},removeXAxis:{reducer(e,t){delete e.xAxis[t.payload.id]},prepare:fr()},addYAxis:{reducer(e,t){e.yAxis[t.payload.id]=t.payload},prepare:fr()},replaceYAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.yAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.yAxis[n.id],e.yAxis[r.id]=r)},prepare:fr()},removeYAxis:{reducer(e,t){delete e.yAxis[t.payload.id]},prepare:fr()},addZAxis:{reducer(e,t){e.zAxis[t.payload.id]=t.payload},prepare:fr()},replaceZAxis:{reducer(e,t){var{prev:n,next:r}=t.payload;e.zAxis[n.id]!==void 0&&(n.id!==r.id&&delete e.zAxis[n.id],e.zAxis[r.id]=r)},prepare:fr()},removeZAxis:{reducer(e,t){delete e.zAxis[t.payload.id]},prepare:fr()},updateYAxisWidth(e,t){var{id:n,width:r}=t.payload,i=e.yAxis[n];if(i){var a=i.widthHistory||[];if(a.length===3&&a[0]===a[2]&&r===a[1]&&r!==i.width&&Math.abs(r-a[0])<=1)return;var s=[...a,r].slice(-3);e.yAxis[n]=QD(QD({},e.yAxis[n]),{},{width:r,widthHistory:s})}}}}),{addXAxis:Yne,replaceXAxis:Xne,removeXAxis:Qne,addYAxis:Zne,replaceYAxis:Jne,removeYAxis:ere,addZAxis:hbe,replaceZAxis:pbe,removeZAxis:gbe,updateYAxisWidth:tre}=C$.actions,nre=C$.reducer,rre=Be([vi],e=>({top:e.top,bottom:e.bottom,left:e.left,right:e.right})),ire=Be([rre,vl,yl],(e,t,n)=>{if(!(!e||t==null||n==null))return{x:e.left,y:e.top,width:Math.max(0,t-e.left-e.right),height:Math.max(0,n-e.top-e.bottom)}}),XS=()=>It(ire),are=()=>It(WZ);function ZD(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bv(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?ZD(Object(n),!0).forEach(function(r){sre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ZD(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function sre(e,t,n){return(t=ore(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ore(e){var t=lre(e,"string");return typeof t=="symbol"?t:t+""}function lre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var cre=e=>{var{point:t,childIndex:n,mainColor:r,activeDot:i,dataKey:a,clipPath:s}=e;if(i===!1||t.x==null||t.y==null)return null;var o={index:n,dataKey:a,cx:t.x,cy:t.y,r:4,fill:r??"none",strokeWidth:2,stroke:"#fff",payload:t.payload,value:t.value},c=Bv(Bv(Bv({},o),Bd(i)),dN(i)),u;return g.isValidElement(i)?u=g.cloneElement(i,c):typeof i=="function"?u=i(c):u=g.createElement(o$,c),g.createElement(aa,{className:"recharts-active-dot",clipPath:s},u)};function ure(e){var{points:t,mainColor:n,activeDot:r,itemDataKey:i,clipPath:a,zIndex:s=gi.activeDot}=e,o=It(Yd),c=are();if(t==null||c==null)return null;var u=t.find(d=>c.includes(d.payload));return ri(u)?null:g.createElement(js,{zIndex:s},g.createElement(cre,{point:u,childIndex:Number(o),mainColor:n,dataKey:i,activeDot:r,clipPath:a}))}var A$=e=>{var{chartData:t}=e,n=Kn(),r=ca();return g.useEffect(()=>r?()=>{}:(n(pD(t)),()=>{n(pD(void 0))}),[t,n,r]),null},JD={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},P$=ja({name:"brush",initialState:JD,reducers:{setBrushSettings(e,t){return t.payload==null?JD:t.payload}}}),{setBrushSettings:xbe}=P$.actions,dre=P$.reducer;function eT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Vp(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?eT(Object(n),!0).forEach(function(r){D$(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):eT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function D$(e,t,n){return(t=fre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function fre(e){var t=mre(e,"string");return typeof t=="symbol"?t:t+""}function mre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var hre=(e,t)=>{var{x:n,y:r}=e,{x:i,y:a}=t;return{x:Math.min(n,i),y:Math.min(r,a),width:Math.abs(i-n),height:Math.abs(a-r)}},pre=e=>{var{x1:t,y1:n,x2:r,y2:i}=e;return hre({x:t,y:n},{x:r,y:i})};class Nb{static create(t){return new Nb(t)}constructor(t){this.scale=t}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(t){var{bandAware:n,position:r}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(t!==void 0){if(r)switch(r){case"start":return this.scale(t);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+i}case"end":{var a=this.bandwidth?this.bandwidth():0;return this.scale(t)+a}default:return this.scale(t)}if(n){var s=this.bandwidth?this.bandwidth()/2:0;return this.scale(t)+s}return this.scale(t)}}isInRange(t){var n=this.range(),r=n[0],i=n[n.length-1];return r<=i?t>=r&&t<=i:t>=i&&t<=r}}D$(Nb,"EPS",1e-4);var gre=e=>{var t=Object.keys(e).reduce((n,r)=>Vp(Vp({},n),{},{[r]:Nb.create(e[r])}),{});return Vp(Vp({},t),{},{apply(n){var{bandAware:r,position:i}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return Object.fromEntries(Object.entries(n).map(a=>{var[s,o]=a;return[s,t[s].apply(o,{bandAware:r,position:i})]}))},isInRange(n){return Object.keys(n).every(r=>t[r].isInRange(n[r]))}})};function xre(e){return(e%180+180)%180}var bre=function(t){var{width:n,height:r}=t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=xre(i),s=a*Math.PI/180,o=Math.atan(r/n),c=s>o&&s<Math.PI-o?r/Math.sin(s):n/Math.cos(s);return Math.abs(c)},vre={dots:[],areas:[],lines:[]},T$=ja({name:"referenceElements",initialState:vre,reducers:{addDot:(e,t)=>{e.dots.push(t.payload)},removeDot:(e,t)=>{var n=Bs(e).dots.findIndex(r=>r===t.payload);n!==-1&&e.dots.splice(n,1)},addArea:(e,t)=>{e.areas.push(t.payload)},removeArea:(e,t)=>{var n=Bs(e).areas.findIndex(r=>r===t.payload);n!==-1&&e.areas.splice(n,1)},addLine:(e,t)=>{e.lines.push(t.payload)},removeLine:(e,t)=>{var n=Bs(e).lines.findIndex(r=>r===t.payload);n!==-1&&e.lines.splice(n,1)}}}),{addDot:bbe,removeDot:vbe,addArea:ybe,removeArea:wbe,addLine:yre,removeLine:wre}=T$.actions,kre=T$.reducer,M$=g.createContext(void 0),Nre=e=>{var{children:t}=e,[n]=g.useState("".concat(zm("recharts"),"-clip")),r=XS();if(r==null)return null;var{x:i,y:a,width:s,height:o}=r;return g.createElement(M$.Provider,{value:n},g.createElement("defs",null,g.createElement("clipPath",{id:n},g.createElement("rect",{x:i,y:a,height:o,width:s}))),t)},Sre=()=>g.useContext(M$);function tT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function nT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?tT(Object(n),!0).forEach(function(r){jre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):tT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function jre(e,t,n){return(t=Cre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Cre(e){var t=Are(e,"string");return typeof t=="symbol"?t:t+""}function Are(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function W0(){return W0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W0.apply(null,arguments)}var Pre=(e,t)=>{var n;if(g.isValidElement(e))n=g.cloneElement(e,t);else if(typeof e=="function")n=e(t);else{if(!hr(t.x1)||!hr(t.y1)||!hr(t.x2)||!hr(t.y2))return null;n=g.createElement("line",W0({},t,{className:"recharts-reference-line-line"}))}return n},Dre=(e,t,n,r,i,a)=>{var{x:s,width:o}=a,c=i.y.apply(e,{position:n});if(xs(c)||t==="discard"&&!i.y.isInRange(c))return null;var u=[{x:s+o,y:c},{x:s,y:c}];return r==="left"?u.reverse():u},Tre=(e,t,n,r,i,a)=>{var{y:s,height:o}=a,c=i.x.apply(e,{position:n});if(xs(c)||t==="discard"&&!i.x.isInRange(c))return null;var u=[{x:c,y:s+o},{x:c,y:s}];return r==="top"?u.reverse():u},Mre=(e,t,n,r)=>{var i=e.map(a=>r.apply(a,{position:n}));return t==="discard"&&i.some(a=>!r.isInRange(a))?null:i},Ere=(e,t,n,r,i,a)=>{var{x:s,y:o,segment:c,ifOverflow:u}=a,d=bs(s),f=bs(o);return f?Dre(o,u,n,i,e,t):d?Tre(s,u,n,r,e,t):c!=null&&c.length===2?Mre(c,u,n,e):null};function Ore(e){var t=Kn();return g.useEffect(()=>(t(yre(e)),()=>{t(wre(e))})),null}function Ire(e){var{xAxisId:t,yAxisId:n,shape:r,className:i,ifOverflow:a}=e,s=ca(),o=Sre(),c=It(k=>ko(k,t)),u=It(k=>No(k,n)),d=It(k=>Gd(k,"xAxis",t,s)),f=It(k=>Gd(k,"yAxis",n,s)),h=bh();if(!o||!h||c==null||u==null||d==null||f==null)return null;var m=gre({x:d,y:f}),p=Ere(m,h,e.position,c.orientation,u.orientation,e);if(!p)return null;var[{x,y:v},{x:b,y}]=p,w=a==="hidden"?"url(#".concat(o,")"):void 0,N=nT(nT({clipPath:w},Hi(e)),{},{x1:x,y1:v,x2:b,y2:y}),j=pre({x1:x,y1:v,x2:b,y2:y});return g.createElement(js,{zIndex:e.zIndex},g.createElement(aa,{className:En("recharts-reference-line",i)},Pre(r,N),g.createElement(ZL,W0({},j,{lowerWidth:j.width,upperWidth:j.width}),g.createElement(e$,{label:e.label}),e.children)))}var _re={ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle",zIndex:gi.line};function f1(e){var t=Zr(e,_re);return g.createElement(g.Fragment,null,g.createElement(Ore,{yAxisId:t.yAxisId,xAxisId:t.xAxisId,ifOverflow:t.ifOverflow,x:t.x,y:t.y,segment:t.segment}),g.createElement(Ire,t))}f1.displayName="ReferenceLine";function E$(e,t){if(t<1)return[];if(t===1)return e;for(var n=[],r=0;r<e.length;r+=t){var i=e[r];i!==void 0&&n.push(i)}return n}function Lre(e,t,n){var r={width:e.width+t.width,height:e.height+t.height};return bre(r,n)}function $re(e,t,n){var r=n==="width",{x:i,y:a,width:s,height:o}=e;return t===1?{start:r?i:a,end:r?i+s:a+o}:{start:r?i+s:a+o,end:r?i:a}}function th(e,t,n,r,i){if(e*t<e*r||e*t>e*i)return!1;var a=n();return e*(t-e*a/2-r)>=0&&e*(t+e*a/2-i)<=0}function Fre(e,t){return E$(e,t+1)}function Rre(e,t,n,r,i){for(var a=(r||[]).slice(),{start:s,end:o}=t,c=0,u=1,d=s,f=function(){var p=r==null?void 0:r[c];if(p===void 0)return{v:E$(r,u)};var x=c,v,b=()=>(v===void 0&&(v=n(p,x)),v),y=p.coordinate,w=c===0||th(e,y,b,d,o);w||(c=0,d=s,u+=1),w&&(d=y+e*(b()/2+i),c+=u)},h;u<=a.length;)if(h=f(),h)return h.v;return[]}function Bre(e,t,n,r,i){var a=(r||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:c}=t,u=1;u<=s;u++){for(var d=(s-1)%u,f=o,h=!0,m=function(){var y=r[p],w=p,N,j=()=>(N===void 0&&(N=n(y,w)),N),k=y.coordinate,C=p===d||th(e,k,j,f,c);if(!C)return h=!1,1;C&&(f=k+e*(j()/2+i))},p=d;p<s&&!m();p+=u);if(h){for(var x=[],v=d;v<s;v+=u)x.push(r[v]);return x}}return[]}function rT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Fi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?rT(Object(n),!0).forEach(function(r){zre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):rT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function zre(e,t,n){return(t=Ure(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ure(e){var t=Wre(e,"string");return typeof t=="symbol"?t:t+""}function Wre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function Vre(e,t,n,r,i){for(var a=(r||[]).slice(),s=a.length,{start:o}=t,{end:c}=t,u=function(h){var m=a[h],p,x=()=>(p===void 0&&(p=n(m,h)),p);if(h===s-1){var v=e*(m.coordinate+e*x()/2-c);a[h]=m=Fi(Fi({},m),{},{tickCoord:v>0?m.coordinate-v*e:m.coordinate})}else a[h]=m=Fi(Fi({},m),{},{tickCoord:m.coordinate});if(m.tickCoord!=null){var b=th(e,m.tickCoord,x,o,c);b&&(c=m.tickCoord-e*(x()/2+i),a[h]=Fi(Fi({},m),{},{isShow:!0}))}},d=s-1;d>=0;d--)u(d);return a}function Hre(e,t,n,r,i,a){var s=(r||[]).slice(),o=s.length,{start:c,end:u}=t;if(a){var d=r[o-1],f=n(d,o-1),h=e*(d.coordinate+e*f/2-u);if(s[o-1]=d=Fi(Fi({},d),{},{tickCoord:h>0?d.coordinate-h*e:d.coordinate}),d.tickCoord!=null){var m=th(e,d.tickCoord,()=>f,c,u);m&&(u=d.tickCoord-e*(f/2+i),s[o-1]=Fi(Fi({},d),{},{isShow:!0}))}}for(var p=a?o-1:o,x=function(y){var w=s[y],N,j=()=>(N===void 0&&(N=n(w,y)),N);if(y===0){var k=e*(w.coordinate-e*j()/2-c);s[y]=w=Fi(Fi({},w),{},{tickCoord:k<0?w.coordinate-k*e:w.coordinate})}else s[y]=w=Fi(Fi({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var C=th(e,w.tickCoord,j,c,u);C&&(c=w.tickCoord+e*(j()/2+i),s[y]=Fi(Fi({},w),{},{isShow:!0}))}},v=0;v<p;v++)x(v);return s}function QS(e,t,n){var{tick:r,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:c,tickFormatter:u,unit:d,angle:f}=e;if(!i||!i.length||!r)return[];if(Lt(c)||eb.isSsr){var h;return(h=Fre(i,Lt(c)?c:0))!==null&&h!==void 0?h:[]}var m=[],p=o==="top"||o==="bottom"?"width":"height",x=d&&p==="width"?fm(d,{fontSize:t,letterSpacing:n}):{width:0,height:0},v=(w,N)=>{var j=typeof u=="function"?u(w.value,N):w.value;return p==="width"?Lre(fm(j,{fontSize:t,letterSpacing:n}),x,f):fm(j,{fontSize:t,letterSpacing:n})[p]},b=i.length>=2?Ui(i[1].coordinate-i[0].coordinate):1,y=$re(a,b,p);return c==="equidistantPreserveStart"?Rre(b,y,v,i,s):c==="equidistantPreserveEnd"?Bre(b,y,v,i,s):(c==="preserveStart"||c==="preserveStartEnd"?m=Hre(b,y,v,i,s,c==="preserveStartEnd"):m=Vre(b,y,v,i,s),m.filter(w=>w.isShow))}var qre=e=>{var{ticks:t,label:n,labelGapWithTick:r=5,tickSize:i=0,tickMargin:a=0}=e,s=0;if(t){Array.from(t).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>s&&(s=f.width)}});var o=n?n.getBoundingClientRect().width:0,c=i+a,u=s+c+o+(n?r:0);return Math.round(u)}return 0},Kre=["axisLine","width","height","className","hide","ticks","axisType"];function Gre(e,t){if(e==null)return{};var n,r,i=Yre(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Yre(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Su(){return Su=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Su.apply(null,arguments)}function iT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Gr(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iT(Object(n),!0).forEach(function(r){Xre(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Xre(e,t,n){return(t=Qre(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Qre(e){var t=Zre(e,"string");return typeof t=="symbol"?t:t+""}function Zre(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var rl={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:gi.axis};function Jre(e){var{x:t,y:n,width:r,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:c}=e;if(!o)return null;var u=Gr(Gr(Gr({},c),gs(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var d=+(a==="top"&&!s||a==="bottom"&&s);u=Gr(Gr({},u),{},{x1:t,y1:n+d*i,x2:t+r,y2:n+d*i})}else{var f=+(a==="left"&&!s||a==="right"&&s);u=Gr(Gr({},u),{},{x1:t+f*r,y1:n,x2:t+f*r,y2:n+i})}return g.createElement("line",Su({},u,{className:En("recharts-cartesian-axis-line",vu(o,"className"))}))}function eie(e,t,n,r,i,a,s,o,c){var u,d,f,h,m,p,x=o?-1:1,v=e.tickSize||s,b=Lt(e.tickCoord)?e.tickCoord:e.coordinate;switch(a){case"top":u=d=e.coordinate,h=n+ +!o*i,f=h-x*v,p=f-x*c,m=b;break;case"left":f=h=e.coordinate,d=t+ +!o*r,u=d-x*v,m=u-x*c,p=b;break;case"right":f=h=e.coordinate,d=t+ +o*r,u=d+x*v,m=u+x*c,p=b;break;default:u=d=e.coordinate,h=n+ +o*i,f=h+x*v,p=f+x*c,m=b;break}return{line:{x1:u,y1:f,x2:d,y2:h},tick:{x:m,y:p}}}function tie(e,t){switch(e){case"left":return t?"start":"end";case"right":return t?"end":"start";default:return"middle"}}function nie(e,t){switch(e){case"left":case"right":return"middle";case"top":return t?"start":"end";default:return t?"end":"start"}}function rie(e){var{option:t,tickProps:n,value:r}=e,i,a=En(n.className,"recharts-cartesian-axis-tick-value");if(g.isValidElement(t))i=g.cloneElement(t,Gr(Gr({},n),{},{className:a}));else if(typeof t=="function")i=t(Gr(Gr({},n),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof t!="boolean"&&(s=En(s,t==null?void 0:t.className)),i=g.createElement(xb,Su({},n,{className:s}),r)}return i}var iie=g.forwardRef((e,t)=>{var{ticks:n=[],tick:r,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:c,tickTextProps:u,orientation:d,mirror:f,x:h,y:m,width:p,height:x,tickSize:v,tickMargin:b,fontSize:y,letterSpacing:w,getTicksConfig:N,events:j,axisType:k}=e,C=QS(Gr(Gr({},N),{},{ticks:n}),y,w),E=tie(d,f),R=nie(d,f),T=gs(N),$=Bd(r),I={};typeof i=="object"&&(I=i);var re=Gr(Gr({},T),{},{fill:"none"},I),ce=C.map(fe=>Gr({entry:fe},eie(fe,h,m,p,x,d,v,f,b))),ve=ce.map(fe=>{var{entry:Z,line:xe}=fe;return g.createElement(aa,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},i&&g.createElement("line",Su({},re,xe,{className:En("recharts-cartesian-axis-tick-line",vu(i,"className"))})))}),Oe=ce.map((fe,Z)=>{var{entry:xe,tick:_}=fe,D=Gr(Gr(Gr(Gr({textAnchor:E,verticalAnchor:R},T),{},{stroke:"none",fill:a},$),_),{},{index:Z,payload:xe,visibleTicksCount:C.length,tickFormatter:s,padding:c},u);return g.createElement(aa,Su({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(xe.value,"-").concat(xe.coordinate,"-").concat(xe.tickCoord)},fN(j,xe,Z)),r&&g.createElement(rie,{option:r,tickProps:D,value:"".concat(typeof s=="function"?s(xe.value,Z):xe.value).concat(o||"")}))});return g.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(k,"-ticks")},Oe.length>0&&g.createElement(js,{zIndex:gi.label},g.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(k,"-tick-labels"),ref:t},Oe)),ve.length>0&&g.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(k,"-tick-lines")},ve))}),aie=g.forwardRef((e,t)=>{var{axisLine:n,width:r,height:i,className:a,hide:s,ticks:o,axisType:c}=e,u=Gre(e,Kre),[d,f]=g.useState(""),[h,m]=g.useState(""),p=g.useRef(null);g.useImperativeHandle(t,()=>({getCalculatedWidth:()=>{var v;return qre({ticks:p.current,label:(v=e.labelRef)===null||v===void 0?void 0:v.current,labelGapWithTick:5,tickSize:e.tickSize,tickMargin:e.tickMargin})}}));var x=g.useCallback(v=>{if(v){var b=v.getElementsByClassName("recharts-cartesian-axis-tick-value");p.current=b;var y=b[0];if(y){var w=window.getComputedStyle(y),N=w.fontSize,j=w.letterSpacing;(N!==d||j!==h)&&(f(N),m(j))}}},[d,h]);return s||r!=null&&r<=0||i!=null&&i<=0?null:g.createElement(js,{zIndex:e.zIndex},g.createElement(aa,{className:En("recharts-cartesian-axis",a)},g.createElement(Jre,{x:e.x,y:e.y,width:r,height:i,orientation:e.orientation,mirror:e.mirror,axisLine:n,otherSvgProps:gs(e)}),g.createElement(iie,{ref:x,axisType:c,events:u,fontSize:d,getTicksConfig:e,height:e.height,letterSpacing:h,mirror:e.mirror,orientation:e.orientation,padding:e.padding,stroke:e.stroke,tick:e.tick,tickFormatter:e.tickFormatter,tickLine:e.tickLine,tickMargin:e.tickMargin,tickSize:e.tickSize,tickTextProps:e.tickTextProps,ticks:o,unit:e.unit,width:e.width,x:e.x,y:e.y}),g.createElement(ZL,{x:e.x,y:e.y,width:e.width,height:e.height,lowerWidth:e.width,upperWidth:e.width},g.createElement(e$,{label:e.label,labelRef:e.labelRef}),e.children)))}),ZS=g.forwardRef((e,t)=>{var n=Zr(e,rl);return g.createElement(aie,Su({},n,{ref:t}))});ZS.displayName="CartesianAxis";var sie=["x1","y1","x2","y2","key"],oie=["offset"],lie=["xAxisId","yAxisId"],cie=["xAxisId","yAxisId"];function aT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Bi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?aT(Object(n),!0).forEach(function(r){uie(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):aT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uie(e,t,n){return(t=die(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function die(e){var t=fie(e,"string");return typeof t=="symbol"?t:t+""}function fie(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function tu(){return tu=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},tu.apply(null,arguments)}function V0(e,t){if(e==null)return{};var n,r,i=mie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hie=e=>{var{fill:t}=e;if(!t||t==="none")return null;var{fillOpacity:n,x:r,y:i,width:a,height:s,ry:o}=e;return g.createElement("rect",{x:r,y:i,ry:o,width:a,height:s,stroke:"none",fill:t,fillOpacity:n,className:"recharts-cartesian-grid-bg"})};function O$(e){var{option:t,lineItemProps:n}=e,r;if(g.isValidElement(t))r=g.cloneElement(t,n);else if(typeof t=="function")r=t(n);else{var i,{x1:a,y1:s,x2:o,y2:c,key:u}=n,d=V0(n,sie),f=(i=gs(d))!==null&&i!==void 0?i:{},{offset:h}=f,m=V0(f,oie);r=g.createElement("line",tu({},m,{x1:a,y1:s,x2:o,y2:c,fill:"none",key:u}))}return r}function pie(e){var{x:t,width:n,horizontal:r=!0,horizontalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=V0(e,lie),c=i.map((u,d)=>{var f=Bi(Bi({},o),{},{x1:t,y1:u,x2:t+n,y2:u,key:"line-".concat(d),index:d});return g.createElement(O$,{key:"line-".concat(d),option:r,lineItemProps:f})});return g.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function gie(e){var{y:t,height:n,vertical:r=!0,verticalPoints:i}=e;if(!r||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=e,o=V0(e,cie),c=i.map((u,d)=>{var f=Bi(Bi({},o),{},{x1:u,y1:t,x2:u,y2:t+n,key:"line-".concat(d),index:d});return g.createElement(O$,{option:r,lineItemProps:f,key:"line-".concat(d)})});return g.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function xie(e){var{horizontalFill:t,fillOpacity:n,x:r,y:i,width:a,height:s,horizontalPoints:o,horizontal:c=!0}=e;if(!c||!t||!t.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+s-f:u[h+1]-f;if(p<=0)return null;var x=h%t.length;return g.createElement("rect",{key:"react-".concat(h),y:f,x:r,height:p,width:a,stroke:"none",fill:t[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function bie(e){var{vertical:t=!0,verticalFill:n,fillOpacity:r,x:i,y:a,width:s,height:o,verticalPoints:c}=e;if(!t||!n||!n.length)return null;var u=c.map(f=>Math.round(f+i-i)).sort((f,h)=>f-h);i!==u[0]&&u.unshift(0);var d=u.map((f,h)=>{var m=!u[h+1],p=m?i+s-f:u[h+1]-f;if(p<=0)return null;var x=h%n.length;return g.createElement("rect",{key:"react-".concat(h),x:f,y:a,width:p,height:o,stroke:"none",fill:n[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return g.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var vie=(e,t)=>{var{xAxis:n,width:r,height:i,offset:a}=e;return e_(QS(Bi(Bi(Bi({},rl),n),{},{ticks:t_(n),viewBox:{x:0,y:0,width:r,height:i}})),a.left,a.left+a.width,t)},yie=(e,t)=>{var{yAxis:n,width:r,height:i,offset:a}=e;return e_(QS(Bi(Bi(Bi({},rl),n),{},{ticks:t_(n),viewBox:{x:0,y:0,width:r,height:i}})),a.top,a.top+a.height,t)},wie={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:gi.grid};function vo(e){var t=MN(),n=EN(),r=m_(),i=Bi(Bi({},Zr(e,wie)),{},{x:Lt(e.x)?e.x:r.left,y:Lt(e.y)?e.y:r.top,width:Lt(e.width)?e.width:r.width,height:Lt(e.height)?e.height:r.height}),{xAxisId:a,yAxisId:s,x:o,y:c,width:u,height:d,syncWithTicks:f,horizontalValues:h,verticalValues:m}=i,p=ca(),x=It(R=>iD(R,"xAxis",a,p)),v=It(R=>iD(R,"yAxis",s,p));if(!xo(u)||!xo(d)||!Lt(o)||!Lt(c))return null;var b=i.verticalCoordinatesGenerator||vie,y=i.horizontalCoordinatesGenerator||yie,{horizontalPoints:w,verticalPoints:N}=i;if((!w||!w.length)&&typeof y=="function"){var j=h&&h.length,k=y({yAxis:v?Bi(Bi({},v),{},{ticks:j?h:v.ticks}):void 0,width:t??u,height:n??d,offset:r},j?!0:f);p0(Array.isArray(k),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof k,"]")),Array.isArray(k)&&(w=k)}if((!N||!N.length)&&typeof b=="function"){var C=m&&m.length,E=b({xAxis:x?Bi(Bi({},x),{},{ticks:C?m:x.ticks}):void 0,width:t??u,height:n??d,offset:r},C?!0:f);p0(Array.isArray(E),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof E,"]")),Array.isArray(E)&&(N=E)}return g.createElement(js,{zIndex:i.zIndex},g.createElement("g",{className:"recharts-cartesian-grid"},g.createElement(hie,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),g.createElement(xie,tu({},i,{horizontalPoints:w})),g.createElement(bie,tu({},i,{verticalPoints:N})),g.createElement(pie,tu({},i,{offset:r,horizontalPoints:w,xAxis:x,yAxis:v})),g.createElement(gie,tu({},i,{offset:r,verticalPoints:N,xAxis:x,yAxis:v}))))}vo.displayName="CartesianGrid";var kie={},I$=ja({name:"errorBars",initialState:kie,reducers:{addErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]||(e[n]=[]),e[n].push(r)},replaceErrorBar:(e,t)=>{var{itemId:n,prev:r,next:i}=t.payload;e[n]&&(e[n]=e[n].map(a=>a.dataKey===r.dataKey&&a.direction===r.direction?i:a))},removeErrorBar:(e,t)=>{var{itemId:n,errorBar:r}=t.payload;e[n]&&(e[n]=e[n].filter(i=>i.dataKey!==r.dataKey||i.direction!==r.direction))}}}),{addErrorBar:kbe,replaceErrorBar:Nbe,removeErrorBar:Sbe}=I$.actions,Nie=I$.reducer,Sie=["children"];function jie(e,t){if(e==null)return{};var n,r,i=Cie(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Cie(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Aie={data:[],xAxisId:"xAxis-0",yAxisId:"yAxis-0",dataPointFormatter:()=>({x:0,y:0,value:0}),errorBarOffset:0},Pie=g.createContext(Aie);function Die(e){var{children:t}=e,n=jie(e,Sie);return g.createElement(Pie.Provider,{value:n},t)}function _$(e,t){var n,r,i=It(u=>ko(u,e)),a=It(u=>No(u,t)),s=(n=i==null?void 0:i.allowDataOverflow)!==null&&n!==void 0?n:di.allowDataOverflow,o=(r=a==null?void 0:a.allowDataOverflow)!==null&&r!==void 0?r:fi.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function Tie(e){var{xAxisId:t,yAxisId:n,clipPathId:r}=e,i=XS(),{needClipX:a,needClipY:s,needClip:o}=_$(t,n);if(!o||!i)return null;var{x:c,y:u,width:d,height:f}=i;return g.createElement("clipPath",{id:"clipPath-".concat(r)},g.createElement("rect",{x:a?c:c-d/2,y:s?u:u-f/2,width:a?d:d*2,height:s?f:f*2}))}var L$=(e,t,n,r)=>dL(e,"xAxis",t,r),$$=(e,t,n,r)=>uL(e,"xAxis",t,r),F$=(e,t,n,r)=>dL(e,"yAxis",n,r),R$=(e,t,n,r)=>uL(e,"yAxis",n,r),Mie=Be([Wn,L$,F$,$$,R$],(e,t,n,r,i)=>Sc(e,"xAxis")?h0(t,r,!1):h0(n,i,!1)),Eie=(e,t,n,r,i)=>i;function Oie(e){return e.type==="line"}var Iie=Be([V4,Eie],(e,t)=>e.filter(Oie).find(n=>n.id===t)),_ie=Be([Wn,L$,F$,$$,R$,Iie,Mie,sS],(e,t,n,r,i,a,s,o)=>{var{chartData:c,dataStartIndex:u,dataEndIndex:d}=o;if(!(a==null||t==null||n==null||r==null||i==null||r.length===0||i.length===0||s==null||e!=="horizontal"&&e!=="vertical")){var{dataKey:f,data:h}=a,m;if(h!=null&&h.length>0?m=h:m=c==null?void 0:c.slice(u,d+1),m!=null)return Cae({layout:e,xAxis:t,yAxis:n,xAxisTicks:r,yAxisTicks:i,dataKey:f,bandSize:s,displayedData:m})}});function Lie(e){var t=Bd(e),n=3,r=2;if(t!=null){var{r:i,strokeWidth:a}=t,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=n),(Number.isNaN(o)||o<0)&&(o=r),{r:s,strokeWidth:o}}return{r:n,strokeWidth:r}}var $ie={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wh=g;function Fie(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Rie=typeof Object.is=="function"?Object.is:Fie,Bie=Wh.useSyncExternalStore,zie=Wh.useRef,Uie=Wh.useEffect,Wie=Wh.useMemo,Vie=Wh.useDebugValue;$ie.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var a=zie(null);if(a.current===null){var s={hasValue:!1,value:null};a.current=s}else s=a.current;a=Wie(function(){function c(m){if(!u){if(u=!0,d=m,m=r(m),i!==void 0&&s.hasValue){var p=s.value;if(i(p,m))return f=p}return f=m}if(p=f,Rie(d,m))return p;var x=r(m);return i!==void 0&&i(p,x)?(d=m,p):(d=m,f=x)}var u=!1,d,f,h=n===void 0?null:n;return[function(){return c(t())},h===null?void 0:function(){return c(h())}]},[t,n,r,i]);var o=Bie(e,a[0],a[1]);return Uie(function(){s.hasValue=!0,s.value=o},[o]),Vie(o),o};function Hie(e){e()}function qie(){let e=null,t=null;return{clear(){e=null,t=null},notify(){Hie(()=>{let n=e;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=e;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const i=t={callback:n,next:null,prev:t};return i.prev?i.prev.next=i:e=i,function(){!r||e===null||(r=!1,i.next?i.next.prev=i.prev:t=i.prev,i.prev?i.prev.next=i.next:e=i.next)}}}}var sT={notify(){},get:()=>[]};function Kie(e,t){let n,r=sT,i=0,a=!1;function s(x){d();const v=r.subscribe(x);let b=!1;return()=>{b||(b=!0,v(),f())}}function o(){r.notify()}function c(){p.onStateChange&&p.onStateChange()}function u(){return a}function d(){i++,n||(n=e.subscribe(c),r=qie())}function f(){i--,n&&i===0&&(n(),n=void 0,r.clear(),r=sT)}function h(){a||(a=!0,d())}function m(){a&&(a=!1,f())}const p={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:u,trySubscribe:h,tryUnsubscribe:m,getListeners:()=>r};return p}var Gie=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Yie=Gie(),Xie=()=>typeof navigator<"u"&&navigator.product==="ReactNative",Qie=Xie(),Zie=()=>Yie||Qie?g.useLayoutEffect:g.useEffect,Jie=Zie();function oT(e,t){return e===t?e!==0||t!==0||1/e===1/t:e!==e&&t!==t}function eae(e,t){if(oT(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;const n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(!Object.prototype.hasOwnProperty.call(t,n[i])||!oT(e[n[i]],t[n[i]]))return!1;return!0}var zv=Symbol.for("react-redux-context"),Uv=typeof globalThis<"u"?globalThis:{};function tae(){if(!g.createContext)return{};const e=Uv[zv]??(Uv[zv]=new Map);let t=e.get(g.createContext);return t||(t=g.createContext(null),e.set(g.createContext,t)),t}var nae=tae();function rae(e){const{children:t,context:n,serverState:r,store:i}=e,a=g.useMemo(()=>{const c=Kie(i);return{store:i,subscription:c,getServerState:r?()=>r:void 0}},[i,r]),s=g.useMemo(()=>i.getState(),[i]);Jie(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const o=n||nae;return g.createElement(o.Provider,{value:a},t)}var iae=rae,aae=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function sae(e,t){return e==null&&t==null?!0:typeof e=="number"&&typeof t=="number"?e===t||e!==e&&t!==t:e===t}function JS(e,t){var n=new Set([...Object.keys(e),...Object.keys(t)]);for(var r of n)if(aae.has(r)){if(e[r]==null&&t[r]==null)continue;if(!eae(e[r],t[r]))return!1}else if(!sae(e[r],t[r]))return!1;return!0}var oae=["id"],lae=["type","layout","connectNulls","needClip","shape"],cae=["activeDot","animateNewValues","animationBegin","animationDuration","animationEasing","connectNulls","dot","hide","isAnimationActive","label","legendType","xAxisId","yAxisId","id"];function nh(){return nh=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},nh.apply(null,arguments)}function lT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function co(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?lT(Object(n),!0).forEach(function(r){uae(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function uae(e,t,n){return(t=dae(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dae(e){var t=fae(e,"string");return typeof t=="symbol"?t:t+""}function fae(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function e2(e,t){if(e==null)return{};var n,r,i=mae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function mae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var hae=e=>{var{dataKey:t,name:n,stroke:r,legendType:i,hide:a}=e;return[{inactive:a,dataKey:t,type:i,color:r,value:Hx(n,t),payload:e}]},pae=g.memo(e=>{var{dataKey:t,data:n,stroke:r,strokeWidth:i,fill:a,name:s,hide:o,unit:c,tooltipType:u,id:d}=e,f={dataDefinedOnItem:n,positions:void 0,settings:{stroke:r,strokeWidth:i,fill:a,dataKey:t,nameKey:void 0,name:Hx(s,t),hide:o,type:u,color:r,unit:c,graphicalItemId:d}};return g.createElement(N$,{tooltipEntrySettings:f})}),B$=(e,t)=>"".concat(t,"px ").concat(e-t,"px");function gae(e,t){for(var n=e.length%2!==0?[...e,0]:e,r=[],i=0;i<t;++i)r=[...r,...n];return r}var xae=(e,t,n)=>{var r=n.reduce((f,h)=>f+h);if(!r)return B$(t,e);for(var i=Math.floor(e/r),a=e%r,s=t-e,o=[],c=0,u=0;c<n.length;u+=n[c],++c)if(u+n[c]>a){o=[...n.slice(0,c),a-u];break}var d=o.length%2===0?[0,s]:[s];return[...gae(n,i),...o,...d].map(f=>"".concat(f,"px")).join(", ")};function bae(e){var{clipPathId:t,points:n,props:r}=e,{dot:i,dataKey:a,needClip:s}=r,{id:o}=r,c=e2(r,oae),u=gs(c);return g.createElement(Vne,{points:n,dot:i,className:"recharts-line-dots",dotClassName:"recharts-line-dot",dataKey:a,baseProps:u,needClip:s,clipPathId:t})}function vae(e){var{showLabels:t,children:n,points:r}=e,i=g.useMemo(()=>r==null?void 0:r.map(a=>{var s,o,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return co(co({},c),{},{value:a.value,payload:a.payload,viewBox:c,parentViewBox:void 0,fill:void 0})}),[r]);return g.createElement(ete,{value:t?i:void 0},n)}function cT(e){var{clipPathId:t,pathRef:n,points:r,strokeDasharray:i,props:a}=e,{type:s,layout:o,connectNulls:c,needClip:u,shape:d}=a,f=e2(a,lae),h=co(co({},Hi(f)),{},{fill:"none",className:"recharts-line-curve",clipPath:u?"url(#clipPath-".concat(t,")"):void 0,points:r,type:s,layout:o,connectNulls:c,strokeDasharray:i??a.strokeDasharray});return g.createElement(g.Fragment,null,(r==null?void 0:r.length)>1&&g.createElement(k$,nh({shapeType:"curve",option:d},h,{pathRef:n})),g.createElement(bae,{points:r,clipPathId:t,props:a}))}function yae(e){try{return e&&e.getTotalLength&&e.getTotalLength()||0}catch{return 0}}function wae(e){var{clipPathId:t,props:n,pathRef:r,previousPointsRef:i,longestAnimatedLengthRef:a}=e,{points:s,strokeDasharray:o,isAnimationActive:c,animationBegin:u,animationDuration:d,animationEasing:f,animateNewValues:h,width:m,height:p,onAnimationEnd:x,onAnimationStart:v}=n,b=i.current,y=nb(s,"recharts-line-"),w=g.useRef(y),[N,j]=g.useState(!1),k=!N,C=g.useCallback(()=>{typeof x=="function"&&x(),j(!1)},[x]),E=g.useCallback(()=>{typeof v=="function"&&v(),j(!0)},[v]),R=yae(r.current),T=g.useRef(0);w.current!==y&&(T.current=a.current,w.current=y);var $=T.current;return g.createElement(vae,{points:s,showLabels:k},n.children,g.createElement(tb,{animationId:y,begin:u,duration:d,isActive:c,easing:f,onAnimationEnd:C,onAnimationStart:E,key:y},I=>{var re=zi($,R+$,I),ce=Math.min(re,R),ve;if(c)if(o){var Oe="".concat(o).split(/[,\s]+/gim).map(xe=>parseFloat(xe));ve=xae(ce,R,Oe)}else ve=B$(R,ce);else ve=o==null?void 0:String(o);if(I>0&&R>0&&(i.current=s,a.current=Math.max(a.current,ce)),b){var fe=b.length/s.length,Z=I===1?s:s.map((xe,_)=>{var D=Math.floor(_*fe);if(b[D]){var ue=b[D];return co(co({},xe),{},{x:zi(ue.x,xe.x,I),y:zi(ue.y,xe.y,I)})}return h?co(co({},xe),{},{x:zi(m*2,xe.x,I),y:zi(p/2,xe.y,I)}):co(co({},xe),{},{x:xe.x,y:xe.y})});return i.current=Z,g.createElement(cT,{props:n,points:Z,clipPathId:t,pathRef:r,strokeDasharray:ve})}return g.createElement(cT,{props:n,points:s,clipPathId:t,pathRef:r,strokeDasharray:ve})}),g.createElement(s$,{label:n.label}))}function kae(e){var{clipPathId:t,props:n}=e,r=g.useRef(null),i=g.useRef(0),a=g.useRef(null);return g.createElement(wae,{props:n,clipPathId:t,previousPointsRef:r,longestAnimatedLengthRef:i,pathRef:a})}var Nae=(e,t)=>{var n,r;return{x:(n=e.x)!==null&&n!==void 0?n:void 0,y:(r=e.y)!==null&&r!==void 0?r:void 0,value:e.value,errorVal:or(e.payload,t)}};class Sae extends g.Component{render(){var{hide:t,dot:n,points:r,className:i,xAxisId:a,yAxisId:s,top:o,left:c,width:u,height:d,id:f,needClip:h,zIndex:m}=this.props;if(t)return null;var p=En("recharts-line",i),x=f,{r:v,strokeWidth:b}=Lie(n),y=y$(n),w=v*2+b,N=h?"url(#clipPath-".concat(y?"":"dots-").concat(x,")"):void 0;return g.createElement(js,{zIndex:m},g.createElement(aa,{className:p},h&&g.createElement("defs",null,g.createElement(Tie,{clipPathId:x,xAxisId:a,yAxisId:s}),!y&&g.createElement("clipPath",{id:"clipPath-dots-".concat(x)},g.createElement("rect",{x:c-w/2,y:o-w/2,width:u+w,height:d+w}))),g.createElement(Die,{xAxisId:a,yAxisId:s,data:r,dataPointFormatter:Nae,errorBarOffset:0},g.createElement(kae,{props:this.props,clipPathId:x}))),g.createElement(ure,{activeDot:this.props.activeDot,points:r,mainColor:this.props.stroke,itemDataKey:this.props.dataKey,clipPath:N}))}}var z$={activeDot:!0,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!0,fill:"#fff",hide:!1,isAnimationActive:"auto",label:!1,legendType:"line",stroke:"#3182bd",strokeWidth:1,xAxisId:0,yAxisId:0,zIndex:gi.line,type:"linear"};function jae(e){var t=Zr(e,z$),{activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:c,hide:u,isAnimationActive:d,label:f,legendType:h,xAxisId:m,yAxisId:p,id:x}=t,v=e2(t,cae),{needClip:b}=_$(m,p),y=XS(),w=vh(),N=ca(),j=It(T=>_ie(T,m,p,N,x));if(w!=="horizontal"&&w!=="vertical"||j==null||y==null)return null;var{height:k,width:C,x:E,y:R}=y;return g.createElement(Sae,nh({},v,{id:x,connectNulls:o,dot:c,activeDot:n,animateNewValues:r,animationBegin:i,animationDuration:a,animationEasing:s,isAnimationActive:d,hide:u,label:f,legendType:h,xAxisId:m,yAxisId:p,points:j,layout:w,height:k,width:C,left:E,top:R,needClip:b}))}function Cae(e){var{layout:t,xAxis:n,yAxis:r,xAxisTicks:i,yAxisTicks:a,dataKey:s,bandSize:o,displayedData:c}=e;return c.map((u,d)=>{var f=or(u,s);if(t==="horizontal"){var h=gA({axis:n,ticks:i,bandSize:o,entry:u,index:d}),m=ri(f)?null:r.scale(f);return{x:h,y:m,value:f,payload:u}}var p=ri(f)?null:n.scale(f),x=gA({axis:r,ticks:a,bandSize:o,entry:u,index:d});return p==null||x==null?null:{x:p,y:x,value:f,payload:u}}).filter(Boolean)}function Aae(e){var t=Zr(e,z$),n=ca();return g.createElement(S$,{id:t.id,type:"line"},r=>g.createElement(g.Fragment,null,g.createElement(Yte,{legendPayload:hae(t)}),g.createElement(pae,{dataKey:t.dataKey,data:t.data,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,unit:t.unit,tooltipType:t.tooltipType,id:r}),g.createElement(cne,{type:"line",id:r,data:t.data,xAxisId:t.xAxisId,yAxisId:t.yAxisId,zAxisId:0,dataKey:t.dataKey,hide:t.hide,isPanorama:n}),g.createElement(jae,nh({},t,{id:r}))))}var ta=g.memo(Aae,JS);ta.displayName="Line";var Pae=["domain","range"],Dae=["domain","range"];function uT(e,t){if(e==null)return{};var n,r,i=Tae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function dT(e,t){return e===t?!0:Array.isArray(e)&&e.length===2&&Array.isArray(t)&&t.length===2?e[0]===t[0]&&e[1]===t[1]:!1}function U$(e,t){if(e===t)return!0;var{domain:n,range:r}=e,i=uT(e,Pae),{domain:a,range:s}=t,o=uT(t,Dae);return!dT(n,a)||!dT(r,s)?!1:JS(i,o)}var Mae=["dangerouslySetInnerHTML","ticks","scale"],Eae=["id","scale"];function m1(){return m1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},m1.apply(null,arguments)}function fT(e,t){if(e==null)return{};var n,r,i=Oae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Oae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function Iae(e){var t=Kn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Yne(e)):n.current!==e&&t(Xne({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(Qne(n.current)),n.current=null)},[t]),null}var _ae=e=>{var{xAxisId:t,className:n}=e,r=It(a_),i=ca(),a="xAxis",s=It(b=>cL(b,a,t,i)),o=It(b=>MQ(b,t)),c=It(b=>$Q(b,t)),u=It(b=>z4(b,t));if(o==null||c==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:h}=e,m=fT(e,Mae),{id:p,scale:x}=u,v=fT(u,Eae);return g.createElement(ZS,m1({},m,v,{x:c.x,y:c.y,width:o.width,height:o.height,className:En("recharts-".concat(a," ").concat(a),n),viewBox:r,ticks:s,axisType:a}))},Lae={allowDataOverflow:di.allowDataOverflow,allowDecimals:di.allowDecimals,allowDuplicatedCategory:di.allowDuplicatedCategory,angle:di.angle,axisLine:rl.axisLine,height:di.height,hide:!1,includeHidden:di.includeHidden,interval:di.interval,minTickGap:di.minTickGap,mirror:di.mirror,orientation:di.orientation,padding:di.padding,reversed:di.reversed,scale:di.scale,tick:di.tick,tickCount:di.tickCount,tickLine:rl.tickLine,tickSize:rl.tickSize,type:di.type,xAxisId:0},$ae=e=>{var t=Zr(e,Lae);return g.createElement(g.Fragment,null,g.createElement(Iae,{allowDataOverflow:t.allowDataOverflow,allowDecimals:t.allowDecimals,allowDuplicatedCategory:t.allowDuplicatedCategory,angle:t.angle,dataKey:t.dataKey,domain:t.domain,height:t.height,hide:t.hide,id:t.xAxisId,includeHidden:t.includeHidden,interval:t.interval,minTickGap:t.minTickGap,mirror:t.mirror,name:t.name,orientation:t.orientation,padding:t.padding,reversed:t.reversed,scale:t.scale,tick:t.tick,tickCount:t.tickCount,tickFormatter:t.tickFormatter,ticks:t.ticks,type:t.type,unit:t.unit}),g.createElement(_ae,t))},yo=g.memo($ae,U$);yo.displayName="XAxis";var Fae=["dangerouslySetInnerHTML","ticks","scale"],Rae=["id","scale"];function h1(){return h1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},h1.apply(null,arguments)}function mT(e,t){if(e==null)return{};var n,r,i=Bae(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Bae(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function zae(e){var t=Kn(),n=g.useRef(null);return g.useLayoutEffect(()=>{n.current===null?t(Zne(e)):n.current!==e&&t(Jne({prev:n.current,next:e})),n.current=e},[e,t]),g.useLayoutEffect(()=>()=>{n.current&&(t(ere(n.current)),n.current=null)},[t]),null}var Uae=e=>{var{yAxisId:t,className:n,width:r,label:i}=e,a=g.useRef(null),s=g.useRef(null),o=It(a_),c=ca(),u=Kn(),d="yAxis",f=It(k=>BQ(k,t)),h=It(k=>RQ(k,t)),m=It(k=>cL(k,d,t,c)),p=It(k=>U4(k,t));if(g.useLayoutEffect(()=>{if(!(r!=="auto"||!f||qS(i)||g.isValidElement(i)||p==null)){var k=a.current;if(k){var C=k.getCalculatedWidth();Math.round(f.width)!==Math.round(C)&&u(tre({id:t,width:C}))}}},[m,f,u,i,t,r,p]),f==null||h==null||p==null)return null;var{dangerouslySetInnerHTML:x,ticks:v,scale:b}=e,y=mT(e,Fae),{id:w,scale:N}=p,j=mT(p,Rae);return g.createElement(ZS,h1({},y,j,{ref:a,labelRef:s,x:h.x,y:h.y,tickTextProps:r==="auto"?{width:void 0}:{width:r},width:f.width,height:f.height,className:En("recharts-".concat(d," ").concat(d),n),viewBox:o,ticks:m,axisType:d}))},Wae={allowDataOverflow:fi.allowDataOverflow,allowDecimals:fi.allowDecimals,allowDuplicatedCategory:fi.allowDuplicatedCategory,angle:fi.angle,axisLine:rl.axisLine,hide:!1,includeHidden:fi.includeHidden,interval:fi.interval,minTickGap:fi.minTickGap,mirror:fi.mirror,orientation:fi.orientation,padding:fi.padding,reversed:fi.reversed,scale:fi.scale,tick:fi.tick,tickCount:fi.tickCount,tickLine:rl.tickLine,tickSize:rl.tickSize,type:fi.type,width:fi.width,yAxisId:0},Vae=e=>{var t=Zr(e,Wae);return g.createElement(g.Fragment,null,g.createElement(zae,{interval:t.interval,id:t.yAxisId,scale:t.scale,type:t.type,domain:t.domain,allowDataOverflow:t.allowDataOverflow,dataKey:t.dataKey,allowDuplicatedCategory:t.allowDuplicatedCategory,allowDecimals:t.allowDecimals,tickCount:t.tickCount,padding:t.padding,includeHidden:t.includeHidden,reversed:t.reversed,ticks:t.ticks,width:t.width,orientation:t.orientation,mirror:t.mirror,hide:t.hide,unit:t.unit,name:t.name,angle:t.angle,minTickGap:t.minTickGap,tick:t.tick,tickFormatter:t.tickFormatter}),g.createElement(Uae,t))},wo=g.memo(Vae,U$);wo.displayName="YAxis";var Hae=(e,t)=>t,t2=Be([Hae,Wn,F4,si,AL,kl,nJ,vi],cJ),n2=e=>{var t=e.currentTarget.getBoundingClientRect(),n=t.width/e.currentTarget.offsetWidth,r=t.height/e.currentTarget.offsetHeight;return{chartX:Math.round((e.clientX-t.left)/n),chartY:Math.round((e.clientY-t.top)/r)}},W$=vs("mouseClick"),V$=gh();V$.startListening({actionCreator:W$,effect:(e,t)=>{var n=e.payload,r=t2(t.getState(),n2(n));(r==null?void 0:r.activeIndex)!=null&&t.dispatch(eZ({activeIndex:r.activeIndex,activeDataKey:void 0,activeCoordinate:r.activeCoordinate}))}});var p1=vs("mouseMove"),H$=gh(),Hp=null;H$.startListening({actionCreator:p1,effect:(e,t)=>{var n=e.payload;Hp!==null&&cancelAnimationFrame(Hp);var r=n2(n);Hp=requestAnimationFrame(()=>{var i=t.getState(),a=LS(i,i.tooltip.settings.shared);if(a==="axis"){var s=t2(i,r);(s==null?void 0:s.activeIndex)!=null?t.dispatch(vL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):t.dispatch(bL())}Hp=null})}});function qae(e,t){return t instanceof HTMLElement?"HTMLElement <".concat(t.tagName,' class="').concat(t.className,'">'):t===window?"global.window":e==="children"&&typeof t=="object"&&t!==null?"<<CHILDREN>>":t}var hT={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},q$=ja({name:"rootProps",initialState:hT,reducers:{updateOptions:(e,t)=>{var n;e.accessibilityLayer=t.payload.accessibilityLayer,e.barCategoryGap=t.payload.barCategoryGap,e.barGap=(n=t.payload.barGap)!==null&&n!==void 0?n:hT.barGap,e.barSize=t.payload.barSize,e.maxBarSize=t.payload.maxBarSize,e.stackOffset=t.payload.stackOffset,e.syncId=t.payload.syncId,e.syncMethod=t.payload.syncMethod,e.className=t.payload.className,e.baseValue=t.payload.baseValue,e.reverseStackOrder=t.payload.reverseStackOrder}}}),Kae=q$.reducer,{updateOptions:Gae}=q$.actions,K$=ja({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(e,t)=>t.payload}}),{updatePolarOptions:Yae}=K$.actions,Xae=K$.reducer,G$=vs("keyDown"),Y$=vs("focus"),r2=gh();r2.startListening({actionCreator:G$,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip,a=e.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=$S(i,mf(n),Dh(n),Eh(n)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var c=kl(n);if(a==="Enter"){var u=$0(n,"axis","hover",String(i.index));t.dispatch(s1({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=VQ(n),f=d==="left-to-right"?1:-1,h=a==="ArrowRight"?1:-1,m=o+h*f;if(!(c==null||m>=c.length||m<0)){var p=$0(n,"axis","hover",String(m));t.dispatch(s1({active:!0,activeIndex:m.toString(),activeCoordinate:p}))}}}}}});r2.startListening({actionCreator:Y$,effect:(e,t)=>{var n=t.getState(),r=n.rootProps.accessibilityLayer!==!1;if(r){var{keyboardInteraction:i}=n.tooltip;if(!i.active&&i.index==null){var a="0",s=$0(n,"axis","hover",String(a));t.dispatch(s1({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var is=vs("externalEvent"),X$=gh(),Wv=new Map;X$.startListening({actionCreator:is,effect:(e,t)=>{var{handler:n,reactEvent:r}=e.payload;if(n!=null){r.persist();var i=r.type,a=Wv.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=t.getState(),c={activeCoordinate:BZ(o),activeDataKey:ML(o),activeIndex:Yd(o),activeLabel:TL(o),activeTooltipIndex:Yd(o),isTooltipActive:zZ(o)};n(c,r)}finally{Wv.delete(i)}});Wv.set(i,s)}}});var Qae=Be([df],e=>e.tooltipItemPayloads),Zae=Be([Qae,Mh,(e,t)=>t,(e,t,n)=>n],(e,t,n,r)=>{var i=e.find(o=>o.settings.graphicalItemId===r);if(i!=null){var{positions:a}=i;if(a!=null){var s=t(a,n);return s}}}),Q$=vs("touchMove"),Z$=gh();Z$.startListening({actionCreator:Q$,effect:(e,t)=>{var n=e.payload;if(!(n.touches==null||n.touches.length===0)){var r=t.getState(),i=LS(r,r.tooltip.settings.shared);if(i==="axis"){var a=n.touches[0];if(a==null)return;var s=t2(r,n2({clientX:a.clientX,clientY:a.clientY,currentTarget:n.currentTarget}));(s==null?void 0:s.activeIndex)!=null&&t.dispatch(vL({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,c=n.touches[0];if(document.elementFromPoint==null||c==null)return;var u=document.elementFromPoint(c.clientX,c.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(r_),f=(o=u.getAttribute(i_))!==null&&o!==void 0?o:void 0,h=ff(r).find(x=>x.id===f);if(d==null||h==null||f==null)return;var{dataKey:m}=h,p=Zae(r,d,f);t.dispatch(xL({activeDataKey:m,activeIndex:d,activeCoordinate:p,activeGraphicalItemId:f}))}}}});var Jae=j3({brush:dre,cartesianAxis:nre,chartData:RJ,errorBars:Nie,graphicalItems:one,layout:w7,legend:kq,options:IJ,polarAxis:dte,polarOptions:Xae,referenceElements:kre,rootProps:Kae,tooltip:tZ,zIndex:NJ}),ese=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return qH({reducer:Jae,preloadedState:t,middleware:r=>{var i;return r({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([V$.middleware,H$.middleware,r2.middleware,X$.middleware,Z$.middleware])},enhancers:r=>{var i=r;return typeof r=="function"&&(i=r()),i.concat(B3({type:"raf"}))},devTools:{serialize:{replacer:qae},name:"recharts-".concat(n)}})};function J$(e){var{preloadedState:t,children:n,reduxStoreName:r}=e,i=ca(),a=g.useRef(null);if(i)return n;a.current==null&&(a.current=ese(t,r));var s=wN;return g.createElement(iae,{context:s,store:a.current},n)}function tse(e){var{layout:t,margin:n}=e,r=Kn(),i=ca();return g.useEffect(()=>{i||(r(b7(t)),r(x7(n)))},[r,i,t,n]),null}var eF=g.memo(tse,JS);function tF(e){var t=Kn();return g.useEffect(()=>{t(Gae(e))},[t,e]),null}function pT(e){var{zIndex:t,isPanorama:n}=e,r=g.useRef(null),i=Kn();return g.useLayoutEffect(()=>(r.current&&i(wJ({zIndex:t,element:r.current,isPanorama:n})),()=>{i(kJ({zIndex:t,isPanorama:n}))}),[i,t,n]),g.createElement("g",{tabIndex:-1,ref:r})}function gT(e){var{children:t,isPanorama:n}=e,r=It(dJ);if(!r||r.length===0)return t;var i=r.filter(s=>s<0),a=r.filter(s=>s>0);return g.createElement(g.Fragment,null,i.map(s=>g.createElement(pT,{key:s,zIndex:s,isPanorama:n})),t,a.map(s=>g.createElement(pT,{key:s,zIndex:s,isPanorama:n})))}var nse=["children"];function rse(e,t){if(e==null)return{};var n,r,i=ise(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ise(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H0.apply(null,arguments)}var ase={width:"100%",height:"100%",display:"block"},sse=g.forwardRef((e,t)=>{var n=MN(),r=EN(),i=j_();if(!xo(n)||!xo(r))return null;var{children:a,otherAttributes:s,title:o,desc:c}=e,u,d;return s!=null&&(typeof s.tabIndex=="number"?u=s.tabIndex:u=i?0:void 0,typeof s.role=="string"?d=s.role:d=i?"application":void 0),g.createElement(aN,H0({},s,{title:o,desc:c,role:d,tabIndex:u,width:n,height:r,style:ase,ref:t}),a)}),ose=e=>{var{children:t}=e,n=It(Yx);if(!n)return null;var{width:r,height:i,y:a,x:s}=n;return g.createElement(aN,{width:r,height:i,x:s,y:a},t)},xT=g.forwardRef((e,t)=>{var{children:n}=e,r=rse(e,nse),i=ca();return i?g.createElement(ose,null,g.createElement(gT,{isPanorama:!0},n)):g.createElement(sse,H0({ref:t},r),g.createElement(gT,{isPanorama:!1},n))});function lse(){var e=Kn(),[t,n]=g.useState(null),r=It(L7);return g.useEffect(()=>{if(t!=null){var i=t.getBoundingClientRect(),a=i.width/t.offsetWidth;hr(a)&&a!==r&&e(y7(a))}},[t,e,r]),n}function bT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function cse(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?bT(Object(n),!0).forEach(function(r){use(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):bT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function use(e,t,n){return(t=dse(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function dse(e){var t=fse(e,"string");return typeof t=="symbol"?t:t+""}function fse(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function ju(){return ju=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},ju.apply(null,arguments)}var mse=()=>(GJ(),null);function q0(e){if(typeof e=="number")return e;if(typeof e=="string"){var t=parseFloat(e);if(!Number.isNaN(t))return t}return 0}var hse=g.forwardRef((e,t)=>{var n,r,i=g.useRef(null),[a,s]=g.useState({containerWidth:q0((n=e.style)===null||n===void 0?void 0:n.width),containerHeight:q0((r=e.style)===null||r===void 0?void 0:r.height)}),o=g.useCallback((u,d)=>{s(f=>{var h=Math.round(u),m=Math.round(d);return f.containerWidth===h&&f.containerHeight===m?f:{containerWidth:h,containerHeight:m}})},[]),c=g.useCallback(u=>{if(typeof t=="function"&&t(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var h=p=>{var{width:x,height:v}=p[0].contentRect;o(x,v)},m=new ResizeObserver(h);m.observe(u),i.current=m}},[t,o]);return g.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),g.createElement(g.Fragment,null,g.createElement(Xx,{width:a.containerWidth,height:a.containerHeight}),g.createElement("div",ju({ref:c},e)))}),pse=g.forwardRef((e,t)=>{var{width:n,height:r}=e,[i,a]=g.useState({containerWidth:q0(n),containerHeight:q0(r)}),s=g.useCallback((c,u)=>{a(d=>{var f=Math.round(c),h=Math.round(u);return d.containerWidth===f&&d.containerHeight===h?d:{containerWidth:f,containerHeight:h}})},[]),o=g.useCallback(c=>{if(typeof t=="function"&&t(c),c!=null){var{width:u,height:d}=c.getBoundingClientRect();s(u,d)}},[t,s]);return g.createElement(g.Fragment,null,g.createElement(Xx,{width:i.containerWidth,height:i.containerHeight}),g.createElement("div",ju({ref:o},e)))}),gse=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return g.createElement(g.Fragment,null,g.createElement(Xx,{width:n,height:r}),g.createElement("div",ju({ref:t},e)))}),xse=g.forwardRef((e,t)=>{var{width:n,height:r}=e;return ul(n)||ul(r)?g.createElement(pse,ju({},e,{ref:t})):g.createElement(gse,ju({},e,{ref:t}))});function bse(e){return e===!0?hse:xse}var vse=g.forwardRef((e,t)=>{var{children:n,className:r,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:h,onTouchEnd:m,onTouchMove:p,onTouchStart:x,style:v,width:b,responsive:y,dispatchTouchEvents:w=!0}=e,N=g.useRef(null),j=Kn(),[k,C]=g.useState(null),[E,R]=g.useState(null),T=lse(),$=TN(),I=($==null?void 0:$.width)>0?$.width:b,re=($==null?void 0:$.height)>0?$.height:i,ce=g.useCallback(H=>{T(H),typeof t=="function"&&t(H),C(H),R(H),H!=null&&(N.current=H)},[T,t,C,R]),ve=g.useCallback(H=>{j(W$(H)),j(is({handler:a,reactEvent:H}))},[j,a]),Oe=g.useCallback(H=>{j(p1(H)),j(is({handler:u,reactEvent:H}))},[j,u]),fe=g.useCallback(H=>{j(bL()),j(is({handler:d,reactEvent:H}))},[j,d]),Z=g.useCallback(H=>{j(p1(H)),j(is({handler:f,reactEvent:H}))},[j,f]),xe=g.useCallback(()=>{j(Y$())},[j]),_=g.useCallback(H=>{j(G$(H.key))},[j]),D=g.useCallback(H=>{j(is({handler:s,reactEvent:H}))},[j,s]),ue=g.useCallback(H=>{j(is({handler:o,reactEvent:H}))},[j,o]),S=g.useCallback(H=>{j(is({handler:c,reactEvent:H}))},[j,c]),Y=g.useCallback(H=>{j(is({handler:h,reactEvent:H}))},[j,h]),B=g.useCallback(H=>{j(is({handler:x,reactEvent:H}))},[j,x]),ee=g.useCallback(H=>{w&&j(Q$(H)),j(is({handler:p,reactEvent:H}))},[j,w,p]),de=g.useCallback(H=>{j(is({handler:m,reactEvent:H}))},[j,m]),oe=bse(y);return g.createElement(FL.Provider,{value:k},g.createElement(SI.Provider,{value:E},g.createElement(oe,{width:I??(v==null?void 0:v.width),height:re??(v==null?void 0:v.height),className:En("recharts-wrapper",r),style:cse({position:"relative",cursor:"default",width:I,height:re},v),onClick:ve,onContextMenu:D,onDoubleClick:ue,onFocus:xe,onKeyDown:_,onMouseDown:S,onMouseEnter:Oe,onMouseLeave:fe,onMouseMove:Z,onMouseUp:Y,onTouchEnd:de,onTouchMove:ee,onTouchStart:B,ref:ce},g.createElement(mse,null),n)))}),yse=["width","height","responsive","children","className","style","compact","title","desc"];function wse(e,t){if(e==null)return{};var n,r,i=kse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function kse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var nF=g.forwardRef((e,t)=>{var{width:n,height:r,responsive:i,children:a,className:s,style:o,compact:c,title:u,desc:d}=e,f=wse(e,yse),h=gs(f);return c?g.createElement(g.Fragment,null,g.createElement(Xx,{width:n,height:r}),g.createElement(xT,{otherAttributes:h,title:u,desc:d},a)):g.createElement(vse,{className:s,style:o,width:n,height:r,responsive:i??!1,onClick:e.onClick,onMouseLeave:e.onMouseLeave,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseDown:e.onMouseDown,onMouseUp:e.onMouseUp,onContextMenu:e.onContextMenu,onDoubleClick:e.onDoubleClick,onTouchStart:e.onTouchStart,onTouchMove:e.onTouchMove,onTouchEnd:e.onTouchEnd},g.createElement(xT,{otherAttributes:h,title:u,desc:d,ref:t},g.createElement(Nre,null,a)))});function g1(){return g1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},g1.apply(null,arguments)}var Nse={top:5,right:5,bottom:5,left:5},Sse={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Nse,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},jse=g.forwardRef(function(t,n){var r,i=Zr(t.categoricalChartProps,Sse),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:u}=t,d={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return g.createElement(J$,{preloadedState:{options:d},reduxStoreName:(r=u.id)!==null&&r!==void 0?r:a},g.createElement(A$,{chartData:u.data}),g.createElement(eF,{layout:i.layout,margin:i.margin}),g.createElement(tF,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(nF,g1({},i,{ref:n})))}),Cse=["axis"],gl=g.forwardRef((e,t)=>g.createElement(jse,{chartName:"LineChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:Cse,tooltipPayloadSearcher:BL,categoricalChartProps:e,ref:t}));function Ase(e){var t=Kn();return g.useEffect(()=>{t(Yae(e))},[t,e]),null}var Pse=["layout"];function x1(){return x1=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},x1.apply(null,arguments)}function Dse(e,t){if(e==null)return{};var n,r,i=Tse(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)===-1&&{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function Tse(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var Mse={top:5,right:5,bottom:5,left:5},rF={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Mse,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},Ese=g.forwardRef(function(t,n){var r,i=Zr(t.categoricalChartProps,rF),{layout:a}=i,s=Dse(i,Pse),{chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=t,f={chartName:o,defaultTooltipEventType:c,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return g.createElement(J$,{preloadedState:{options:f},reduxStoreName:(r=i.id)!==null&&r!==void 0?r:o},g.createElement(A$,{chartData:i.data}),g.createElement(eF,{layout:a,margin:i.margin}),g.createElement(tF,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),g.createElement(Ase,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),g.createElement(nF,x1({},s,{ref:n})))});function vT(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function yT(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?vT(Object(n),!0).forEach(function(r){Ose(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):vT(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ose(e,t,n){return(t=Ise(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function Ise(e){var t=_se(e,"string");return typeof t=="symbol"?t:t+""}function _se(e,t){if(typeof e!="object"||!e)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}var Lse=["item"],$se=yT(yT({},rF),{},{layout:"centric",startAngle:0,endAngle:360}),b1=g.forwardRef((e,t)=>{var n=Zr(e,$se);return g.createElement(Ese,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:Lse,tooltipPayloadSearcher:BL,categoricalChartProps:n,ref:t})});const Cn=({value:e,options:t,onChange:n,className:r="",activeClassName:i,inactiveClassName:a})=>l.jsx("div",{className:`pill-toggle-group flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1 text-[10px] uppercase tracking-[0.25em] text-gray-400 ${r}`,children:t.map(s=>l.jsx("button",{type:"button",onClick:()=>n(s.value),className:`pill-toggle-option px-2.5 py-1 rounded-full transition-colors ${e===s.value?`pill-toggle-option--active ${i}`:a}`,children:s.label},s.value))}),wT="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==",mm=new Map,Td=new Map,Fse=async e=>{var n;if(!((n=window==null?void 0:window.electronAPI)!=null&&n.fetchImageAsDataUrl))return;const t=Array.from(new Set(e)).filter(r=>/^https?:\/\//i.test(r));await Promise.all(t.map(async r=>{if(mm.has(r)||Td.has(r))return;const i=(async()=>{const a=await window.electronAPI.fetchImageAsDataUrl(r),s=a!=null&&a.success&&a.dataUrl?a.dataUrl:null;return s&&mm.set(r,s),s})();Td.set(r,i);try{await i}finally{Td.delete(r)}}))},Rse=e=>{const[t,n]=g.useState(()=>{var r;return e?!((r=window==null?void 0:window.electronAPI)!=null&&r.fetchImageAsDataUrl)||!/^https?:\/\//i.test(e)?e:mm.get(e)||wT:null});return g.useEffect(()=>{var s;if(!e){n(null);return}if(!((s=window==null?void 0:window.electronAPI)!=null&&s.fetchImageAsDataUrl)){n(e);return}if(!/^https?:\/\//i.test(e)){n(e);return}const r=mm.get(e);if(r){n(r);return}let i=!0;const a=Td.get(e)||(async()=>{const o=await window.electronAPI.fetchImageAsDataUrl(e),c=o!=null&&o.success&&o.dataUrl?o.dataUrl:null;return c&&mm.set(e,c),c})();return Td.set(e,a),a.then(o=>{if(i){if(o){n(o);return}n(wT)}}).finally(()=>{Td.delete(e)}),()=>{i=!1}},[e]),t},Bse=(e,t,n,r)=>{const[i,a]=g.useState("bottom"),[s,o]=g.useState(0);return g.useEffect(()=>{if(!e)return;const c=requestAnimationFrame(()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),h=d.getBoundingClientRect(),p=(E=>{let R=(E==null?void 0:E.parentElement)||null;for(;R;){const T=window.getComputedStyle(R),$=`${T.overflow}${T.overflowY}${T.overflowX}`;if(/(auto|scroll|hidden)/.test($))return R;R=R.parentElement}return null})(u),x=p?p.getBoundingClientRect():{top:0,bottom:window.innerHeight,left:0,right:window.innerWidth},v=x.bottom-f.bottom,b=f.top-x.top,y=v<h.height+8&&b>v?"top":"bottom";a(y);const w=6,N=f.left+f.width/2,j=x.left+w+h.width/2,k=x.right-w-h.width/2,C=Math.min(Math.max(N,j),k);o(C-N)});return()=>cancelAnimationFrame(c)},[e,...t]),{placement:i,shiftX:s}},zse=(e,t=5)=>{const n=Object.entries(e).filter(([,i])=>i>0).sort((i,a)=>a[1]-i[1]||i[0].localeCompare(a[0])).map(([i,a])=>({profession:i,count:a})),r=[];for(let i=0;i<n.length;i+=t)r.push(n.slice(i,i+t));return r},iF=(e,t,n,r,i=8)=>{const[a,s]=g.useState({position:"fixed",top:-9999,left:-9999,transform:"translateX(-50%)"});return g.useEffect(()=>{if(!e)return;const o=()=>{const u=n.current,d=r.current;if(!u||!d)return;const f=u.getBoundingClientRect(),h=d.getBoundingClientRect(),m=window.innerHeight-f.bottom,p=f.top,x=m<h.height+i&&p>m?Math.max(i,f.top-h.height-i):Math.min(window.innerHeight-h.height-i,f.bottom+i),v=f.left+f.width/2,b=i+h.width/2,y=window.innerWidth-i-h.width/2,w=Math.min(Math.max(v,b),y);s({position:"fixed",top:x,left:w,transform:"translateX(-50%)"})},c=requestAnimationFrame(o);return window.addEventListener("scroll",o,!0),window.addEventListener("resize",o),()=>{cancelAnimationFrame(c),window.removeEventListener("scroll",o,!0),window.removeEventListener("resize",o)}},[e,i,...t]),a},Use=({profession:e,professionList:t,className:n="w-4 h-4 object-contain"})=>{const r=(t||[]).filter(Boolean),i=e==="Multi"&&r.length>0?r[0]:e,a=Xl(i||"Unknown"),s=r.length>1,[o,c]=g.useState(!1),u=g.useRef(null),d=g.useRef(null),f=`${n} object-contain`,{placement:h,shiftX:m}=Bse(o,[r.length,f],u,d),p=Array.from(new Set(r.map(y=>tl(y||"Unknown")))).slice(0,4),x=p.length>1?`conic-gradient(${p.map((y,w)=>`${y} ${w*360/p.length}deg ${(w+1)*360/p.length}deg`).join(", ")})`:p[0]||"#9ca3af";if(!a)return null;const v=h==="top"?"bottom-full mb-2":"top-full mt-2",b={transform:`translateX(calc(-50% + ${m}px))`};return l.jsxs("span",{ref:u,className:`relative inline-flex shrink-0 ${s?"group":""}`,onMouseEnter:()=>c(!0),onMouseLeave:()=>c(!1),children:[l.jsx("img",{src:a,alt:i||"Unknown",className:`${f} shrink-0`}),s&&l.jsxs(l.Fragment,{children:[l.jsx("span",{"aria-hidden":"true",className:"absolute -top-0.5 -right-0.5 h-2.5 w-2.5 rounded-full ring-1 ring-[#10141b] shadow-[0_0_0_1px_rgba(255,255,255,0.08)]",style:{background:x},children:l.jsx("span",{className:"absolute inset-[0.7px] rounded-full bg-[#0f141c]/55"})}),l.jsxs("div",{ref:d,style:b,className:`profession-multi-tooltip absolute left-1/2 z-50 w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${v} ${o?"block":"hidden"}`,children:[l.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:"Multi"}),l.jsx("div",{className:"space-y-1",children:r.map(y=>{const w=Xl(y||"Unknown");return l.jsxs("div",{className:"flex items-center gap-1",children:[w?l.jsx("img",{src:w,alt:y||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,l.jsx("span",{className:"text-gray-100",children:y||"Unknown"})]},y)})})]})]})]})},Wse=(e,t,n="w-4 h-4 object-contain")=>l.jsx(Use,{profession:e,professionList:t,className:n}),Qu=({count:e,classCounts:t,label:n,className:r})=>{const i=zse(t||{}),a=e>0,[s,o]=g.useState(!1),c=g.useRef(null),u=g.useRef(null),d=iF(s,[i.length,e],c,u);return l.jsxs("span",{ref:c,className:`relative inline-flex items-center justify-end ${a?"group cursor-help":""}`,onMouseEnter:()=>o(!0),onMouseLeave:()=>o(!1),children:[l.jsx("span",{className:r,children:e}),a&&typeof document<"u"&&rf.createPortal(l.jsxs("div",{ref:u,style:d,className:`count-class-tooltip z-[9999] w-max rounded-md border border-white/10 bg-black/70 px-2 py-1 text-[10px] text-gray-200 shadow-lg pointer-events-none ${s?"block":"hidden"}`,children:[l.jsx("div",{className:"mb-1 text-[9px] uppercase tracking-wider text-amber-200",children:n}),i.length>0?l.jsx("div",{className:"grid grid-flow-col auto-cols-fr gap-2",children:i.map((f,h)=>l.jsx("div",{className:"space-y-1",children:f.map(({profession:m,count:p})=>{const x=Xl(m||"Unknown");return l.jsxs("div",{className:"flex items-center gap-1",children:[x?l.jsx("img",{src:x,alt:m||"Unknown",className:"h-3.5 w-3.5 object-contain"}):null,l.jsx("span",{className:"text-gray-100",children:m||"Unknown"}),l.jsx("span",{className:"text-gray-400",children:""}),l.jsx("span",{className:"text-gray-200",children:p})]},m)})},`${n}-col-${h}`))}):l.jsx("div",{className:"text-[10px] text-gray-500 italic",children:"No class data available"})]}),document.body)]})},yr=({name:e,iconUrl:t,className:n="",iconClassName:r="h-4 w-4",textClassName:i="",truncateText:a=!0})=>{const s=Rse(t);return l.jsxs("span",{className:`inline-flex items-center gap-2 min-w-0 ${n}`,children:[s?l.jsx("img",{src:s,alt:e,className:`${r} shrink-0`}):null,l.jsx("span",{className:`${a?"truncate":""} ${i}`,children:e})]})},kT=({value:e,label:t,items:n,className:r})=>{const i=n.length>0,[a,s]=g.useState(!1),o=g.useRef(null),c=g.useRef(null),u=g.useRef(null),d=iF(a,[n.length],o,c),f=()=>{u.current!==null&&(window.clearTimeout(u.current),u.current=null)},h=()=>{f(),u.current=window.setTimeout(()=>{s(!1),u.current=null},140)},m=p=>{const x=p.currentTarget;if(x.scrollHeight<=x.clientHeight)return;const v=p.deltaY;v!==0&&(p.preventDefault(),p.stopPropagation(),x.scrollTop+=v)};return g.useEffect(()=>()=>f(),[]),l.jsxs("span",{ref:o,className:`relative inline-flex items-center justify-end ${i?"group cursor-help":""} ${r||""}`,onMouseEnter:()=>{f(),s(!0)},onMouseLeave:()=>{h()},children:[l.jsx("span",{children:e}),i&&typeof document<"u"&&rf.createPortal(l.jsxs("div",{ref:c,style:d,onMouseEnter:f,onMouseLeave:h,className:`skill-breakdown-tooltip z-[9999] w-64 rounded-md border border-white/10 bg-black/70 px-3 py-2 text-[10px] text-gray-100 shadow-lg pointer-events-auto ${a?"block":"hidden"}`,children:[l.jsx("div",{className:"text-[9px] uppercase tracking-wider text-amber-200 mb-1",children:t}),l.jsx("div",{className:"max-h-40 overflow-y-auto space-y-1 pr-2",style:{scrollbarGutter:"stable",overscrollBehavior:"contain"},onWheel:m,children:n.map(p=>l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsx("span",{className:"truncate text-white",children:l.jsx(yr,{name:p.name,iconUrl:p.iconUrl,iconClassName:"h-6 w-6"})}),l.jsx("span",{className:"text-gray-100 font-mono",children:p.value})]},p.name))})]}),document.body)]})},Vse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,selectedPlayers:o,setSelectedPlayers:c,removeSelectedPlayer:u,playerMapByKey:d,groupedSkillUsagePlayers:f,expandedSkillUsageClass:h,setExpandedSkillUsageClass:m,togglePlayerSelection:p,skillUsagePlayerFilter:x,setSkillUsagePlayerFilter:v,skillUsageView:b,setSkillUsageView:y,skillUsageData:w,skillUsageSkillFilter:N,setSkillUsageSkillFilter:j,selectedSkillId:k,setSelectedSkillId:C,skillBarData:E,selectedSkillName:R,selectedSkillIcon:T,skillUsageReady:$,skillUsageAvailable:I,isSkillUsagePerSecond:re,skillChartData:ce,skillChartMaxY:ve,playerTotalsForSkill:Oe,hoveredSkillPlayer:fe,setHoveredSkillPlayer:Z,getLineStrokeColor:xe,getLineDashForPlayer:_,formatSkillUsageValue:D,renderProfessionIcon:ue})=>l.jsxs("div",{id:"skill-usage","data-section-visible":i("skill-usage"),"data-section-first":a("skill-usage"),className:s("skill-usage",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${e==="skill-usage"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[l.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[l.jsxs("div",{className:e==="skill-usage"?"pr-10 md:pr-0":"",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(Hk,{className:"w-5 h-5 text-cyan-400"}),"Skill Usage Tracker"]}),l.jsx("p",{className:"text-xs text-gray-400",children:"Compare how often squad members cast a skill and drill into the timeline breakdown."})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx(Cn,{value:b,onChange:y,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),l.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[w.logRecords.length," ",w.logRecords.length===1?"log":"logs"]}),l.jsx("button",{type:"button",onClick:()=>e==="skill-usage"?r():n("skill-usage"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="skill-usage"?"absolute top-2 right-2 md:static":""}`,"aria-label":e==="skill-usage"?"Close Skill Usage":"Expand Skill Usage",title:e==="skill-usage"?"Close":"Expand",children:e==="skill-usage"?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]})]}),o.length>0&&l.jsxs("div",{className:"flex items-center gap-2 pb-2 overflow-x-auto pr-1 -mx-1 px-1",children:[l.jsx("button",{type:"button",onClick:()=>c([]),className:"shrink-0 px-3 py-1 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:"Clear All"}),o.map(S=>{const Y=d.get(S);return Y?l.jsxs("span",{className:"flex items-center gap-1 rounded-full border border-cyan-400/40 bg-cyan-500/10 px-3 py-1 text-xs text-cyan-200 shrink-0",children:[l.jsx("span",{className:"truncate max-w-[140px]",children:Y.displayName}),l.jsxs("span",{className:"text-[10px] text-cyan-200/70",children:[Y.logs," ",Y.logs===1?"log":"logs"]}),l.jsx("button",{type:"button",onClick:()=>u(Y.key),className:"rounded-full p-1 text-cyan-200 hover:bg-white/20",children:l.jsx(iI,{className:"w-3 h-3"})})]},Y.key):null})]}),l.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[l.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[l.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Squad Players"}),l.jsx("input",{type:"search",value:x,onChange:S=>v(S.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),l.jsx("div",{className:"skill-usage-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:f.length===0?l.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No squad players match the filter"}):f.map(S=>{const Y=h===S.profession,B=S.players.map(de=>de.key),ee=B.length>0&&B.every(de=>o.includes(de));return l.jsxs("div",{className:"border-b border-white/5 last:border-b-0",children:[l.jsx("button",{type:"button",onClick:()=>{if(Y){m(null);return}m(S.profession)},className:`skill-usage-player-list-item w-full px-3 py-2 text-left transition-colors ${Y?"bg-white/10":"hover:bg-white/5"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ue(S.profession,void 0,"w-4 h-4"),l.jsx("div",{className:"text-sm font-semibold truncate text-white",children:S.profession})]}),l.jsxs("div",{className:"flex items-center gap-2 text-gray-400",children:[l.jsxs("span",{className:"text-[10px]",children:[S.players.length,"p"]}),Y?l.jsx(pw,{className:"w-3.5 h-3.5"}):l.jsx(I8,{className:"w-3.5 h-3.5"})]})]})}),Y&&l.jsxs("div",{className:"pb-2",children:[l.jsxs("div",{className:"px-6 pt-1 pb-2 flex items-center justify-between text-[11px] text-gray-400",children:[l.jsxs("span",{children:[S.players.length," ",S.players.length===1?"player":"players"]}),l.jsx("button",{type:"button",onClick:()=>{c(de=>{if(ee)return de.filter(H=>!B.includes(H));const oe=new Set(de);return B.forEach(H=>oe.add(H)),Array.from(oe)})},className:"skill-usage-player-list-item px-2 py-0.5 rounded-full border border-white/10 bg-white/5 text-[10px] uppercase tracking-widest text-gray-300 hover:text-white",children:ee?"Clear All":"Select All"})]}),S.players.map(de=>{const oe=o.includes(de.key);return l.jsx("button",{type:"button",onClick:()=>p(de.key),className:`skill-usage-player-list-item w-full border-b border-white/5 px-6 py-2 text-left transition-colors last:border-b-0 ${oe?"border-cyan-400 bg-cyan-500/10 text-white":"border-transparent hover:border-white/10 hover:bg-white/5"}`,children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-sm font-semibold truncate text-white",children:de.displayName}),l.jsxs("div",{className:"text-[11px] text-gray-400",children:[de.account,"  ",de.profession,"  ",de.logs," ",de.logs===1?"log":"logs"]})]}),oe&&l.jsx(tI,{className:"w-4 h-4 text-cyan-300"})]})},de.key)})]})]},S.profession)})})]}),l.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Skill Totals"}),l.jsx("div",{className:"text-[11px] text-gray-500",children:o.length>0?`${o.length} player${o.length===1?"":"s"}  ${re?"casts/sec":"total casts"}`:"Select players"})]}),l.jsx("input",{type:"search",value:N,onChange:S=>j(S.target.value),placeholder:"Filter skill names",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/20 p-0.5 flex-1 min-h-0",children:o.length===0?l.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"Select squad players to see the skills they cast."}):E.length===0?l.jsx("div",{className:"h-full flex flex-col items-center justify-center text-xs text-gray-500",children:"No skill casts found for the selected players."}):(()=>{const S=E.reduce((Y,B)=>Math.max(Y,B.total),0)||1;return l.jsx("div",{className:"space-y-0.5 h-full overflow-y-auto pr-0.5",children:E.map((Y,B)=>{const ee=Math.min(100,Y.total/S*100),de=k===Y.skillId;return l.jsxs("button",{type:"button",onClick:()=>C(Y.skillId),className:`w-full space-y-1 rounded-lg border px-2 py-1.5 text-left transition-colors ${de?"border-white/60 bg-white/10":"border-white/10 bg-white/5 hover:border-white/30 hover:bg-white/10"}`,children:[l.jsxs("div",{className:"flex items-center justify-between text-sm text-white min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-1",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-400",children:`#${B+1}`}),l.jsx(yr,{name:Y.name,iconUrl:Y.icon,iconClassName:"h-6 w-6",className:"min-w-0 flex-1 max-w-[58vw] sm:max-w-none",textClassName:"font-semibold"})]}),l.jsx("span",{className:"text-cyan-200 font-mono text-xs shrink-0",children:D(Y.total)})]}),l.jsx("div",{className:"h-1 w-full rounded-full bg-white/10",children:l.jsx("div",{className:"h-full rounded-full transition-all",style:{width:`${ee}%`,backgroundColor:Y.color}})})]},Y.skillId)})})})()})]})]}),l.jsx("div",{className:"space-y-3",children:$?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"space-y-4 rounded-2xl bg-black/50 p-4 mt-2",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-200",children:R?l.jsx(yr,{name:R,iconUrl:T,iconClassName:"h-6 w-6"}):"Selected Skill Usage"}),l.jsxs("div",{className:"text-[11px] text-gray-400",children:["(",re?"casts per second":"casts per log",")"]})]}),l.jsx(ys,{width:"100%",height:250,children:l.jsxs(gl,{data:ce,children:[l.jsx(vo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),l.jsx(yo,{dataKey:"index",type:"number",tick:{fill:"#e2e8f0",fontSize:10},interval:0,tickFormatter:S=>{const Y=ce[S],B=String((Y==null?void 0:Y.shortLabel)??S);return B.length>20?`${B.slice(0,20)}`:B}}),l.jsx(wo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,ve)],allowDecimals:!1}),l.jsx(ks,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},content:({active:S,payload:Y,label:B})=>{var H;if(!S||!Y||Y.length===0)return null;const ee=[...Y].sort((K,J)=>(J.value||0)-(K.value||0)),de=ee[0],oe=((H=de==null?void 0:de.payload)==null?void 0:H.fullLabel)||B;return l.jsxs("div",{className:"rounded-lg bg-slate-900/95 border border-white/10 px-3 py-2 shadow-xl",children:[l.jsx("div",{className:"text-sm text-white mb-1",children:oe}),l.jsx("div",{className:"space-y-1",children:ee.map(K=>{const J=String(K.name||""),ae=d.get(J),V=(ae==null?void 0:ae.displayName)||J||"Player",be=D(Number(K.value||0)),ie=K.color||"#38bdf8";return l.jsxs("div",{className:"flex items-center justify-between text-sm",children:[l.jsx("span",{className:"truncate",style:{color:ie},children:V}),l.jsx("span",{className:"text-gray-200 font-mono",children:be})]},`${V}-${be}`)})})]})}}),o.map(S=>{const Y=fe.includes(S),B=fe.length>0,ee=xe(S,Y,B),de=_(S),oe=fe.length>0&&!Y;return l.jsx(ta,{dataKey:S,stroke:ee,strokeWidth:Y?4:3,strokeDasharray:de,opacity:oe?.6:1,dot:!1,isAnimationActive:o.length<=16,animationDuration:420,animationEasing:"ease-out"},S)})]})})]}),o.length>0&&l.jsxs("div",{className:"rounded-2xl bg-black/40 border border-white/10 p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsx("div",{className:"text-xs uppercase tracking-[0.4em] text-gray-400",children:"Selected Players"}),l.jsxs("div",{className:"text-[11px] text-gray-500",children:[o.length," ",o.length===1?"player":"players"]})]}),l.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:[...o].sort((S,Y)=>(Oe.get(Y)||0)-(Oe.get(S)||0)).map(S=>{const Y=d.get(S),B=Oe.get(S)??0,ee=fe.includes(S),de=fe.length>0,oe=xe(S,ee,de);return l.jsxs("button",{type:"button",onClick:()=>{Z(H=>H.includes(S)?H.filter(K=>K!==S):[...H,S])},className:`w-full rounded-2xl border bg-white/5 p-3 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 text-left transition cursor-pointer focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-sky-400/70 min-w-0 ${ee?"border-white/40 bg-white/10":"border-white/10 hover:border-white/30 hover:bg-white/10"}`,"aria-pressed":ee,children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("svg",{className:"h-2 w-6",viewBox:"0 0 24 4","aria-hidden":"true",children:l.jsx("line",{x1:"0",y1:"2",x2:"24",y2:"2",stroke:oe,strokeWidth:"2",strokeDasharray:_(S),strokeLinecap:"round"})}),ue(Y==null?void 0:Y.profession,Y==null?void 0:Y.professionList,"w-4 h-4"),l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.4em] text-gray-400",children:"Player"}),l.jsx("div",{className:"font-semibold text-white truncate",children:(Y==null?void 0:Y.displayName)||S}),l.jsxs("div",{className:"text-[11px] text-gray-400",children:[(Y==null?void 0:Y.logs)??0," ",((Y==null?void 0:Y.logs)??0)===1?"log":"logs"]})]})]}),l.jsx("div",{className:"text-2xl sm:text-3xl font-black text-white font-mono self-end sm:self-auto shrink-0",children:D(B)})]},S)})})]})]}):l.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 mt-2 text-center text-xs text-gray-400",children:I?"Pick one skill and up to two players to visualize their usage over time.":"Upload or highlight logs with rotation data to enable the skill usage tracker."})})]}),Hse=({containerRef:e,className:t=""})=>{const n=g.useRef(null),[r,i]=g.useState(0),[a,s]=g.useState(0),o=g.useRef(!1),c=g.useRef(0),u=g.useRef(0);g.useLayoutEffect(()=>{const h=e.current;if(!h)return;let m=0;const p=()=>{const{scrollWidth:w,clientWidth:N,scrollLeft:j}=h,k=w>N,C=n.current,E=(C==null?void 0:C.clientWidth)||0;if(!E){m=window.requestAnimationFrame(p);return}if(!k){i(E),s(0);return}const R=N/w,T=Math.max(20,Math.floor(E*R)),$=w-N,I=Math.max(0,E-T),re=$>0?Math.floor(j/$*I):0;i(T),s(re)};p();const x=()=>p(),v=new ResizeObserver(p);v.observe(h);const b=h.firstElementChild;b instanceof HTMLElement&&v.observe(b),n.current&&v.observe(n.current);const y=new MutationObserver(()=>p());return y.observe(h,{childList:!0,subtree:!0,attributes:!0}),window.addEventListener("resize",p),h.addEventListener("scroll",x),()=>{m&&window.cancelAnimationFrame(m),v.disconnect(),y.disconnect(),window.removeEventListener("resize",p),h.removeEventListener("scroll",x)}},[e]),g.useEffect(()=>{const h=p=>{if(!o.current)return;const x=n.current,v=e.current;if(!x||!v)return;const b=x.getBoundingClientRect(),y=p.clientX-c.current,w=Math.max(0,b.width-r),N=Math.min(w,Math.max(0,u.current+y)),j=v.scrollWidth-v.clientWidth,k=w>0?N/w*j:0;v.scrollLeft=k},m=()=>{o.current=!1};return window.addEventListener("pointermove",h),window.addEventListener("pointerup",m),()=>{window.removeEventListener("pointermove",h),window.removeEventListener("pointerup",m)}},[e,r]);const d=h=>{const m=n.current,p=e.current;if(!m||!p||r<=0)return;const x=m.getBoundingClientRect(),v=h.clientX-x.left,b=Math.max(0,x.width-r),y=Math.min(b,Math.max(0,v-r/2)),w=p.scrollWidth-p.clientWidth;p.scrollLeft=b>0?y/b*w:0},f=h=>{r<=0||(o.current=!0,c.current=h.clientX,u.current=a,h.currentTarget.setPointerCapture(h.pointerId))};return l.jsx("div",{className:`scroll-scrubber ${t}`,children:l.jsx("div",{ref:n,className:"scroll-scrubber__track",onClick:d,children:l.jsx("div",{className:"scroll-scrubber__thumb",style:{width:`${r}px`,transform:`translateX(${a}px)`},onPointerDown:f})})})},Ns=({title:e,subtitle:t,controls:n,columns:r,rows:i,sortColumnId:a,sortDirection:s="desc",onSortColumn:o,className:c=""})=>{const u=g.useRef(null),d=["minmax(170px, max-content)",...r.map(f=>`minmax(${f.minWidth??60}px, max-content)`)].join(" ");return l.jsxs("div",{className:`dense-table ${c}`,children:[(e||t)&&l.jsxs("div",{className:"dense-table__header",children:[e&&l.jsx("div",{className:"dense-table__title",children:e}),t&&l.jsx("div",{className:"dense-table__subtitle",children:t})]}),n&&l.jsx("div",{className:"dense-table__controls",children:n}),l.jsx("div",{ref:u,className:"dense-table__scroll",children:l.jsxs("div",{className:"dense-table__grid",style:{gridTemplateColumns:d},children:[l.jsx("div",{className:"dense-table__head dense-table__head--sticky dense-table__head--pinned",children:l.jsx("div",{className:"dense-table__head-inner",children:"Player"})}),r.map(f=>{const h=!!o,p=a===f.id?s==="desc"?"":"":null;return l.jsx("div",{className:`dense-table__head ${f.align==="right"?"dense-table__cell--right":""}`,style:f.minWidth?{minWidth:f.minWidth}:void 0,children:h?l.jsxs("button",{type:"button",onClick:()=>o==null?void 0:o(f.id),className:"dense-table__head-inner",children:[l.jsx("span",{className:"truncate",children:f.label}),p&&l.jsx("span",{className:"text-[10px] text-slate-200",children:p})]}):l.jsx("div",{className:"dense-table__head-inner",children:f.label})},f.id)}),i.map(f=>l.jsxs("div",{className:"dense-table__row",children:[l.jsx("div",{className:"dense-table__cell dense-table__cell--label dense-table__cell--pinned",children:f.label}),r.map(h=>l.jsx("div",{className:`dense-table__cell ${h.align==="right"?"dense-table__cell--right":""}`,children:f.values[h.id]??"-"},`${f.id}-${h.id}`))]},f.id))]})}),l.jsx(Hse,{containerRef:u})]})},Hs=({options:e,selectedIds:t,placeholder:n="Search...",onSelect:r,className:i=""})=>{const[a,s]=g.useState(""),[o,c]=g.useState(!1),[u,d]=g.useState(0),f=g.useRef(null),h=g.useRef(null),m=g.useRef(new Map);g.useEffect(()=>{const b=y=>{f.current&&(f.current.contains(y.target)||c(!1))};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const p=g.useMemo(()=>{const b=a.trim().toLowerCase();return b?e.filter(y=>y.label.toLowerCase().includes(b)).slice(0,50):e.slice(0,50)},[e,a]),x=g.useMemo(()=>{const b=new Map;return p.forEach((y,w)=>{b.set(`${y.type}-${y.id}`,w)}),b},[p]),v=g.useMemo(()=>{const b=p.filter(w=>w.type==="column"),y=p.filter(w=>w.type==="player");return{columns:b,players:y}},[p]);return g.useEffect(()=>{if(o){if(p.length===0){d(0);return}d(b=>Math.min(Math.max(b,0),p.length-1))}},[p,o]),g.useEffect(()=>{if(!o)return;const b=p[u];if(!b)return;const y=`${b.type}-${b.id}`,w=m.current.get(y);w&&h.current&&w.scrollIntoView({block:"nearest"})},[u,p,o]),l.jsxs("div",{ref:f,className:`relative ${i}`,children:[l.jsx("input",{value:a,onChange:b=>{s(b.target.value),c(!0)},onKeyDown:b=>{if(!o&&(b.key==="ArrowDown"||b.key==="ArrowUp")){c(!0);return}if(o)if(b.key==="ArrowDown"){if(b.preventDefault(),p.length===0)return;d(y=>(y+1)%p.length)}else if(b.key==="ArrowUp"){if(b.preventDefault(),p.length===0)return;d(y=>(y-1+p.length)%p.length)}else if(b.key==="Enter"){b.preventDefault();const y=p[u];if(!y)return;r(y),s(""),c(!1)}else b.key==="Escape"&&(b.preventDefault(),c(!1))},onFocus:()=>c(!0),placeholder:n,className:"w-full sm:w-64 bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none"}),o&&l.jsx("div",{className:"absolute z-30 mt-2 w-64 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:p.length===0?l.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No matches"}):l.jsxs("div",{ref:h,className:"max-h-60 overflow-y-auto space-y-2 pr-1",children:[v.columns.length>0&&l.jsxs("div",{children:[l.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Columns"}),v.columns.map(b=>{const y=(t==null?void 0:t.has(`${b.type}:${b.id}`))??!1;return l.jsx("button",{type:"button",ref:w=>{m.current.set(`${b.type}-${b.id}`,w)},onClick:()=>{r(b),s(""),c(!1)},onMouseEnter:()=>{const w=x.get(`${b.type}-${b.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===x.get(`${b.type}-${b.id}`)?"bg-white/10 border-white/10":""} ${y?"bg-white/15 border-white/20":""}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[b.icon?l.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:b.icon}):null,l.jsx("span",{className:"truncate",children:b.label})]})},`${b.type}-${b.id}`)})]}),v.players.length>0&&l.jsxs("div",{children:[l.jsx("div",{className:"px-2 pb-1 text-[10px] uppercase tracking-widest text-gray-500",children:"Players"}),v.players.map(b=>{const y=(t==null?void 0:t.has(`${b.type}:${b.id}`))??!1;return l.jsx("button",{type:"button",ref:w=>{m.current.set(`${b.type}-${b.id}`,w)},onClick:()=>{r(b),s(""),c(!1)},onMouseEnter:()=>{const w=x.get(`${b.type}-${b.id}`);typeof w=="number"&&d(w)},className:`w-full text-left px-2 py-1.5 rounded-lg border border-transparent text-gray-200 hover:bg-white/5 hover:border-white/10 ${u===x.get(`${b.type}-${b.id}`)?"bg-white/10 border-white/10":""} ${y?"bg-white/15 border-white/20":""}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[b.icon?l.jsx("span",{className:"flex h-4 w-4 items-center justify-center",children:b.icon}):null,l.jsx("span",{className:"truncate",children:b.label})]})},`${b.type}-${b.id}`)})]})]})})]})},wr=({options:e,selectedIds:t,onToggle:n,onClear:r,className:i="",buttonLabel:a="Columns",buttonIcon:s})=>{const[o,c]=g.useState(!1),u=g.useRef(null),d=new Set(t);return g.useEffect(()=>{const f=h=>{u.current&&(u.current.contains(h.target)||c(!1))};return document.addEventListener("mousedown",f),()=>document.removeEventListener("mousedown",f)},[]),l.jsxs("div",{ref:u,className:`relative ${i}`,children:[l.jsxs("button",{type:"button",onClick:()=>c(f=>!f),className:"flex items-center gap-2 rounded-lg border border-white/10 bg-white/5 px-3 py-1 text-xs font-semibold text-gray-300 hover:text-white hover:border-white/30 transition-colors",children:[s?l.jsx("span",{className:"h-3.5 w-3.5 text-gray-400",children:s}):null,l.jsx("span",{children:a}),t.length>0&&l.jsx("span",{className:"rounded-full bg-white/10 px-2 py-0.5 text-[10px] text-gray-200",children:t.length})]}),o&&l.jsxs("div",{className:"absolute z-20 mt-2 w-56 rounded-xl border border-white/10 bg-slate-950 p-2 text-xs shadow-2xl",children:[l.jsxs("div",{className:"flex items-center justify-between px-2 pb-2 text-[11px] uppercase tracking-widest text-gray-500",children:[l.jsx("span",{children:"Filter Columns"}),l.jsx("button",{type:"button",onClick:r,className:"text-gray-400 hover:text-white",children:"Clear"})]}),l.jsx("div",{className:"max-h-56 overflow-y-auto space-y-1 pr-1",children:e.length===0?l.jsx("div",{className:"px-2 py-2 text-gray-500 italic",children:"No columns"}):e.map(f=>l.jsx("button",{type:"button",onClick:()=>n(f.id),className:`w-full text-left px-2 py-1.5 rounded-lg border transition-colors ${d.has(f.id)?"bg-white/10 border-white/20 text-white":"border-transparent text-gray-300 hover:bg-white/5 hover:text-white"}`,children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("span",{className:`h-2.5 w-2.5 rounded-full border ${d.has(f.id)?"bg-emerald-400/80 border-emerald-300":"border-gray-500"}`}),f.icon?l.jsx("span",{className:"flex h-4 w-4 items-center justify-center shrink-0",children:f.icon}):null,l.jsx("span",{className:"truncate max-w-[140px]",children:f.label})]})},f.id))})]})]})},qse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,apmSpecAvailable:c,skillUsageAvailable:u,apmSpecTables:d,activeApmSpec:f,setActiveApmSpec:h,expandedApmSpec:m,setExpandedApmSpec:p,activeApmSkillId:x,setActiveApmSkillId:v,ALL_SKILLS_KEY:b,apmSkillSearch:y,setApmSkillSearch:w,activeApmSpecTable:N,activeApmSkill:j,isAllApmSkills:k,apmView:C,setApmView:E,formatApmValue:R,formatCastRateValue:T,formatCastCountValue:$,renderProfessionIcon:I})=>{var de;const[re,ce]=g.useState({key:"apm",dir:"desc"}),ve=e==="apm-stats",[Oe,fe]=g.useState({columnId:"",dir:"desc"}),[Z,xe]=g.useState([]),[_,D]=g.useState([]),[ue,S]=g.useState({}),Y=ve?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,B=oe=>{ce(H=>({key:oe,dir:H.key===oe&&H.dir==="desc"?"asc":"desc"}))},ee=g.useMemo(()=>{const oe=[...(N==null?void 0:N.playerRows)||[]];return oe.sort((H,K)=>{const J=re.key==="apm"?Number(C==="perSecond"?H.aps:H.apm):Number(C==="perSecond"?H.apsNoAuto:H.apmNoAuto),ae=re.key==="apm"?Number(C==="perSecond"?K.aps:K.apm):Number(C==="perSecond"?K.apsNoAuto:K.apmNoAuto);return(re.dir==="desc"?ae-J:J-ae)||String(H.displayName||"").localeCompare(String(K.displayName||""))}),oe},[N,re,C]);return l.jsxs("div",{id:"apm-stats","data-section-visible":i("apm-stats"),"data-section-first":a("apm-stats"),className:s("apm-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="apm-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[l.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(Qk,{className:"w-5 h-5 text-emerald-300"}),"APM Breakdown"]}),l.jsxs("div",{className:"flex items-center gap-3 relative",children:[l.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[d.length," ",d.length===1?"spec":"specs"]}),l.jsx("button",{type:"button",onClick:()=>e==="apm-stats"?r():n("apm-stats"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="apm-stats"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="apm-stats"?"Close APM Breakdown":"Expand APM Breakdown",title:e==="apm-stats"?"Close":"Expand",children:e==="apm-stats"?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:e==="apm-stats"?"flex-1 min-h-0 flex flex-col":"",children:c?l.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="apm-stats"?"flex-1 min-h-0 h-full":""}`,children:[l.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="apm-stats"?"h-full":""}`,children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Elite Specs"}),l.jsx("div",{className:"mb-2",children:l.jsx("input",{type:"text",value:y,onChange:oe=>w(oe.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"})}),l.jsx("div",{className:Y,children:d.map(oe=>l.jsxs("div",{className:"space-y-1",children:[l.jsx("button",{onClick:()=>{const H=f!==oe.profession;h(oe.profession),p(H?oe.profession:m===oe.profession?null:oe.profession),H&&(v(b),xe([]),D([]))},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${f===oe.profession?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I(oe.profession,void 0,"w-4 h-4"),l.jsx("span",{className:"truncate",children:oe.profession})]}),l.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:l.jsxs("span",{className:"text-[10px]",children:[oe.players.length,"p"]})})]})}),!ve&&m===oe.profession&&l.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[l.jsx("input",{type:"text",value:ue[oe.profession]||"",onChange:H=>{const K=H.target.value;S(J=>({...J,[oe.profession]:K}))},placeholder:"Filter this spec...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-emerald-500/60"}),l.jsx("button",{type:"button",onClick:()=>{h(oe.profession),v(b)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===oe.profession&&k?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Skills"}),(oe.skills||[]).filter(H=>{const K=(ue[oe.profession]||"").trim().toLowerCase();return K?String(H.name||"").toLowerCase().includes(K):!0}).map(H=>l.jsx("button",{type:"button",onClick:()=>{h(oe.profession),v(H.id)},className:`w-full text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${f===oe.profession&&x===H.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:H.name,children:l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[H.icon?l.jsx("img",{src:H.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,l.jsx("span",{className:"truncate",children:H.name})]})},H.id)),(oe.skills||[]).filter(H=>{const K=(ue[oe.profession]||"").trim().toLowerCase();return K?String(H.name||"").toLowerCase().includes(K):!0}).length===0&&l.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},oe.profession))})]}),l.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="apm-stats"?"flex flex-col min-h-0":""}`,children:N?l.jsxs("div",{className:e==="apm-stats"?"flex flex-col min-h-0":"",children:[ve&&(()=>{const oe=N.skills||[],H=(N.playerRows||[]).map(V=>({id:V.key,label:V.displayName||V.account||V.key,icon:I(V.profession,V.professionList,"w-3 h-3")})),K=oe.map(V=>({id:V.id,label:V.name,icon:V.icon?l.jsx("img",{src:V.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),J=[...oe.map(V=>({id:V.id,label:V.name,type:"column",icon:V.icon?l.jsx("img",{src:V.icon,alt:"",className:"h-4 w-4"}):void 0})),...(N.playerRows||[]).map(V=>({id:V.key,label:V.displayName||V.account||V.key,type:"player",icon:I(V.profession,V.professionList,"w-3 h-3")}))],ae=new Set([...Z.map(V=>`column:${V}`),..._.map(V=>`player:${V}`)]);return l.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"APM"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Hs,{options:J,selectedIds:ae,onSelect:V=>{V.type==="column"?xe(be=>be.includes(V.id)?be.filter(ie=>ie!==V.id):[...be,V.id]):D(be=>be.includes(V.id)?be.filter(ie=>ie!==V.id):[...be,V.id])},className:"w-full sm:w-64"}),l.jsx(wr,{options:K,selectedIds:Z,onToggle:V=>{xe(be=>be.includes(V)?be.filter(ie=>ie!==V):[...be,V])},onClear:()=>xe([]),buttonLabel:"Columns",buttonIcon:l.jsx(Ws,{className:"h-3.5 w-3.5"})}),l.jsx(wr,{options:H,selectedIds:_,onToggle:V=>{D(be=>be.includes(V)?be.filter(ie=>ie!==V):[...be,V])},onClear:()=>D([]),buttonLabel:"Players",buttonIcon:l.jsx(Er,{className:"h-3.5 w-3.5"})}),l.jsx(Cn,{value:C,onChange:E,options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-400/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(Z.length>0||_.length>0)&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{xe([]),D([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),Z.map(V=>{var ie;const be=((ie=oe.find(me=>me.id===V))==null?void 0:ie.name)||V;return l.jsxs("button",{type:"button",onClick:()=>xe(me=>me.filter(Ye=>Ye!==V)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:be}),l.jsx("span",{className:"text-gray-400",children:""})]},V)}),_.map(V=>{var ie;const be=((ie=H.find(me=>me.id===V))==null?void 0:ie.label)||V;return l.jsxs("button",{type:"button",onClick:()=>D(me=>me.filter(Ye=>Ye!==V)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:be}),l.jsx("span",{className:"text-gray-400",children:""})]},V)})]})]})})(),ve?(()=>{var V,be;const oe=N.skills||[],H=Z.length>0?oe.filter(ie=>Z.includes(ie.id)):oe,K=_.length>0?(N.playerRows||[]).filter(ie=>_.includes(ie.key)):N.playerRows||[];if(oe.length===0)return l.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No skills available for this class."});const J=((V=H.find(ie=>ie.id===Oe.columnId))==null?void 0:V.id)||((be=H[0])==null?void 0:be.id)||"",ae=[...K].map(ie=>{const me={},Ye={};return H.forEach(Qe=>{var Ae;const yt=Number(((Ae=Qe.playerCounts)==null?void 0:Ae.get(ie.key))||0),$e=C==="perSecond"?yt/Math.max(1,ie.totalActiveSeconds||0):yt;Ye[Qe.id]=$e,me[Qe.id]=C==="perSecond"?T($e):$($e)}),{row:ie,values:me,numericValues:Ye}}).sort((ie,me)=>{const Ye=ie.numericValues[J]??0,Qe=me.numericValues[J]??0;return(Oe.dir==="desc"?Qe-Ye:Ye-Qe)||String(ie.row.displayName||"").localeCompare(String(me.row.displayName||""))});return l.jsx(Ns,{title:"APM - Dense View",subtitle:"Skills",sortColumnId:J,sortDirection:Oe.dir,onSortColumn:ie=>{fe(me=>({columnId:ie,dir:me.columnId===ie&&me.dir==="desc"?"asc":"desc"}))},columns:H.map(ie=>({id:ie.id,label:l.jsx(yr,{name:ie.name,iconUrl:ie.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ae.map((ie,me)=>({id:`${N.profession}-${ie.row.key}`,label:l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 font-mono",children:me+1}),I(ie.row.profession,ie.row.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:ie.row.displayName})]}),values:ie.values}))})})():l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"stats-table-shell__head-stack",children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 px-4 py-3 bg-white/5",children:[l.jsx("div",{className:"min-w-0 text-sm font-semibold text-gray-200",children:l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[I(N.profession,void 0,"w-4 h-4"),l.jsx("span",{className:"truncate",children:N.profession}),l.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),k||!j?l.jsx("span",{className:"truncate",children:"All Skills"}):l.jsx(yr,{name:j.name,iconUrl:j.icon,iconClassName:"h-5 w-5"})]})}),l.jsx("div",{className:"text-[11px] text-gray-500",children:k||!j?`${((de=N.playerRows)==null?void 0:de.length)||0} players`:`${(j==null?void 0:j.totalCasts)??0} casts`})]}),k||!j?l.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.7fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[l.jsx("div",{children:"Player"}),l.jsxs("button",{type:"button",onClick:()=>B("apm"),className:`text-right transition-colors ${re.key==="apm"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[C==="perSecond"?"APS":"APM",re.key==="apm"?re.dir==="desc"?" ":" ":""]}),l.jsxs("button",{type:"button",onClick:()=>B("apmNoAuto"),className:`text-right transition-colors ${re.key==="apmNoAuto"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[C==="perSecond"?"APS":"APM"," (No Auto)",re.key==="apmNoAuto"?re.dir==="desc"?" ":" ":""]})]}):l.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.4fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[l.jsx("div",{children:"Player"}),l.jsx("div",{className:"text-right",children:"Casts"}),l.jsx("div",{className:"text-right",children:C==="perSecond"?"APS":"APM"})]})]}),k||!j?l.jsx(l.Fragment,{children:l.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:ee.map((oe,H)=>l.jsxs("div",{className:"grid grid-cols-[1.6fr_0.7fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${H+1}`}),I(oe.profession,oe.professionList,"w-4 h-4"),l.jsx("div",{className:"min-w-0",children:l.jsx("div",{className:"font-semibold text-white truncate",children:oe.displayName})})]}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:R(C==="perSecond"?oe.aps:oe.apm)}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:R(C==="perSecond"?oe.apsNoAuto:oe.apmNoAuto)})]},`${N.profession}-all-${oe.key}`))})}):l.jsx(l.Fragment,{children:l.jsx("div",{className:`stats-table-shell__rows ${e==="apm-stats"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:((j==null?void 0:j.playerRows)||[]).length===0?l.jsx("div",{className:"px-4 py-8 text-center text-sm text-gray-500 italic border-t border-white/5",children:"No player rows available for this skill."}):((j==null?void 0:j.playerRows)||[]).map((oe,H)=>l.jsxs("div",{className:"grid grid-cols-[1.4fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("span",{className:"text-[10px] font-semibold uppercase tracking-[0.2em] text-gray-500",children:`#${H+1}`}),I(oe.profession,oe.professionList,"w-4 h-4"),l.jsx("div",{className:"min-w-0",children:l.jsx("div",{className:"font-semibold text-white truncate",children:oe.displayName})})]}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:$(Number(oe.count||0))}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:R(Number(C==="perSecond"?oe.aps||0:oe.apm||0))})]},`${N.profession}-${j.id}-${oe.key}`))})})]})]}):l.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select an elite spec to view APM details"})})]}):l.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:u?"No APM data available for the current selection.":"Upload or highlight logs with rotation data to enable the APM table."})})]})},Kse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,sidebarListClass:o,viewMode:c,setViewMode:u,playerSkillBreakdowns:d,classSkillBreakdowns:f,activePlayerKey:h,setActivePlayerKey:m,expandedPlayerKey:p,setExpandedPlayerKey:x,activePlayerSkillId:v,setActivePlayerSkillId:b,activeClassKey:y,setActiveClassKey:w,expandedClassKey:N,setExpandedClassKey:j,activeClassSkillId:k,setActiveClassSkillId:C,skillSearch:E,setSkillSearch:R,activePlayerBreakdown:T,activePlayerSkill:$,activeClassBreakdown:I,activeClassSkill:re,renderProfessionIcon:ce})=>{const ve=d.length,Oe=((T==null?void 0:T.skills)||[]).reduce((ie,me)=>ie+(me.damage||0),0),fe=(I==null?void 0:I.players)||[],[Z,xe]=g.useState({key:"down",dir:"desc"}),_=e==="player-breakdown",[D,ue]=g.useState([]),[S,Y]=g.useState([]),[B,ee]=g.useState({columnId:"",dir:"desc"}),[de,oe]=g.useState({}),[H,K]=g.useState({}),J=(ie,me)=>{var Qe;if(!me)return null;const Ye=(Qe=ie.skillMap)==null?void 0:Qe[me];return Ye||ie.skills.find(yt=>yt.id===me)||null},ae=_?"overflow-y-auto space-y-1 pr-1 flex-1 min-h-0":`${o} max-h-72 overflow-y-auto`,V=g.useMemo(()=>{if(!I||!re)return fe;const ie=[...fe];return ie.sort((me,Ye)=>{const Qe=J(me,re.id),yt=J(Ye,re.id),$e=Number((Qe==null?void 0:Qe.downContribution)||0),Ae=Number((yt==null?void 0:yt.downContribution)||0),Ee=Number((Qe==null?void 0:Qe.damage)||0),ot=Number((yt==null?void 0:yt.damage)||0),Ce=me.totalFightMs>0?Ee/(me.totalFightMs/1e3):0,Kt=Ye.totalFightMs>0?ot/(Ye.totalFightMs/1e3):0;let Le=0;return Z.key==="down"&&(Le=$e-Ae),Z.key==="damage"&&(Le=Ee-ot),Z.key==="dps"&&(Le=Ce-Kt),Z.dir==="asc"?Le:-Le}),ie},[I,fe,re,Z]),be=ie=>{xe(me=>me.key!==ie?{key:ie,dir:"desc"}:{key:ie,dir:me.dir==="desc"?"asc":"desc"})};return l.jsxs("div",{id:"player-breakdown","data-section-visible":i("player-breakdown"),"data-section-first":a("player-breakdown"),className:s("player-breakdown",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24 flex flex-col ${e==="player-breakdown"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[l.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(qk,{className:"w-5 h-5 text-sky-300"}),"Player Breakdown"]}),l.jsxs("div",{className:"flex items-center gap-3 relative",children:[l.jsxs("div",{className:"text-xs uppercase tracking-[0.3em] text-gray-500",children:[ve," ",ve===1?"player":"players"]}),l.jsx("button",{type:"button",onClick:()=>e==="player-breakdown"?r():n("player-breakdown"),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${e==="player-breakdown"?"absolute -top-1 -right-1 md:static":""}`,"aria-label":e==="player-breakdown"?"Close Player Breakdown":"Expand Player Breakdown",title:e==="player-breakdown"?"Close":"Expand",children:e==="player-breakdown"?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]})]}),l.jsx("div",{className:e==="player-breakdown"?"flex-1 min-h-0 flex flex-col":"",children:d.length===0?l.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):l.jsxs("div",{className:`grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e==="player-breakdown"?"flex-1 min-h-0 h-full":""}`,children:[l.jsxs("div",{className:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${e==="player-breakdown"?"h-full":""}`,children:[l.jsxs("div",{className:"flex items-center justify-between gap-2 mb-3",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:_?"Squad Classes":c==="player"?"Squad Players":"Squad Classes"}),!_&&l.jsx("div",{className:"flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"player",label:"Player"},{id:"class",label:"Class"}].map(ie=>{const me=c===ie.id;return l.jsx("button",{type:"button",onClick:()=>u(ie.id),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${me?"bg-sky-500/30 text-sky-100":"text-gray-400 hover:text-white"}`,children:ie.label},ie.id)})})]}),l.jsx("div",{className:"mb-2",children:l.jsx("input",{type:"text",value:E,onChange:ie=>R(ie.target.value),placeholder:"Search skills...",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),l.jsx("div",{className:ae,children:(_?"class":c)==="player"?d.map(ie=>l.jsxs("div",{className:"space-y-1",children:[l.jsx("button",{onClick:()=>{const me=h!==ie.key;me&&(b(null),ue([]),Y([])),m(ie.key),x(me?ie.key:p===ie.key?null:ie.key)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h===ie.key?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:ie.displayName,children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ce(ie.profession,ie.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate min-w-0",children:ie.displayName})]}),l.jsx("div",{className:"flex items-center gap-2 text-gray-400 shrink-0",children:l.jsxs("span",{className:"text-[10px] whitespace-nowrap",children:[ie.skills.length," skills"]})})]})}),!_&&p===ie.key&&l.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[l.jsx("input",{type:"text",value:de[ie.key]||"",onChange:me=>{const Ye=me.target.value;oe(Qe=>({...Qe,[ie.key]:Ye}))},placeholder:"Filter this player's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),ie.skills.filter(me=>{const Ye=(de[ie.key]||"").trim().toLowerCase();return Ye?String(me.name||"").toLowerCase().includes(Ye):!0}).map(me=>l.jsx("button",{type:"button",onClick:()=>{m(ie.key),b(me.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${h===ie.key&&v===me.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:me.name,children:l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[me.icon?l.jsx("img",{src:me.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,l.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:me.name})]})},me.id)),ie.skills.filter(me=>{const Ye=(de[ie.key]||"").trim().toLowerCase();return Ye?String(me.name||"").toLowerCase().includes(Ye):!0}).length===0&&l.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},ie.key)):f.map(ie=>l.jsxs("div",{className:"space-y-1",children:[l.jsx("button",{onClick:()=>{const me=y!==ie.profession;me&&(C(null),ue([]),Y([])),w(ie.profession),j(me?ie.profession:N===ie.profession?null:ie.profession)},className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${y===ie.profession?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ce(ie.profession,void 0,"w-4 h-4"),l.jsx("span",{className:"truncate",children:ie.profession})]}),l.jsx("div",{className:"flex items-center gap-2 text-gray-400",children:l.jsxs("span",{className:"text-[10px]",children:[ie.players.length,"p"]})})]})}),!_&&N===ie.profession&&l.jsxs("div",{className:"ml-2 space-y-1 border-l border-white/10 pl-2",children:[l.jsx("input",{type:"text",value:H[ie.profession]||"",onChange:me=>{const Ye=me.target.value;K(Qe=>({...Qe,[ie.profession]:Ye}))},placeholder:"Filter this class's skills...",className:"w-full rounded-md border border-white/10 bg-black/30 px-2 py-1 text-[11px] text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"}),ie.skills.filter(me=>{const Ye=(H[ie.profession]||"").trim().toLowerCase();return Ye?String(me.name||"").toLowerCase().includes(Ye):!0}).map(me=>l.jsx("button",{type:"button",onClick:()=>{w(ie.profession),C(me.id)},className:`w-full min-h-[30px] text-left px-2 py-1.5 rounded-md text-[11px] border transition-colors ${y===ie.profession&&k===me.id?"bg-sky-500/20 text-sky-200 border-sky-500/30":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,title:me.name,children:l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[me.icon?l.jsx("img",{src:me.icon,alt:"",className:"h-3.5 w-3.5 object-contain shrink-0"}):null,l.jsx("span",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",children:me.name})]})},me.id)),ie.skills.filter(me=>{const Ye=(H[ie.profession]||"").trim().toLowerCase();return Ye?String(me.name||"").toLowerCase().includes(Ye):!0}).length===0&&l.jsx("div",{className:"px-2 py-1 text-[10px] text-gray-500",children:"No matching skills"})]})]},ie.profession))})]}),l.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table ${e==="player-breakdown"?"flex flex-col min-h-0":""}`,children:(_?"class":c)==="player"?!T||!_&&!$?l.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a player and skill to view breakdown details"}):l.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[_&&(()=>{const ie=T.skills||[],me=d.map($e=>({id:$e.key,label:$e.displayName||$e.key,icon:ce($e.profession,$e.professionList,"w-3 h-3")})),Ye=ie.map($e=>({id:$e.id,label:$e.name,icon:$e.icon?l.jsx("img",{src:$e.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Qe=[...ie.map($e=>({id:$e.id,label:$e.name,type:"column",icon:$e.icon?l.jsx("img",{src:$e.icon,alt:"",className:"h-4 w-4"}):void 0})),...d.map($e=>({id:$e.key,label:$e.displayName||$e.key,type:"player",icon:ce($e.profession,$e.professionList,"w-3 h-3")}))],yt=new Set([...D.map($e=>`column:${$e}`),...S.map($e=>`player:${$e}`)]);return l.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Player Breakdown"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Hs,{options:Qe,selectedIds:yt,onSelect:$e=>{$e.type==="column"?ue(Ae=>Ae.includes($e.id)?Ae.filter(Ee=>Ee!==$e.id):[...Ae,$e.id]):Y(Ae=>Ae.includes($e.id)?Ae.filter(Ee=>Ee!==$e.id):[...Ae,$e.id])},className:"w-full sm:w-64"}),l.jsx(wr,{options:Ye,selectedIds:D,onToggle:$e=>{ue(Ae=>Ae.includes($e)?Ae.filter(Ee=>Ee!==$e):[...Ae,$e])},onClear:()=>ue([]),buttonLabel:"Columns",buttonIcon:l.jsx(Ws,{className:"h-3.5 w-3.5"})}),l.jsx(wr,{options:me,selectedIds:S,onToggle:$e=>{Y(Ae=>Ae.includes($e)?Ae.filter(Ee=>Ee!==$e):[...Ae,$e])},onClear:()=>Y([]),buttonLabel:"Players",buttonIcon:l.jsx(Er,{className:"h-3.5 w-3.5"})})]}),(D.length>0||S.length>0)&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{ue([]),Y([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map($e=>{var Ee;const Ae=((Ee=ie.find(ot=>ot.id===$e))==null?void 0:Ee.name)||$e;return l.jsxs("button",{type:"button",onClick:()=>ue(ot=>ot.filter(Ce=>Ce!==$e)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:Ae}),l.jsx("span",{className:"text-gray-400",children:""})]},$e)}),S.map($e=>{var Ee;const Ae=((Ee=me.find(ot=>ot.id===$e))==null?void 0:Ee.label)||$e;return l.jsxs("button",{type:"button",onClick:()=>Y(ot=>ot.filter(Ce=>Ce!==$e)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:Ae}),l.jsx("span",{className:"text-gray-400",children:""})]},$e)})]})]})})(),_?(()=>{var $e,Ae;const ie=T.skills||[],me=D.length>0?ie.filter(Ee=>D.includes(Ee.id)):ie,Ye=S.length>0?d.filter(Ee=>S.includes(Ee.key)):d,Qe=(($e=me.find(Ee=>Ee.id===B.columnId))==null?void 0:$e.id)||((Ae=me[0])==null?void 0:Ae.id)||"",yt=Ye.map(Ee=>{const ot={},Ce={};return me.forEach(Kt=>{const Le=J(Ee,Kt.id),ft=Number((Le==null?void 0:Le.damage)||0);Ce[Kt.id]=ft,ot[Kt.id]=zl(ft)}),{player:Ee,values:ot,numericValues:Ce}}).sort((Ee,ot)=>{const Ce=Ee.numericValues[Qe]??0,Kt=ot.numericValues[Qe]??0;return(B.dir==="desc"?Kt-Ce:Ce-Kt)||String(Ee.player.displayName||"").localeCompare(String(ot.player.displayName||""))});return l.jsx(Ns,{title:"Player Breakdown - Dense View",subtitle:"Damage",sortColumnId:Qe,sortDirection:B.dir,onSortColumn:Ee=>{ee(ot=>({columnId:Ee,dir:ot.columnId===Ee&&ot.dir==="desc"?"asc":"desc"}))},columns:me.map(Ee=>({id:Ee.id,label:l.jsx(yr,{name:Ee.name,iconUrl:Ee.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:yt.map((Ee,ot)=>({id:`${Ee.player.key}-${ot}`,label:l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 font-mono",children:ot+1}),ce(Ee.player.profession,Ee.player.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:Ee.player.displayName})]}),values:Ee.values}))})})():l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"stats-table-shell__head-stack",children:[l.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:l.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[ce(T.profession,T.professionList,"w-4 h-4"),l.jsx("div",{className:"text-sm font-semibold text-gray-200",children:T.displayName}),l.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),l.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:l.jsx(yr,{name:($==null?void 0:$.name)||"",iconUrl:$==null?void 0:$.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),l.jsxs("div",{className:"text-[11px] text-gray-500",children:[T.skills.length," skills | ",zl(Oe)," total damage"]})]})}),l.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.2fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[l.jsx("div",{children:"Metric"}),l.jsx("div",{className:"text-right",children:"Value"})]})]}),l.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:[{label:"Down Contribution",value:zl(($==null?void 0:$.downContribution)||0)},{label:"Total Damage",value:zl(($==null?void 0:$.damage)||0)},{label:"DPS",value:mi(T.totalFightMs>0?(($==null?void 0:$.damage)||0)/(T.totalFightMs/1e3):0,1)}].map(ie=>l.jsxs("div",{className:"grid grid-cols-[1.2fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[l.jsx("div",{className:"font-semibold text-white",children:ie.label}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:ie.value})]},ie.label))})]})]}):!I||!_&&!re?l.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a class and skill to view breakdown details"}):l.jsxs("div",{className:e==="player-breakdown"?"flex flex-col min-h-0":"",children:[_&&(()=>{const ie=I.skills||[],me=fe.map($e=>({id:$e.key,label:$e.displayName||$e.key,icon:ce($e.profession,$e.professionList,"w-3 h-3")})),Ye=ie.map($e=>({id:$e.id,label:$e.name,icon:$e.icon?l.jsx("img",{src:$e.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Qe=[...ie.map($e=>({id:$e.id,label:$e.name,type:"column",icon:$e.icon?l.jsx("img",{src:$e.icon,alt:"",className:"h-4 w-4"}):void 0})),...fe.map($e=>({id:$e.key,label:$e.displayName||$e.key,type:"player",icon:ce($e.profession,$e.professionList,"w-3 h-3")}))],yt=new Set([...D.map($e=>`column:${$e}`),...S.map($e=>`player:${$e}`)]);return l.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Class Breakdown"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Hs,{options:Qe,selectedIds:yt,onSelect:$e=>{$e.type==="column"?ue(Ae=>Ae.includes($e.id)?Ae.filter(Ee=>Ee!==$e.id):[...Ae,$e.id]):Y(Ae=>Ae.includes($e.id)?Ae.filter(Ee=>Ee!==$e.id):[...Ae,$e.id])},className:"w-full sm:w-64"}),l.jsx(wr,{options:Ye,selectedIds:D,onToggle:$e=>{ue(Ae=>Ae.includes($e)?Ae.filter(Ee=>Ee!==$e):[...Ae,$e])},onClear:()=>ue([]),buttonLabel:"Columns",buttonIcon:l.jsx(Ws,{className:"h-3.5 w-3.5"})}),l.jsx(wr,{options:me,selectedIds:S,onToggle:$e=>{Y(Ae=>Ae.includes($e)?Ae.filter(Ee=>Ee!==$e):[...Ae,$e])},onClear:()=>Y([]),buttonLabel:"Players",buttonIcon:l.jsx(Er,{className:"h-3.5 w-3.5"})})]}),(D.length>0||S.length>0)&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{ue([]),Y([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),D.map($e=>{var Ee;const Ae=((Ee=ie.find(ot=>ot.id===$e))==null?void 0:Ee.name)||$e;return l.jsxs("button",{type:"button",onClick:()=>ue(ot=>ot.filter(Ce=>Ce!==$e)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:Ae}),l.jsx("span",{className:"text-gray-400",children:""})]},$e)}),S.map($e=>{var Ee;const Ae=((Ee=me.find(ot=>ot.id===$e))==null?void 0:Ee.label)||$e;return l.jsxs("button",{type:"button",onClick:()=>Y(ot=>ot.filter(Ce=>Ce!==$e)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:Ae}),l.jsx("span",{className:"text-gray-400",children:""})]},$e)})]})]})})(),_?(()=>{var $e,Ae;const ie=I.skills||[],me=D.length>0?ie.filter(Ee=>D.includes(Ee.id)):ie,Ye=S.length>0?fe.filter(Ee=>S.includes(Ee.key)):fe,Qe=(($e=me.find(Ee=>Ee.id===B.columnId))==null?void 0:$e.id)||((Ae=me[0])==null?void 0:Ae.id)||"",yt=Ye.map(Ee=>{const ot={},Ce={};return me.forEach(Kt=>{const Le=J(Ee,Kt.id),ft=Number((Le==null?void 0:Le.damage)||0);Ce[Kt.id]=ft,ot[Kt.id]=zl(ft)}),{player:Ee,values:ot,numericValues:Ce}}).sort((Ee,ot)=>{const Ce=Ee.numericValues[Qe]??0,Kt=ot.numericValues[Qe]??0;return(B.dir==="desc"?Kt-Ce:Ce-Kt)||String(Ee.player.displayName||"").localeCompare(String(ot.player.displayName||""))});return l.jsx(Ns,{title:"Class Breakdown - Dense View",subtitle:"Damage",sortColumnId:Qe,sortDirection:B.dir,onSortColumn:Ee=>{ee(ot=>({columnId:Ee,dir:ot.columnId===Ee&&ot.dir==="desc"?"asc":"desc"}))},columns:me.map(Ee=>({id:Ee.id,label:l.jsx(yr,{name:Ee.name,iconUrl:Ee.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:yt.map((Ee,ot)=>({id:`${Ee.player.key}-${ot}`,label:l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 font-mono",children:ot+1}),ce(Ee.player.profession,Ee.player.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:Ee.player.displayName})]}),values:Ee.values}))})})():l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"stats-table-shell__head-stack",children:[l.jsx("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:l.jsxs("div",{className:"flex flex-col gap-2 min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0 flex-wrap",children:[ce(I.profession,void 0,"w-4 h-4"),l.jsx("div",{className:"text-sm font-semibold text-gray-200",children:I.profession}),l.jsx("span",{className:"text-[11px] uppercase tracking-widest text-gray-500",children:"/"}),l.jsx("div",{className:"text-sm font-semibold text-gray-200 min-w-0",children:l.jsx(yr,{name:(re==null?void 0:re.name)||"",iconUrl:re==null?void 0:re.icon,iconClassName:"h-6 w-6",truncateText:!1,textClassName:"whitespace-normal break-words"})})]}),l.jsxs("div",{className:"text-[11px] text-gray-500",children:[fe.length," players | ",I.skills.length," skills"]})]})}),l.jsxs("div",{className:"stats-table-column-header grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[l.jsx("div",{children:"Player"}),l.jsxs("button",{type:"button",onClick:()=>be("down"),className:`text-right flex items-center justify-end gap-1 transition-colors ${Z.key==="down"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Down Contrib",l.jsx("span",{className:"text-[10px]",children:Z.key==="down"?Z.dir==="desc"?"":"":""})]}),l.jsxs("button",{type:"button",onClick:()=>be("damage"),className:`text-right flex items-center justify-end gap-1 transition-colors ${Z.key==="damage"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage",l.jsx("span",{className:"text-[10px]",children:Z.key==="damage"?Z.dir==="desc"?"":"":""})]}),l.jsxs("button",{type:"button",onClick:()=>be("dps"),className:`text-right flex items-center justify-end gap-1 transition-colors ${Z.key==="dps"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["DPS",l.jsx("span",{className:"text-[10px]",children:Z.key==="dps"?Z.dir==="desc"?"":"":""})]})]})]}),l.jsx("div",{className:`stats-table-shell__rows ${e==="player-breakdown"?"flex-1 min-h-0 overflow-y-auto":"max-h-72 overflow-y-auto"}`,children:V.map(ie=>{const me=J(ie,(re==null?void 0:re.id)||""),Ye=Number((me==null?void 0:me.downContribution)||0),Qe=Number((me==null?void 0:me.damage)||0),yt=ie.totalFightMs>0?Qe/(ie.totalFightMs/1e3):0;return l.jsxs("div",{className:"grid grid-cols-[1.6fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[ce(ie.profession,ie.professionList,"w-4 h-4"),l.jsx("div",{className:"min-w-0",children:l.jsx("div",{className:"font-semibold text-white truncate",children:ie.displayName})})]}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:zl(Ye)}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:zl(Qe)}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:mi(yt,1)})]},`${I.profession}-${ie.key}`)})})]})]})})]})})]})},Gse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,playerSkillBreakdowns:o,renderProfessionIcon:c})=>{const u="damage-breakdown",d=e===u,[f,h]=g.useState("damage"),[m,p]=g.useState(""),[x,v]=g.useState(null),b=C=>Number(f==="damage"?C.damage||0:C.downContribution||0),y=C=>(C.skills||[]).reduce((E,R)=>E+b(R),0),w=g.useMemo(()=>{const C=m.trim().toLowerCase();return[...C?o.filter(R=>String(R.displayName||"").toLowerCase().includes(C)||String(R.account||"").toLowerCase().includes(C)||String(R.profession||"").toLowerCase().includes(C)):o].sort((R,T)=>{const $=y(T)-y(R);return $!==0?$:String(R.displayName||"").localeCompare(String(T.displayName||""))})},[o,m,f]),N=g.useMemo(()=>x&&w.find(C=>C.key===x)||null,[w,x]),j=g.useMemo(()=>N?[...N.skills||[]].filter(C=>b(C)>0).sort((C,E)=>b(E)-b(C)).map(C=>({...C,value:b(C)})):[],[N,f]),k=g.useMemo(()=>N?y(N):0,[N,f]);return g.useEffect(()=>{if(w.length===0){x!==null&&v(null);return}x&&!w.some(C=>C.key===x)&&v(null)},[w,x]),l.jsxs("div",{id:u,"data-section-visible":i(u),"data-section-first":a(u),className:s(u,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${d?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[l.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[l.jsxs("div",{className:d?"pr-10 md:pr-0":"",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(um,{className:"w-5 h-5 text-sky-300"}),"Damage Breakdown"]}),l.jsx("p",{className:"text-xs text-gray-400",children:"Select one player to view total skill contribution for the selected metric."})]}),l.jsxs("div",{className:`flex items-center gap-3 ${d?"pr-10 md:pr-0":""}`,children:[l.jsx(Cn,{value:f,onChange:C=>h(C),options:[{value:"damage",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),l.jsx("button",{type:"button",onClick:()=>d?r():n(u),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${d?"absolute top-2 right-2 md:static":""}`,"aria-label":d?"Close Damage Breakdown":"Expand Damage Breakdown",title:d?"Close":"Expand",children:d?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]})]}),o.length===0?l.jsx("div",{className:"rounded-2xl border border-dashed border-white/20 px-4 py-6 text-center text-xs text-gray-400",children:"No player skill damage data available for the current selection."}):l.jsxs("div",{className:"grid gap-4 lg:grid-cols-[280px_1fr] items-stretch",children:[l.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 h-[360px]",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-3",children:"Squad Players"}),l.jsx("div",{className:"mb-2",children:l.jsx("input",{type:"search",value:m,onChange:C=>p(C.target.value),placeholder:"Search player or account",className:"w-full rounded-lg border border-white/10 bg-black/30 px-2.5 py-1.5 text-xs text-gray-200 placeholder-gray-500 focus:outline-none focus:ring-1 focus:ring-sky-500/60"})}),l.jsx("div",{className:"space-y-1 pr-1 flex-1 min-h-0 overflow-y-auto",children:w.length===0?l.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):w.map(C=>{const E=x===C.key;return l.jsx("button",{type:"button",onClick:()=>v(C.key),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${E?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c(C.profession,C.professionList,"w-3.5 h-3.5"),l.jsx("div",{className:"truncate min-w-0",children:C.displayName})]}),l.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[(C.skills||[]).length," ",(C.skills||[]).length===1?"skill":"skills"]})]}),l.jsx("div",{className:"text-xs font-mono text-sky-200 shrink-0",children:mi(y(C),0)})]})},C.key)})})]}),l.jsx("div",{className:"space-y-2 flex flex-col h-[360px]",children:l.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden stats-share-table flex-1 min-h-0 flex flex-col",children:N?l.jsxs("div",{className:"h-full flex flex-col",children:[l.jsxs("div",{className:"stats-table-shell__head-stack",children:[l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[l.jsx("div",{className:"min-w-0 text-sm text-gray-200",children:l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[l.jsx("span",{className:"text-[10px] uppercase tracking-[0.25em] text-gray-400 shrink-0",children:"Skill Totals /"}),c(N.profession,N.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate font-semibold",children:N.displayName})]})}),l.jsxs("div",{className:"text-xs text-gray-400 uppercase tracking-[0.18em]",children:[f==="damage"?"Damage":"Down Contrib"," / ",j.length," ",j.length===1?"skill":"skills"]})]}),l.jsxs("div",{className:"stats-table-column-header grid grid-cols-[2fr_0.8fr_0.7fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[l.jsx("div",{children:"Skill"}),l.jsx("div",{className:"text-right",children:f==="damage"?"Damage":"Down Contrib"}),l.jsx("div",{className:"text-right",children:"% Total"})]})]}),l.jsx("div",{className:"stats-table-shell__rows flex-1 min-h-0 overflow-y-auto",children:j.length===0?l.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No skill totals for this player and metric."}):j.map((C,E)=>l.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.7fr] gap-2 px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[l.jsx("div",{className:"min-w-0",children:l.jsx(yr,{name:C.name,iconUrl:C.icon,iconClassName:"h-4 w-4"})}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:mi(Number(C.value||0),0)}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:k>0?`${mi(Number(C.value||0)/k*100,1)}%`:"0.0%"})]},`${C.id}-${E}`))})]}):l.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view skill totals."})})})]})]})},Yse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,boonSearch:o,setBoonSearch:c,boons:u,activeBoonId:d,setActiveBoonId:f,timelineScope:h,setTimelineScope:m,playerFilter:p,setPlayerFilter:x,players:v,selectedPlayerKey:b,setSelectedPlayerKey:y,selectedPlayer:w,chartData:N,chartMaxY:j,selectedFightIndex:k,setSelectedFightIndex:C,drilldownTitle:E,drilldownData:R,formatWithCommas:T,renderProfessionIcon:$})=>{const I="boon-timeline",re=e===I,ce=w!=null&&w.profession&&w.profession!=="All"?tl(w.profession):"#22d3ee",ve=h==="selfBuffs"?"Self":h==="groupBuffs"?"Group":h==="squadBuffs"?"Squad":"All",Oe=D=>String(D||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),fe=N.reduce((D,ue)=>!D||ue.total>D.total?ue:D,null),Z=k===null?null:N.find(D=>D.index===k)||null,xe=Z||fe,_=D=>{if(!Number.isFinite(D)||D<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(D))}catch{return""}};return l.jsxs("div",{id:I,"data-section-visible":i(I),"data-section-first":a(I),className:s(I,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${re?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[l.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[l.jsxs("div",{className:re?"pr-10 md:pr-0":"",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(Zk,{className:"w-5 h-5 text-cyan-300"}),"Boon Timeline"]}),l.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player (or All) to chart generation totals by fight and 5-second buckets."})]}),l.jsx("button",{type:"button",onClick:()=>re?r():n(I),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${re?"absolute top-2 right-2 md:static":""}`,"aria-label":re?"Close Boon Timeline":"Expand Boon Timeline",title:re?"Close":"Expand",children:re?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[l.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[l.jsx("input",{type:"search",value:o,onChange:D=>c(D.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),l.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),l.jsx("div",{className:"mt-2",children:l.jsx(Cn,{value:h,onChange:D=>m(D),options:[{value:"selfBuffs",label:"Self"},{value:"squadBuffs",label:"Squad"},{value:"groupBuffs",label:"Group"},{value:"totalBuffs",label:"All"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),l.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?l.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):l.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(D=>{const ue=d===D.id;return l.jsxs("button",{type:"button",onClick:()=>f(D.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${ue?"border-cyan-300/60 bg-cyan-500/15 text-cyan-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[D.icon?l.jsx("img",{src:D.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):l.jsx(su,{className:"h-3.5 w-3.5 text-cyan-300"}),l.jsx("span",{children:D.name})]},D.id)})})})]}),l.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[l.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[l.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Boon Sources"}),l.jsx("input",{type:"search",value:p,onChange:D=>x(D.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-cyan-400 focus:outline-none"}),l.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:v.length===0?l.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player generation."}):l.jsx("div",{className:"p-1.5 space-y-1",children:v.map(D=>{const ue=b===D.key;return l.jsx("button",{type:"button",onClick:()=>y(D.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${ue?"border-cyan-300/60 bg-cyan-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[D.key==="__all__"?l.jsx(su,{className:"w-3.5 h-3.5 text-cyan-300"}):$(D.profession,D.professionList,"w-3.5 h-3.5"),l.jsx("div",{className:"text-sm font-semibold truncate text-white",children:D.displayName}),D.profession!=="All"&&l.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:D.profession})]}),l.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[D.logs," ",D.logs===1?"fight":"fights"]})]}),l.jsx("div",{className:"text-xs font-mono text-cyan-200 shrink-0",children:T((D.total||0)/1e3,0)})]})},D.key)})})})]}),l.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",ve," Generation"]}),l.jsxs("div",{className:"text-[11px] text-gray-500",children:[N.length," ",N.length===1?"fight":"fights"]})]}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!w||N.length===0?l.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon generation by fight."}):l.jsx(ys,{width:"100%",height:"100%",children:l.jsxs(gl,{data:N,onClick:D=>{const ue=Number(D==null?void 0:D.activeTooltipIndex);Number.isFinite(ue)&&C(k===ue?null:ue)},children:[l.jsx(vo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),l.jsx(yo,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),l.jsx(wo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,j)],tickFormatter:D=>T(D/1e3,0)}),l.jsx(ks,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(D,ue)=>[T(Number(D||0)/1e3,0),String(ue||"")],labelFormatter:(D,ue)=>{var Y;const S=(Y=ue==null?void 0:ue[0])==null?void 0:Y.payload;return Oe(String((S==null?void 0:S.fullLabel)||""))}}),l.jsx(ta,{type:"monotone",dataKey:"total",name:w.displayName,stroke:ce,strokeWidth:3,dot:D=>{var Y;const ue=Number((Y=D==null?void 0:D.payload)==null?void 0:Y.index);if(!Number.isFinite(ue))return null;const S=k===ue;return l.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:B=>{B.stopPropagation(),C(S?null:ue)},children:[l.jsx("circle",{cx:D.cx,cy:D.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),l.jsx("circle",{cx:D.cx,cy:D.cy,r:S?4:3,fill:ce,stroke:S?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:S?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),l.jsx(ta,{type:"monotone",dataKey:"maxTotal",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),w&&l.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Source"}),l.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[w.key==="__all__"?l.jsx(su,{className:"w-4 h-4 text-cyan-300"}):$(w.profession,w.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:w.displayName})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:Z?"Selected Fight Generation":"Peak Fight Generation"}),l.jsx("div",{className:"mt-1 text-lg font-black text-cyan-200 font-mono",children:T(Number((xe==null?void 0:xe.total)||0)/1e3,0)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:Z?"Selected Fight":"Peak Fight"}),l.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const D=Oe((xe==null?void 0:xe.fullLabel)||"N/A"),ue=_(Number((xe==null?void 0:xe.timestamp)||0));return ue?`${ue} - ${D}`:D})()})]})]}),w&&k!==null&&l.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:E}),l.jsx("button",{type:"button",onClick:()=>C(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),l.jsx("div",{className:"h-[220px] relative",children:R.length===0?l.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):l.jsx(ys,{width:"100%",height:"100%",children:l.jsxs(gl,{data:R,children:[l.jsx(vo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),l.jsx(yo,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),l.jsx(wo,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:D=>T(D/1e3,0)}),l.jsx(ks,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:D=>[T(Number(D||0)/1e3,0),"Generation"],labelFormatter:D=>String(D||"")}),l.jsx(ta,{type:"monotone",dataKey:"value",name:"Generation",stroke:ce,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}})]})})})]})]})},Xse=({expandedSection:e,expandedSectionClosing:t,openExpandedSection:n,closeExpandedSection:r,isSectionVisible:i,isFirstVisibleSection:a,sectionClass:s,boonSearch:o,setBoonSearch:c,boons:u,activeBoonId:d,setActiveBoonId:f,playerFilter:h,setPlayerFilter:m,players:p,selectedPlayerKey:x,setSelectedPlayerKey:v,selectedPlayer:b,chartData:y,chartMaxY:w,selectedFightIndex:N,setSelectedFightIndex:j,drilldownTitle:k,drilldownData:C,overallUptimePercent:E,showStackCapLine:R=!1,formatWithCommas:T,renderProfessionIcon:$})=>{const I="boon-uptime",re=e===I,ce=b!=null&&b.profession&&b.profession!=="All"?tl(b.profession):"#f59e0b",ve=B=>String(B||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),Oe=y.reduce((B,ee)=>!B||ee.peak>B.peak?ee:B,null),fe=N===null?null:y.find(B=>B.index===N)||null,Z=fe||Oe,xe=R?Math.ceil(Math.max(1,w)+3):Math.max(1,w),_=Math.max(1,...C.map(B=>Math.max(0,Number((B==null?void 0:B.value)||0))),...R?[25]:[]),D=R?Math.ceil(Math.max(1,_)+3):Math.max(1,_),ue=R?"average":"uptimePercent",S=R?"Per Fight Average Stacks":"Per Fight Uptime %",Y=B=>{if(!Number.isFinite(B)||B<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(B))}catch{return""}};return l.jsxs("div",{id:I,"data-section-visible":i(I),"data-section-first":a(I),className:s(I,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${re?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${t?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[l.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[l.jsxs("div",{className:re?"pr-10 md:pr-0":"",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(dm,{className:"w-5 h-5 text-amber-300"}),"Boon Uptime"]}),l.jsx("p",{className:"text-xs text-gray-400",children:"Select a boon, then a player to chart per-fight peak stacks and drill into 5-second fight buckets."})]}),l.jsx("button",{type:"button",onClick:()=>re?r():n(I),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${re?"absolute top-2 right-2 md:static":""}`,"aria-label":re?"Close Boon Uptime":"Expand Boon Uptime",title:re?"Close":"Expand",children:re?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]}),l.jsxs("div",{className:"mb-4 rounded-2xl border border-white/10 bg-black/30 p-3",children:[l.jsxs("div",{className:"flex flex-col gap-2 lg:flex-row lg:items-center lg:justify-between",children:[l.jsx("input",{type:"search",value:o,onChange:B=>c(B.target.value),placeholder:"Search boon",className:"w-full lg:w-72 rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),l.jsxs("div",{className:"text-[11px] text-gray-500",children:[u.length," ",u.length===1?"boon":"boons"]})]}),l.jsx("div",{className:"mt-2 max-h-28 overflow-y-auto rounded-xl border border-white/10 bg-black/20 p-1.5",children:u.length===0?l.jsx("div",{className:"px-3 py-2 text-xs text-gray-500 italic",children:"No boons match this filter."}):l.jsx("div",{className:"flex flex-wrap gap-1.5",children:u.map(B=>{const ee=d===B.id;return l.jsxs("button",{type:"button",onClick:()=>f(B.id),className:`inline-flex items-center gap-1.5 rounded-full border px-2.5 py-1 text-xs transition-colors ${ee?"border-amber-300/60 bg-amber-500/15 text-amber-100":"border-white/10 bg-white/[0.03] text-gray-300 hover:border-white/20 hover:text-white"}`,children:[B.icon?l.jsx("img",{src:B.icon,alt:"",className:"h-3.5 w-3.5 object-contain",loading:"lazy"}):l.jsx(su,{className:"h-3.5 w-3.5 text-amber-300"}),l.jsx("span",{children:B.name})]},B.id)})})})]}),l.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[l.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[l.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:"Players"}),l.jsx("input",{type:"search",value:h,onChange:B=>m(B.target.value),placeholder:"Search player or account",className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-amber-400 focus:outline-none"}),l.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:p.length===0?l.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"Select a boon to view player uptime."}):l.jsx("div",{className:"p-1.5 space-y-1",children:p.map(B=>{const ee=x===B.key;return l.jsx("button",{type:"button",onClick:()=>v(B.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${ee?"border-amber-300/60 bg-amber-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[B.key==="__all__"?l.jsx(dm,{className:"w-3.5 h-3.5 text-amber-300"}):$(B.profession,B.professionList,"w-3.5 h-3.5"),l.jsx("div",{className:"text-sm font-semibold truncate text-white",children:B.displayName}),B.profession!=="All"&&l.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:B.profession})]}),l.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[B.logs," ",B.logs===1?"fight":"fights"]})]}),l.jsxs("div",{className:"text-xs font-mono text-amber-200 shrink-0",children:[T(Number(B.uptimePercent||0),1),"%"]})]})},B.key)})})})]}),l.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:S}),l.jsxs("div",{className:"text-[11px] text-gray-500",children:[y.length," ",y.length===1?"fight":"fights"]})]}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!b||y.length===0?l.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view boon uptime by fight."}):l.jsx(ys,{width:"100%",height:"100%",children:l.jsxs(gl,{data:y,onClick:B=>{const ee=Number(B==null?void 0:B.activeTooltipIndex);Number.isFinite(ee)&&j(N===ee?null:ee)},children:[l.jsx(vo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),l.jsx(yo,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),l.jsx(wo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,xe],tickFormatter:B=>R?T(B,0):`${T(B,0)}%`}),l.jsx(ks,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(B,ee)=>[R?T(Number(B||0),1):`${T(Number(B||0),1)}%`,String(ee||"")],labelFormatter:(B,ee)=>{var oe;const de=(oe=ee==null?void 0:ee[0])==null?void 0:oe.payload;return ve(String((de==null?void 0:de.fullLabel)||""))}}),l.jsx(ta,{type:"monotone",dataKey:ue,name:b.displayName,stroke:ce,strokeWidth:3,dot:B=>{var oe;const ee=Number((oe=B==null?void 0:B.payload)==null?void 0:oe.index);if(!Number.isFinite(ee))return null;const de=N===ee;return l.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:H=>{H.stopPropagation(),j(de?null:ee)},children:[l.jsx("circle",{cx:B.cx,cy:B.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),l.jsx("circle",{cx:B.cx,cy:B.cy,r:de?4:3,fill:ce,stroke:de?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:de?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),R&&l.jsx(f1,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]}),b&&l.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),l.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[b.key==="__all__"?l.jsx(dm,{className:"w-4 h-4 text-amber-300"}):$(b.profession,b.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:b.displayName})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:fe?R?"Selected Fight Avg Stacks":"Selected Fight Uptime":"Overall Uptime"}),l.jsx("div",{className:"mt-1 text-lg font-black text-amber-200 font-mono",children:fe?R?T(Number(fe.average??0),1):`${T(Number(fe.uptimePercent||0),1)}%`:E===null?"--":`${T(Number(E||0),1)}%`})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:fe?"Selected Fight":"Peak Fight"}),l.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const B=ve((Z==null?void 0:Z.fullLabel)||"N/A"),ee=Y(Number((Z==null?void 0:Z.timestamp)||0));return ee?`${ee} - ${B}`:B})()})]})]}),b&&N!==null&&l.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:k}),l.jsx("button",{type:"button",onClick:()=>j(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),l.jsx("div",{className:"h-[220px] relative",children:C.length===0?l.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):l.jsx(ys,{width:"100%",height:"100%",children:l.jsxs(gl,{data:C,children:[l.jsx(vo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),l.jsx(yo,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),l.jsx(wo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,D]}),l.jsx(ks,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(B,ee)=>[T(Number(B||0),0),String(ee||"")],labelFormatter:B=>String(B||"")}),l.jsx(ta,{type:"monotone",dataKey:"value",name:"Selected",stroke:ce,strokeWidth:2.5,dot:{r:2},activeDot:{r:4}}),R&&l.jsx(f1,{y:25,stroke:"rgba(251,191,36,0.9)",strokeDasharray:"6 4",ifOverflow:"extendDomain",label:{value:"25",position:"right",fill:"#fbbf24",fontSize:10}})]})})})]})]})},aF=({className:e})=>l.jsx(q8,{className:e,style:{transform:"rotate(45deg)"}}),Nl=({expanded:e,className:t="",sidebarClassName:n="",contentClassName:r="",sidebar:i,content:a})=>l.jsxs("div",{className:`stats-table-layout grid grid-cols-1 lg:grid-cols-[260px_1fr] gap-4 ${e?"flex-1 min-h-0 h-full":""} ${t}`,children:[l.jsx("div",{className:`stats-table-layout__sidebar ${n}`,children:i}),l.jsx("div",{className:`stats-table-layout__content ${r}`,children:a})]}),qs=({header:e,columns:t,rows:n,expanded:r,maxHeightClass:i="max-h-80"})=>l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"stats-table-shell__head-stack",children:[l.jsx("div",{className:"stats-table-shell__header",children:e}),l.jsx("div",{className:"stats-table-shell__columns",children:t})]}),l.jsx("div",{className:`stats-table-shell__rows ${r?"flex-1 min-h-0 overflow-y-auto":`${i} overflow-y-auto`}`,children:n})]}),Qse=({stats:e,OFFENSE_METRICS:t,roundCountStats:n,offenseSearch:r,setOffenseSearch:i,activeOffenseStat:a,setActiveOffenseStat:s,offenseViewMode:o,setOffenseViewMode:c,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:x,isFirstVisibleSection:v,sectionClass:b,sidebarListClass:y})=>{var _;const[w,N]=g.useState({key:"value",dir:"desc"}),[j,k]=g.useState({columnId:((_=t[0])==null?void 0:_.id)||"value",dir:"desc"}),C=f==="offense-detailed",[E,R]=g.useState([]),[T,$]=g.useState([]),I=t.filter(D=>D.label.toLowerCase().includes(r.trim().toLowerCase())),re=t.map(D=>({id:D.id,label:D.label})),ce=re.filter(D=>D.label.toLowerCase().includes(r.trim().toLowerCase())),Oe=E.length>0?t.filter(D=>E.includes(D.id)):t,fe=Array.from(new Map(e.offensePlayers.map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,icon:d(D.profession,D.professionList,"w-3 h-3")})),Z=new Set([...E.map(D=>`column:${D}`),...T.map(D=>`player:${D}`)]),xe=D=>{N(ue=>({key:D,dir:ue.key===D&&ue.dir==="desc"?"asc":"desc"}))};return l.jsxs("div",{id:"offense-detailed","data-section-visible":x("offense-detailed"),"data-section-first":v("offense-detailed"),className:b("offense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="offense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(aF,{className:"w-5 h-5 text-rose-300"}),"Offenses - Detailed"]}),l.jsx("button",{type:"button",onClick:()=>f==="offense-detailed"?p():m("offense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="offense-detailed"?"Close Offense Detailed":"Expand Offense Detailed",title:f==="offense-detailed"?"Close":"Expand",children:f==="offense-detailed"?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]}),e.offensePlayers.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No offensive stats available"}):C?l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Hs,{options:[...re.map(D=>({...D,type:"column"})),...fe.map(D=>({...D,type:"player"}))],onSelect:D=>{D.type==="column"?R(ue=>ue.includes(D.id)?ue.filter(S=>S!==D.id):[...ue,D.id]):$(ue=>ue.includes(D.id)?ue.filter(S=>S!==D.id):[...ue,D.id])},selectedIds:Z,className:"w-full sm:w-64"}),l.jsx(wr,{options:ce,selectedIds:E,onToggle:D=>{R(ue=>ue.includes(D)?ue.filter(S=>S!==D):[...ue,D])},onClear:()=>R([]),buttonIcon:l.jsx(Ws,{className:"h-3.5 w-3.5"})}),l.jsx(wr,{options:fe,selectedIds:T,onToggle:D=>{$(ue=>ue.includes(D)?ue.filter(S=>S!==D):[...ue,D])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:l.jsx(Er,{className:"h-3.5 w-3.5"})}),l.jsx(Cn,{value:o,onChange:c,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||T.length>0)&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{R([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(D=>{var S;const ue=((S=re.find(Y=>Y.id===D))==null?void 0:S.label)||D;return l.jsxs("button",{type:"button",onClick:()=>R(Y=>Y.filter(B=>B!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:ue}),l.jsx("span",{className:"text-gray-400",children:""})]},D)}),T.map(D=>l.jsxs("button",{type:"button",onClick:()=>$(ue=>ue.filter(S=>S!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:D}),l.jsx("span",{className:"text-gray-400",children:""})]},D))]})]}),l.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:I.length===0?l.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No offensive stats match this filter"}):(()=>{var ee,de;const D=oe=>Math.max(1,(oe.totalFightMs||0)/1e3),ue=(oe,H,K)=>{var J,ae,V,be,ie;if(H==="downContributionPercent"){const me=((J=oe.offenseTotals)==null?void 0:J.downContribution)||0,Ye=((ae=oe.offenseTotals)==null?void 0:ae.damage)||0;return Ye>0?me/Ye*100:0}if(K.isRate){const me=((V=oe.offenseRateWeights)==null?void 0:V[H])||0,Ye=((be=oe.offenseTotals)==null?void 0:be[H])||0;return me>0?Ye/me*100:0}return((ie=oe.offenseTotals)==null?void 0:ie[H])||0},S=(oe,H)=>{const K=n&&!H.isPercent&&o==="total"?0:2,J=u(oe,K);return H.isPercent?`${J}%`:J},Y=((ee=Oe.find(oe=>oe.id===j.columnId))==null?void 0:ee.id)||((de=Oe[0])==null?void 0:de.id)||"",B=[...e.offensePlayers].filter(oe=>T.length===0||T.includes(oe.account)).map(oe=>{const H={},K={};return Oe.forEach(J=>{const ae=ue(oe,J.id,J),V=o==="total"||J.isPercent||J.isRate?ae:o==="per1s"?ae/D(oe):ae*60/D(oe);K[J.id]=V,H[J.id]=S(V,J)}),{row:oe,values:H,numericValues:K}}).sort((oe,H)=>{const K=oe.numericValues[Y]??0,J=H.numericValues[Y]??0;return(j.dir==="desc"?J-K:K-J)||String(oe.row.account||"").localeCompare(String(H.row.account||""))});return l.jsx(Ns,{title:"Offense - Dense View",subtitle:"Offensive",sortColumnId:Y,sortDirection:j.dir,onSortColumn:oe=>{k(H=>({columnId:oe,dir:H.columnId===oe&&H.dir==="desc"?"asc":"desc"}))},columns:Oe.map(oe=>({id:oe.id,label:oe.label,align:"right",minWidth:90})),rows:B.map((oe,H)=>({id:`${oe.row.account}-${H}`,label:l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 font-mono",children:H+1}),d(oe.row.profession,oe.row.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:oe.row.account})]}),values:oe.values}))})})()})]}):l.jsx(Nl,{expanded:f==="offense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="offense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="offense-detailed"?"flex flex-col min-h-0":""}`,sidebar:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Offensive Tabs"}),l.jsx("input",{value:r,onChange:D=>i(D.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),l.jsx("div",{className:`${y} ${f==="offense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:I.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No offensive stats match this filter"}):I.map(D=>l.jsx("button",{onClick:()=>s(D.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===D.id?"bg-rose-500/20 text-rose-200 border-rose-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:D.label},D.id))})]}),content:l.jsx(l.Fragment,{children:(()=>{const D=t.find(ee=>ee.id===a)||t[0],ue=ee=>Math.max(1,(ee.totalFightMs||0)/1e3),S=ee=>{var de,oe,H,K,J;if(D.id==="downContributionPercent"){const ae=((de=ee.offenseTotals)==null?void 0:de.downContribution)||0,V=((oe=ee.offenseTotals)==null?void 0:oe.damage)||0;return V>0?ae/V*100:0}if(D.isRate){const ae=((H=ee.offenseRateWeights)==null?void 0:H[D.id])||0,V=((K=ee.offenseTotals)==null?void 0:K[D.id])||0;return ae>0?V/ae*100:0}return((J=ee.offenseTotals)==null?void 0:J[D.id])||0},Y=ee=>{const de=n&&!D.isPercent&&o==="total"?0:2,oe=u(ee,de);return D.isPercent?`${oe}%`:oe},B=[...e.offensePlayers].map(ee=>({...ee,total:S(ee),per1s:D.isPercent||D.isRate?S(ee):S(ee)/ue(ee),per60s:D.isPercent||D.isRate?S(ee):S(ee)*60/ue(ee)})).sort((ee,de)=>{const oe=w.key==="fightTime"?Number(ee.totalFightMs||0):Number(o==="total"?ee.total:o==="per1s"?ee.per1s:ee.per60s),H=w.key==="fightTime"?Number(de.totalFightMs||0):Number(o==="total"?de.total:o==="per1s"?de.per1s:de.per60s);return(w.dir==="desc"?H-oe:oe-H)||ee.account.localeCompare(de.account)});return l.jsx(qs,{expanded:f==="offense-detailed",header:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-200",children:D.label}),l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Offensive"})]}),columns:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"flex items-center justify-end gap-2 px-4 py-2 bg-white/5",children:l.jsx(Cn,{value:o,onChange:c,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[l.jsx("div",{className:"text-center",children:"#"}),l.jsx("div",{children:"Player"}),l.jsxs("button",{type:"button",onClick:()=>xe("value"),className:`text-right transition-colors ${w.key==="value"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:[o==="total"?"Total":o==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),l.jsxs("button",{type:"button",onClick:()=>xe("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-rose-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:l.jsx(l.Fragment,{children:B.map((ee,de)=>l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[l.jsx("div",{className:"text-center text-gray-500 font-mono",children:de+1}),l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(ee.profession,ee.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:ee.account})]}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const oe=o==="total"?ee.total:o==="per1s"?ee.per1s:ee.per60s;return Y(oe)})()}),l.jsx("div",{className:"text-right font-mono text-gray-400",children:ee.totalFightMs?`${(ee.totalFightMs/1e3).toFixed(1)}s`:"-"})]},`${D.id}-${ee.account}-${de}`))})})})()})})]})},Zse=({conditionSummary:e,conditionPlayers:t,conditionSearch:n,setConditionSearch:r,activeConditionName:i,setActiveConditionName:a,conditionDirection:s,setConditionDirection:o,conditionGridClass:c,effectiveConditionSort:u,setConditionSort:d,showConditionDamage:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:x,closeExpandedSection:v,isSectionVisible:b,isFirstVisibleSection:y,sectionClass:w,sidebarListClass:N})=>{var _;const j=m==="conditions-outgoing",[k,C]=g.useState([]),[E,R]=g.useState([]),[T,$]=g.useState({columnId:"all",dir:"desc"}),I=D=>{if(!D)return 0;const ue=Number(D.applicationsFromUptime);if(Number.isFinite(ue)&&ue>0)return ue;const S=Number(D.applicationsFromBuffsActive);if(Number.isFinite(S)&&S>0)return S;const Y=Number(D.applicationsFromBuffs);return Number.isFinite(Y)&&Y>0?Y:Number(D.applications||0)},re=[...e||[]].sort((D,ue)=>(ue.damage||0)-(D.damage||0)),ce=re.filter(D=>D.name.toLowerCase().includes(n.trim().toLowerCase())),ve=ce.map(D=>({id:D.name,label:D.name,icon:D.icon?l.jsx("img",{src:D.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),fe=k.length>0?re.filter(D=>k.includes(D.name)):re,Z=Array.from(new Map((t||[]).map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,icon:h(D.profession,D.professionList,"w-3 h-3")})),xe=new Set([...k.map(D=>`column:${D}`),...E.map(D=>`player:${D}`)]);return l.jsxs("div",{id:"conditions-outgoing","data-section-visible":b("conditions-outgoing"),"data-section-first":y("conditions-outgoing"),className:w("conditions-outgoing",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="conditions-outgoing"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(gu,{className:"w-5 h-5 text-amber-300"}),"Conditions"]}),l.jsx("button",{type:"button",onClick:()=>m==="conditions-outgoing"?v():x("conditions-outgoing"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="conditions-outgoing"?"Close Outgoing Conditions":"Expand Outgoing Conditions",title:m==="conditions-outgoing"?"Close":"Expand",children:m==="conditions-outgoing"?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]}),e&&e.length>0?j?l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Hs,{options:[...re.map(D=>({id:D.name,label:D.name,type:"column"})),...Z.map(D=>({...D,type:"player"}))],onSelect:D=>{D.type==="column"?C(ue=>ue.includes(D.id)?ue.filter(S=>S!==D.id):[...ue,D.id]):R(ue=>ue.includes(D.id)?ue.filter(S=>S!==D.id):[...ue,D.id])},selectedIds:xe,className:"w-full sm:w-64"}),l.jsx(wr,{options:ve,selectedIds:k,onToggle:D=>{C(ue=>ue.includes(D)?ue.filter(S=>S!==D):[...ue,D])},onClear:()=>C([]),buttonIcon:l.jsx(Ws,{className:"h-3.5 w-3.5"})}),l.jsx(wr,{options:Z,selectedIds:E,onToggle:D=>{R(ue=>ue.includes(D)?ue.filter(S=>S!==D):[...ue,D])},onClear:()=>R([]),buttonLabel:"Players",buttonIcon:l.jsx(Er,{className:"h-3.5 w-3.5"})}),l.jsx(Cn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),f&&l.jsx(Cn,{value:u.key,onChange:D=>d({key:D,dir:"desc"}),options:[{value:"applications",label:"Applications"},{value:"damage",label:"Damage"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),l.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ce.length===0?l.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No conditions match this filter"}):(()=>{const D=u.key,ue=[{id:"all",label:"All Conditions",icon:null},...fe],S=(t||[]).filter(ee=>E.length===0||E.includes(ee.account)).map(ee=>{const de=ee.conditions||{},oe={},H={};return ue.forEach(K=>{if(K.id==="all"||K.name==="All Conditions"){const V=Object.values(de).reduce((ie,me)=>{const Ye=I(me);return ie.applications+=Number(Ye||0),ie.damage+=Number((me==null?void 0:me.damage)||0),ie},{applications:0,damage:0}),be=D==="applications"?V.applications:V.damage;H.all=be||0,oe.all=Math.round(be||0).toLocaleString();return}const J=de[K.name],ae=D==="applications"?I(J):Number((J==null?void 0:J.damage)||0);H[K.name]=Number(ae||0),oe[K.name]=Math.round(ae||0).toLocaleString()}),{player:ee,values:oe,numericValues:H}}).filter(ee=>Object.values(ee.values).some(de=>de!=="0")),Y=["all",...fe.map(ee=>ee.name)].includes(T.columnId)?T.columnId:"all",B=[...S].sort((ee,de)=>{const oe=ee.numericValues[Y]??0,H=de.numericValues[Y]??0;return(T.dir==="desc"?H-oe:oe-H)||String(ee.player.account||"").localeCompare(String(de.player.account||""))});return l.jsx(Ns,{title:"Conditions - Dense View",subtitle:D==="applications"?"Applications":"Damage",sortColumnId:Y,sortDirection:T.dir,onSortColumn:ee=>{$(de=>({columnId:ee,dir:de.columnId===ee&&de.dir==="desc"?"asc":"desc"}))},columns:[{id:"all",label:"All",align:"right",minWidth:90},...fe.map(ee=>({id:ee.name,label:l.jsx(yr,{name:ee.name,iconUrl:ee.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90}))],rows:B.map((ee,de)=>({id:`${ee.player.account}-${de}`,label:l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 font-mono",children:de+1}),h(ee.player.profession,ee.player.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:ee.player.account})]}),values:ee.values}))})})()}),(k.length>0||E.length>0)&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{C([]),R([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),k.map(D=>l.jsxs("button",{type:"button",onClick:()=>C(ue=>ue.filter(S=>S!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:D}),l.jsx("span",{className:"text-gray-400",children:""})]},D)),E.map(D=>l.jsxs("button",{type:"button",onClick:()=>R(ue=>ue.filter(S=>S!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:D}),l.jsx("span",{className:"text-gray-400",children:""})]},D))]})]}):l.jsx(Nl,{expanded:m==="conditions-outgoing",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="conditions-outgoing"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="conditions-outgoing"?"flex flex-col min-h-0":""}`,sidebar:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Conditions"}),l.jsx("input",{value:n,onChange:D=>r(D.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),l.jsx("div",{className:`${N} ${m==="conditions-outgoing"?"max-h-none flex-1 min-h-0":""}`,children:ce.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No conditions match this filter"}):l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:()=>a("all"),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i==="all"?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:"All Conditions"}),ce.map(D=>l.jsx("button",{type:"button",onClick:()=>a(D.name),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===D.name?"bg-amber-500/20 text-amber-200 border-amber-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:l.jsx(yr,{name:D.name,iconUrl:D.icon,iconClassName:"h-5 w-5"})},D.name))]})})]}),content:l.jsx(qs,{expanded:m==="conditions-outgoing",header:l.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3 px-4 py-3 bg-white/5",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-200",children:i==="all"?"All Conditions":l.jsx(yr,{name:i,iconUrl:(_=e.find(D=>D.name===i))==null?void 0:_.icon,iconClassName:"h-5 w-5"})}),l.jsxs("div",{className:"flex flex-col items-end gap-2 text-right ml-auto mt-2",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Squad Totals"}),l.jsx(Cn,{value:s,onChange:o,options:[{value:"outgoing",label:"Outgoing"},{value:"incoming",label:"Incoming"}],activeClassName:"bg-amber-500/20 text-amber-200 border border-amber-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]})]}),columns:l.jsxs("div",{className:`grid ${c} text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2`,children:[l.jsx("div",{className:"text-center",children:"#"}),l.jsx("div",{children:"Player"}),l.jsxs("button",{type:"button",onClick:()=>{d({key:"applications",dir:u.key==="applications"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="applications"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Applications ",u.key==="applications"?u.dir==="desc"?"":"":""]}),f?l.jsxs("button",{type:"button",onClick:()=>{d({key:"damage",dir:u.key==="damage"&&u.dir==="desc"?"asc":"desc"})},className:`text-right transition-colors ${u.key==="damage"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Damage ",u.key==="damage"?u.dir==="desc"?"":"":""]}):null]}),rows:l.jsx(l.Fragment,{children:(()=>{const ue=(t||[]).map(S=>{const Y=S.conditions||{};if(i==="all"){const ee=Object.values(Y).reduce((de,oe)=>{const H=I(oe);return de.applications+=Number(H||0),de.damage+=Number((oe==null?void 0:oe.damage)||0),de},{applications:0,damage:0});return{...S,applications:ee.applications,damage:ee.damage}}const B=Y[i];return{...S,applications:I(B),damage:Number((B==null?void 0:B.damage)||0)}}).filter(S=>S.applications>0||S.damage>0).sort((S,Y)=>{const B=u.key==="applications"?S.applications||0:S.damage||0,ee=u.key==="applications"?Y.applications||0:Y.damage||0,de=u.dir==="desc"?ee-B:B-ee;if(de!==0)return de;const oe=u.key==="applications"?(Y.damage||0)-(S.damage||0):(Y.applications||0)-(S.applications||0);return oe!==0?oe:String(S.account||"").localeCompare(String(Y.account||""))});return ue.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No condition data available"}):ue.map((S,Y)=>{var V;const B=S.conditions||{};let ee={};i==="all"?Object.values(B).forEach(be=>{const ie=(be==null?void 0:be.skills)||{};Object.values(ie).forEach(me=>{const Ye=(me==null?void 0:me.name)||"Unknown",Qe=Number((me==null?void 0:me.hits)||0),yt=Number((me==null?void 0:me.damage)||0);if((!Number.isFinite(Qe)||Qe<=0)&&(!Number.isFinite(yt)||yt<=0))return;const $e=ee[Ye]||{name:Ye,hits:0,damage:0,icon:me==null?void 0:me.icon};$e.hits+=Number.isFinite(Qe)?Qe:0,$e.damage+=Number.isFinite(yt)?yt:0,!$e.icon&&(me!=null&&me.icon)&&($e.icon=me.icon),ee[Ye]=$e})}):ee=((V=B[i])==null?void 0:V.skills)||{};const de=Object.values(ee).filter(be=>Number.isFinite(be.hits)&&be.hits>0).sort((be,ie)=>ie.hits-be.hits||be.name.localeCompare(ie.name)),oe=Object.values(ee).filter(be=>Number.isFinite(be.damage)&&be.damage>0).sort((be,ie)=>ie.damage-be.damage||be.name.localeCompare(ie.name)),H=i==="all"&&de.length>0,K=i==="all"&&oe.length>0,J=Math.round(S.applications||0).toLocaleString(),ae=Math.round(S.damage||0).toLocaleString();return l.jsxs("div",{className:`grid ${c} px-4 py-2 text-sm text-gray-200 border-t border-white/5`,children:[l.jsx("div",{className:"text-center text-gray-500 font-mono",children:Y+1}),l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(S.profession,S.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:S.account})]}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:H?l.jsx(kT,{value:J,label:"Condition Sources",items:de.map(be=>({name:be.name,iconUrl:be.icon,value:Math.round(be.hits).toLocaleString()})),className:"justify-end"}):J}),f?l.jsx("div",{className:"text-right font-mono text-gray-300",children:K?l.jsx(kT,{value:ae,label:"Condition Damage Sources",items:oe.map(be=>({name:be.name,iconUrl:be.icon,value:Math.round(be.damage).toLocaleString()})),className:"justify-end"}):ae}):null]},`${S.account}-${Y}`)})})()})})}):l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No condition data available"})]})},Jse=({stats:e,activeBoonCategory:t,setActiveBoonCategory:n,activeBoonMetric:r,setActiveBoonMetric:i,activeBoonTab:a,setActiveBoonTab:s,activeBoonTable:o,filteredBoonTables:c,boonSearch:u,setBoonSearch:d,formatBoonMetricDisplay:f,getBoonMetricValue:h,renderProfessionIcon:m,roundCountStats:p,expandedSection:x,expandedSectionClosing:v,openExpandedSection:b,closeExpandedSection:y,isSectionVisible:w,isFirstVisibleSection:N,sectionClass:j,sidebarListClass:k})=>{const[C,E]=g.useState({key:"value",dir:"desc"}),[R,T]=g.useState({columnId:"",dir:"desc"}),$=x==="boon-output",[I,re]=g.useState([]),[ce,ve]=g.useState([]),Oe=e.boonTables||[],Z=I.length>0?Oe.filter(S=>I.includes(S.id)):Oe,xe=c.map(S=>({id:S.id,label:S.name,icon:S.icon?l.jsx("img",{src:S.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),_=Array.from(new Map((e.boonTables||[]).flatMap(S=>S.rows||[]).filter(S=>S.account).map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,icon:m(S.profession,S.professionList,"w-3 h-3")})),D=new Set([...I.map(S=>`column:${S}`),...ce.map(S=>`player:${S}`)]),ue=S=>{E(Y=>({key:S,dir:Y.key===S&&Y.dir==="desc"?"asc":"desc"}))};return l.jsxs("div",{id:"boon-output","data-section-visible":w("boon-output"),"data-section-first":N("boon-output"),className:j("boon-output",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${x==="boon-output"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${v?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(su,{className:"w-5 h-5 text-cyan-400"}),"Boon Output"]}),l.jsx("button",{type:"button",onClick:()=>x==="boon-output"?y():b("boon-output"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":x==="boon-output"?"Close Boon Output":"Expand Boon Output",title:x==="boon-output"?"Close":"Expand",children:x==="boon-output"?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]}),e.boonTables.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No boon data available"}):$?l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Hs,{options:[...Oe.map(S=>({id:S.id,label:S.name,type:"column"})),...Array.from(new Map((e.boonTables||[]).flatMap(S=>S.rows||[]).filter(S=>S.account).map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,type:"player",icon:m(S.profession,S.professionList,"w-3 h-3")}))],onSelect:S=>{S.type==="column"?re(Y=>Y.includes(S.id)?Y.filter(B=>B!==S.id):[...Y,S.id]):ve(Y=>Y.includes(S.id)?Y.filter(B=>B!==S.id):[...Y,S.id])},selectedIds:D,className:"w-full sm:w-64"}),l.jsx(wr,{options:xe,selectedIds:I,onToggle:S=>{re(Y=>Y.includes(S)?Y.filter(B=>B!==S):[...Y,S])},onClear:()=>re([]),buttonIcon:l.jsx(Ws,{className:"h-3.5 w-3.5"})}),l.jsx(wr,{options:_,selectedIds:ce,onToggle:S=>{ve(Y=>Y.includes(S)?Y.filter(B=>B!==S):[...Y,S])},onClear:()=>ve([]),buttonLabel:"Players",buttonIcon:l.jsx(Er,{className:"h-3.5 w-3.5"})}),l.jsx(Cn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),l.jsx(Cn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(I.length>0||ce.length>0)&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{re([]),ve([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),I.map(S=>{var B;const Y=((B=Oe.find(ee=>ee.id===S))==null?void 0:B.name)||S;return l.jsxs("button",{type:"button",onClick:()=>re(ee=>ee.filter(de=>de!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:Y}),l.jsx("span",{className:"text-gray-400",children:""})]},S)}),ce.map(S=>l.jsxs("button",{type:"button",onClick:()=>ve(Y=>Y.filter(B=>B!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:S}),l.jsx("span",{className:"text-gray-400",children:""})]},S))]})]}),l.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:Oe.length===0?l.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No boons match this filter"}):(()=>{var oe,H;const S=Z,Y=((oe=S.find(K=>K.id===R.columnId))==null?void 0:oe.id)||(a&&S.some(K=>K.id===a)?a:void 0)||((H=S[0])==null?void 0:H.id)||"",B=new Map,ee=new Map;S.forEach(K=>{const J=new Map;K.rows.forEach(ae=>{const V=ae.account||ae.name||ae.id;V&&(J.set(V,ae),ee.has(V)||ee.set(V,ae))}),B.set(K.id,J)});const de=Array.from(ee.entries()).filter(([K])=>ce.length===0||ce.includes(String(K))).map(([K,J])=>{const ae={};return S.forEach(V=>{var ie;const be=(ie=B.get(V.id))==null?void 0:ie.get(K);ae[V.id]=be?f(be,t,V.stacking,r,{roundCountStats:p}):"-"}),{key:K,row:J,values:ae}}).sort((K,J)=>{var Qe,yt;if(!Y)return String(K.key).localeCompare(String(J.key));const ae=S.find($e=>$e.id===Y),V=ae?(Qe=B.get(ae.id))==null?void 0:Qe.get(K.key):null,be=ae?(yt=B.get(ae.id))==null?void 0:yt.get(J.key):null,ie=V?h(V,t,ae==null?void 0:ae.stacking,r):0,me=be?h(be,t,ae==null?void 0:ae.stacking,r):0;return(R.dir==="desc"?me-ie:ie-me)||String(K.key).localeCompare(String(J.key))});return l.jsx(Ns,{title:"Boon Output - Dense View",subtitle:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`,sortColumnId:Y,sortDirection:R.dir,onSortColumn:K=>{T(J=>({columnId:K,dir:J.columnId===K&&J.dir==="desc"?"asc":"desc"}))},columns:S.map(K=>({id:K.id,label:l.jsx(yr,{name:K.name,iconUrl:K.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:de.map((K,J)=>({id:`${K.key}-${J}`,label:l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 font-mono",children:J+1}),m(K.row.profession,K.row.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:K.row.account||K.row.name||K.key})]}),values:K.values}))})})()})]}):l.jsx(Nl,{expanded:x==="boon-output",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${x==="boon-output"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${x==="boon-output"?"flex flex-col min-h-0":""}`,sidebar:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Boons"}),l.jsx("input",{value:u,onChange:S=>d(S.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),l.jsx("div",{className:`${k} ${x==="boon-output"?"max-h-none flex-1 min-h-0":""}`,children:c.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No boons match this filter"}):c.map(S=>l.jsx("button",{onClick:()=>s(S.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${a===S.id?"bg-blue-500/20 text-blue-200 border-blue-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:l.jsx(yr,{name:S.name,iconUrl:S.icon,iconClassName:"h-3.5 w-3.5"})},S.id))})]}),content:o?l.jsx(qs,{expanded:x==="boon-output",maxHeightClass:"max-h-64",header:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-200",children:l.jsx(yr,{name:o.name,iconUrl:o.icon,iconClassName:"h-4 w-4"})}),l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:`${t.replace("Buffs","")}  ${r==="total"?"Total Gen":r==="average"?"Gen/Sec":"Uptime"}`})]}),columns:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-start gap-2 px-4 py-2 bg-white/5",children:[l.jsx(Cn,{value:t,onChange:n,options:[{value:"selfBuffs",label:"Self"},{value:"groupBuffs",label:"Group"},{value:"squadBuffs",label:"Squad"},{value:"totalBuffs",label:"Total"}],activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),l.jsx(Cn,{value:r,onChange:i,options:[{value:"total",label:"Total Gen"},{value:"average",label:"Gen/Sec"},{value:"uptime",label:"Uptime"}],className:"sm:ml-auto",activeClassName:"bg-blue-500/20 text-blue-200 border border-blue-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[l.jsx("div",{className:"text-center",children:"#"}),l.jsx("div",{children:"Player"}),l.jsxs("button",{type:"button",onClick:()=>ue("value"),className:`text-right transition-colors ${C.key==="value"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:[r==="total"?"Total":r==="average"?"Gen/Sec":"Uptime",C.key==="value"?C.dir==="desc"?" ":" ":""]}),l.jsxs("button",{type:"button",onClick:()=>ue("fightTime"),className:`text-right transition-colors ${C.key==="fightTime"?"text-blue-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",C.key==="fightTime"?C.dir==="desc"?" ":" ":""]})]})]}),rows:l.jsx(l.Fragment,{children:[...o.rows].sort((S,Y)=>(()=>{const B=C.key==="fightTime"?Number(S.activeTimeMs||0):h(S,t,o.stacking,r),ee=C.key==="fightTime"?Number(Y.activeTimeMs||0):h(Y,t,o.stacking,r);return(C.dir==="desc"?ee-B:B-ee)||String(S.account||"").localeCompare(String(Y.account||""))})()).map((S,Y)=>l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[l.jsx("div",{className:"text-center text-gray-500 font-mono",children:Y+1}),l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[m(S.profession,S.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:S.account})]}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:f(S,t,o.stacking,r,{roundCountStats:p})}),l.jsx("div",{className:"text-right font-mono text-gray-400",children:S.activeTimeMs?`${(S.activeTimeMs/1e3).toFixed(1)}s`:"-"})]},`${o.id}-${S.account}-${Y}`))})}):l.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a boon to view details"})})]})},eoe=({stats:e,DEFENSE_METRICS:t,defenseSearch:n,setDefenseSearch:r,activeDefenseStat:i,setActiveDefenseStat:a,defenseViewMode:s,setDefenseViewMode:o,roundCountStats:c,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:x,isFirstVisibleSection:v,sectionClass:b,sidebarListClass:y})=>{var Y;const[w,N]=g.useState({key:"value",dir:"desc"}),[j,k]=g.useState("combined"),[C,E]=g.useState({columnId:((Y=t[0])==null?void 0:Y.id)||"value",dir:"desc"}),R=f==="defense-detailed",[T,$]=g.useState([]),[I,re]=g.useState([]),ce=t.filter(B=>B.label.toLowerCase().includes(n.trim().toLowerCase())),ve=t.map(B=>({id:B.id,label:B.label})),Oe=ve.filter(B=>B.label.toLowerCase().includes(n.trim().toLowerCase())),Z=T.length>0?t.filter(B=>T.includes(B.id)):t,xe=Array.from(new Map(e.defensePlayers.map(B=>[B.account,B])).values()).map(B=>({id:B.account,label:B.account,icon:d(B.profession,B.professionList,"w-3 h-3")})),_=new Set([...T.map(B=>`column:${B}`),...I.map(B=>`player:${B}`)]),D=B=>{N(ee=>({key:B,dir:ee.key===B&&ee.dir==="desc"?"asc":"desc"}))},ue=B=>B==="minionDamageTaken",S=(B,ee)=>ee==="combined"?B.map(de=>({...de,minionList:Object.entries((de==null?void 0:de.minionDamageTakenByMinion)||{}).filter(([,oe])=>Number(oe||0)>0).sort((oe,H)=>Number(H[1]||0)-Number(oe[1]||0)).map(([oe])=>String(oe))})):B.flatMap(de=>{const oe=Object.entries((de==null?void 0:de.minionDamageTakenByMinion)||{}).filter(([,H])=>Number(H||0)>0).sort((H,K)=>Number(K[1]||0)-Number(H[1]||0));return oe.length===0?[]:oe.map(([H,K])=>({...de,minionName:String(H),defenseTotals:{...de.defenseTotals||{},minionDamageTaken:Number(K||0)}}))});return l.jsxs("div",{id:"defense-detailed","data-section-visible":x("defense-detailed"),"data-section-first":v("defense-detailed"),className:b("defense-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="defense-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(Rd,{className:"w-5 h-5 text-sky-300"}),"Defenses - Detailed"]}),l.jsx("button",{type:"button",onClick:()=>f==="defense-detailed"?p():m("defense-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="defense-detailed"?"Close Defense Detailed":"Expand Defense Detailed",title:f==="defense-detailed"?"Close":"Expand",children:f==="defense-detailed"?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]}),e.defensePlayers.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No defensive stats available"}):R?l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Hs,{options:[...ve.map(B=>({...B,type:"column"})),...xe.map(B=>({...B,type:"player"}))],onSelect:B=>{B.type==="column"?$(ee=>ee.includes(B.id)?ee.filter(de=>de!==B.id):[...ee,B.id]):re(ee=>ee.includes(B.id)?ee.filter(de=>de!==B.id):[...ee,B.id])},selectedIds:_,className:"w-full sm:w-64"}),l.jsx(wr,{options:Oe,selectedIds:T,onToggle:B=>{$(ee=>ee.includes(B)?ee.filter(de=>de!==B):[...ee,B])},onClear:()=>$([]),buttonIcon:l.jsx(Ws,{className:"h-3.5 w-3.5"})}),l.jsx(wr,{options:xe,selectedIds:I,onToggle:B=>{re(ee=>ee.includes(B)?ee.filter(de=>de!==B):[...ee,B])},onClear:()=>re([]),buttonLabel:"Players",buttonIcon:l.jsx(Er,{className:"h-3.5 w-3.5"})}),l.jsx(Cn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),Z.some(B=>ue(B.id))&&l.jsx(Cn,{value:j,onChange:B=>k(B),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||I.length>0)&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{$([]),re([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(B=>{var de;const ee=((de=ve.find(oe=>oe.id===B))==null?void 0:de.label)||B;return l.jsxs("button",{type:"button",onClick:()=>$(oe=>oe.filter(H=>H!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:ee}),l.jsx("span",{className:"text-gray-400",children:""})]},B)}),I.map(B=>l.jsxs("button",{type:"button",onClick:()=>re(ee=>ee.filter(de=>de!==B)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:B}),l.jsx("span",{className:"text-gray-400",children:""})]},B))]})]}),l.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ce.length===0?l.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No defensive stats match this filter"}):(()=>{var J,ae;const B=V=>Math.max(1,(V.activeMs||0)/1e3),ee=(V,be)=>{const ie=be.isPercent,Ye=u(V,c&&!ie&&s==="total"?0:2);return ie?`${Ye}%`:Ye},de=((J=Z.find(V=>V.id===C.columnId))==null?void 0:J.id)||((ae=Z[0])==null?void 0:ae.id)||"",oe=[...e.defensePlayers].filter(V=>I.length===0||I.includes(V.account)),K=[...Z.some(V=>ue(V.id))?S(oe,j):oe].map(V=>{const be={},ie={};return Z.forEach(me=>{var $e;const Ye=(($e=V.defenseTotals)==null?void 0:$e[me.id])||0,Qe=me.isPercent,yt=s==="total"||Qe?Ye:s==="per1s"?Ye/B(V):Ye*60/B(V);ie[me.id]=yt,be[me.id]=ee(yt,me)}),{row:V,values:be,numericValues:ie}}).sort((V,be)=>{const ie=V.numericValues[de]??0,me=be.numericValues[de]??0;return(C.dir==="desc"?me-ie:ie-me)||String(V.row.account||"").localeCompare(String(be.row.account||""))});return l.jsx(Ns,{title:"Defense - Dense View",subtitle:"Defensive",sortColumnId:de,sortDirection:C.dir,onSortColumn:V=>{E(be=>({columnId:V,dir:be.columnId===V&&be.dir==="desc"?"asc":"desc"}))},columns:Z.map(V=>({id:V.id,label:V.label,align:"right",minWidth:90})),rows:K.map((V,be)=>({id:`${V.row.account}-${be}`,label:l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 font-mono",children:be+1}),d(V.row.profession,V.row.professionList,"w-4 h-4"),l.jsxs("span",{className:"min-w-0 flex flex-col",children:[l.jsx("span",{className:"truncate",children:V.row.account}),j==="combined"&&Array.isArray(V.row.minionList)&&V.row.minionList.length>0&&l.jsx("span",{className:"truncate text-[10px] text-gray-500",children:V.row.minionList.join(", ")}),j==="separate"&&V.row.minionName&&l.jsx("span",{className:"truncate text-[10px] text-gray-400",children:V.row.minionName})]})]}),values:V.values}))})})()})]}):l.jsx(Nl,{expanded:f==="defense-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="defense-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="defense-detailed"?"flex flex-col min-h-0":""}`,sidebar:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Defensive Tabs"}),l.jsx("input",{value:n,onChange:B=>r(B.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),l.jsx("div",{className:`${y} ${f==="defense-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ce.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No defensive stats match this filter"}):ce.map(B=>l.jsx("button",{onClick:()=>a(B.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===B.id?"bg-sky-500/20 text-sky-200 border-sky-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:B.label},B.id))})]}),content:l.jsx(l.Fragment,{children:(()=>{const B=t.find(K=>K.id===i)||t[0],ee=K=>Math.max(1,(K.activeMs||0)/1e3),de=[...e.defensePlayers],H=[...ue(B.id)?S(de,j):de].map(K=>{var J,ae,V;return{...K,total:((J=K.defenseTotals)==null?void 0:J[B.id])||0,per1s:(((ae=K.defenseTotals)==null?void 0:ae[B.id])||0)/ee(K),per60s:(((V=K.defenseTotals)==null?void 0:V[B.id])||0)*60/ee(K)}}).sort((K,J)=>{const ae=w.key==="fightTime"?Number(K.activeMs||0):Number(s==="total"?K.total:s==="per1s"?K.per1s:K.per60s),V=w.key==="fightTime"?Number(J.activeMs||0):Number(s==="total"?J.total:s==="per1s"?J.per1s:J.per60s);return(w.dir==="desc"?V-ae:ae-V)||K.account.localeCompare(J.account)});return l.jsx(qs,{expanded:f==="defense-detailed",header:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-200",children:B.label}),l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Defensive"})]}),columns:l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`flex items-center px-4 py-2 bg-white/5 ${ue(B.id)?"justify-between":"justify-end"}`,children:[ue(B.id)&&l.jsx(Cn,{value:j,onChange:K=>k(K),options:[{value:"combined",label:"Combined"},{value:"separate",label:"Separate"}],activeClassName:"bg-indigo-500/20 text-indigo-200 border border-indigo-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),l.jsx("div",{className:"flex flex-wrap items-center justify-end gap-2",children:l.jsx(Cn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]}),l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[l.jsx("div",{className:"text-center",children:"#"}),l.jsx("div",{children:"Player"}),l.jsxs("button",{type:"button",onClick:()=>D("value"),className:`text-right transition-colors ${w.key==="value"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",w.key==="value"?w.dir==="desc"?" ":" ":""]}),l.jsxs("button",{type:"button",onClick:()=>D("fightTime"),className:`text-right transition-colors ${w.key==="fightTime"?"text-sky-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",w.key==="fightTime"?w.dir==="desc"?" ":" ":""]})]})]}),rows:l.jsx(l.Fragment,{children:H.map((K,J)=>l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[l.jsx("div",{className:"text-center text-gray-500 font-mono",children:J+1}),l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(K.profession,K.professionList,"w-4 h-4"),l.jsxs("span",{className:"min-w-0 flex flex-col",children:[l.jsx("span",{className:"truncate",children:K.account}),ue(B.id)&&j==="combined"&&Array.isArray(K.minionList)&&K.minionList.length>0&&l.jsx("span",{className:"truncate text-[10px] text-gray-500",children:K.minionList.join(", ")}),ue(B.id)&&j==="separate"&&K.minionName&&l.jsx("span",{className:"truncate text-[10px] text-gray-400",children:K.minionName})]})]}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const ae=s==="total"?K.total:s==="per1s"?K.per1s:K.per60s;return u(ae,c&&s==="total"?0:2)})()}),l.jsx("div",{className:"text-right font-mono text-gray-400",children:K.activeMs?`${(K.activeMs/1e3).toFixed(1)}s`:"-"})]},`${B.id}-${K.account}-${J}`))})})})()})})]})},toe=({stats:e,DAMAGE_MITIGATION_METRICS:t,damageMitigationSearch:n,setDamageMitigationSearch:r,activeDamageMitigationStat:i,setActiveDamageMitigationStat:a,damageMitigationViewMode:s,setDamageMitigationViewMode:o,damageMitigationScope:c,setDamageMitigationScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:x,closeExpandedSection:v,isSectionVisible:b,isFirstVisibleSection:y,sectionClass:w,sidebarListClass:N})=>{var J,ae;const j=((J=t.find(V=>V.id==="totalMitigation"))==null?void 0:J.id)||((ae=t[0])==null?void 0:ae.id)||"totalMitigation",[k,C]=g.useState({key:"value",dir:"desc"}),[E,R]=g.useState({columnId:j,dir:"desc"}),T=m==="defense-mitigation",[$,I]=g.useState([]),[re,ce]=g.useState([]),[ve,Oe]=g.useState([]),fe=e.damageMitigationPlayers||[],Z=e.damageMitigationMinions||[],xe=c==="minions"?Z:fe,_=fe.length>0||Z.length>0,D=t.filter(V=>V.label.toLowerCase().includes(n.trim().toLowerCase())),ue=t.map(V=>({id:V.id,label:V.label})),S=ue.filter(V=>V.label.toLowerCase().includes(n.trim().toLowerCase())),B=$.length>0?t.filter(V=>$.includes(V.id)):t,ee=Array.from(new Map(xe.map(V=>[V.account,V])).values()).map(V=>({id:V.account,label:V.account,icon:h(V.profession,V.professionList,"w-3 h-3")})),de=Array.from(new Map(Z.map(V=>[V.minion,V])).values()).filter(V=>V==null?void 0:V.minion).map(V=>({id:String(V.minion),label:String(V.minion)})),oe=new Set([...$.map(V=>`column:${V}`),...re.map(V=>`player:${V}`)]),H=V=>{C(be=>({key:V,dir:be.key===V&&be.dir==="desc"?"asc":"desc"}))},K=V=>f(V,d&&s==="total"?0:2);return l.jsxs("div",{id:"defense-mitigation","data-section-visible":b("defense-mitigation"),"data-section-first":y("defense-mitigation"),className:w("defense-mitigation",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="defense-mitigation"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(Jk,{className:"w-5 h-5 text-emerald-300"}),"Defenses - Damage Mitigation"]}),l.jsx("button",{type:"button",onClick:()=>m==="defense-mitigation"?v():x("defense-mitigation"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="defense-mitigation"?"Close Damage Mitigation":"Expand Damage Mitigation",title:m==="defense-mitigation"?"Close":"Expand",children:m==="defense-mitigation"?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"text-xs text-amber-200/80 italic mb-3",children:"Damage mitigation is an estimate based on enemy skill damage averages and avoidance events (block/evade/miss/invuln/interrupted). Use it for relative comparison rather than exact prevention totals."}),_?T?l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Hs,{options:[...ue.map(V=>({...V,type:"column"})),...ee.map(V=>({...V,type:"player"}))],onSelect:V=>{V.type==="column"?I(be=>be.includes(V.id)?be.filter(ie=>ie!==V.id):[...be,V.id]):ce(be=>be.includes(V.id)?be.filter(ie=>ie!==V.id):[...be,V.id])},selectedIds:oe,className:"w-full sm:w-64"}),l.jsx(wr,{options:S,selectedIds:$,onToggle:V=>{I(be=>be.includes(V)?be.filter(ie=>ie!==V):[...be,V])},onClear:()=>I([]),buttonIcon:l.jsx(Ws,{className:"h-3.5 w-3.5"})}),l.jsx(wr,{options:ee,selectedIds:re,onToggle:V=>{ce(be=>be.includes(V)?be.filter(ie=>ie!==V):[...be,V])},onClear:()=>ce([]),buttonLabel:"Players",buttonIcon:l.jsx(Er,{className:"h-3.5 w-3.5"})}),c==="minions"&&l.jsx(wr,{options:de,selectedIds:ve,onToggle:V=>{Oe(be=>be.includes(V)?be.filter(ie=>ie!==V):[...be,V])},onClear:()=>Oe([]),buttonLabel:"Minions"}),l.jsx(Cn,{value:c,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),l.jsx(Cn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),($.length>0||re.length>0)&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{I([]),ce([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),$.map(V=>{var ie;const be=((ie=ue.find(me=>me.id===V))==null?void 0:ie.label)||V;return l.jsxs("button",{type:"button",onClick:()=>I(me=>me.filter(Ye=>Ye!==V)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:be}),l.jsx("span",{className:"text-gray-400",children:""})]},V)}),re.map(V=>l.jsxs("button",{type:"button",onClick:()=>ce(be=>be.filter(ie=>ie!==V)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:V}),l.jsx("span",{className:"text-gray-400",children:""})]},V))]}),c==="minions"&&ve.length>0&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>Oe([]),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear Minions"}),ve.map(V=>l.jsxs("button",{type:"button",onClick:()=>Oe(be=>be.filter(ie=>ie!==V)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:V}),l.jsx("span",{className:"text-gray-400",children:""})]},V))]})]}),l.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:xe.length===0?l.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",c==="minions"?"minion":"player"," mitigation stats available"]}):D.length===0?l.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No mitigation stats match this filter"}):(()=>{var me,Ye;const V=Qe=>Math.max(1,(Qe.activeMs||0)/1e3),be=((me=B.find(Qe=>Qe.id===E.columnId))==null?void 0:me.id)||((Ye=B[0])==null?void 0:Ye.id)||"",ie=[...xe].filter(Qe=>re.length===0||re.includes(Qe.account)).filter(Qe=>c!=="minions"||!ve.length?!0:ve.includes(String(Qe.minion||""))).map(Qe=>{const yt={},$e={};return B.forEach(Ae=>{var Ce;const Ee=((Ce=Qe.mitigationTotals)==null?void 0:Ce[Ae.id])||0,ot=s==="total"?Ee:s==="per1s"?Ee/V(Qe):Ee*60/V(Qe);$e[Ae.id]=ot,yt[Ae.id]=K(ot)}),{row:Qe,values:yt,numericValues:$e}}).sort((Qe,yt)=>{const $e=Qe.numericValues[be]??0,Ae=yt.numericValues[be]??0;return(E.dir==="desc"?Ae-$e:$e-Ae)||String(Qe.row.account||"").localeCompare(String(yt.row.account||""))});return l.jsx(Ns,{title:"Damage Mitigation - Dense View",subtitle:"Defensive",sortColumnId:be,sortDirection:E.dir,onSortColumn:Qe=>{R(yt=>({columnId:Qe,dir:yt.columnId===Qe&&yt.dir==="desc"?"asc":"desc"}))},columns:B.map(Qe=>({id:Qe.id,label:Qe.label,align:"right",minWidth:90})),rows:ie.map((Qe,yt)=>({id:`${Qe.row.account}-${Qe.row.minion||"player"}-${yt}`,label:l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 font-mono",children:yt+1}),h(Qe.row.profession,Qe.row.professionList,"w-4 h-4"),l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"truncate",children:Qe.row.account}),Qe.row.minion&&l.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:Qe.row.minion})]})]}),values:Qe.values}))})})()})]}):l.jsx(Nl,{expanded:m==="defense-mitigation",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="defense-mitigation"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="defense-mitigation"?"flex flex-col min-h-0":""}`,sidebar:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Mitigation Tabs"}),l.jsx("input",{value:n,onChange:V=>r(V.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2 mt-2"}),l.jsx("div",{className:`${N} ${m==="defense-mitigation"?"max-h-none flex-1 min-h-0":""}`,children:D.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No mitigation stats match this filter"}):D.map(V=>l.jsx("button",{onClick:()=>a(V.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===V.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:V.label},V.id))})]}),content:l.jsx(l.Fragment,{children:(()=>{const V=t.find(me=>me.id===i)||t[0],be=me=>Math.max(1,(me.activeMs||0)/1e3),ie=[...xe].map(me=>{var Ye,Qe,yt;return{...me,total:((Ye=me.mitigationTotals)==null?void 0:Ye[V.id])||0,per1s:(((Qe=me.mitigationTotals)==null?void 0:Qe[V.id])||0)/be(me),per60s:(((yt=me.mitigationTotals)==null?void 0:yt[V.id])||0)*60/be(me)}}).filter(me=>c!=="minions"||!ve.length?!0:ve.includes(String(me.minion||""))).sort((me,Ye)=>{const Qe=k.key==="fightTime"?Number(me.activeMs||0):Number(s==="total"?me.total:s==="per1s"?me.per1s:me.per60s),yt=k.key==="fightTime"?Number(Ye.activeMs||0):Number(s==="total"?Ye.total:s==="per1s"?Ye.per1s:Ye.per60s);return(k.dir==="desc"?yt-Qe:Qe-yt)||me.account.localeCompare(Ye.account)});return l.jsx(qs,{expanded:m==="defense-mitigation",header:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-200",children:V.label}),l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Mitigation"})]}),columns:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"px-4 py-2 bg-white/5",children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Cn,{value:c,onChange:u,options:[{value:"player",label:"Player"},{value:"minions",label:"Minions"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),l.jsx("div",{className:"ml-auto",children:l.jsx(Cn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-sky-500/20 text-sky-200 border border-sky-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})})]})}),l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[l.jsx("div",{className:"text-center",children:"#"}),l.jsx("div",{children:"Player"}),l.jsxs("button",{type:"button",onClick:()=>H("value"),className:`text-right transition-colors ${k.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",k.key==="value"?k.dir==="desc"?" ":" ":""]}),l.jsxs("button",{type:"button",onClick:()=>H("fightTime"),className:`text-right transition-colors ${k.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",k.key==="fightTime"?k.dir==="desc"?" ":" ":""]})]})]}),rows:ie.length===0?l.jsxs("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:["No ",c==="minions"?"minion":"player"," mitigation stats available"]}):l.jsx(l.Fragment,{children:ie.map((me,Ye)=>l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[l.jsx("div",{className:"text-center text-gray-500 font-mono",children:Ye+1}),l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(me.profession,me.professionList,"w-4 h-4"),l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"truncate",children:me.account}),me.minion&&l.jsx("div",{className:"text-[10px] text-gray-500 truncate",children:me.minion})]})]}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const Qe=s==="total"?me.total:s==="per1s"?me.per1s:me.per60s;return K(Qe)})()}),l.jsx("div",{className:"text-right font-mono text-gray-400",children:me.activeMs?`${(me.activeMs/1e3).toFixed(1)}s`:"-"})]},`${V.id}-${me.account}-${me.minion||"player"}-${Ye}`))})})})()})}):l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No damage mitigation stats available"})]})},noe=({stats:e,SUPPORT_METRICS:t,supportSearch:n,setSupportSearch:r,activeSupportStat:i,setActiveSupportStat:a,supportViewMode:s,setSupportViewMode:o,cleanseScope:c,setCleanseScope:u,roundCountStats:d,formatWithCommas:f,renderProfessionIcon:h,expandedSection:m,expandedSectionClosing:p,openExpandedSection:x,closeExpandedSection:v,isSectionVisible:b,isFirstVisibleSection:y,sectionClass:w,sidebarListClass:N})=>{var ue;const[j,k]=g.useState({key:"value",dir:"desc"}),[C,E]=g.useState({columnId:((ue=t[0])==null?void 0:ue.id)||"value",dir:"desc"}),R=m==="support-detailed",[T,$]=g.useState([]),[I,re]=g.useState([]),ce=t.filter(S=>S.label.toLowerCase().includes(n.trim().toLowerCase())),ve=t.map(S=>({id:S.id,label:S.label})),Oe=ve.filter(S=>S.label.toLowerCase().includes(n.trim().toLowerCase())),Z=T.length>0?t.filter(S=>T.includes(S.id)):t,xe=Array.from(new Map(e.supportPlayers.map(S=>[S.account,S])).values()).map(S=>({id:S.account,label:S.account,icon:h(S.profession,S.professionList,"w-3 h-3")})),_=new Set([...T.map(S=>`column:${S}`),...I.map(S=>`player:${S}`)]),D=S=>{k(Y=>({key:S,dir:Y.key===S&&Y.dir==="desc"?"asc":"desc"}))};return l.jsxs("div",{id:"support-detailed","data-section-visible":b("support-detailed"),"data-section-first":y("support-detailed"),className:w("support-detailed",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${m==="support-detailed"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${p?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(Xk,{className:"w-5 h-5 text-emerald-300"}),"Support - Detailed"]}),l.jsx("button",{type:"button",onClick:()=>m==="support-detailed"?v():x("support-detailed"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":m==="support-detailed"?"Close Support Detailed":"Expand Support Detailed",title:m==="support-detailed"?"Close":"Expand",children:m==="support-detailed"?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]}),e.supportPlayers.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No support stats available"}):R?l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Hs,{options:[...ve.map(S=>({...S,type:"column"})),...xe.map(S=>({...S,type:"player"}))],onSelect:S=>{S.type==="column"?$(Y=>Y.includes(S.id)?Y.filter(B=>B!==S.id):[...Y,S.id]):re(Y=>Y.includes(S.id)?Y.filter(B=>B!==S.id):[...Y,S.id])},selectedIds:_,className:"w-full sm:w-64"}),l.jsx(wr,{options:Oe,selectedIds:T,onToggle:S=>{$(Y=>Y.includes(S)?Y.filter(B=>B!==S):[...Y,S])},onClear:()=>$([]),buttonIcon:l.jsx(Ws,{className:"h-3.5 w-3.5"})}),l.jsx(wr,{options:xe,selectedIds:I,onToggle:S=>{re(Y=>Y.includes(S)?Y.filter(B=>B!==S):[...Y,S])},onClear:()=>re([]),buttonLabel:"Players",buttonIcon:l.jsx(Er,{className:"h-3.5 w-3.5"})}),l.jsx(Cn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),i==="condiCleanse"&&l.jsx(Cn,{value:c,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(T.length>0||I.length>0)&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{$([]),re([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),T.map(S=>{var B;const Y=((B=ve.find(ee=>ee.id===S))==null?void 0:B.label)||S;return l.jsxs("button",{type:"button",onClick:()=>$(ee=>ee.filter(de=>de!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:Y}),l.jsx("span",{className:"text-gray-400",children:""})]},S)}),I.map(S=>l.jsxs("button",{type:"button",onClick:()=>re(Y=>Y.filter(B=>B!==S)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:S}),l.jsx("span",{className:"text-gray-400",children:""})]},S))]})]}),l.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:ce.length===0?l.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No support stats match this filter"}):(()=>{var oe,H;const S=(K,J)=>{var ae,V,be;if(J==="condiCleanse"){const ie=((ae=K.supportTotals)==null?void 0:ae.condiCleanse)||0,me=((V=K.supportTotals)==null?void 0:V.condiCleanseSelf)||0;return c==="all"?ie+me:ie}return((be=K.supportTotals)==null?void 0:be[J])||0},Y=K=>Math.max(1,(K.activeMs||0)/1e3),B=(K,J)=>{const ae=K.isTime?1:d&&s==="total"?0:2;return f(J,ae)},ee=((oe=Z.find(K=>K.id===C.columnId))==null?void 0:oe.id)||((H=Z[0])==null?void 0:H.id)||"",de=[...e.supportPlayers].filter(K=>I.length===0||I.includes(K.account)).map(K=>{const J={},ae={};return Z.forEach(V=>{const be=S(K,V.id),ie=s==="total"?be:s==="per1s"?be/Y(K):be*60/Y(K);ae[V.id]=ie,J[V.id]=B(V,ie)}),{row:K,values:J,numericValues:ae}}).sort((K,J)=>{const ae=K.numericValues[ee]??0,V=J.numericValues[ee]??0;return(C.dir==="desc"?V-ae:ae-V)||String(K.row.account||"").localeCompare(String(J.row.account||""))});return l.jsx(Ns,{title:"Support - Dense View",subtitle:"Support",sortColumnId:ee,sortDirection:C.dir,onSortColumn:K=>{E(J=>({columnId:K,dir:J.columnId===K&&J.dir==="desc"?"asc":"desc"}))},columns:Z.map(K=>({id:K.id,label:K.label,align:"right",minWidth:90})),rows:de.map((K,J)=>({id:`${K.row.account}-${J}`,label:l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 font-mono",children:J+1}),h(K.row.profession,K.row.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:K.row.account})]}),values:K.values}))})})()})]}):l.jsx(Nl,{expanded:m==="support-detailed",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${m==="support-detailed"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${m==="support-detailed"?"flex flex-col min-h-0":""}`,sidebar:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Support Tabs"}),l.jsx("input",{value:n,onChange:S=>r(S.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),l.jsx("div",{className:`${N} ${m==="support-detailed"?"max-h-none flex-1 min-h-0":""}`,children:ce.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No support stats match this filter"}):ce.map(S=>l.jsx("button",{onClick:()=>a(S.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===S.id?"bg-emerald-500/20 text-emerald-200 border-emerald-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:S.label},S.id))})]}),content:l.jsx(l.Fragment,{children:(()=>{const S=t.find(de=>de.id===i)||t[0],Y=de=>{var oe,H,K;if(S.id==="condiCleanse"){const J=((oe=de.supportTotals)==null?void 0:oe.condiCleanse)||0,ae=((H=de.supportTotals)==null?void 0:H.condiCleanseSelf)||0;return c==="all"?J+ae:J}return((K=de.supportTotals)==null?void 0:K[S.id])||0},B=de=>Math.max(1,(de.activeMs||0)/1e3),ee=[...e.supportPlayers].map(de=>({...de,total:Y(de),per1s:Y(de)/B(de),per60s:Y(de)*60/B(de)})).sort((de,oe)=>{const H=j.key==="fightTime"?Number(de.activeMs||0):Number(s==="total"?de.total:s==="per1s"?de.per1s:de.per60s),K=j.key==="fightTime"?Number(oe.activeMs||0):Number(s==="total"?oe.total:s==="per1s"?oe.per1s:oe.per60s);return(j.dir==="desc"?K-H:H-K)||de.account.localeCompare(oe.account)});return l.jsx(qs,{expanded:m==="support-detailed",header:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-200",children:S.label}),l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Support"})]}),columns:l.jsxs(l.Fragment,{children:[S.id==="condiCleanse"?l.jsxs("div",{className:"flex flex-wrap items-center gap-2 px-4 py-2 bg-white/5",children:[l.jsx(Cn,{value:c,onChange:u,options:[{value:"all",label:"All"},{value:"squad",label:"Squad"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),l.jsx(Cn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],className:"sm:ml-auto",activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}):l.jsx("div",{className:"flex flex-wrap items-center justify-start sm:justify-end px-4 py-2 bg-white/5",children:l.jsx(Cn,{value:s,onChange:o,options:[{value:"total",label:"Total"},{value:"per1s",label:"Stat/1s"},{value:"per60s",label:"Stat/60s"}],activeClassName:"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[l.jsx("div",{className:"text-center",children:"#"}),l.jsx("div",{children:"Player"}),l.jsxs("button",{type:"button",onClick:()=>D("value"),className:`text-right transition-colors ${j.key==="value"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:[s==="total"?"Total":s==="per1s"?"Stat/1s":"Stat/60s",j.key==="value"?j.dir==="desc"?" ":" ":""]}),l.jsxs("button",{type:"button",onClick:()=>D("fightTime"),className:`text-right transition-colors ${j.key==="fightTime"?"text-emerald-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",j.key==="fightTime"?j.dir==="desc"?" ":" ":""]})]})]}),rows:l.jsx(l.Fragment,{children:ee.map((de,oe)=>l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[l.jsx("div",{className:"text-center text-gray-500 font-mono",children:oe+1}),l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[h(de.profession,de.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:de.account})]}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:(()=>{const H=s==="total"?de.total:s==="per1s"?de.per1s:de.per60s,K=S.isTime?1:d&&s==="total"?0:2;return f(H,K)})()}),l.jsx("div",{className:"text-right font-mono text-gray-400",children:de.activeMs?`${(de.activeMs/1e3).toFixed(1)}s`:"-"})]},`${S.id}-${de.account}-${oe}`))})})})()})})]})},roe=({stats:e,HEALING_METRICS:t,activeHealingMetric:n,setActiveHealingMetric:r,healingCategory:i,setHealingCategory:a,activeResUtilitySkill:s,setActiveResUtilitySkill:o,skillUsageData:c,formatWithCommas:u,renderProfessionIcon:d,expandedSection:f,expandedSectionClosing:h,openExpandedSection:m,closeExpandedSection:p,isSectionVisible:x,isFirstVisibleSection:v,sectionClass:b})=>{var Oe;const[y,w]=g.useState({key:"value",dir:"desc"}),[N,j]=g.useState({columnId:((Oe=t[0])==null?void 0:Oe.id)||"value",dir:"desc"}),k=f==="healing-stats",[C,E]=g.useState([]),[R,T]=g.useState([]),$=Array.from(new Map(e.healingPlayers.map(fe=>[fe.account,fe])).values()).map(fe=>({id:fe.account,label:fe.account,icon:d(fe.profession,fe.professionList,"w-3 h-3")})),I=new Set([...R.map(fe=>`column:${fe}`),...C.map(fe=>`player:${fe}`)]),re=t.map(fe=>({id:fe.id,label:fe.label})),ce=R.length>0?t.filter(fe=>R.includes(fe.id)):t,ve=fe=>{w(Z=>({key:fe,dir:Z.key===fe&&Z.dir==="desc"?"asc":"desc"}))};return l.jsxs("div",{id:"healing-stats","data-section-visible":x("healing-stats"),"data-section-first":v("healing-stats"),className:b("healing-stats",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${f==="healing-stats"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${h?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(eI,{className:"w-5 h-5 text-lime-300"}),"Healing Stats"]}),l.jsx("button",{type:"button",onClick:()=>f==="healing-stats"?p():m("healing-stats"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":f==="healing-stats"?"Close Healing Stats":"Expand Healing Stats",title:f==="healing-stats"?"Close":"Expand",children:f==="healing-stats"?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]}),e.healingPlayers.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No healing stats available"}):k?l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Hs,{options:[...re.map(fe=>({...fe,type:"column"})),...$.map(fe=>({...fe,type:"player"}))],onSelect:fe=>{fe.type==="column"?T(Z=>Z.includes(fe.id)?Z.filter(xe=>xe!==fe.id):[...Z,fe.id]):E(Z=>Z.includes(fe.id)?Z.filter(xe=>xe!==fe.id):[...Z,fe.id])},selectedIds:I,className:"w-full sm:w-64"}),l.jsx(Cn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),l.jsx(wr,{options:re,selectedIds:R,onToggle:fe=>{T(Z=>Z.includes(fe)?Z.filter(xe=>xe!==fe):[...Z,fe])},onClear:()=>T([]),buttonIcon:l.jsx(Ws,{className:"h-3.5 w-3.5"})}),l.jsx(Cn,{value:s,onChange:o,options:[{value:"all",label:"All Res Utility"},...(c.resUtilitySkills||[]).map(fe=>({value:fe.id,label:fe.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),l.jsx(wr,{options:$,selectedIds:C,onToggle:fe=>{E(Z=>Z.includes(fe)?Z.filter(xe=>xe!==fe):[...Z,fe])},onClear:()=>E([]),buttonLabel:"Players",buttonIcon:l.jsx(Er,{className:"h-3.5 w-3.5"})})]}),(R.length>0||C.length>0)&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{T([]),E([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),R.map(fe=>{var xe;const Z=((xe=re.find(_=>_.id===fe))==null?void 0:xe.label)||fe;return l.jsxs("button",{type:"button",onClick:()=>T(_=>_.filter(D=>D!==fe)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:Z}),l.jsx("span",{className:"text-gray-400",children:""})]},fe)}),C.map(fe=>l.jsxs("button",{type:"button",onClick:()=>E(Z=>Z.filter(xe=>xe!==fe)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:fe}),l.jsx("span",{className:"text-gray-400",children:""})]},fe))]})]}),l.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:(()=>{var D,ue;const fe=S=>Math.max(1,(S.activeMs||0)/1e3),Z=S=>{const Y=S.baseField==="resUtility",B=Y||i==="total"?"":i==="offSquad"?"offSquad":i;return Y?s==="all"?"resUtility":`resUtility_${s}`:B?`${B}${S.baseField[0].toUpperCase()}${S.baseField.slice(1)}`:S.baseField},xe=[...e.healingPlayers].filter(S=>C.length===0||C.includes(S.account)).filter(S=>Object.values(S.healingTotals||{}).some(Y=>Number(Y)>0)).map(S=>{const Y={},B={};return ce.forEach(ee=>{var K;const de=Z(ee),oe=Number(((K=S.healingTotals)==null?void 0:K[de])??0),H=ee.perSecond?oe/fe(S):oe;B[ee.id]=H,Y[ee.id]=u(H,ee.decimals)}),{row:S,values:Y,numericValues:B}}).sort((S,Y)=>{var H,K;const B=((H=ce.find(J=>J.id===N.columnId))==null?void 0:H.id)||((K=ce[0])==null?void 0:K.id)||"",ee=S.numericValues[B]??0,de=Y.numericValues[B]??0;return(N.dir==="desc"?de-ee:ee-de)||String(S.row.account||"").localeCompare(String(Y.row.account||""))}),_=((D=ce.find(S=>S.id===N.columnId))==null?void 0:D.id)||((ue=ce[0])==null?void 0:ue.id)||"";return l.jsx(Ns,{title:"Healing - Dense View",subtitle:"Healing",sortColumnId:_,sortDirection:N.dir,onSortColumn:S=>{j(Y=>({columnId:S,dir:Y.columnId===S&&Y.dir==="desc"?"asc":"desc"}))},columns:ce.map(S=>({id:S.id,label:S.label,align:"right",minWidth:90})),rows:xe.map((S,Y)=>({id:`${S.row.account}-${Y}`,label:l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 font-mono",children:Y+1}),d(S.row.profession,S.row.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:S.row.account})]}),values:S.values}))})})()})]}):l.jsx(Nl,{expanded:f==="healing-stats",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${f==="healing-stats"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${f==="healing-stats"?"flex flex-col min-h-0":""}`,sidebar:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Healing Tabs"}),l.jsx("div",{className:"flex-1 overflow-y-auto space-y-1 pr-1",children:t.map(fe=>l.jsx("button",{onClick:()=>r(fe.id),className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${n===fe.id?"bg-lime-500/20 text-lime-200 border-lime-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:fe.label},fe.id))})]}),content:l.jsx(l.Fragment,{children:(()=>{const fe=t.find(S=>S.id===n)||t[0],Z=fe.baseField==="resUtility",xe=S=>Math.max(1,(S.activeMs||0)/1e3),_=Z||i==="total"?"":i==="offSquad"?"offSquad":i,D=Z?s==="all"?"resUtility":`resUtility_${s}`:_?`${_}${fe.baseField[0].toUpperCase()}${fe.baseField.slice(1)}`:fe.baseField,ue=[...e.healingPlayers].filter(S=>Object.values(S.healingTotals||{}).some(Y=>Number(Y)>0)).map(S=>{var ee;const Y=Number(((ee=S.healingTotals)==null?void 0:ee[D])??0),B=fe.perSecond?Y/xe(S):Y;return{...S,value:B}}).sort((S,Y)=>{const B=y.key==="fightTime"?Number(S.activeMs||0):Number(S.value||0),ee=y.key==="fightTime"?Number(Y.activeMs||0):Number(Y.value||0);return(y.dir==="desc"?ee-B:B-ee)||S.account.localeCompare(Y.account)});return l.jsx(qs,{expanded:f==="healing-stats",header:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-200",children:fe.label}),l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Healing"})]}),columns:l.jsxs(l.Fragment,{children:[Z&&l.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5 flex-wrap",children:l.jsx(Cn,{value:s,onChange:o,options:[{value:"all",label:"All"},...(c.resUtilitySkills||[]).map(S=>({value:S.id,label:S.name}))],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),!Z&&l.jsx("div",{className:"flex items-center justify-end px-4 py-2 bg-white/5",children:l.jsx(Cn,{value:i,onChange:a,options:[{value:"total",label:"Total"},{value:"squad",label:"Squad"},{value:"group",label:"Group"},{value:"self",label:"Self"},{value:"offSquad",label:"OffSquad"}],className:"flex-wrap",activeClassName:"bg-lime-500/20 text-lime-200 border border-lime-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})}),l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[l.jsx("div",{className:"text-center",children:"#"}),l.jsx("div",{children:"Player"}),l.jsxs("button",{type:"button",onClick:()=>ve("value"),className:`text-right transition-colors ${y.key==="value"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:[fe.label,y.key==="value"?y.dir==="desc"?" ":" ":""]}),l.jsxs("button",{type:"button",onClick:()=>ve("fightTime"),className:`text-right transition-colors ${y.key==="fightTime"?"text-lime-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",y.key==="fightTime"?y.dir==="desc"?" ":" ":""]})]})]}),rows:l.jsx(l.Fragment,{children:ue.length===0?l.jsx("div",{className:"px-4 py-6 text-sm text-gray-500 italic",children:"No healing data for this view"}):ue.map((S,Y)=>l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_1fr_0.9fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[l.jsx("div",{className:"text-center text-gray-500 font-mono",children:Y+1}),l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[d(S.profession,S.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:S.account})]}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:u(S.value,fe.decimals)}),l.jsx("div",{className:"text-right font-mono text-gray-400",children:S.activeMs?`${(S.activeMs/1e3).toFixed(1)}s`:"-"})]},`${fe.id}-${S.account}-${Y}`))})})})()})})]})},ioe=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}`:e:"",aoe=({stats:e,specialSearch:t,setSpecialSearch:n,filteredSpecialTables:r,activeSpecialTab:i,setActiveSpecialTab:a,activeSpecialTable:s,formatWithCommas:o,renderProfessionIcon:c,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:x,sidebarListClass:v})=>{const[b,y]=g.useState("total"),[w,N]=g.useState("desc"),[j,k]=g.useState({columnId:"",dir:"desc"}),C=u==="special-buffs",[E,R]=g.useState([]),[T,$]=g.useState([]),I=e.specialTables||[],ce=E.length>0?I.filter(D=>E.includes(D.id)):I,ve=r.map(D=>({id:D.id,label:D.name,icon:D.icon?l.jsx("img",{src:D.icon,alt:"",className:"h-4 w-4 object-contain"}):void 0})),Oe=Array.from(new Map((e.specialTables||[]).flatMap(D=>D.rows||[]).filter(D=>D.account).map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,icon:c(D.profession,D.professionList,"w-3 h-3")})),fe=new Set([...E.map(D=>`column:${D}`),...T.map(D=>`player:${D}`)]),Z=g.useMemo(()=>{if(!(s!=null&&s.rows))return[];const D=[...s.rows];return D.sort((ue,S)=>{const Y=Number((ue==null?void 0:ue[b])??0),B=Number((S==null?void 0:S[b])??0),ee=w==="desc"?B-Y:Y-B;return ee!==0?ee:String((ue==null?void 0:ue.account)||"").localeCompare(String((S==null?void 0:S.account)||""))}),D},[s,b,w]),xe=D=>{if(b===D){N(ue=>ue==="desc"?"asc":"desc");return}y(D),N("desc")},_=D=>b!==D?"":w==="desc"?" ":" ";return l.jsxs("div",{id:"special-buffs","data-section-visible":m("special-buffs"),"data-section-first":p("special-buffs"),className:x("special-buffs",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="special-buffs"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(Sx,{className:"w-5 h-5 text-purple-300"}),"Special Buffs"]}),l.jsx("button",{type:"button",onClick:()=>u==="special-buffs"?h():f("special-buffs"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="special-buffs"?"Close Special Buffs":"Expand Special Buffs",title:u==="special-buffs"?"Close":"Expand",children:u==="special-buffs"?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]}),e.specialTables.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No special buff data available"}):C?l.jsxs("div",{className:"flex flex-col gap-4",children:[l.jsxs("div",{className:"bg-black/20 border border-white/5 rounded-xl px-4 py-3",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx(Hs,{options:[...I.map(D=>({id:D.id,label:D.name,type:"column"})),...Array.from(new Map((e.specialTables||[]).flatMap(D=>D.rows||[]).filter(D=>D.account).map(D=>[D.account,D])).values()).map(D=>({id:D.account,label:D.account,type:"player",icon:c(D.profession,D.professionList,"w-3 h-3")}))],onSelect:D=>{D.type==="column"?R(ue=>ue.includes(D.id)?ue.filter(S=>S!==D.id):[...ue,D.id]):$(ue=>ue.includes(D.id)?ue.filter(S=>S!==D.id):[...ue,D.id])},selectedIds:fe,className:"w-full sm:w-64"}),l.jsx(wr,{options:ve,selectedIds:E,onToggle:D=>{R(ue=>ue.includes(D)?ue.filter(S=>S!==D):[...ue,D])},onClear:()=>R([]),buttonIcon:l.jsx(Ws,{className:"h-3.5 w-3.5"})}),l.jsx(wr,{options:Oe,selectedIds:T,onToggle:D=>{$(ue=>ue.includes(D)?ue.filter(S=>S!==D):[...ue,D])},onClear:()=>$([]),buttonLabel:"Players",buttonIcon:l.jsx(Er,{className:"h-3.5 w-3.5"})}),l.jsx(Cn,{value:b,onChange:D=>y(D),options:[{value:"total",label:"Total"},{value:"perSecond",label:"Per Sec"},{value:"duration",label:"Fight Time"}],activeClassName:"bg-purple-500/20 text-purple-200 border border-purple-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"})]}),(E.length>0||T.length>0)&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("button",{type:"button",onClick:()=>{R([]),$([])},className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/10 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:"Clear All"}),E.map(D=>{var S;const ue=((S=I.find(Y=>Y.id===D))==null?void 0:S.name)||D;return l.jsxs("button",{type:"button",onClick:()=>R(Y=>Y.filter(B=>B!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:ue}),l.jsx("span",{className:"text-gray-400",children:""})]},D)}),T.map(D=>l.jsxs("button",{type:"button",onClick:()=>$(ue=>ue.filter(S=>S!==D)),className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-white/5 px-2 py-1 text-[11px] text-gray-200 hover:text-white",children:[l.jsx("span",{children:D}),l.jsx("span",{className:"text-gray-400",children:""})]},D))]})]}),l.jsx("div",{className:"bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:I.length===0?l.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"No special buffs match this filter"}):(()=>{var de,oe;const D=ce,ue=new Map,S=new Map;D.forEach(H=>{const K=new Map;H.rows.forEach(J=>{const ae=J.account||J.name||J.id;ae&&(K.set(ae,J),S.has(ae)||S.set(ae,J))}),ue.set(H.id,K)});const Y=Array.from(S.entries()).filter(([H])=>T.length===0||T.includes(String(H))).map(([H,K])=>{const J={},ae={};return D.forEach(V=>{var Ye;const be=(Ye=ue.get(V.id))==null?void 0:Ye.get(H);if(!be){J[V.id]="-",ae[V.id]=0;return}if(b==="duration"){J[V.id]=be.duration?`${be.duration.toFixed(1)}s`:"-",ae[V.id]=Number(be.duration||0);return}const ie=b==="total"?be.total:be.perSecond,me=b==="total"?0:1;ae[V.id]=Number(ie||0),J[V.id]=o(ie||0,me)}),{key:H,row:K,values:J,numericValues:ae}}),B=((de=D.find(H=>H.id===j.columnId))==null?void 0:de.id)||(i&&D.some(H=>H.id===i)?i:void 0)||((oe=D[0])==null?void 0:oe.id)||"",ee=[...Y].sort((H,K)=>{if(!B)return String(H.key).localeCompare(String(K.key));const J=H.numericValues[B]??0,ae=K.numericValues[B]??0;return(j.dir==="desc"?ae-J:J-ae)||String(H.key).localeCompare(String(K.key))});return l.jsx(Ns,{title:"Special Buffs - Dense View",subtitle:"Totals",sortColumnId:B,sortDirection:j.dir,onSortColumn:H=>{k(K=>({columnId:H,dir:K.columnId===H&&K.dir==="desc"?"asc":"desc"}))},columns:D.map(H=>({id:H.id,label:l.jsx(yr,{name:H.name,iconUrl:H.icon,iconClassName:"h-4 w-4"}),align:"right",minWidth:90})),rows:ee.map((H,K)=>({id:`${H.key}-${K}`,label:l.jsxs(l.Fragment,{children:[l.jsx("span",{className:"text-gray-500 font-mono",children:K+1}),c(H.row.profession,H.row.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:H.row.account||H.row.name||H.key})]}),values:H.values}))})})()})]}):l.jsx(Nl,{expanded:u==="special-buffs",sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${u==="special-buffs"?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${u==="special-buffs"?"flex flex-col min-h-0":""}`,sidebar:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Special Buffs"}),l.jsx("input",{value:t,onChange:D=>n(D.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),l.jsx("div",{className:`${v} ${u==="special-buffs"?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No special buffs match this filter"}):r.map(D=>l.jsx("button",{onClick:()=>a(D.id),title:D.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===D.id?"bg-purple-500/20 text-purple-200 border-purple-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:l.jsx(yr,{name:ioe(D.name),iconUrl:D.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},D.id))})]}),content:l.jsx(l.Fragment,{children:s?l.jsx(qs,{expanded:u==="special-buffs",maxHeightClass:"max-h-64",header:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-200",children:l.jsx(yr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Totals"})]}),columns:l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[l.jsx("div",{className:"text-center",children:"#"}),l.jsx("div",{children:"Player"}),l.jsxs("button",{type:"button",onClick:()=>xe("total"),className:`text-right transition-colors ${b==="total"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Total",_("total")]}),l.jsxs("button",{type:"button",onClick:()=>xe("perSecond"),className:`text-right transition-colors ${b==="perSecond"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Per Sec",_("perSecond")]}),l.jsxs("button",{type:"button",onClick:()=>xe("duration"),className:`text-right transition-colors ${b==="duration"?"text-purple-200":"text-gray-400 hover:text-gray-200"}`,children:["Fight Time",_("duration")]})]}),rows:l.jsx(l.Fragment,{children:Z.map((D,ue)=>l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.5fr_0.8fr_0.8fr_0.8fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[l.jsx("div",{className:"text-center text-gray-500 font-mono",children:ue+1}),l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c(D.profession,D.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:D.account})]}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:Math.round(D.total).toLocaleString()}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:o(D.perSecond,1)}),l.jsx("div",{className:"text-right font-mono text-gray-400",children:D.duration?`${D.duration.toFixed(1)}s`:"-"})]},`${s.id}-${D.account}-${ue}`))})}):l.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a special buff to view details"})})})]})},soe=(e,t=30)=>e?e.length>t?`${e.slice(0,t-1)}...`:e:"",ooe=({hasSigilRelicTables:e,sigilRelicSearch:t,setSigilRelicSearch:n,filteredSigilRelicTables:r,activeSigilRelicTab:i,setActiveSigilRelicTab:a,activeSigilRelicTable:s,formatWithCommas:o,renderProfessionIcon:c,expandedSection:u,expandedSectionClosing:d,openExpandedSection:f,closeExpandedSection:h,isSectionVisible:m,isFirstVisibleSection:p,sectionClass:x,sidebarListClass:v})=>{const[b,y]=g.useState("desc"),w=u==="sigil-relic-uptime",N=g.useMemo(()=>{if(!(s!=null&&s.rows))return[];const j=[...s.rows];return j.sort((k,C)=>{const E=Number((k==null?void 0:k.uptimePerSecond)??(k==null?void 0:k.perSecond)??0),R=Number((C==null?void 0:C.uptimePerSecond)??(C==null?void 0:C.perSecond)??0),T=b==="desc"?R-E:E-R;return T!==0?T:String((k==null?void 0:k.account)||"").localeCompare(String((C==null?void 0:C.account)||""))}),j},[s,b]);return l.jsxs("div",{id:"sigil-relic-uptime","data-section-visible":m("sigil-relic-uptime"),"data-section-first":p("sigil-relic-uptime"),className:x("sigil-relic-uptime",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${u==="sigil-relic-uptime"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${d?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(eN,{className:"w-5 h-5 text-fuchsia-300"}),"Sigil/Relic Uptime"]}),l.jsx("button",{type:"button",onClick:()=>u==="sigil-relic-uptime"?h():f("sigil-relic-uptime"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":u==="sigil-relic-uptime"?"Close Sigil/Relic Uptime":"Expand Sigil/Relic Uptime",title:u==="sigil-relic-uptime"?"Close":"Expand",children:u==="sigil-relic-uptime"?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]}),e?l.jsx(Nl,{expanded:w,sidebarClassName:`bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 ${w?"h-full flex-1":"self-start"}`,contentClassName:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${w?"flex flex-col min-h-0":""}`,sidebar:l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Sigil/Relic"}),l.jsx("input",{value:t,onChange:j=>n(j.target.value),placeholder:"Search...",className:"w-full bg-black/30 border border-white/10 rounded-lg px-2 py-1 text-xs text-gray-200 focus:outline-none mb-2"}),l.jsx("div",{className:`${v} ${w?"max-h-none flex-1 min-h-0":""}`,children:r.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-6 text-xs",children:"No sigil/relic entries match this filter"}):r.map(j=>l.jsx("button",{onClick:()=>a(j.id),title:j.name,className:`w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${i===j.id?"bg-fuchsia-500/20 text-fuchsia-200 border-fuchsia-500/40":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:l.jsx(yr,{name:soe(j.name),iconUrl:j.icon,className:"w-full",iconClassName:"h-3.5 w-3.5",textClassName:"max-w-[170px]"})},j.id))})]}),content:l.jsx(l.Fragment,{children:s?l.jsx(qs,{expanded:w,maxHeightClass:"max-h-72",header:l.jsxs("div",{className:"flex items-center justify-between px-4 py-3 bg-white/5",children:[l.jsx("div",{className:"text-sm font-semibold text-gray-200",children:l.jsx(yr,{name:s.name,iconUrl:s.icon,iconClassName:"h-4 w-4"})}),l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500",children:"Uptime"})]}),columns:l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] text-xs uppercase tracking-wider text-gray-400 bg-white/5 px-4 py-2",children:[l.jsx("div",{className:"text-center",children:"#"}),l.jsx("div",{children:"Player"}),l.jsxs("button",{type:"button",onClick:()=>y(j=>j==="desc"?"asc":"desc"),className:"text-right transition-colors text-gray-400 hover:text-gray-200",children:["Uptime ",b==="desc"?"":""]})]}),rows:l.jsx(l.Fragment,{children:N.map((j,k)=>{const C=Number(j.uptimePerSecond??j.perSecond??0)*100;return l.jsxs("div",{className:"grid grid-cols-[0.4fr_1.6fr_1fr] px-4 py-2 text-sm text-gray-200 border-t border-white/5",children:[l.jsx("div",{className:"text-center text-gray-500 font-mono",children:k+1}),l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[c(j.profession,j.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:j.account})]}),l.jsxs("div",{className:"text-right font-mono text-gray-300",children:[o(C,1),"%"]})]},`${s.id}-${j.account}-${k}`)})})}):l.jsx("div",{className:"px-4 py-10 text-center text-gray-500 italic text-sm",children:"Select a sigil/relic to view uptime"})})}):l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No sigil/relic uptime data available"})]})},loe=({stats:e,formatWithCommas:t,expandedSection:n,expandedSectionClosing:r,openExpandedSection:i,closeExpandedSection:a,isSectionVisible:s,isFirstVisibleSection:o,sectionClass:c})=>{const u=Array.isArray(e==null?void 0:e.fightDiffMode)?e.fightDiffMode:[],d=!Array.isArray(e==null?void 0:e.fightDiffMode)&&Array.isArray(e==null?void 0:e.fightBreakdown)&&e.fightBreakdown.length>0,[f,h]=g.useState(""),[m,p]=g.useState(""),[x,v]=g.useState(null);g.useEffect(()=>{var re,ce,ve;if(u.length===0){h(""),p("");return}const $=String(((re=u[0])==null?void 0:re.id)||""),I=String(((ce=u[1])==null?void 0:ce.id)||((ve=u[0])==null?void 0:ve.id)||"");h(Oe=>Oe&&u.some(fe=>String(fe.id)===Oe)?Oe:$),p(Oe=>Oe&&u.some(fe=>String(fe.id)===Oe)?Oe:I)},[u]);const b=g.useMemo(()=>u.find($=>String($.id)===String(f))||null,[u,f]),y=g.useMemo(()=>u.find($=>String($.id)===String(m))||null,[u,m]),w=g.useMemo(()=>{if(!b||!y)return[];const $=new Map,I=(re,ce,ve,Oe)=>{const fe=String(re||"Unknown"),Z=$.get(fe)||{label:fe,aDamage:0,aShare:0,bDamage:0,bShare:0};ce==="a"?(Z.aDamage=Number(ve||0),Z.aShare=Number(Oe||0)):(Z.bDamage=Number(ve||0),Z.bShare=Number(Oe||0)),$.set(fe,Z)};return(b.targetFocus||[]).forEach(re=>I(re.label,"a",re.damage,re.share)),(y.targetFocus||[]).forEach(re=>I(re.label,"b",re.damage,re.share)),Array.from($.values()).map(re=>({...re,shareDelta:re.bShare-re.aShare})).sort((re,ce)=>Math.abs(ce.shareDelta)-Math.abs(re.shareDelta)||ce.bDamage+ce.aDamage-(re.bDamage+re.aDamage))},[b,y]),N=g.useMemo(()=>{if(!x)return w;const $=x.direction==="asc"?1:-1,I=x.key;return[...w].sort((re,ce)=>{const ve=(Number(re[I])-Number(ce[I]))*$;return ve!==0?ve:re.label.localeCompare(ce.label)})},[w,x]),j=g.useMemo(()=>{if(!b||!y)return[];const $=new Map((b.squadMetrics||[]).map(ce=>[ce.metricId,ce])),I=new Map((y.squadMetrics||[]).map(ce=>[ce.metricId,ce]));return Array.from(new Set([...$.keys(),...I.keys()])).map(ce=>{const ve=$.get(ce),Oe=I.get(ce),fe=!!((ve==null?void 0:ve.higherIsBetter)??(Oe==null?void 0:Oe.higherIsBetter)??!0),Z=Number((ve==null?void 0:ve.value)||0),xe=Number((Oe==null?void 0:Oe.value)||0);return{metricId:ce,metricLabel:String((ve==null?void 0:ve.metricLabel)||(Oe==null?void 0:Oe.metricLabel)||ce),higherIsBetter:fe,a:ve,b:Oe,delta:xe-Z}})},[b,y]),k=$=>`${t((Number($)||0)*100,1)}%`,C=$=>$==="squadKdr"?2:0,E=$=>{v(I=>!I||I.key!==$?{key:$,direction:"desc"}:{key:$,direction:I.direction==="desc"?"asc":"desc"})},R=$=>(x==null?void 0:x.key)===$?x.direction==="desc"?" ":" ":"",T=$=>`fight-diff-sort-button transition-colors whitespace-nowrap ${(x==null?void 0:x.key)===$?"text-indigo-200":"text-gray-400 hover:text-gray-200"}`;return l.jsxs("div",{id:"fight-diff-mode","data-section-visible":s("fight-diff-mode"),"data-section-first":o("fight-diff-mode"),className:c("fight-diff-mode",`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${n==="fight-diff-mode"?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane flex flex-col pb-10 ${r?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(Vk,{className:"w-5 h-5 text-indigo-300"}),"Fight Comparison"]}),l.jsx("button",{type:"button",onClick:()=>n==="fight-diff-mode"?a():i("fight-diff-mode"),className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":n==="fight-diff-mode"?"Close Fight Comparison":"Expand Fight Comparison",title:n==="fight-diff-mode"?"Close":"Expand",children:n==="fight-diff-mode"?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]}),d?l.jsxs("div",{className:"text-center text-gray-400 py-8 space-y-1",children:[l.jsx("div",{className:"font-semibold text-gray-200",children:"Fight Comparison data is missing in this dataset."}),l.jsx("div",{className:"text-sm text-gray-500",children:"Regenerate the stats/report with a build that includes Fight Comparison."})]}):u.length<2?l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"Need at least two fights to compare."}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[l.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight A",l.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:f,onChange:$=>h($.target.value),children:u.map($=>l.jsxs("option",{value:$.id,children:[$.shortLabel," - ",$.fullLabel]},`fight-a-${$.id}`))})]}),l.jsxs("label",{className:"text-xs uppercase tracking-widest text-gray-400",children:["Fight B",l.jsx("select",{className:"fight-diff-select mt-2 w-full rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-100 focus:outline-none",value:m,onChange:$=>p($.target.value),children:u.map($=>l.jsxs("option",{value:$.id,children:[$.shortLabel," - ",$.fullLabel]},`fight-b-${$.id}`))})]})]}),l.jsxs("div",{className:"bg-indigo-500/10 border border-indigo-300/20 rounded-xl px-4 py-3 text-xs text-indigo-100/90 space-y-1",children:[l.jsx("div",{className:"uppercase tracking-widest text-[10px] text-indigo-200/80",children:"How Target Focus Works"}),l.jsxs("div",{children:["Target focus compares how your squad distributed damage ",l.jsx("span",{className:"font-semibold",children:"to"})," enemy professions between two fights (it is not damage ",l.jsx("span",{className:"font-semibold",children:"from"})," those professions)."]}),l.jsxs("div",{children:[l.jsx("span",{className:"font-semibold",children:"Share"})," is the percent of your squad's total enemy-player damage that landed on that profession in that fight.",l.jsx("span",{className:"font-semibold",children:" Share Delta"})," is ",l.jsx("span",{className:"font-semibold",children:"Fight B - Fight A"}),"."]})]}),l.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:l.jsx(qs,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-96",header:l.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Target Focus Comparison"}),columns:w.length>0?l.jsx("div",{className:"bg-white/5 overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[l.jsxs("colgroup",{children:[l.jsx("col",{className:"w-[220px]"}),l.jsx("col",{className:"w-[120px]"}),l.jsx("col",{className:"w-[120px]"}),l.jsx("col",{className:"w-[120px]"}),l.jsx("col",{className:"w-[120px]"}),l.jsx("col",{className:"w-[120px]"})]}),l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-2 px-3",children:"Target"}),l.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:l.jsxs("button",{type:"button",className:T("aDamage"),onClick:()=>E("aDamage"),children:[b==null?void 0:b.shortLabel," Damage",R("aDamage")]})}),l.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:l.jsxs("button",{type:"button",className:T("aShare"),onClick:()=>E("aShare"),children:[b==null?void 0:b.shortLabel," Share",R("aShare")]})}),l.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:l.jsxs("button",{type:"button",className:T("bDamage"),onClick:()=>E("bDamage"),children:[y==null?void 0:y.shortLabel," Damage",R("bDamage")]})}),l.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:l.jsxs("button",{type:"button",className:T("bShare"),onClick:()=>E("bShare"),children:[y==null?void 0:y.shortLabel," Share",R("bShare")]})}),l.jsx("th",{className:"text-right py-2 px-3 whitespace-nowrap",children:l.jsxs("button",{type:"button",className:T("shareDelta"),onClick:()=>E("shareDelta"),children:["Share Delta",R("shareDelta")]})})]})})]})}):null,rows:w.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[700px] table-fixed text-xs",children:[l.jsxs("colgroup",{children:[l.jsx("col",{className:"w-[220px]"}),l.jsx("col",{className:"w-[120px]"}),l.jsx("col",{className:"w-[120px]"}),l.jsx("col",{className:"w-[120px]"}),l.jsx("col",{className:"w-[120px]"}),l.jsx("col",{className:"w-[120px]"})]}),l.jsx("tbody",{children:N.map($=>l.jsxs("tr",{className:"border-t border-white/5",children:[l.jsx("td",{className:"py-2 px-3 text-gray-200",children:$.label}),l.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t($.aDamage,0)}),l.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:k($.aShare)}),l.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t($.bDamage,0)}),l.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-300",children:k($.bShare)}),l.jsxs("td",{className:`py-2 px-3 text-right font-mono ${$.shareDelta>=0?"text-emerald-300":"text-red-300"}`,children:[$.shareDelta>=0?"+":"",k($.shareDelta)]})]},`focus-${$.label}`))})]})}):l.jsxs("div",{className:"px-4 py-8 text-center text-gray-400 text-sm space-y-1",children:[l.jsx("div",{className:"italic",children:"No target focus data for selected fights."}),l.jsx("div",{className:"text-xs text-gray-500",children:"Usually this means the fights were uploaded without Detailed WvW enemy slices, or the report was generated from an older build."})]})})}),l.jsx("div",{className:"stats-table-layout__content bg-black/30 border border-white/5 rounded-xl overflow-hidden",children:l.jsx(qs,{expanded:n==="fight-diff-mode",maxHeightClass:"max-h-none",header:l.jsx("div",{className:"bg-white/5 px-4 py-3 text-xs uppercase tracking-widest text-gray-400",children:"Squad Metric Comparison"}),columns:j.length>0?l.jsx("div",{className:"bg-white/5 overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[l.jsxs("colgroup",{children:[l.jsx("col",{className:"w-[320px]"}),l.jsx("col",{className:"w-[120px]"}),l.jsx("col",{className:"w-[120px]"}),l.jsx("col",{className:"w-[120px]"})]}),l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-2 px-3",children:"Metric"}),l.jsxs("th",{className:"text-right py-2 px-3",children:[b==null?void 0:b.shortLabel," Value"]}),l.jsxs("th",{className:"text-right py-2 px-3",children:[y==null?void 0:y.shortLabel," Value"]}),l.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})})]})}):null,rows:j.length>0?l.jsx("div",{className:"overflow-x-auto",children:l.jsxs("table",{className:"w-full min-w-[680px] table-fixed text-xs",children:[l.jsxs("colgroup",{children:[l.jsx("col",{className:"w-[320px]"}),l.jsx("col",{className:"w-[120px]"}),l.jsx("col",{className:"w-[120px]"}),l.jsx("col",{className:"w-[120px]"})]}),l.jsx("tbody",{children:j.map($=>{var ce,ve;const I=$.higherIsBetter?$.delta>=0:$.delta<=0,re=C($.metricId);return l.jsxs("tr",{className:"border-t border-white/5",children:[l.jsx("td",{className:"py-2 px-3 text-gray-200",children:$.metricLabel}),l.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((ce=$.a)==null?void 0:ce.value)||0),re)}),l.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:t(Number(((ve=$.b)==null?void 0:ve.value)||0),re)}),l.jsxs("td",{className:`py-2 px-3 text-right font-mono ${I?"text-emerald-300":"text-red-300"}`,children:[$.delta>0?"+":"",t($.delta,re)]})]},`performer-${$.metricId}`)})})]})}):l.jsx("div",{className:"px-4 py-8 text-center text-gray-500 italic text-sm",children:"No squad metric data for selected fights."})})})]})]})},coe=({stats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>l.jsxs(l.Fragment,{children:[l.jsx("div",{id:"kdr",className:"scroll-mt-24"}),l.jsxs("div",{id:"overview","data-section-visible":t("overview"),"data-section-first":n("overview"),className:r("overview","grid grid-cols-1 md:grid-cols-2 gap-4 scroll-mt-24"),children:[l.jsx("div",{className:"overview-card overview-card--green bg-gradient-to-br from-green-500/20 to-emerald-900/20 border border-green-500/30 rounded-2xl px-5 py-4",children:l.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.avgSquadSize}),l.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Avg Squad"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-black text-green-300 leading-none",children:e.wins}),l.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/50 mt-1",children:"Victories"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-semibold text-green-100",children:e.squadKDR}),l.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-green-200/60",children:"Squad KDR"})]})]})}),l.jsx("div",{className:"overview-card overview-card--red bg-gradient-to-br from-red-500/20 to-rose-900/20 border border-red-500/30 rounded-2xl px-5 py-4",children:l.jsxs("div",{className:"grid grid-cols-[1fr_auto_1fr] items-center gap-3",children:[l.jsxs("div",{className:"text-left",children:[l.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.avgEnemies}),l.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Avg Enemies"})]}),l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"text-3xl font-black text-red-300 leading-none",children:e.losses}),l.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/50 mt-1",children:"Defeats"})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("div",{className:"text-lg font-semibold text-red-100",children:e.enemyKDR}),l.jsx("div",{className:"text-[10px] uppercase tracking-[0.3em] text-red-200/60",children:"Enemy KDR"})]})]})})]})]}),uoe=({stats:e,fightBreakdownTab:t,setFightBreakdownTab:n,expandedSection:r,expandedSectionClosing:i,openExpandedSection:a,closeExpandedSection:s,isSectionVisible:o,isFirstVisibleSection:c,sectionClass:u})=>{const d="fight-breakdown",f=r===d,h=Array.isArray(e==null?void 0:e.fightBreakdown)?e.fightBreakdown:[],m=g.useMemo(()=>{const y=new Map;return h.forEach(w=>{(Array.isArray(w==null?void 0:w.teamBreakdown)?w.teamBreakdown:[]).forEach(j=>{const k=String((j==null?void 0:j.teamId)??"").trim(),C=Number((j==null?void 0:j.count)||0);!k||!Number.isFinite(C)||C<=0||y.set(k,(y.get(k)||0)+C)})}),Array.from(y.entries()).sort((w,N)=>{const j=N[1]-w[1];return j!==0?j:w[0].localeCompare(N[0],void 0,{numeric:!0})}).map(([w])=>w)},[h]),p=y=>{const w=y==null?void 0:y.timestamp;let N=0;if(typeof w=="number")N=w>1e12?w:w*1e3;else if(typeof w=="string"&&w.trim()){const E=Number(w);if(Number.isFinite(E)&&E>0)N=E>1e12?E:E*1e3;else{const R=Date.parse(w);Number.isFinite(R)&&R>0&&(N=R)}}const j=N>0?new Date(N).toLocaleDateString(void 0,{month:"2-digit",day:"2-digit"})+" "+new Date(N).toLocaleTimeString(void 0,{hour:"2-digit",minute:"2-digit"}):"--",k=(y==null?void 0:y.mapName)||(y==null?void 0:y.map)||"Unknown Map",C=String(k).replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim();return`${j}  ${C}`},x=y=>{const w=p(y);return y!=null&&y.permalink?l.jsx("button",{onClick:()=>{var N;y.permalink&&((N=window.electronAPI)!=null&&N.openExternal)?window.electronAPI.openExternal(y.permalink):y.permalink&&window.open(y.permalink,"_blank")},className:"text-cyan-300 hover:text-cyan-200 underline underline-offset-2 block truncate",children:w}):l.jsx("span",{className:"text-gray-500",children:"Pending"})},v=g.useMemo(()=>[{id:"duration",label:"Duration",align:"left",minWidth:72},{id:"outcome",label:"Outcome",align:"left",minWidth:72},{id:"squad",label:"Squad",align:"right",minWidth:72},{id:"allies",label:"Allies",align:"right",minWidth:72},{id:"enemies",label:"Enemies",align:"right",minWidth:72},...m.map(w=>({id:`team-${w}`,label:`Team ${w}`,align:"right",minWidth:72})),{id:"alliesDown",label:"Allies Down",align:"right",minWidth:88},{id:"alliesDead",label:"Allies Dead",align:"right",minWidth:88},{id:"alliesRevived",label:"Allies Revived",align:"right",minWidth:102},{id:"rallies",label:"Rallies",align:"right",minWidth:72},{id:"enemyDowns",label:"Enemy Downs",align:"right",minWidth:88},{id:"enemyDeaths",label:"Enemy Deaths",align:"right",minWidth:88},{id:"outgoingDmg",label:"Outgoing Dmg",align:"right",minWidth:110},{id:"incomingDmg",label:"Incoming Dmg",align:"right",minWidth:110},{id:"damageDelta",label:"Damage Delta",align:"right",minWidth:98},{id:"barrierIn",label:"Barrier Absorb",align:"right",minWidth:110},{id:"barrierOut",label:"Enemy Barrier Absorb",align:"right",minWidth:146},{id:"barrierDelta",label:"Barrier Delta",align:"right",minWidth:98}],[m]),b=g.useMemo(()=>h.map((y,w)=>{const N=Number((y.totalOutgoingDamage||0)-(y.totalIncomingDamage||0)),j=Number((y.outgoingBarrierAbsorbed||0)-(y.incomingBarrierAbsorbed||0)),k={duration:y.duration||"--:--",outcome:l.jsx("span",{className:`font-semibold ${y.isWin===!0?"text-emerald-300":y.isWin===!1?"text-red-300":"text-amber-200"}`,children:y.isWin===!0?"Win":y.isWin===!1?"Loss":"Unknown"}),squad:l.jsx(Qu,{count:y.squadCount??0,classCounts:y.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"}),allies:l.jsx(Qu,{count:y.allyCount??0,classCounts:y.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"}),enemies:l.jsx(Qu,{count:y.enemyCount??0,classCounts:y.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"}),alliesDown:Number(y.alliesDown??0),alliesDead:Number(y.alliesDead??0),alliesRevived:Number(y.alliesRevived??0),rallies:Number(y.rallies??0),enemyDowns:Number(y.enemyDowns??0),enemyDeaths:Number(y.enemyDeaths??0),outgoingDmg:Number(y.totalOutgoingDamage||0).toLocaleString(),incomingDmg:Number(y.totalIncomingDamage||0).toLocaleString(),damageDelta:l.jsx("span",{className:N<0?"text-red-300":"text-emerald-300",children:N.toLocaleString()}),barrierIn:Number(y.incomingBarrierAbsorbed||0).toLocaleString(),barrierOut:Number(y.outgoingBarrierAbsorbed||0).toLocaleString(),barrierDelta:l.jsx("span",{className:j<0?"text-emerald-300":"text-red-300",children:j.toLocaleString()})};return m.forEach(C=>{const R=(Array.isArray(y.teamBreakdown)?y.teamBreakdown:[]).find(T=>String((T==null?void 0:T.teamId)??"")===C);k[`team-${C}`]=Number((R==null?void 0:R.count)||0)}),{id:String(y.id||`${y.label}-${w}`),label:l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-500",children:w+1}),x(y)]}),values:k}}),[h,m]);return l.jsx("div",{id:d,"data-section-visible":o(d),"data-section-first":c(d),className:u(d,`mt-6 stats-share-exclude ${f?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${i?"modal-pane-exit":"modal-pane-enter"}`:""}`),children:l.jsxs("div",{className:`bg-white/5 border border-white/10 rounded-2xl p-6 ${f?"rounded-none border-0 min-h-full":""}`,children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:flex-wrap sm:items-center sm:justify-between mb-4 relative",children:[l.jsx("h3",{className:`text-lg font-bold text-gray-200 ${f?"pr-10 sm:pr-0":""}`,children:"Fight Breakdown"}),l.jsxs("div",{className:`flex flex-wrap items-center gap-2 ${f?"pr-10 sm:pr-0":""}`,children:[!f&&l.jsx(Cn,{value:t,onChange:n,options:[{value:"sizes",label:"Sizes"},{value:"outcomes",label:"Outcome"},{value:"damage",label:"Damage"},{value:"barrier",label:"Barrier"}],activeClassName:"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),l.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500 sm:ml-1 w-full sm:w-auto",children:[h.length," Fights"]}),l.jsx("button",{type:"button",onClick:()=>f?s():a(d),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${f?"absolute top-0 right-0 sm:static":""}`,"aria-label":f?"Close Fight Breakdown":"Expand Fight Breakdown",title:f?"Close":"Expand",children:f?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]})]}),h.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight data available"}):f?l.jsx(Ns,{title:"Fight Breakdown (All Columns)",subtitle:"Fullscreen dense view combining Sizes, Outcome, Damage, and Barrier metrics.",className:"fight-breakdown-dense",columns:v,rows:b}):l.jsx("div",{className:"overflow-x-auto",children:l.jsx("div",{className:"max-h-[360px] overflow-y-auto",children:l.jsxs("table",{className:"w-full text-xs table-auto min-w-[720px]",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-right py-2 px-2 w-8",children:"#"}),l.jsx("th",{className:"text-left py-2 px-3 w-[240px]",children:"Report"}),l.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Duration"}),l.jsx("th",{className:"text-left py-2 px-3 w-20",children:"Outcome"}),t==="sizes"&&l.jsxs(l.Fragment,{children:[l.jsx("th",{className:"text-right py-2 px-3",children:"Squad"}),l.jsx("th",{className:"text-right py-2 px-3",children:"Allies"}),l.jsx("th",{className:"text-right py-2 px-3",children:"Enemies"}),m.length===0?l.jsx("th",{className:"text-right py-2 px-3",children:"Teams"}):m.map(y=>l.jsx("th",{className:"text-right py-2 px-3",children:`Team ${y}`},y))]}),t==="outcomes"&&l.jsxs(l.Fragment,{children:[l.jsx("th",{className:"text-right py-2 px-3",children:"Allies Down"}),l.jsx("th",{className:"text-right py-2 px-3",children:"Allies Dead"}),l.jsx("th",{className:"text-right py-2 px-3",children:"Allies Revived"}),l.jsx("th",{className:"text-right py-2 px-3",children:"Rallies"}),l.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Downs"}),l.jsx("th",{className:"text-right py-2 px-3",children:"Enemy Deaths"})]}),t==="damage"&&l.jsxs(l.Fragment,{children:[l.jsx("th",{className:"text-right py-2 px-3",children:"Outgoing Dmg"}),l.jsx("th",{className:"text-right py-2 px-3",children:"Incoming Dmg"}),l.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]}),t==="barrier"&&l.jsxs(l.Fragment,{children:[l.jsx("th",{className:"text-right py-2 px-3",title:"Incoming damage mitigated by your squad's barrier",children:"Barrier Absorption"}),l.jsx("th",{className:"text-right py-2 px-3",title:"Outgoing damage mitigated by enemy barrier",children:"Enemy Barrier Absorption"}),l.jsx("th",{className:"text-right py-2 px-3",children:"Delta"})]})]})}),l.jsx("tbody",{children:h.map((y,w)=>l.jsxs("tr",{className:"border-b border-white/5 hover:bg-white/5",children:[l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-500 w-8",children:w+1}),l.jsx("td",{className:"py-2 px-3 w-[240px]",children:x(y)}),l.jsx("td",{className:"py-2 px-3 text-gray-200 w-20",children:y.duration||"--:--"}),l.jsx("td",{className:`py-2 px-3 font-semibold ${y.isWin===!0?"text-emerald-300":y.isWin===!1?"text-red-300":"text-amber-200"}`,children:y.isWin===!0?"Win":y.isWin===!1?"Loss":"Unknown"}),t==="sizes"&&l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"py-2 px-3 text-right font-mono",children:l.jsx(Qu,{count:y.squadCount??0,classCounts:y.squadClassCountsFight,label:"Squad Classes",className:"text-gray-200"})}),l.jsx("td",{className:"py-2 px-3 text-right font-mono",children:l.jsx(Qu,{count:y.allyCount??0,classCounts:y.allyClassCountsFight,label:"Ally Classes",className:"text-gray-200"})}),l.jsx("td",{className:"py-2 px-3 text-right font-mono",children:l.jsx(Qu,{count:y.enemyCount??0,classCounts:y.enemyClassCounts,label:"Enemy Classes",className:"text-gray-200"})}),m.length===0?l.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:"0"}):m.map(N=>{const k=(Array.isArray(y.teamBreakdown)?y.teamBreakdown:[]).find(C=>String((C==null?void 0:C.teamId)??"")===N);return l.jsx("td",{className:"py-2 px-3 text-right font-mono text-gray-200",children:Number((k==null?void 0:k.count)||0)},N)})]}),t==="outcomes"&&l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"py-2 px-3 text-right font-mono",children:y.alliesDown??0}),l.jsx("td",{className:"py-2 px-3 text-right font-mono",children:y.alliesDead??0}),l.jsx("td",{className:"py-2 px-3 text-right font-mono",children:y.alliesRevived??0}),l.jsx("td",{className:"py-2 px-3 text-right font-mono",children:y.rallies??0}),l.jsx("td",{className:"py-2 px-3 text-right font-mono",children:y.enemyDowns??0}),l.jsx("td",{className:"py-2 px-3 text-right font-mono",children:y.enemyDeaths??0})]}),t==="damage"&&l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(y.totalOutgoingDamage||0).toLocaleString()}),l.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(y.totalIncomingDamage||0).toLocaleString()}),(()=>{const N=Number((y.totalOutgoingDamage||0)-(y.totalIncomingDamage||0));return l.jsx("td",{className:`py-2 px-3 text-right font-mono ${N<0?"text-red-300":"text-emerald-300"}`,children:N.toLocaleString()})})()]}),t==="barrier"&&l.jsxs(l.Fragment,{children:[l.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(y.incomingBarrierAbsorbed||0).toLocaleString()}),l.jsx("td",{className:"py-2 px-3 text-right font-mono",children:Number(y.outgoingBarrierAbsorbed||0).toLocaleString()}),(()=>{const N=Number((y.outgoingBarrierAbsorbed||0)-(y.incomingBarrierAbsorbed||0));return l.jsx("td",{className:`py-2 px-3 text-right font-mono ${N<0?"text-emerald-300":"text-red-300"}`,children:N.toLocaleString()})})()]})]},y.id||`${y.label}-${w}`))})]})})})]})})},NT={red:{bg:"bg-red-500/20",text:"text-red-400"},yellow:{bg:"bg-yellow-500/20",text:"text-yellow-400"},green:{bg:"bg-green-500/20",text:"text-green-400"},purple:{bg:"bg-purple-500/20",text:"text-purple-400"},blue:{bg:"bg-blue-500/20",text:"text-blue-400"},pink:{bg:"bg-pink-500/20",text:"text-pink-400"},cyan:{bg:"bg-cyan-500/20",text:"text-cyan-400"},indigo:{bg:"bg-indigo-500/20",text:"text-indigo-400"}},doe=({icon:e,title:t,data:n,color:r,unit:i="",onClick:a,active:s,rows:o,formatValue:c,renderProfessionIcon:u})=>{const d=NT[r]||NT.blue,f=(n==null?void 0:n.value)??0,h=c?c(f):Math.round(f).toLocaleString();return l.jsxs("div",{role:"button",tabIndex:0,onClick:a,onKeyDown:m=>{(m.key==="Enter"||m.key===" ")&&(m.preventDefault(),a==null||a())},className:`bg-white/5 border border-white/10 rounded-xl p-4 flex flex-col gap-3 group hover:bg-white/10 transition-colors cursor-pointer ${s?"ring-1 ring-white/20":""}`,children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx("div",{className:`p-3 rounded-lg ${d.bg} ${d.text} shrink-0`,children:l.jsx(e,{className:"w-6 h-6"})}),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:"text-gray-400 text-xs font-bold uppercase tracking-wider truncate",children:t}),l.jsxs("div",{className:"text-2xl font-bold text-white mt-0.5 break-words",children:[h," ",l.jsx("span",{className:"text-sm font-normal text-gray-500",children:i})]})]})]}),l.jsxs("div",{className:"flex flex-col border-t border-white/5 pt-2",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[u((n==null?void 0:n.profession)||"Unknown",n==null?void 0:n.professionList,"w-4 h-4"),l.jsx("div",{className:"text-sm font-medium text-blue-300 truncate",children:(n==null?void 0:n.player)||"-"})]}),l.jsx("div",{className:"text-xs text-gray-500 truncate",children:n!=null&&n.count?`${n.count} logs`:"-"})]}),s&&l.jsxs("div",{className:"mt-3 stats-share-exclude",children:[l.jsx("div",{className:"text-xs font-semibold text-gray-200 mb-2",children:t}),o!=null&&o.length?l.jsx("div",{className:"max-h-56 overflow-y-auto pr-1 space-y-1",children:o.map(m=>l.jsxs("div",{className:"flex items-center gap-2 min-w-0 text-xs text-gray-300",children:[l.jsx("div",{className:"w-6 shrink-0 text-right text-gray-500",children:m.rank}),l.jsx("div",{className:"shrink-0",children:u(m.profession,m.professionList,"w-4 h-4")}),l.jsx("div",{className:"flex-1 min-w-0 truncate",children:m.account}),l.jsx("div",{className:"shrink-0 text-gray-400 font-mono",children:c?c(m.value):m.value})]},`${t}-${m.rank}-${m.account}`))}):l.jsx("div",{className:"text-xs text-gray-500 italic",children:"No data available"})]})]})},foe=(e,t)=>{const n=(Array.isArray(e)?e:[]).map(a=>({...a,value:Number((a==null?void 0:a.value)??0)})).filter(a=>Number.isFinite(a.value)).sort((a,s)=>{const o=t?s.value-a.value:a.value-s.value;return o!==0?o:String((a==null?void 0:a.account)||"").localeCompare(String((s==null?void 0:s.account)||""))});let r=null,i=0;return n.map((a,s)=>((r===null||a.value!==r)&&(i=s+1,r=a.value),{...a,rank:i}))},ST=(e,t)=>{if(typeof e=="number"&&Number.isFinite(e))return t(e);if(typeof e=="string"){const n=Number(e.replace(/,/g,"").trim());return Number.isFinite(n)?t(n):e}return"--"},moe=({stats:e,showTopStats:t,showMvp:n,topStatsMode:r,expandedLeader:i,setExpandedLeader:a,formatTopStatValue:s,formatWithCommas:o,isMvpStatEnabled:c,renderProfessionIcon:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h})=>t?l.jsxs("div",{id:"top-players","data-section-visible":d("top-players"),"data-section-first":f("top-players"),className:h("top-players","scroll-mt-24"),children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[l.jsx(au,{className:"w-5 h-5 text-yellow-400"}),"Top Players (Total Accumulated Stats)"]}),n&&l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-[minmax(0,1.6fr)_minmax(0,0.9fr)] gap-3 mb-6",children:[l.jsxs("div",{className:"mvp-card mvp-card--gold border border-yellow-500/30 rounded-2xl p-3 relative overflow-hidden group flex items-center",children:[l.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-yellow-500/10 blur-[80px] rounded-full pointer-events-none group-hover:bg-yellow-500/20 transition-all"}),l.jsxs("div",{className:"flex items-center gap-5 relative z-10 w-full",children:[l.jsx("div",{className:"hidden sm:flex items-center justify-center w-20 h-20 rounded-full bg-yellow-500/20 border border-yellow-500/30 shadow-[0_0_20px_rgba(234,179,8,0.2)]",children:l.jsx(L8,{className:"w-10 h-10 text-yellow-400"})}),l.jsxs("div",{className:"flex-1 flex flex-col h-full",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(Sx,{className:"w-4 h-4 text-yellow-400 animate-pulse"}),l.jsx("span",{className:"text-yellow-400 font-bold uppercase tracking-widest text-xs",children:"Squad MVP"})]}),l.jsxs("div",{className:"text-2xl sm:text-3xl font-black text-white mb-2 flex flex-wrap items-center gap-2 sm:gap-3",children:[l.jsx("span",{className:"min-w-0 max-w-full truncate",children:e.mvp.account}),u(e.mvp.profession,e.mvp.professionList,"w-6 h-6"),l.jsx("span",{className:"text-sm sm:text-lg font-medium text-yellow-200/70 bg-white/5 px-2 py-0.5 rounded border border-yellow-500/20 max-w-full truncate",children:e.mvp.profession})]}),l.jsxs("p",{className:"text-yellow-200/80 italic flex items-center gap-2 mb-2",children:[l.jsx(Yg,{className:"w-4 h-4 text-yellow-400 fill-yellow-500/40"}),'"',e.mvp.reason,'"']}),l.jsx("div",{className:"mt-auto flex flex-wrap gap-2",children:e.mvp.topStats&&e.mvp.topStats.filter(m=>c(m.name)).map((m,p)=>l.jsxs("div",{className:"inline-flex items-baseline gap-2 px-2.5 py-0.5 bg-yellow-500/10 border border-yellow-500/30 rounded-full text-[11px] leading-none",children:[l.jsx("span",{className:"text-yellow-200 font-bold",children:m.name}),l.jsx("span",{className:"text-yellow-50 font-mono tabular-nums",children:ST(m.val,s)})]},p))})]}),l.jsxs("div",{className:"hidden lg:block text-right",children:[l.jsx("div",{className:"text-yellow-500/40 font-mono text-sm uppercase tracking-wider font-bold",children:"Contribution Score"}),l.jsx("div",{className:"text-4xl font-black text-yellow-500/80",children:e.mvp.score>0?e.mvp.score.toFixed(1):"-"}),l.jsxs("div",{className:"text-xs text-yellow-500/30 font-mono mt-1",children:["Avg: ",e.avgMvpScore.toFixed(1)]})]})]})]}),l.jsx("div",{className:"grid grid-cols-2 xl:grid-cols-1 gap-3",children:[{label:"Silver",data:e.silver},{label:"Bronze",data:e.bronze}].map(m=>{var p,x,v,b,y;return l.jsxs("div",{className:`mvp-card mvp-card--${m.label.toLowerCase()} border border-white/10 rounded-2xl p-3 relative overflow-hidden group flex flex-col`,children:[l.jsx("div",{className:`absolute top-0 right-0 w-48 h-48 rounded-full blur-[70px] pointer-events-none transition-all ${m.label==="Silver"?"bg-slate-300/15 group-hover:bg-slate-300/25":"bg-orange-400/15 group-hover:bg-orange-400/25"}`}),l.jsxs("div",{className:"flex items-center justify-between mb-1",children:[l.jsxs("div",{className:`text-xs uppercase tracking-widest font-semibold ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:[m.label," MVP"]}),l.jsx("div",{className:"text-xs text-gray-500 font-mono",children:(p=m.data)!=null&&p.score?m.data.score.toFixed(1):"-"})]}),l.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[m.data&&u(m.data.profession,m.data.professionList,"w-6 h-6"),l.jsxs("div",{className:"min-w-0 flex-1",children:[l.jsx("div",{className:`text-base font-semibold ${m.label==="Silver"?"text-slate-100":"text-orange-100"} truncate`,children:((x=m.data)==null?void 0:x.account)||""}),l.jsx("div",{className:`text-xs ${m.label==="Silver"?"text-slate-300/70":"text-orange-200/70"} truncate`,children:((v=m.data)==null?void 0:v.profession)||"Unknown"})]})]}),(y=(b=m.data)==null?void 0:b.topStats)!=null&&y.some(w=>c(w.name))?l.jsx("div",{className:`mt-auto flex flex-wrap items-center gap-2 text-[10px] ${m.label==="Silver"?"text-slate-200":"text-orange-200"}`,children:m.data.topStats.filter(w=>c(w.name)).map((w,N)=>l.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-0.5 rounded-full border leading-none ${m.label==="Silver"?"bg-slate-400/10 border-slate-300/30":"bg-orange-500/10 border-orange-400/30"}`,children:[l.jsx("span",{className:"leading-none",children:w.name}),l.jsx("span",{className:"tabular-nums leading-none",children:ST(w.val,s)})]},N))}):null]},m.label)})})]}),(()=>{const m=r==="perSecond",p=m&&e.topStatsPerSecond?e.topStatsPerSecond:e,x=m&&e.topStatsLeaderboardsPerSecond?e.topStatsLeaderboardsPerSecond:e.leaderboards,v=m?"":"Total ",b=m?" /s":"",y=[{icon:B8,title:`Down Contribution${b}`,data:p.maxDownContrib,color:"red",statKey:"downContrib",higherIsBetter:!0},{icon:Rd,title:`${v}Barrier${b}`,data:p.maxBarrier,color:"yellow",statKey:"barrier",higherIsBetter:!0},{icon:eI,title:`${v}Healing${b}`,data:p.maxHealing,color:"green",statKey:"healing",higherIsBetter:!0},{icon:G8,title:`${v}Dodges${b}`,data:p.maxDodges,color:"cyan",statKey:"dodges",higherIsBetter:!0},{icon:Rm,title:`${v}Strips${b}`,data:p.maxStrips,color:"purple",statKey:"strips",higherIsBetter:!0},{icon:F8,title:`${v}Cleanses${b}`,data:p.maxCleanses,color:"blue",statKey:"cleanses",higherIsBetter:!0},{icon:R8,title:`${v}CC${b}`,data:p.maxCC,color:"pink",statKey:"cc",higherIsBetter:!0},{icon:rI,title:`${v}Stab Gen${b}`,data:p.maxStab,color:"cyan",statKey:"stability",higherIsBetter:!0},{icon:_8,title:"Closest to Tag",data:p.closestToTag,color:"indigo",unit:"dist",statKey:"closestToTag",higherIsBetter:!1}],w=N=>!m||!Number.isFinite(N)?s(N):o(N,2);return l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:y.map(N=>{var R,T,$,I;const j=i==="all",k=foe((x==null?void 0:x[N.statKey])||[],N.higherIsBetter),C=k[0],E=C?{...N.data,value:Number(C.value||0),player:C.account||((R=N.data)==null?void 0:R.player)||"-",count:C.count||((T=N.data)==null?void 0:T.count)||0,profession:C.profession||(($=N.data)==null?void 0:$.profession)||"Unknown",professionList:C.professionList||((I=N.data)==null?void 0:I.professionList)||[]}:N.data;return l.jsx(doe,{...N,data:E,active:j,onClick:()=>a(re=>re==="all"?null:"all"),rows:k,formatValue:w,renderProfessionIcon:u},N.statKey)})})})()]}):null,hoe=({stats:e,topSkillsMetric:t,onTopSkillsMetricChange:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=(t||e.topSkillsMetric)==="downContribution"?"downContribution":"damage",o=s==="downContribution",c=o?"Down Contrib":"Damage",u=s,d=Array.isArray(e.topSkillsByDamage)?e.topSkillsByDamage:null,f=Array.isArray(e.topSkillsByDownContribution)?e.topSkillsByDownContribution:null,h=g.useMemo(()=>o&&f?f:!o&&d?d:[...Array.isArray(e.topSkills)?e.topSkills:[]].sort((x,v)=>{const b=Number((x==null?void 0:x[u])||0);return Number((v==null?void 0:v[u])||0)-b||Number((v==null?void 0:v.hits)||0)-Number((x==null?void 0:x.hits)||0)||String((x==null?void 0:x.name)||"").localeCompare(String((v==null?void 0:v.name)||""))}),[o,d,f,e.topSkills,u]),m=g.useMemo(()=>Math.max(1,...h.map(x=>Number((x==null?void 0:x[u])||0))),[h,u]),p=typeof n=="function";return l.jsxs("div",{"data-section-visible":r("top-skills-outgoing"),"data-section-first":i("top-skills-outgoing"),className:a("top-skills-outgoing","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8"),children:[l.jsxs("div",{id:"top-skills-outgoing","data-section-visible":r("top-skills-outgoing"),className:a("top-skills-outgoing","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(Uk,{className:"top-skills-outgoing-icon w-5 h-5 text-orange-400"}),"Top Outgoing Skills"]}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:c})]}),p&&l.jsx("div",{className:"pill-toggle-group flex items-center gap-1 rounded-full bg-white/5 border border-white/10 p-1",children:[{id:"damage",label:"Damage"},{id:"downContribution",label:"Down Contrib"}].map(x=>{const v=(t||e.topSkillsMetric)===x.id;return l.jsx("button",{type:"button",onClick:()=>n==null?void 0:n(x.id),className:`pill-toggle-option px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${v?"pill-toggle-option--active bg-orange-500/30 text-orange-200":"text-gray-400 hover:text-white"}`,children:x.label},x.id)})})]}),l.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[h.map((x,v)=>l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",v+1]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[l.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:l.jsx(yr,{name:x.name,iconUrl:x.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsx("span",{className:"top-skills-outgoing-value text-orange-400 font-mono font-bold",children:Math.round(x[u]||0).toLocaleString()}),l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",x.hits.toLocaleString()," hits)"]})]})]}),l.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:"top-skills-outgoing-bar h-full bg-orange-500 rounded-full",style:{width:`${Number(x[u]||0)/m*100}%`}})})]})]},`outgoing-${x.name||"unknown"}-${v}`)),h.length===0&&l.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No skill data available"})]})]}),l.jsxs("div",{id:"top-skills-incoming","data-section-visible":r("top-skills-incoming"),className:a("top-skills-incoming","bg-white/5 border border-white/10 rounded-2xl p-6 scroll-mt-24"),children:[l.jsx("div",{className:"flex items-center justify-between mb-6",children:l.jsxs("div",{children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(M8,{className:"w-5 h-5 text-red-500"}),"Top Incoming Skills"]}),l.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Damage"})]})}),l.jsxs("div",{className:"max-h-80 overflow-y-auto overflow-x-hidden space-y-4",children:[(e.topIncomingSkills||[]).map((x,v)=>{var b;return l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("div",{className:"w-8 text-center text-xl font-bold text-gray-600",children:["#",v+1]}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3 text-sm mb-1 py-0.5 leading-normal",children:[l.jsx("span",{className:"text-white font-bold flex-1 min-w-0 py-[1px]",children:l.jsx(yr,{name:x.name,iconUrl:x.icon,iconClassName:"h-6 w-6",className:"min-w-0",textClassName:"truncate leading-[1.5] pt-[1px] pb-[2px]"})}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsx("span",{className:"text-red-400 font-mono font-bold",children:Math.round(x.damage).toLocaleString()}),l.jsxs("span",{className:"text-gray-500 text-xs ml-2",children:["(",x.hits.toLocaleString()," hits)"]})]})]}),l.jsx("div",{className:"h-2 w-full bg-white/5 rounded-full overflow-hidden",children:l.jsx("div",{className:"h-full bg-red-500 rounded-full",style:{width:`${x.damage/(((b=e.topIncomingSkills[0])==null?void 0:b.damage)||1)*100}%`}})})]})]},`incoming-${x.name||"unknown"}-${v}`)}),e.topIncomingSkills.length===0&&l.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"No incoming damage data available"})]})]})]})},poe=({sortedSquadClassData:e,sortedEnemyClassData:t,getProfessionIconPath:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>{const s=r("squad-composition");return l.jsxs("div",{id:"squad-composition","data-section-visible":s,"data-section-first":i("squad-composition"),className:a("squad-composition","grid grid-cols-1 lg:grid-cols-2 gap-6 mb-8 page-break-avoid"),children:[l.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[l.jsx(Er,{className:"w-5 h-5 text-green-400"}),"Classes"]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[l.jsx("div",{className:"h-[240px] sm:h-full",children:l.jsx(ys,{width:"100%",height:"100%",children:l.jsxs(b1,{children:[l.jsx(z0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:e.map((o,c)=>l.jsx(Xd,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${c}`))}),l.jsx(ks,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-squad-pie-${s?"visible":"hidden"}`)}),l.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:l.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:e.map(o=>l.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[l.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?l.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):l.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),l.jsx("span",{className:"min-w-0 truncate",children:o.name}),l.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]}),l.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[l.jsx(gu,{className:"w-5 h-5 text-red-400"}),"Enemy Composition"]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-[1fr_150px] sm:h-[300px] gap-4",children:[l.jsx("div",{className:"h-[240px] sm:h-full",children:l.jsx(ys,{width:"100%",height:"100%",children:l.jsxs(b1,{children:[l.jsx(z0,{data:t,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:2,dataKey:"value",children:t.map((o,c)=>l.jsx(Xd,{fill:o.color,stroke:"rgba(0,0,0,0.5)"},`cell-${c}`))}),l.jsx(ks,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}})]})},`squad-comp-enemy-pie-${s?"visible":"hidden"}`)}),l.jsx("div",{className:"w-full sm:h-full overflow-y-auto pr-1",children:l.jsx("div",{className:"w-full min-w-0 space-y-1.5 text-[11px] pb-2",children:t.map(o=>l.jsxs("div",{className:"grid grid-cols-[12px_16px_minmax(0,1fr)_auto] items-center gap-2 text-gray-300",children:[l.jsx("span",{className:"squad-comp-legend-swatch inline-block w-3 h-3 rounded-sm",style:{backgroundColor:o.color}}),n(o.name)?l.jsx("img",{src:n(o.name),alt:o.name,className:"w-4 h-4 shrink-0 object-contain"}):l.jsx("span",{className:"inline-block w-4 h-4 rounded-sm border border-white/10"}),l.jsx("span",{className:"min-w-0 truncate",children:o.name}),l.jsxs("span",{className:"shrink-0 text-gray-500",children:["(",o.value,")"]})]},o.name))})})]})]})]})},goe=({timelineData:e,timelineFriendlyScope:t,setTimelineFriendlyScope:n,isSectionVisible:r,isFirstVisibleSection:i,sectionClass:a})=>l.jsxs("div",{id:"timeline","data-section-visible":r("timeline"),"data-section-first":i("timeline"),className:a("timeline","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(Er,{className:"w-5 h-5 text-green-400"}),"Squad vs Enemy Size"]}),l.jsxs("div",{className:"flex items-center gap-2 text-xs uppercase tracking-widest text-gray-500",children:[l.jsx("span",{className:"text-gray-400",children:"Friendly Count"}),l.jsx("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[{value:"squad",label:"Squad"},{value:"squadAllies",label:"Squad + Allies"}].map(s=>l.jsx("button",{type:"button",onClick:()=>n(s.value),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${t===s.value?"bg-emerald-500/20 text-emerald-200 border border-emerald-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:s.label},s.value))})]})]}),e.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-10",children:"No timeline data available"}):l.jsx("div",{className:"h-[260px] w-full",children:l.jsx(ys,{width:"100%",height:"100%",children:l.jsxs(gl,{data:e,margin:{top:10,right:24,left:0,bottom:0},children:[l.jsx(vo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),l.jsx(yo,{dataKey:"index",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),l.jsx(wo,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:36}),l.jsx(ks,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:(s,o)=>{var f;const c=(f=o==null?void 0:o[0])==null?void 0:f.payload,u=(c==null?void 0:c.isWin)===!0?"Win":(c==null?void 0:c.isWin)===!1?"Loss":"Unknown";return`${typeof(c==null?void 0:c.label)=="string"&&c.label.trim().length>0?c.label:`Log ${s}`}  ${u}`},formatter:(s,o)=>[s,o==="friendly"?t==="squad"?"Squad":"Squad + Allies":"Enemies"]}),l.jsx(ta,{type:"monotone",dataKey:t==="squad"?"squadCount":"friendlyCount",name:"friendly",stroke:"#22c55e",strokeWidth:2,dot:{r:3,fill:"#22c55e"},activeDot:{r:5}}),l.jsx(ta,{type:"monotone",dataKey:"enemies",stroke:"#ef4444",strokeWidth:2,dot:{r:3,fill:"#ef4444"},activeDot:{r:5}})]})})})]}),xoe=({mapData:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>l.jsxs("div",{id:"map-distribution","data-section-visible":t("map-distribution"),"data-section-first":n("map-distribution"),className:r("map-distribution","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-6 flex items-center gap-2",children:[l.jsx(Kk,{className:"w-5 h-5 text-blue-400"}),"Map Distribution"]}),l.jsx("div",{className:"h-[260px] sm:h-[300px] w-full",children:l.jsx(ys,{width:"100%",height:"100%",children:l.jsxs(b1,{children:[l.jsx(z0,{data:e,cx:"50%",cy:"50%",innerRadius:"45%",outerRadius:"70%",paddingAngle:5,dataKey:"value",children:e.map((i,a)=>l.jsx(Xd,{fill:i.color,stroke:"rgba(0,0,0,0.5)"},`cell-${a}`))}),l.jsx(ks,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},itemStyle:{color:"#fff"}}),l.jsx(S_,{verticalAlign:"bottom",height:36,payload:e.map(i=>({id:i.name,type:"square",value:i.name,color:i.color,payload:i})),formatter:(i,a)=>l.jsxs("span",{className:"text-gray-300 font-medium ml-1",children:[i," ",l.jsxs("span",{className:"text-gray-500",children:["(",a.payload.value,")"]})]})})]})})})]}),jT=({sectionId:e="spike-damage",title:t="Spike Damage",subtitle:n="Select one player to chart their highest damage burst per fight.",listTitle:r="Squad Players",searchPlaceholder:i="Search player or account",titleIconClassName:a="text-rose-300",expandedSection:s,expandedSectionClosing:o,openExpandedSection:c,closeExpandedSection:u,isSectionVisible:d,isFirstVisibleSection:f,sectionClass:h,spikePlayerFilter:m,setSpikePlayerFilter:p,groupedSpikePlayers:x,spikeMode:v,setSpikeMode:b,damageBasis:y="all",setDamageBasis:w,showDamageBasisToggle:N=!1,selectedSpikePlayerKey:j,setSelectedSpikePlayerKey:k,selectedSpikePlayer:C,spikeChartData:E,spikeChartMaxY:R,selectedSpikeFightIndex:T,setSelectedSpikeFightIndex:$,spikeDrilldownTitle:I,spikeDrilldownData:re,spikeDrilldownDownIndices:ce,spikeDrilldownDeathIndices:ve,spikeFightSkillRows:Oe=[],spikeFightSkillTitle:fe="Skill Damage (Selected Fight)",formatWithCommas:Z,renderProfessionIcon:xe})=>{const[_,D]=g.useState(null),[ue,S]=g.useState(null),Y=Ae=>String(Ae||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),B=s===e,ee=C?tl(C.profession):"#fda4af",de=y==="downContribution",oe=v==="hit"?de?"Highest Down Contribution":"Highest Damage":v==="1s"?"1s Burst":v==="5s"?"5s Burst":"30s Burst",H=Ae=>v==="hit"?de?Ae.peakHitDown:Ae.peakHit:v==="1s"?de?Ae.peak1sDown:Ae.peak1s:v==="5s"?de?Ae.peak5sDown:Ae.peak5s:de?Ae.peak30sDown:Ae.peak30s,K=x.flatMap(Ae=>Ae.players.map(Ee=>({...Ee,groupProfession:Ae.profession}))).sort((Ae,Ee)=>{const ot=H(Ee)-H(Ae);return ot!==0?ot:Ae.displayName.localeCompare(Ee.displayName)}),J=E.reduce((Ae,Ee)=>!Ae||Ee.damage>Ae.damage?Ee:Ae,null),ae=T===null?null:E.find(Ae=>Ae.index===T)||null,V=ae||J,be=Ae=>{if(!Number.isFinite(Ae)||Ae<=0)return"";try{return new Intl.DateTimeFormat(void 0,{month:"short",day:"numeric",hour:"numeric",minute:"2-digit"}).format(new Date(Ae))}catch{return""}},ie=re.reduce((Ae,Ee)=>Math.max(Ae,Number(Ee.value||0)),0),me=Math.max(1,ie),Ye=new Set(ce),Qe=new Set(ve),yt=re.map((Ae,Ee)=>({...Ae,downMarker:Ye.has(Ee)?Math.max(Number(Ae.value||0),me*.88):null,deathMarker:Qe.has(Ee)?Math.max(Number(Ae.value||0),me*.96):null})),$e=Ae=>Ee=>{const ot=Number(Ee==null?void 0:Ee.cx),Ce=Number(Ee==null?void 0:Ee.cy),Kt=Number(Ee==null?void 0:Ee.index);if(!Number.isFinite(ot)||!Number.isFinite(Ce)||!Number.isFinite(Kt))return null;const Le=(Ee==null?void 0:Ee.payload)||{},ft=Ae==="down"?Le==null?void 0:Le.downMarker:Le==null?void 0:Le.deathMarker;if(!Number.isFinite(Number(ft)))return null;const Ft=`${Ae}-${Kt}`,Gt=_===Ft,wn=Ae==="down"?"#facc15":"#ef4444",tr=Ae==="down"?"#fde047":"#f87171";return l.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onMouseEnter:()=>{D(Ft),S({x:ot,y:Ce,kind:Ae,label:String((Le==null?void 0:Le.label)||"")})},onMouseLeave:()=>{D(on=>on===Ft?null:on),S(on=>(on==null?void 0:on.kind)===Ae&&(on==null?void 0:on.label)===String((Le==null?void 0:Le.label)||"")?null:on)},children:[l.jsx("circle",{cx:ot,cy:Ce,r:Gt?10:7,fill:tr,opacity:Gt?.35:.18}),l.jsx("circle",{cx:ot,cy:Ce,r:Gt?7:5.5,fill:wn,stroke:"#0f172a",strokeWidth:Gt?2.25:1.75})]})};return l.jsxs("div",{id:e,"data-section-visible":d(e),"data-section-first":f(e),className:h(e,`bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid stats-share-exclude scroll-mt-24 ${B?`fixed inset-0 z-50 overflow-y-auto h-screen shadow-2xl rounded-none modal-pane pb-10 ${o?"modal-pane-exit":"modal-pane-enter"}`:"overflow-hidden"}`),children:[l.jsxs("div",{className:"flex flex-col gap-2 md:flex-row md:items-center md:justify-between mb-4 relative",children:[l.jsxs("div",{className:B?"pr-10 md:pr-0":"",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(Rm,{className:`w-5 h-5 ${a}`}),t]}),l.jsx("p",{className:"text-xs text-gray-400",children:n})]}),l.jsxs("div",{className:`flex items-center gap-3 ${B?"pr-10 md:pr-0":""}`,children:[N&&w&&l.jsx(Cn,{value:y,onChange:Ae=>w(Ae),options:[{value:"all",label:"Damage"},{value:"downContribution",label:"Down Contrib"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),l.jsx(Cn,{value:v,onChange:Ae=>b(Ae),options:[{value:"hit",label:"Highest Damage"},{value:"1s",label:"1s"},{value:"5s",label:"5s"},{value:"30s",label:"30s"}],activeClassName:"bg-rose-500/20 text-rose-200 border border-rose-500/40",inactiveClassName:"border border-transparent text-gray-400 hover:text-white"}),l.jsx("button",{type:"button",onClick:()=>B?u():c(e),className:`p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors ${B?"absolute top-2 right-2 md:static":""}`,"aria-label":B?`Close ${t}`:`Expand ${t}`,title:B?"Close":"Expand",children:B?l.jsx(ii,{className:"w-4 h-4"}):l.jsx(bi,{className:"w-4 h-4"})})]})]}),l.jsxs("div",{className:"grid gap-4 lg:grid-cols-2 items-stretch",children:[l.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[l.jsx("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:r}),l.jsx("input",{type:"search",value:m,onChange:Ae=>p(Ae.target.value),placeholder:i,className:"w-full rounded-xl border border-white/10 bg-black/30 px-3 py-2 text-sm text-gray-200 focus:border-rose-400 focus:outline-none"}),l.jsx("div",{className:"spike-player-list-container flex-1 min-h-0 overflow-y-auto rounded-2xl border border-white/10 bg-black/20",children:K.length===0?l.jsx("div",{className:"px-3 py-4 text-xs text-gray-500 italic",children:"No players match the filter."}):l.jsx("div",{className:"p-1.5 space-y-1",children:K.map(Ae=>{const Ee=j===Ae.key;return l.jsx("button",{type:"button",onClick:()=>k(Ae.key),className:`spike-player-list-item w-full rounded-md border px-2.5 py-1.5 text-left transition-colors ${Ee?"border-rose-300/60 bg-rose-400/10 text-white":"border-white/10 bg-white/[0.02] hover:border-white/20 hover:bg-white/[0.05]"}`,children:l.jsxs("div",{className:"flex items-center justify-between gap-2",children:[l.jsxs("div",{className:"min-w-0",children:[l.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[xe(Ae.profession,void 0,"w-3.5 h-3.5"),l.jsx("div",{className:"text-sm font-semibold truncate text-white",children:Ae.displayName}),l.jsx("span",{className:"text-[9px] uppercase tracking-[0.14em] text-gray-400 shrink-0",children:Ae.groupProfession})]}),l.jsxs("div",{className:"text-[10px] text-gray-400 truncate",children:[Ae.characterName||Ae.displayName,"  ",Ae.logs," ",Ae.logs===1?"fight":"fights"]})]}),l.jsx("div",{className:"text-xs font-mono text-rose-200 shrink-0",children:Z(H(Ae)||0,0)})]})},Ae.key)})})})]}),l.jsxs("div",{className:"space-y-2 flex flex-col h-[320px]",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"text-xs font-semibold uppercase tracking-[0.3em] text-gray-400",children:["Per Fight ",oe]}),l.jsxs("div",{className:"text-[11px] text-gray-500",children:[E.length," ",E.length===1?"fight":"fights"]})]}),l.jsx("div",{className:"rounded-2xl border border-white/10 bg-black/30 p-4 flex-1 min-h-0",children:!C||E.length===0?l.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"Select one player to view burst values by fight."}):l.jsx(ys,{width:"100%",height:"100%",children:l.jsxs(gl,{data:E,onClick:Ae=>{const Ee=Number(Ae==null?void 0:Ae.activeTooltipIndex);Number.isFinite(Ee)&&$(T===Ee?null:Ee)},children:[l.jsx(vo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),l.jsx(yo,{dataKey:"shortLabel",tick:{fill:"#e2e8f0",fontSize:10}}),l.jsx(wo,{tick:{fill:"#e2e8f0",fontSize:10},domain:[0,Math.max(1,R)],tickFormatter:Ae=>Z(Ae,0)}),l.jsx(ks,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(Ae,Ee)=>[Z(Number(Ae||0),0),String(Ee||"")],labelFormatter:(Ae,Ee)=>{var Kt;const ot=(Kt=Ee==null?void 0:Ee[0])==null?void 0:Kt.payload;if(!ot)return"";const Ce=Y(ot.fullLabel||"");return v==="hit"&&ot.skillName?`${Ce}  ${ot.skillName}`:Ce}}),l.jsx(ta,{type:"monotone",dataKey:"damage",name:C.displayName,stroke:ee,strokeWidth:3,dot:Ae=>{var Ce;const Ee=Number((Ce=Ae==null?void 0:Ae.payload)==null?void 0:Ce.index);if(!Number.isFinite(Ee))return null;const ot=T===Ee;return l.jsxs("g",{style:{cursor:"pointer",pointerEvents:"all"},onClick:Kt=>{Kt.stopPropagation(),$(ot?null:Ee)},children:[l.jsx("circle",{cx:Ae.cx,cy:Ae.cy,r:10,fill:"transparent",style:{pointerEvents:"all"}}),l.jsx("circle",{cx:Ae.cx,cy:Ae.cy,r:ot?4:3,fill:ee,stroke:ot?"rgba(251,191,36,0.95)":"rgba(15,23,42,0.9)",strokeWidth:ot?2:1,style:{pointerEvents:"all"}})]})},activeDot:{r:4}}),l.jsx(ta,{type:"monotone",dataKey:"maxDamage",name:"Fight Max",stroke:"rgba(148,163,184,0.8)",strokeWidth:2,strokeDasharray:"6 4",dot:!1,activeDot:!1})]})})})]})]}),C&&l.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3 grid gap-3 md:grid-cols-3",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:"Selected Player"}),l.jsxs("div",{className:"mt-1 text-sm font-semibold text-white flex items-center gap-2 min-w-0",children:[xe(C.profession,C.professionList,"w-4 h-4"),l.jsx("span",{className:"truncate",children:C.displayName})]})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:ae?v==="hit"?de?"Selected Skill Down Contribution":"Selected Skill Damage":`Selected ${oe}`:v==="hit"?de?"Peak Highest Skill Down Contribution":"Peak Highest Skill Damage":`Peak ${oe}`}),l.jsx("div",{className:"mt-1 text-lg font-black text-rose-200 font-mono",children:Z((ae==null?void 0:ae.damage)??(H(C)||0),0)})]}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:ae?v==="hit"?"Selected Skill / Fight":"Selected Fight":v==="hit"?"Peak Skill / Fight":"Peak Fight"}),l.jsx("div",{className:"mt-1 text-sm text-gray-200 truncate",children:(()=>{const Ae=Y((V==null?void 0:V.fullLabel)||C.peakFightLabel||"N/A"),Ee=be(Number((V==null?void 0:V.timestamp)||0)),ot=Ee?`${Ee} - ${Ae}`:Ae;if(v!=="hit")return ot;const Ce=(ae==null?void 0:ae.skillName)||C.peakSkillName;return Ce?`${Ce}  ${ot}`:ot})()})]})]}),C&&T!==null&&l.jsxs("div",{className:"mt-4 rounded-2xl border border-white/10 bg-black/30 px-4 py-3",children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:I}),l.jsx("button",{type:"button",onClick:()=>$(null),className:"text-[10px] uppercase tracking-[0.2em] text-gray-400 hover:text-gray-200",children:"Clear"})]}),l.jsx("div",{className:"h-[220px] relative",children:re.length===0?l.jsx("div",{className:"h-full flex items-center justify-center text-xs text-gray-500",children:"No detailed data available for this fight."}):l.jsxs(l.Fragment,{children:[l.jsx(ys,{width:"100%",height:"100%",children:l.jsxs(gl,{data:yt,children:[l.jsx(vo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),l.jsx(yo,{dataKey:"label",tick:{fill:"#e2e8f0",fontSize:10}}),l.jsx(wo,{tick:{fill:"#e2e8f0",fontSize:10},tickFormatter:Ae=>Z(Ae,0)}),l.jsx(ks,{contentStyle:{backgroundColor:"#161c24",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem"},formatter:(Ae,Ee)=>{const ot=String(Ee||"");return ot==="Down"?["Downed","Event"]:ot==="Death"?["Dead","Event"]:[Z(Number(Ae||0),0),"Damage"]},labelFormatter:Ae=>String(Ae||"")}),l.jsx(ta,{type:"monotone",dataKey:"value",name:"Damage",stroke:ee,strokeWidth:2.5,dot:v==="hit"?{r:2}:!1,activeDot:{r:4}}),l.jsx(ta,{type:"linear",dataKey:"downMarker",name:"Down",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:$e("down")}),l.jsx(ta,{type:"linear",dataKey:"deathMarker",name:"Death",stroke:"transparent",connectNulls:!1,isAnimationActive:!1,activeDot:!1,dot:$e("death")})]})}),ue&&l.jsxs("div",{className:"pointer-events-none absolute z-20 rounded-md border border-white/15 bg-[#101722] px-2 py-1 text-xs shadow-xl",style:{left:`${Math.max(8,ue.x)}px`,top:`${Math.max(8,ue.y-38)}px`,transform:"translate(-50%, -100%)"},children:[l.jsx("div",{className:`${ue.kind==="down"?"text-yellow-300":"text-red-300"} font-semibold`,children:ue.kind==="down"?"Down":"Death"}),l.jsx("div",{className:"text-gray-300",children:ue.label})]})]})})]}),C&&T!==null&&l.jsx("div",{className:`mt-4 transition-all duration-300 ${Oe.length>0?"opacity-100 translate-y-0":"opacity-90"}`,children:(()=>{const Ae=ot=>Number(de?ot.downContribution||0:ot.damage||0),Ee=[...Oe].filter(ot=>Ae(ot)>0).sort((ot,Ce)=>Ae(Ce)-Ae(ot)||Number(Ce.hits||0)-Number(ot.hits||0)).slice(0,30);return l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"flex items-center justify-between mb-2",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-gray-500",children:fe}),l.jsxs("div",{className:"text-[10px] uppercase tracking-[0.2em] text-gray-500",children:[Ee.length," ",Ee.length===1?"skill":"skills"]})]}),Ee.length===0?l.jsx("div",{className:"text-xs text-gray-500 italic py-4",children:"No skill-level breakdown available for this fight."}):l.jsxs("div",{className:"incoming-skill-table-container rounded-lg border border-white/10 bg-black/35 overflow-hidden",children:[l.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2 text-[10px] uppercase tracking-[0.25em] text-gray-400 border-b border-white/10",children:[l.jsx("div",{children:"Skill"}),l.jsx("div",{className:"text-right",children:de?"Down Contrib":"Damage"}),l.jsx("div",{className:"text-right",children:"Hits"})]}),l.jsx("div",{className:"max-h-[260px] overflow-y-auto",children:Ee.map((ot,Ce)=>l.jsxs("div",{className:"grid grid-cols-[2fr_0.8fr_0.8fr] gap-2 px-3 py-2.5 text-sm text-gray-200 border-b border-white/[0.05] last:border-b-0",children:[l.jsxs("div",{className:"min-w-0 flex items-center gap-2",children:[ot.icon?l.jsx("img",{src:ot.icon,alt:"",loading:"lazy",className:"w-4 h-4 rounded-sm border border-white/[0.16] bg-black/40 flex-shrink-0"}):l.jsx("div",{className:"w-4 h-4 rounded-sm border border-white/[0.14] bg-white/[0.06] flex-shrink-0"}),l.jsx("div",{className:"truncate leading-[1.45] pt-[1px] pb-[2px]",title:ot.skillName,children:ot.skillName})]}),l.jsx("div",{className:"text-right font-mono text-rose-200",children:Z(Number(de?ot.downContribution||0:ot.damage||0),0)}),l.jsx("div",{className:"text-right font-mono text-gray-300",children:Z(Number(ot.hits||0),0)})]},`${ot.skillName}-${Ce}`))})]})]})})()})]})},boe=10,qp=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},CT=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3));return String(t)},voe=e=>{const t=e.replace(/\r?\n/g," ").trim();return/[",\n]/.test(t)?`"${t.replace(/"/g,'""')}"`:t},yoe=({attendanceRows:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=g.useState(""),[o,c]=g.useState("squad"),[u,d]=g.useState("desc"),f=a.trim().toLowerCase(),h=g.useMemo(()=>{const v=e.filter(y=>{if(!f)return!0;const w=String(y.account||"").toLowerCase(),N=(y.characterNames||[]).join(" ").toLowerCase(),j=(y.classTimes||[]).map(k=>String(k.profession||"").toLowerCase()).join(" ");return w.includes(f)||N.includes(f)||j.includes(f)}),b=y=>Number(o==="fight"?y.combatTimeMs??y.squadTimeMs??0:y.squadTimeMs??0);return[...v].sort((y,w)=>{const N=b(w)-b(y);return N!==0?u==="desc"?N:-N:String(y.account||"").localeCompare(String(w.account||""))})},[e,f,u,o]),m=v=>{if(o===v){d(b=>b==="desc"?"asc":"desc");return}c(v),d("desc")},p=h.length>boe,x=()=>{const v=["Account","Characters","Classes Played","Total Fight Time (seconds)","Total Squad Time (seconds)"],b=h.map(C=>{const E=(C.classTimes||[]).map(R=>`${R.profession} (${qp(R.timeMs)})`).join("; ");return[C.account||"",(C.characterNames||[]).join(", "),E,CT(Number(C.combatTimeMs??C.squadTimeMs??0)),CT(C.squadTimeMs)]}),y=[v,...b].map(C=>C.map(E=>voe(String(E??""))).join(",")).join(`
`),w=new Blob([y],{type:"text/csv;charset=utf-8;"}),N=URL.createObjectURL(w),j=document.createElement("a"),k=new Date().toISOString().slice(0,19).replace(/[:T]/g,"-");j.href=N,j.download=`attendance-ledger-${k}.csv`,document.body.appendChild(j),j.click(),document.body.removeChild(j),URL.revokeObjectURL(N)};return l.jsx("section",{id:"attendance-ledger","data-section-visible":n("attendance-ledger"),"data-section-first":r("attendance-ledger"),className:i("attendance-ledger","mb-8 page-break-avoid"),children:l.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6",children:[l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(Fm,{className:"w-5 h-5 text-amber-300"}),"Attendance Ledger"]}),l.jsxs("span",{className:"inline-flex items-center rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] uppercase tracking-widest text-gray-300",children:[e.length," Joined"]})]}),l.jsxs("div",{className:"flex w-full sm:w-auto items-center gap-2",children:[l.jsx("input",{value:a,onChange:v=>s(v.target.value),placeholder:"Search account, character, or class...",className:"w-full sm:w-[320px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"}),l.jsxs("button",{type:"button",onClick:x,className:"inline-flex items-center gap-1.5 rounded-lg border border-white/10 bg-white/5 px-3 py-2 text-xs text-gray-200 hover:text-white hover:border-white/30 transition-colors whitespace-nowrap",children:[l.jsx($8,{className:"w-3.5 h-3.5"}),"Export CSV"]})]})]}),e.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No attendance data available."}):l.jsx("div",{className:`bg-black/30 border border-white/5 rounded-xl overflow-hidden ${p?"max-h-[30rem] overflow-y-auto":""}`,children:l.jsxs("table",{className:"w-full text-xs table-auto min-w-full border-separate border-spacing-0",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Account"}),l.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Character(s)"}),l.jsx("th",{className:"text-left py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)]",children:"Classes Played"}),l.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:l.jsxs("button",{type:"button",onClick:()=>m("fight"),className:`transition-colors whitespace-nowrap ${o==="fight"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Fight Time",o==="fight"?u==="desc"?" ":" ":""]})}),l.jsx("th",{className:"text-right py-2 px-4 sticky top-0 z-20 bg-[color:var(--bg-elevated)] whitespace-nowrap",children:l.jsxs("button",{type:"button",onClick:()=>m("squad"),className:`transition-colors whitespace-nowrap ${o==="squad"?"text-amber-200":"text-gray-400 hover:text-gray-200"}`,children:["Total Squad Time",o==="squad"?u==="desc"?" ":" ":""]})})]})}),l.jsxs("tbody",{children:[h.map(v=>l.jsxs("tr",{className:"border-t border-white/5 align-top hover:bg-white/5",children:[l.jsx("td",{className:"py-2 px-4 text-gray-100 font-medium whitespace-nowrap",children:v.account}),l.jsx("td",{className:"py-2 px-4 text-gray-300",children:v.characterNames.length>0?v.characterNames.join(", "):"-"}),l.jsx("td",{className:"py-2 px-4",children:l.jsx("div",{className:"flex flex-wrap gap-1.5",children:v.classTimes.length>0?v.classTimes.map(b=>l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-white/10 bg-black/30 px-2 py-1 text-[10px] text-gray-200",children:[t(b.profession)?l.jsx("img",{src:t(b.profession),alt:b.profession,className:"w-3.5 h-3.5 object-contain"}):null,l.jsx("span",{children:b.profession}),l.jsx("span",{className:"text-gray-400",children:qp(b.timeMs)})]},`${v.account}-${b.profession}`)):l.jsx("span",{className:"text-gray-500",children:"-"})})}),l.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:qp(Number(v.combatTimeMs??v.squadTimeMs??0))}),l.jsx("td",{className:"py-2 px-4 text-right text-gray-200 font-mono whitespace-nowrap",children:qp(v.squadTimeMs)})]},v.account)),h.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:5,className:"py-6 text-center text-gray-500 italic",children:"No attendance rows match your search."})})]})]})})]})})},bg=e=>{const t=Math.max(0,Math.floor(Number(e||0)/1e3)),n=Math.floor(t/3600),r=Math.floor(t%3600/60),i=t%60;return n>0?`${n}h ${String(r).padStart(2,"0")}m`:r>0?`${r}m ${String(i).padStart(2,"0")}s`:`${i}s`},oo=(e,t=1)=>Number(e||0).toLocaleString(void 0,{minimumFractionDigits:t,maximumFractionDigits:t}),Fr=e=>Math.round(Number(e||0)).toLocaleString(),Vc=e=>typeof e=="number"&&Number.isFinite(e)?bg(e):"N/A",xc=(e,t=1)=>typeof e=="number"&&Number.isFinite(e)?`${oo(e,t)}%`:"N/A",cs=(e,t=1)=>typeof e=="number"&&Number.isFinite(e)?oo(e,t):"N/A",woe=e=>e.hadEarlyDown===null?"N/A":e.wasStalledPush===!0?"Stalled":e.hadEarlyDown===!0?"Early Down":"Slow Start",koe=({commanderStats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>{const i=g.useMemo(()=>Array.isArray(e==null?void 0:e.rows)?(e==null?void 0:e.rows)||[]:[],[e]),[a,s]=g.useState("");g.useEffect(()=>{if(i.length===0){s("");return}(!a||!i.some(c=>c.key===a))&&s(i[0].key)},[i,a]);const o=g.useMemo(()=>i.find(c=>c.key===a)||i[0]||null,[i,a]);return l.jsxs("section",{id:"commander-target-conversion","data-section-visible":t("commander-target-conversion"),"data-section-first":n("commander-target-conversion"),className:r("commander-target-conversion","bg-white/5 border border-cyan-300/20 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-5",children:[l.jsxs("h3",{className:"text-lg font-bold text-cyan-100 flex items-center gap-2",children:[l.jsx(Yk,{className:"w-5 h-5 text-cyan-300"}),"Target Conversion"]}),l.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-cyan-200/70",children:[i.length," Commanders"]})]}),i.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No target conversion data available."}):l.jsxs("div",{className:"space-y-4 min-w-0",children:[l.jsx("div",{className:"w-full max-w-full overflow-x-auto pb-1",children:l.jsxs("table",{className:"w-full min-w-[700px] text-xs table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-2 px-2",children:"Commander"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Down To Kill %"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Avg Downs / Fight"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Avg Kills / Fight"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Failed Downs"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Enemy Downs"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Enemy Kills"})]})}),l.jsx("tbody",{children:i.map(c=>l.jsxs("tr",{onClick:()=>s(c.key),className:`border-b border-white/5 cursor-pointer transition-colors ${(o==null?void 0:o.key)===c.key?"bg-cyan-500/10":"hover:bg-white/5"}`,children:[l.jsx("td",{className:"py-2 px-2 text-gray-100 font-semibold truncate",children:c.account}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:xc(c.downToKillConversionPct)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:cs(c.avgDownsPerFight,1)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:cs(c.avgKillsPerFight,1)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:Fr(c.failedDownEstimate)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:Fr(c.downs)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:Fr(c.kills)})]},`${c.key}-target-conversion`))})]})}),o&&l.jsx("div",{className:"overflow-x-auto min-w-0",children:l.jsxs("table",{className:"w-full min-w-[620px] text-xs table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-2 px-2",children:"Fight"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Enemy Downs"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Enemy Kills"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Conversion %"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Failed Downs"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Result"})]})}),l.jsx("tbody",{children:(o.fightsData||[]).map(c=>l.jsxs("tr",{className:"border-b border-white/5",children:[l.jsxs("td",{className:"py-1.5 px-2 text-gray-200",children:[c.shortLabel,"  ",c.mapName||"Unknown"]}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:Fr(c.downs)}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:Fr(c.kills)}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:xc(c.downToKillConversionPct)}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:Fr(c.failedDownEstimate)}),l.jsx("td",{className:`py-1.5 px-2 text-right font-semibold ${c.isWin?"text-emerald-300":"text-rose-300"}`,children:c.isWin?"Win":"Loss"})]},`${c.id}-target-conversion`))})]})})]})]})},Noe=({commanderStats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>{const i=g.useMemo(()=>Array.isArray(e==null?void 0:e.rows)?(e==null?void 0:e.rows)||[]:[],[e]),[a,s]=g.useState("");g.useEffect(()=>{if(i.length===0){s("");return}(!a||!i.some(u=>u.key===a))&&s(i[0].key)},[i,a]);const o=g.useMemo(()=>i.find(u=>u.key===a)||i[0]||null,[i,a]),c=g.useMemo(()=>i.some(u=>u.avgCommanderDistanceTraveled!==null||u.avgCommanderMovementPerMinute!==null||u.avgTagStationaryPct!==null),[i]);return l.jsxs("section",{id:"commander-tag-movement","data-section-visible":t("commander-tag-movement"),"data-section-first":n("commander-tag-movement"),className:r("commander-tag-movement","bg-white/5 border border-emerald-300/20 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-5",children:[l.jsxs("h3",{className:"text-lg font-bold text-emerald-100 flex items-center gap-2",children:[l.jsx(Gk,{className:"w-5 h-5 text-emerald-300"}),"Tag Movement"]}),l.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-emerald-200/70",children:[i.length," Commanders"]})]}),i.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No tag movement data available."}):l.jsxs("div",{className:"space-y-4 min-w-0",children:[c?null:l.jsx("div",{className:"rounded-lg border border-emerald-200/10 bg-black/25 px-3 py-2 text-xs text-emerald-100/80",children:"Tag movement is unavailable for these logs because commander replay positions were not present."}),l.jsx("div",{className:"w-full max-w-full overflow-x-auto pb-1",children:l.jsxs("table",{className:"w-full min-w-[700px] text-xs table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-2 px-2",children:"Commander"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Avg Distance"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Move / Min"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Stationary %"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Move Bursts"})]})}),l.jsx("tbody",{children:i.map(u=>l.jsxs("tr",{onClick:()=>s(u.key),className:`border-b border-white/5 cursor-pointer transition-colors ${(o==null?void 0:o.key)===u.key?"bg-emerald-500/10":"hover:bg-white/5"}`,children:[l.jsx("td",{className:"py-2 px-2 text-gray-100 font-semibold truncate",children:u.account}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:cs(u.avgCommanderDistanceTraveled,0)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:cs(u.avgCommanderMovementPerMinute,1)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:xc(u.avgTagStationaryPct)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:cs(u.avgTagMovementBurstCount,1)})]},`${u.key}-tag-movement`))})]})}),o&&l.jsx("div",{className:"overflow-x-auto min-w-0",children:l.jsxs("table",{className:"w-full min-w-[620px] text-xs table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-2 px-2",children:"Fight"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Distance"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Move / Min"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Stationary %"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Bursts"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Result"})]})}),l.jsx("tbody",{children:(o.fightsData||[]).map(u=>l.jsxs("tr",{className:"border-b border-white/5",children:[l.jsxs("td",{className:"py-1.5 px-2 text-gray-200",children:[u.shortLabel,"  ",u.mapName||"Unknown"]}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:cs(u.distanceTraveled,0)}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:cs(u.movementPerMinute,1)}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:xc(u.stationaryPct)}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:cs(u.movementBurstCount,0)}),l.jsx("td",{className:`py-1.5 px-2 text-right font-semibold ${u.isWin?"text-emerald-300":"text-rose-300"}`,children:u.isWin?"Win":"Loss"})]},`${u.id}-tag-movement`))})]})})]})]})},Soe=({commanderStats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>{const i=g.useMemo(()=>Array.isArray(e==null?void 0:e.rows)?(e==null?void 0:e.rows)||[]:[],[e]),[a,s]=g.useState("");g.useEffect(()=>{if(i.length===0){s("");return}(!a||!i.some(d=>d.key===a))&&s(i[0].key)},[i,a]);const o=g.useMemo(()=>i.find(d=>d.key===a)||i[0]||null,[i,a]),c=g.useMemo(()=>((o==null?void 0:o.fightsData)||[]).filter(d=>d.commanderDiedAtMs!==null),[o]),u=g.useMemo(()=>i.some(d=>d.avgEnemyKillsAfterTagDeath!==null),[i]);return l.jsxs("section",{id:"commander-tag-death-response","data-section-visible":t("commander-tag-death-response"),"data-section-first":n("commander-tag-death-response"),className:r("commander-tag-death-response","bg-white/5 border border-rose-300/20 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-5",children:[l.jsxs("h3",{className:"text-lg font-bold text-rose-100 flex items-center gap-2",children:[l.jsx(gu,{className:"w-5 h-5 text-rose-300"}),"Squad Response To Tag Death"]}),l.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-rose-200/70",children:[i.length," Commanders"]})]}),i.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No commander death response data available."}):l.jsxs("div",{className:"space-y-4 min-w-0",children:[u?null:l.jsx("div",{className:"rounded-lg border border-rose-200/10 bg-black/25 px-3 py-2 text-xs text-rose-100/80",children:"Post-death enemy kill counts are unavailable for these logs because enemy replay death timestamps were not present."}),l.jsx("div",{className:"w-full max-w-full overflow-x-auto pb-1",children:l.jsxs("table",{className:"w-full min-w-[760px] text-xs table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-2 px-2",children:"Commander"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Fights With Tag Death"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Collapse Rate"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Avg Squad Deaths After"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Avg Enemy Kills After"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Recovery Rate"})]})}),l.jsx("tbody",{children:i.map(d=>l.jsxs("tr",{onClick:()=>s(d.key),className:`border-b border-white/5 cursor-pointer transition-colors ${(o==null?void 0:o.key)===d.key?"bg-rose-500/10":"hover:bg-white/5"}`,children:[l.jsx("td",{className:"py-2 px-2 text-gray-100 font-semibold truncate",children:d.account}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:Fr(d.fightsWithCommanderDeath)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:xc(d.squadCollapseAfterTagDeathPct)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:cs(d.avgSquadDeathsAfterTagDeath,1)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:cs(d.avgEnemyKillsAfterTagDeath,1)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:xc(d.recoveryAfterTagDeathPct)})]},`${d.key}-tag-death-response`))})]})}),o&&(c.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-4",children:"This commander has no fights with a recorded tag death."}):l.jsx("div",{className:"overflow-x-auto min-w-0",children:l.jsxs("table",{className:"w-full min-w-[700px] text-xs table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-2 px-2",children:"Fight"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Commander Died At"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Squad Deaths After"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Enemy Kills After"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Collapse"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Recovery"})]})}),l.jsx("tbody",{children:c.map(d=>l.jsxs("tr",{className:"border-b border-white/5",children:[l.jsxs("td",{className:"py-1.5 px-2 text-gray-200",children:[d.shortLabel,"  ",d.mapName||"Unknown"]}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:Vc(d.commanderDiedAtMs)}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:cs(d.squadDeathsAfterTagDeath,0)}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:cs(d.enemyKillsAfterTagDeath,0)}),l.jsx("td",{className:`py-1.5 px-2 text-right font-semibold ${d.collapsedAfterTagDeath===null?"text-gray-400":d.collapsedAfterTagDeath?"text-rose-300":"text-emerald-300"}`,children:d.collapsedAfterTagDeath===null?"N/A":d.collapsedAfterTagDeath?"Yes":"No"}),l.jsx("td",{className:`py-1.5 px-2 text-right font-semibold ${d.recoveredAfterTagDeath===null?"text-gray-400":d.recoveredAfterTagDeath?"text-emerald-300":"text-rose-300"}`,children:d.recoveredAfterTagDeath===null?"N/A":d.recoveredAfterTagDeath?"Yes":"No"})]},`${d.id}-tag-death-response`))})]})}))]})]})},joe=({commanderStats:e,isSectionVisible:t,isFirstVisibleSection:n,sectionClass:r})=>{const i=g.useMemo(()=>Array.isArray(e==null?void 0:e.rows)?(e==null?void 0:e.rows)||[]:[],[e]),[a,s]=g.useState("");g.useEffect(()=>{if(i.length===0){s("");return}(!a||!i.some(u=>u.key===a))&&s(i[0].key)},[i,a]);const o=g.useMemo(()=>i.find(u=>u.key===a)||i[0]||null,[i,a]),c=g.useMemo(()=>i.some(u=>u.avgTimeToFirstEnemyDownMs!==null||u.avgTimeToFirstEnemyDeathMs!==null||u.avgDownToKillConversionMs!==null),[i]);return l.jsxs("section",{id:"commander-push-timing","data-section-visible":t("commander-push-timing"),"data-section-first":n("commander-push-timing"),className:r("commander-push-timing","bg-white/5 border border-amber-300/20 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-5",children:[l.jsxs("h3",{className:"text-lg font-bold text-amber-100 flex items-center gap-2",children:[l.jsx(Wk,{className:"w-5 h-5 text-amber-300"}),"Push Timing"]}),l.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-amber-200/70",children:[i.length," Commanders"]})]}),i.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No push timing data available."}):l.jsxs("div",{className:"space-y-4 min-w-0",children:[c?null:l.jsx("div",{className:"rounded-lg border border-amber-200/10 bg-black/25 px-3 py-2 text-xs text-amber-100/80",children:"Exact push timing is unavailable for these logs because enemy replay down/death timestamps were not present."}),l.jsx("div",{className:"w-full max-w-full overflow-x-auto pb-1",children:l.jsxs("table",{className:"w-full min-w-[640px] text-xs table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-2 px-2",children:"Commander"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Avg To First Down"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Avg To First Kill"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Avg Down To Kill"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Early Push %"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Stalled %"})]})}),l.jsx("tbody",{children:i.map(u=>l.jsxs("tr",{onClick:()=>s(u.key),className:`border-b border-white/5 cursor-pointer transition-colors ${(o==null?void 0:o.key)===u.key?"bg-amber-500/10":"hover:bg-white/5"}`,children:[l.jsx("td",{className:"py-2 px-2 text-gray-100 font-semibold truncate",children:u.account}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:Vc(u.avgTimeToFirstEnemyDownMs)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:Vc(u.avgTimeToFirstEnemyDeathMs)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:Vc(u.avgDownToKillConversionMs)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:xc(u.pushesWithEarlyDownPct)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:xc(u.stalledPushPct)})]},`${u.key}-push-summary`))})]})}),o&&l.jsx("div",{className:"overflow-x-auto min-w-0",children:l.jsxs("table",{className:"w-full min-w-[560px] text-xs table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-2 px-2",children:"Fight"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Result"}),l.jsx("th",{className:"text-right py-2 px-2",children:"To First Down"}),l.jsx("th",{className:"text-right py-2 px-2",children:"To First Kill"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Down To Kill"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Status"})]})}),l.jsx("tbody",{children:(o.fightsData||[]).map(u=>l.jsxs("tr",{className:"border-b border-white/5",children:[l.jsxs("td",{className:"py-1.5 px-2 text-gray-200",children:[u.shortLabel,"  ",u.mapName||"Unknown"]}),l.jsx("td",{className:`py-1.5 px-2 text-right font-semibold ${u.isWin?"text-emerald-300":"text-rose-300"}`,children:u.isWin?"Win":"Loss"}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:Vc(u.timeToFirstEnemyDownMs)}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:Vc(u.timeToFirstEnemyDeathMs)}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:Vc(u.downToKillConversionMs)}),l.jsx("td",{className:"py-1.5 px-2 text-right font-semibold text-gray-200",children:woe(u)})]},`${u.id}-push-timing`))})]})})]})]})},Coe=({commanderStats:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const a=g.useMemo(()=>Array.isArray(e==null?void 0:e.rows)?(e==null?void 0:e.rows)||[]:[],[e]),[s,o]=g.useState(""),[c,u]=g.useState(""),[d,f]=g.useState("incomingDamage"),[h,m]=g.useState(null),p=g.useRef(null);g.useEffect(()=>{if(a.length===0){o("");return}(!s||!a.some(N=>N.key===s))&&o(a[0].key)},[a,s]);const x=g.useMemo(()=>a.find(N=>N.key===s)||a[0]||null,[a,s]);g.useEffect(()=>{const N=(x==null?void 0:x.fightsData)||[];if(N.length===0){u("");return}(!c||!N.some(j=>j.id===c))&&u(N[N.length-1].id)},[x,c]);const v=g.useMemo(()=>{const N=(x==null?void 0:x.fightsData)||[];return N.find(j=>j.id===c)||N[N.length-1]||null},[x,c]);g.useEffect(()=>{m(null)},[c,d,s]),g.useEffect(()=>{const N=j=>{const k=p.current;k&&(k.contains(j.target)||m(null))};return document.addEventListener("mousedown",N),()=>document.removeEventListener("mousedown",N)},[]);const b=g.useMemo(()=>{const N=v;return N?(d==="incomingDamage"?N.incomingDamageBuckets5s||[]:N.incomingBoonBuckets5s||[]).map((k,C)=>({bucket:`${C*5}-${C*5+5}s`,value:Number(k||0),index:C})):[]},[v,d]),y=g.useMemo(()=>{var E;const N=(v==null?void 0:v.incomingDamageBySkill)||[];if(h===null||h<0)return N.slice(0,12);const j=Number(((E=v==null?void 0:v.incomingDamageBuckets5s)==null?void 0:E[h])||0),k=Math.max(0,N.reduce((R,T)=>R+Number(T.damage||0),0));return N.map(R=>{const T=k>0?Number(R.damage||0)/k:0,$=j*T,I=Number(R.hits||0)*T;return{...R,damage:$,hits:I}}).filter(R=>Number(R.damage||0)>0).sort((R,T)=>Number(T.damage||0)-Number(R.damage||0)).slice(0,12)},[v,h]),w=g.useMemo(()=>{const N=(v==null?void 0:v.incomingBoonUptimes)||[];return h===null||h<0?N.slice(0,12):N.map(j=>{var E;const k=Number(((E=j==null?void 0:j.buckets5s)==null?void 0:E[h])||0),C=k/100*5e3;return{...j,uptimePct:k,uptimeMs:C}}).filter(j=>Number(j.uptimePct||0)>0).sort((j,k)=>Number(k.uptimePct||0)-Number(j.uptimePct||0)).slice(0,12)},[v,h]);return l.jsxs("section",{id:"commander-stats","data-section-visible":n("commander-stats"),"data-section-first":r("commander-stats"),className:i("commander-stats","bg-white/5 border border-white/10 rounded-2xl p-6 page-break-avoid scroll-mt-24"),children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 mb-5",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 flex items-center gap-2",children:[l.jsx(Cd,{className:"w-5 h-5 text-amber-300"}),"Commander Stats"]}),l.jsxs("span",{className:"text-[10px] uppercase tracking-widest text-gray-500",children:[a.length," Commanders"]})]}),a.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-8",children:"No commander-tag data available."}):l.jsxs("div",{className:"space-y-5 min-w-0",children:[l.jsx("div",{className:"w-full max-w-full overflow-x-auto pb-1",children:l.jsxs("table",{className:"w-full min-w-[900px] text-xs table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-2 px-2",children:"Commander"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Fights"}),l.jsx("th",{className:"text-right py-2 px-2",children:"W/L"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Win %"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Squad KDR"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Avg Squad"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Avg Enemy"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Kills"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Downs"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Time Tagged"})]})}),l.jsx("tbody",{children:a.map(N=>l.jsxs("tr",{onClick:()=>o(N.key),className:`border-b border-white/5 cursor-pointer transition-colors ${(x==null?void 0:x.key)===N.key?"bg-amber-500/10":"hover:bg-white/5"}`,children:[l.jsx("td",{className:"py-2 px-2",children:l.jsxs("div",{className:"flex items-center gap-2",children:[t(N.profession)?l.jsx("img",{src:t(N.profession),alt:N.profession,className:"w-4 h-4 object-contain"}):null,l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"text-gray-100 font-semibold truncate",children:N.account}),l.jsx("div",{className:"text-[10px] text-gray-400 truncate",children:(N.characterNames||[]).join(", ")||"Unknown"})]})]})}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:Fr(N.fights)}),l.jsxs("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:[Fr(N.wins),"-",Fr(N.losses)]}),l.jsxs("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:[oo(N.winRatePct,1),"%"]}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:oo(N.kdr,2)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:oo(N.avgSquadSize,1)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:oo(N.avgEnemySize,1)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:Fr(N.kills)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:Fr(N.downs)}),l.jsx("td",{className:"py-2 px-2 text-right font-mono text-gray-200",children:bg(N.totalDurationMs)})]},N.key))})]})}),x&&l.jsxs("div",{className:"space-y-4 min-w-0",children:[l.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 xl:grid-cols-6 gap-2",children:[l.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/30 px-3 py-2",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-500",children:"Time Tagged"}),l.jsx("div",{className:"text-sm font-semibold text-gray-100",children:bg(x.totalDurationMs)})]}),l.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/30 px-3 py-2",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-500",children:"Inc. Strips"}),l.jsx("div",{className:"text-sm font-semibold text-gray-100",children:Fr(x.incomingStrips)})]}),l.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/30 px-3 py-2",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-500",children:"Inc. CC"}),l.jsx("div",{className:"text-sm font-semibold text-gray-100",children:Fr(x.incomingCC)})]}),l.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/30 px-3 py-2",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-500",children:"Damage Taken"}),l.jsx("div",{className:"text-sm font-semibold text-gray-100",children:Fr(x.damageTaken)})]}),l.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/30 px-3 py-2",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-500",children:"Barrier Absorbed"}),l.jsx("div",{className:"text-sm font-semibold text-gray-100",children:Fr(x.incomingBarrierAbsorbed)})]}),l.jsxs("div",{className:"rounded-lg border border-white/10 bg-black/30 px-3 py-2",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-500",children:"Boon Uptime"}),l.jsxs("div",{className:"text-sm font-semibold text-gray-100",children:[oo(x.boonUptimePct,1),"%"]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 xl:grid-cols-2 gap-4 min-w-0",children:[l.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/20 p-3 min-w-0 overflow-x-auto",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-400 mb-2",children:"Incoming Damage By Skill"}),l.jsxs("table",{className:"w-full min-w-[440px] text-xs table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-2 px-2",children:"Skill"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Hits"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Damage"})]})}),l.jsx("tbody",{children:(x.incomingSkillBreakdown||[]).slice(0,20).map(N=>l.jsxs("tr",{className:"border-b border-white/5",children:[l.jsx("td",{className:"py-1.5 px-2 text-gray-200",children:N.name}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:Fr(N.hits)}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:Fr(N.damage)})]},N.id))})]})]}),l.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/20 p-3 min-w-0 overflow-x-auto",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-400 mb-2",children:"Incoming Boons (Average Uptime)"}),l.jsxs("table",{className:"w-full min-w-[440px] text-xs table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-2 px-2",children:"Boon"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Uptime %"}),l.jsx("th",{className:"text-right py-2 px-2",children:"Stacking"})]})}),l.jsx("tbody",{children:(x.incomingBoonBreakdown||[]).slice(0,20).map(N=>l.jsxs("tr",{className:"border-b border-white/5",children:[l.jsx("td",{className:"py-1.5 px-2 text-gray-200",children:N.name}),l.jsxs("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:[oo(N.uptimePct,1),"%"]}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:N.stacking?"Yes":"No"})]},N.id))})]})]})]}),v&&l.jsxs("div",{className:"rounded-xl border border-white/10 bg-black/20 p-3 min-w-0 space-y-3",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-400",children:"5s Timeline And Fight Breakdown"}),l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsx("select",{value:v.id,onChange:N=>u(N.target.value),className:"bg-black/40 border border-white/10 rounded-md px-2 py-1 text-xs text-gray-200",children:(x.fightsData||[]).map(N=>l.jsxs("option",{value:N.id,children:[N.shortLabel,"  ",N.mapName||"Unknown"]},N.id))}),l.jsxs("div",{className:"flex items-center gap-1 rounded-full border border-white/10 bg-white/5 p-1",children:[l.jsx("button",{type:"button",onClick:()=>f("incomingDamage"),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${d==="incomingDamage"?"bg-red-500/20 text-red-200 border border-red-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:"Incoming Damage"}),l.jsx("button",{type:"button",onClick:()=>f("incomingBoons"),className:`px-2.5 py-1 rounded-full text-[11px] font-semibold transition-colors ${d==="incomingBoons"?"bg-cyan-500/20 text-cyan-200 border border-cyan-500/40":"border border-transparent text-gray-400 hover:text-gray-200"}`,children:"Incoming Boons"})]})]})]}),l.jsx("div",{ref:p,className:"h-[220px] w-full",children:l.jsx(ys,{width:"100%",height:"100%",children:l.jsxs(gl,{data:b,margin:{top:8,right:14,left:0,bottom:0},onClick:N=>{const j=Number(N==null?void 0:N.activeTooltipIndex);if(!Number.isFinite(j)||j<0){m(null);return}m(k=>k===j?null:j)},children:[l.jsx(vo,{stroke:"rgba(255,255,255,0.08)",strokeDasharray:"3 3"}),l.jsx(yo,{dataKey:"bucket",tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"}}),l.jsx(wo,{tick:{fill:"#94a3b8",fontSize:11},tickLine:!1,axisLine:{stroke:"rgba(255,255,255,0.1)"},width:44}),l.jsx(ks,{contentStyle:{backgroundColor:"#1e293b",borderColor:"rgba(255,255,255,0.1)",borderRadius:"0.5rem",color:"#fff"},labelFormatter:N=>`${v.shortLabel}  ${String(N||"")}`,formatter:N=>d==="incomingBoons"?[`${oo(Number(N||0),1)}%`,"Incoming Boon Uptime"]:[Fr(Number(N||0)),"Incoming Damage"]}),l.jsx(ta,{type:"monotone",dataKey:"value",stroke:d==="incomingBoons"?"#22d3ee":"#f87171",strokeWidth:2,dot:{r:2.5,fill:d==="incomingBoons"?"#22d3ee":"#f87171"},activeDot:{r:5}})]})})}),l.jsxs("div",{className:"overflow-x-auto min-w-0",children:[l.jsxs("div",{className:"text-[11px] uppercase tracking-widest text-gray-400 mb-1",children:[d==="incomingDamage"?"Fight Incoming Damage By Skill":"Fight Incoming Boons",h!==null?`  ${h*5}-${h*5+5}s`:"  Full Fight"]}),d==="incomingDamage"?l.jsxs("table",{className:"w-full min-w-[420px] text-xs table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-1.5 px-2",children:"Skill"}),l.jsx("th",{className:"text-right py-1.5 px-2",children:"Hits"}),l.jsx("th",{className:"text-right py-1.5 px-2",children:"Damage"})]})}),l.jsx("tbody",{children:y.map(N=>l.jsxs("tr",{className:"border-b border-white/5",children:[l.jsx("td",{className:"py-1.5 px-2 text-gray-200",children:N.name}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:Fr(N.hits)}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:Fr(N.damage)})]},N.id))})]}):l.jsxs("table",{className:"w-full min-w-[420px] text-xs table-auto",children:[l.jsx("thead",{children:l.jsxs("tr",{className:"text-gray-400 uppercase tracking-widest text-[10px] border-b border-white/10",children:[l.jsx("th",{className:"text-left py-1.5 px-2",children:"Boon"}),l.jsx("th",{className:"text-right py-1.5 px-2",children:"Uptime %"}),l.jsx("th",{className:"text-right py-1.5 px-2",children:"Uptime Time"})]})}),l.jsx("tbody",{children:w.map(N=>l.jsxs("tr",{className:"border-b border-white/5",children:[l.jsx("td",{className:"py-1.5 px-2 text-gray-200",children:N.name}),l.jsxs("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:[oo(N.uptimePct,1),"%"]}),l.jsx("td",{className:"py-1.5 px-2 text-right font-mono text-gray-200",children:bg(N.uptimeMs)})]},N.id))})]})]})]})]})]})]})},Aoe=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Poe=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=g.useState(null),[o,c]=g.useState(""),u=o.trim().toLowerCase(),d=Nc("svg/commander_tag.svg");g.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(m=>m.id===a))&&s(e[0].id)},[e,a]);const f=g.useMemo(()=>e.find(m=>m.id===a)||null,[e,a]),h=m=>{if(!u)return!1;const p=String(m.account||"").toLowerCase(),x=String(m.characterName||"").toLowerCase(),v=String(m.profession||"").toLowerCase();return p.includes(u)||x.includes(u)||v.includes(u)};return l.jsx("section",{id:"squad-comp-fight","data-section-visible":n("squad-comp-fight"),"data-section-first":r("squad-comp-fight"),className:i("squad-comp-fight","mb-8 page-break-avoid"),children:l.jsxs("div",{className:"bg-white/5 border border-white/10 rounded-2xl p-6 squad-comp-shell",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[l.jsx(Er,{className:"w-5 h-5 text-cyan-300"}),"Squad Comp By Fight"]}),l.jsx("div",{className:"mb-4",children:l.jsx("input",{value:o,onChange:m=>c(m.target.value),placeholder:"Search player or class (highlight matches)...",className:"w-full sm:w-[360px] bg-black/30 border border-white/10 rounded-lg px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none"})}),e.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No squad composition data available."}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[l.jsxs("aside",{className:"squad-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),l.jsx("div",{className:"space-y-1 pr-1 max-h-[560px] xl:max-h-[720px] overflow-y-auto",children:e.map(m=>{const p=m.id===a;return l.jsxs("button",{onClick:()=>s(m.id),className:`squad-comp-fight-nav-item w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${p?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100 squad-comp-fight-nav-item--active":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:m.label}),l.jsx("div",{className:"text-xs font-semibold truncate",children:m.mapName||"Unknown Map"}),l.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[m.duration||"--:--","  ",Aoe(m.timestamp)]})]},m.id)})})]}),l.jsx("div",{className:"rounded-xl border border-white/10 bg-gradient-to-b from-slate-950/55 to-slate-900/45 p-3 squad-comp-board",children:f?l.jsx("div",{className:"space-y-2.5",children:f.parties.map(m=>l.jsxs("div",{className:"squad-comp-party-row grid grid-cols-[40px_minmax(0,1fr)] gap-2 rounded-xl border border-white/10 bg-black/25 p-2",children:[l.jsxs("div",{className:"squad-comp-party-badge rounded-lg border border-white/15 bg-slate-900/80 text-center py-2",children:[l.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-500",children:"P"}),l.jsx("div",{className:"text-base font-bold text-gray-100 leading-none",children:m.party>0?m.party:"-"})]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-1 min-w-0",children:m.players.map((p,x)=>(()=>{const v=h(p);return l.jsxs("div",{className:`squad-comp-player-tile rounded-md border border-emerald-300/20 bg-gradient-to-b from-emerald-500/30 to-emerald-700/25 px-2 py-1.5 min-w-0 transition-all ${v?"ring-2 ring-cyan-300/70 border-cyan-300/60 shadow-[0_0_20px_rgba(34,211,238,0.25)]":""} ${p.isCommander?"relative overflow-hidden":""}`,children:[p.isCommander?l.jsx("img",{src:d,alt:"","aria-hidden":"true",className:"absolute -right-2 -bottom-2 w-12 h-12 object-contain opacity-20 brightness-75 pointer-events-none"}):null,l.jsxs("div",{className:"grid grid-cols-[18px_minmax(0,1fr)] grid-rows-2 gap-x-2 items-center min-w-0",children:[l.jsx("div",{className:"row-span-2 flex items-center justify-center",children:t(p.profession)?l.jsx("img",{src:t(p.profession),alt:p.profession,className:"squad-comp-player-icon w-5 h-5 object-contain shrink-0 opacity-95"}):l.jsx("span",{className:"squad-comp-player-icon inline-block w-5 h-5 rounded-sm border border-white/15"})}),l.jsx("div",{className:"squad-comp-player-account text-[11px] font-semibold text-emerald-50 truncate min-w-0 flex items-center gap-1",title:p.account,children:l.jsx("span",{className:"truncate min-w-0",children:p.account})}),l.jsx("div",{className:"squad-comp-player-character text-[10px] text-emerald-100/80 truncate min-w-0",title:p.characterName||"Unknown",children:p.characterName||"Unknown"})]})]},`${f.id}-${m.party}-${p.account}-${x}`)})())})]},`${f.id}-party-${m.party}`))}):l.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Doe=e=>{if(!Number.isFinite(e)||e<=0)return"Unknown time";try{return new Date(e).toLocaleString()}catch{return"Unknown time"}},Toe=({fights:e,getProfessionIconPath:t,isSectionVisible:n,isFirstVisibleSection:r,sectionClass:i})=>{const[a,s]=g.useState(null);g.useEffect(()=>{if(e.length===0){a!==null&&s(null);return}(!a||!e.some(f=>f.id===a))&&s(e[0].id)},[e,a]);const o=g.useMemo(()=>e.find(f=>f.id===a)||null,[e,a]),c=g.useMemo(()=>o!=null&&o.enemyClassCounts?Object.entries(o.enemyClassCounts).map(([f,h])=>({profession:f,count:Number(h||0)})).filter(f=>f.count>0).sort((f,h)=>h.count-f.count||f.profession.localeCompare(h.profession)):[],[o]),u=g.useMemo(()=>o?o.parties.reduce((f,h)=>Array.isArray(h.players)&&h.players.length>0?f+h.players.length:f+Object.values(h.classCounts||{}).reduce((m,p)=>m+Number(p||0),0),0):0,[o]),d=g.useMemo(()=>c.reduce((f,h)=>f+Number(h.count||0),0),[c]);return l.jsx("section",{id:"fight-comp","data-section-visible":n("fight-comp"),"data-section-first":r("fight-comp"),className:i("fight-comp","mb-8 page-break-avoid"),children:l.jsxs("div",{className:"fight-comp-shell bg-white/5 border border-white/10 rounded-2xl p-6",children:[l.jsxs("h3",{className:"text-lg font-bold text-gray-200 mb-4 flex items-center gap-2",children:[l.jsx(ec,{className:"w-5 h-5 text-cyan-300"}),"Fight Comp"]}),e.length===0?l.jsx("div",{className:"text-center text-gray-500 italic py-6",children:"No fight composition data available."}):l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[240px_minmax(0,1fr)] gap-4",children:[l.jsxs("aside",{className:"fight-comp-fight-nav bg-black/20 border border-white/5 rounded-xl px-3 pt-3 pb-2 flex flex-col min-h-0 self-start",children:[l.jsx("div",{className:"text-xs uppercase tracking-widest text-gray-500 mb-2",children:"Fight Tabs"}),l.jsx("div",{className:"space-y-1 pr-1 max-h-[320px] overflow-y-auto",children:e.map(f=>{const h=f.id===a;return l.jsxs("button",{onClick:()=>s(f.id),className:`fight-comp-fight-nav-item relative w-full text-left px-3 py-2 rounded-lg text-xs font-semibold border transition-colors ${h?"border-cyan-400/40 bg-cyan-400/10 text-cyan-100":"bg-white/5 text-gray-300 border-white/10 hover:text-white"}`,children:[l.jsx("span",{className:`fight-comp-result-badge absolute right-2 top-2 inline-flex items-center rounded-md border px-1.5 py-0.5 text-[9px] uppercase tracking-widest ${f.isWin===!0?"fight-comp-result-badge--win":f.isWin===!1?"fight-comp-result-badge--loss":"fight-comp-result-badge--unknown"}`,children:f.isWin===!0?"Win":f.isWin===!1?"Loss":"Unknown"}),l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:f.label}),l.jsx("div",{className:"text-xs font-semibold truncate",children:f.mapName||"Unknown Map"}),l.jsxs("div",{className:"text-[10px] text-gray-500 truncate",children:[f.duration||"--:--","  ",Doe(f.timestamp)]})]},f.id)})})]}),l.jsx("div",{className:"fight-comp-board rounded-xl border border-white/10 bg-black/30 p-2.5 overflow-hidden",children:o?l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_minmax(0,0.78fr)] gap-2.5 min-w-0",children:[l.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[l.jsxs("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400 flex items-center justify-between gap-2",children:[l.jsx("span",{children:"Squad Parties"}),l.jsx("span",{className:"inline-flex items-center rounded-md border border-white/15 bg-white/5 px-1.5 py-0.5 text-[9px] font-semibold tracking-normal text-gray-300",children:u})]}),l.jsx("div",{className:"p-2 rounded-lg border border-white/10 bg-white/[0.03] divide-y divide-white/10",children:o.parties.map(f=>{const h=Array.isArray(f.players)&&f.players.length>0?f.players.map(m=>({profession:String((m==null?void 0:m.profession)||"Unknown"),account:String((m==null?void 0:m.account)||""),characterName:String((m==null?void 0:m.characterName)||"")})).filter(m=>m.profession&&m.profession!=="Unknown").sort((m,p)=>m.profession.localeCompare(p.profession)||m.characterName.localeCompare(p.characterName)||m.account.localeCompare(p.account)):Object.entries(f.classCounts||{}).flatMap(([m,p])=>Array.from({length:Math.max(0,Number(p||0))},()=>({profession:String(m),account:"",characterName:""}))).filter(m=>m.profession&&m.profession!=="Unknown").sort((m,p)=>m.profession.localeCompare(p.profession));return l.jsxs("div",{className:"fight-comp-row grid grid-cols-[36px_minmax(0,1fr)] gap-1.5 items-center px-1.5 py-1 first:pt-0 last:pb-0",children:[l.jsx("div",{className:"fight-comp-party-badge text-[10px] font-semibold uppercase tracking-widest text-gray-300 text-center rounded-md border border-white/10 bg-black/20 py-0.5",children:f.party>0?`P${f.party}`:"Unk"}),l.jsx("div",{className:"flex flex-wrap gap-x-1.5 gap-y-1",children:h.length>0?h.map((m,p)=>l.jsx("span",{title:m.characterName||m.account?`${m.profession}  ${m.characterName||"Unknown"} (${m.account||"Unknown"})`:m.profession,className:"fight-comp-class-icon fight-comp-class-icon--squad inline-flex items-center justify-center",children:t(m.profession)?l.jsx("img",{src:t(m.profession),alt:m.profession,className:"w-3.5 h-3.5 object-contain"}):l.jsx("span",{className:"inline-block w-3.5 h-3.5 rounded-sm border border-white/15"})},`${o.id}-party-${f.party}-${m.profession}-${m.account||m.characterName||p}-${p}`)):l.jsx("span",{className:"text-gray-500 text-[11px]",children:"-"})})]},`${o.id}-party-${f.party}`)})})]}),l.jsxs("div",{className:"fight-comp-card rounded-xl border border-white/10 bg-black/20 overflow-hidden",children:[l.jsxs("div",{className:"px-2.5 py-1.5 bg-white/5 text-[10px] uppercase tracking-widest text-gray-400 flex items-center justify-between gap-2",children:[l.jsx("span",{children:"Enemy Classes"}),l.jsx("span",{className:"inline-flex items-center rounded-md border border-white/15 bg-white/5 px-1.5 py-0.5 text-[9px] font-semibold tracking-normal text-gray-300",children:d})]}),l.jsx("div",{className:"p-2",children:c.length>0?l.jsx("div",{className:"flex flex-wrap gap-1",children:c.map(f=>l.jsxs("div",{className:"fight-comp-row inline-flex items-center gap-1 rounded-lg border border-white/10 bg-white/[0.03] px-1.5 py-0.5",children:[l.jsx("span",{className:"fight-comp-class-icon inline-flex items-center justify-center rounded-md border border-white/10 bg-black/20 px-1 py-0.5",title:f.profession,children:t(f.profession)?l.jsx("img",{src:t(f.profession),alt:f.profession,className:"w-3 h-3 object-contain"}):l.jsx("span",{className:"inline-block w-3 h-3 rounded-sm border border-white/15"})}),l.jsx("span",{className:"text-[10px] font-mono text-gray-200",children:f.count})]},`${o.id}-enemy-${f.profession}`))}):l.jsx("div",{className:"py-6 text-center text-gray-500 italic text-sm",children:"No enemy class data"})})]})]}):l.jsx("div",{className:"text-gray-500 italic py-6 text-center",children:"Select a fight."})})]})]})})},Moe=({embedded:e,dashboardTitle:t,totalLogs:n,onBack:r,devMockAvailable:i,devMockUploadState:a,onDevMockUpload:s,uploadingWeb:o,onWebUpload:c,canUploadWeb:u=!0,sharing:d,canShareDiscord:f,onShare:h,actionsDisabled:m=!1})=>{const p=o||m||!u,x=m?"Stats are still loading. Actions will enable when the dashboard is ready.":u?"":"Add at least one fight before uploading a web report.",v=d||m||!f,b=m?"Stats are still loading. Actions will enable when the dashboard is ready.":f?"":"Select a Discord webhook to enable sharing.";return l.jsxs("div",{className:"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-3 shrink-0 px-2",children:[l.jsxs("div",{className:"flex items-start gap-3 sm:items-center sm:gap-4",children:[!e&&l.jsx("button",{onClick:r,className:"p-2 rounded-full bg-white/5 border border-white/10 hover:bg-white/10 transition-colors text-gray-400 hover:text-white",children:l.jsx(hw,{className:"w-6 h-6"})}),l.jsxs("div",{className:"space-y-0",children:[l.jsxs("h1",{className:"text-xl sm:text-2xl font-bold text-white flex items-center gap-2",children:[l.jsx(au,{className:"w-6 h-6 text-yellow-500"}),t||"Statistics Dashboard"]}),l.jsxs("p",{className:"text-gray-400 text-[11px] sm:text-xs",children:["Performance across ",n," uploaded logs"]})]})]}),!e&&l.jsxs("div",{className:"flex items-center gap-3",children:[i&&l.jsxs("button",{onClick:s,disabled:a.uploading||m,className:"flex items-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors disabled:opacity-50 bg-amber-500/15 text-amber-200 border border-amber-500/30 hover:bg-amber-500/25",children:[l.jsx(Sx,{className:"w-4 h-4"}),a.uploading?"Building...":"Dev Mock Upload"]}),l.jsxs("div",{className:"relative group",title:x,children:[l.jsxs("button",{onClick:c,disabled:p,"aria-disabled":p,className:"stats-action-upload flex items-center gap-2 px-4 py-2 bg-emerald-600 hover:bg-emerald-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(K8,{className:"w-4 h-4"}),o?"Uploading...":"Upload to Web"]}),!u&&!m&&l.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Add at least one fight before uploading a web report."})]}),l.jsxs("div",{className:"relative group",title:b,children:[l.jsxs("button",{onClick:h,disabled:v,"aria-disabled":v,className:"stats-action-discord flex items-center gap-2 px-4 py-2 bg-indigo-600 hover:bg-indigo-500 text-white rounded-lg font-medium transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx(V8,{className:"w-4 h-4"}),d?"Sharing...":"Share to Discord"]}),!f&&l.jsx("div",{className:"stats-share-tooltip pointer-events-none absolute right-0 top-full mt-2 w-56 rounded-md border border-white/10 bg-black/90 px-2 py-1 text-[11px] text-gray-200 opacity-0 shadow-lg transition-opacity group-hover:opacity-100 z-50",children:"Select a Discord webhook to enable sharing."})]})]})]})},Eoe=({embedded:e,webUploadMessage:t,webUploadUrl:n,webUploadBuildStatus:r,webCopyStatus:i,setWebCopyStatus:a})=>{if(e||!t)return null;const s=n||t.replace(/^Uploaded:\s*/i,"").trim(),[o,c]=g.useState("idle"),u=(()=>{if(!s)return null;try{const d=new URL(s),f=d.searchParams.get("report");if(!f||!d.hostname.endsWith("github.io"))return null;const h=d.pathname.match(/^\/([^/]+\.github\.io)(\/|$)/i),m=(h==null?void 0:h[1])||"";return!m||m.toLowerCase()!==d.hostname.toLowerCase()?null:`${d.origin}/?report=${f}`}catch{return null}})();return l.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[l.jsx("span",{className:"uppercase tracking-widest text-[10px] text-cyan-300/70",children:"Uploaded"}),l.jsx("button",{onClick:()=>{var d;s&&((d=window.electronAPI)!=null&&d.openExternal)&&window.electronAPI.openExternal(s)},className:"text-cyan-200 hover:text-cyan-100 underline underline-offset-2",children:s}),r!=="idle"&&l.jsxs("span",{className:`ml-2 text-[10px] px-2 py-0.5 rounded-full border inline-flex items-center gap-1 ${r==="built"?"bg-emerald-500/20 text-emerald-300 border-emerald-500/40":r==="errored"?"bg-red-500/20 text-red-300 border-red-500/40":r==="unknown"?"bg-white/5 text-gray-400 border-white/10":"bg-cyan-500/20 text-cyan-200 border-cyan-500/40"}`,children:[(r==="checking"||r==="building")&&l.jsx(U8,{className:"w-3 h-3 animate-spin"}),r==="built"&&l.jsx(tI,{className:"w-3 h-3"}),r==="errored"&&l.jsx(iI,{className:"w-3 h-3"}),r==="built"?"Build ready":r==="errored"?"Build failed":r==="unknown"?"Build status unknown":"Building"]})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("button",{onClick:()=>{s&&(navigator.clipboard.writeText(s),a("copied"),setTimeout(()=>a("idle"),1200))},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:i==="copied"?"Copied":"Copy URL"}),u&&l.jsx("button",{onClick:()=>{navigator.clipboard.writeText(u),c("copied"),setTimeout(()=>c("idle"),1200)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:o==="copied"?"Copied":"Copy Short"})]})]})},Ooe=({embedded:e,devMockAvailable:t,devMockUploadState:n})=>e||!t||!n.message?null:l.jsxs("div",{className:"mb-3 bg-white/5 border border-white/10 rounded-xl px-4 py-2 flex items-center justify-between gap-3",children:[l.jsxs("div",{className:"text-xs text-gray-300 flex items-center gap-2",children:[l.jsx("span",{className:"uppercase tracking-widest text-[10px] text-amber-300/70",children:"Dev Mock"}),n.url?l.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"text-amber-200 hover:text-amber-100 underline underline-offset-2",children:n.url}):l.jsx("span",{className:"text-gray-300",children:n.message})]}),n.url&&l.jsx("button",{onClick:()=>{var i;const r=n.url;r&&((i=window.electronAPI)!=null&&i.openExternal)&&window.electronAPI.openExternal(r)},className:"px-3 py-1 rounded-full text-[10px] border bg-white/5 text-gray-300 border-white/10 hover:text-white",children:"Open in Browser"})]}),Vv=4200,AT=["Calculating the padders...","Wrangling the squirrels...","Counting bags per tick...","Measuring boonball density...","Finding who pressed Stand Your Ground on cooldown...","Converting cloud DPS into actionable data...","Checking if that was a tactical waypoint...","Debating if this was content or karma train...","Sorting comm pings by panic level...","Rebuilding morale after queue map...",'Estimating how many times someone said "push now"...',"Auditing stealth bombs and coping mechanisms...","Polishing commander tags...","Recharging warclaw batteries...","Calibrating arrow cart trajectories...","Inspecting every suspicious 25 Might stack...","Confirming that was definitely line of sight...","Converting supply into emotional damage...","Filing paperwork for accidental portal science...","Checking if the scout was actually at the camp...","Recounting downs after rally chaos...","Verifying if that was a clean disengage...",'Indexing all "I was lagging" reports...',"Investigating mysterious downstate heroics...","Comparing pirate ship drift angles...","Sharpening stab and aegis statistics...","Reassembling fragments of the frontline...","Syncing golem benchmarks with reality...","Separating boon support from good intentions...","Mapping dodge rolls to probable outcomes...","Estimating projectile hate levels...","Checking if that pull was legal in Tyria...","Refining siege placement feng shui...","Counting how many times someone tab-targeted a yak...","Calculating average confidence before first push...","Locating the exact second the flank became a wipe...","Comparing map chat callouts to actual events...","Quantifying chaos per minute...","Measuring value generated per warclaw leap...","Compiling a list of regrettable pushes...","Normalizing boonstrip greed indexes...","Calculating morale damage from random treb hits...","Determining if that was bait or just optimism...","Reviewing staff marks for artistic merit...","Filtering out accidental auto-attacks...","Balancing boon uptime against personal style...","Detecting overextended hero moments...",'Translating "small scale" into squad math...',"Auditing cooldowns that definitely were up...","Reconstructing the timeline of panic dodges...","Classifying enemy blobs by menace level...","Estimating blob size using advanced guesswork...","Checking if that target caller was cooking...","Tracking unexplained boon disappearance events...","Estimating supply spent on vibes...","Computing legal liability for fake pushes...","Running quality assurance on disengage paths...","Cross-referencing comms with battlefield physics...","Investigating unexpected trebuchet diplomacy...","Calculating catapult confidence intervals...","Indexing all perfectly timed downs...","Looking for value in every meteor shower...","Reviewing blink routes for workplace safety...","Tallying questionable stealth reveals...",'Checking if "outnumbered" was emotional or literal...',"Simulating three alternate timelines where that push worked...","Replaying spike windows at 300% copium...","Auditing cloud behavior for suspicious circles...","Estimating commander patience remaining...","Generating highly scientific post-fight excuses...",'Reconciling wipes with "we almost had them"...',"Counting blast finishers that were definitely planned...","Searching for that one lost guardian...","Re-evaluating life choices after supply trap wipes...","Determining if the enemy comp was legal...","Computing rally probability under emotional pressure...","Measuring commander sigh frequency...","Estimating fear uptime on enemy supports...","Converting siege splash into modern art...",'Validating "I had no stab" claims...',"Checking if someone dropped food this fight...","Reviewing boonstrip logs for spicy plays...","Locating all unexplained facechecks...","Mapping meteor showers to keyboard dents...","Estimating if that was one pull too many...","Calculating squad cohesion after one bad port...","Cross-checking focus calls with target health...","Ranking leaps by dramatic effect...","Estimating cleanse demand during bomb windows...","Inspecting downstate rotations for compliance...","Converting panic into clean spreadsheets...","Testing the structural integrity of the backline...","Counting shades, wells, and hard feelings...","Measuring guardian bubble aura intensity...","Investigating anomalous boons at 03:00...","Comparing stomps attempted vs stomps completed...","Tagging all accidental hero pushes...","Calculating dodge tax across the squad...","Evaluating water field return on investment...","Auditing projectile denial and emotional denial...","Checking if that portal had a permit...","Tracing all failed flanks to their origin story...","Calculating post-wipe regroup half-life...","Estimating average melee courage per second...","Correlating spikes with enthusiastic voice comms...","Checking if that bomb was crisp or crunchy...",'Normalizing data for "just one more fight"...',"Reviewing stealth openers for dramatic timing...","Estimating if your rev was in Narnia...","Counting banner placements that inspired confidence...","Investigating unexplained quickness disappearances...","Running anti-tilt calibration routines...","Computing enemy respect levels in real time...","Calculating firebrand lecture throughput...","Identifying legal targets in the cloud...","Reviewing all moments of tactical hesitation...","Calibrating go-next probability...","Collecting witness statements from downstate...","Measuring map queue trauma carryover...","Checking for unauthorized 1v20 attempts...","Estimating value from last-second bubble drops...","Reviewing supply spent on motivational siege...","Converting spike data into confidence...","Detecting statistically significant overcommit...","Tracing every disengage to a good intention...","Profiling boonrip efficiency by chaos level...","Computing blame distribution matrices...","Auditing cleanse budgets and debt...",'Finding the exact frame someone yelled "stab"...',"Estimating collateral damage from whirlwinds...","Calculating pirate ship shell dispersion...","Reviewing shockwave etiquette violations...","Identifying downstate heroes and villains...","Measuring line-push conviction scores...",'Checking if "full send" had a backup plan...',"Correlating pings with sprint key usage...","Mapping boon downtime to emotional downtime...","Counting moments where everyone was one dodge late...","Computing support appreciation metrics...","Evaluating sustain versus stubbornness...","Compiling clips for the tactical blooper reel...","Estimating fog of war plus fog of memory...","Scanning for illegal melee greed...",'Converting "nice try" into hard numbers...',"Tracking stealth entry and dramatic exits...","Reviewing hammer train ticket validation...","Finding all cases of accidental overextension...","Measuring stability confidence intervals...","Estimating if that was a bait ping...","Calculating siege engineer overtime..."],Ioe=e=>{const t=[...e];for(let n=t.length-1;n>0;n-=1){const r=Math.floor(Math.random()*(n+1));[t[n],t[r]]=[t[r],t[n]]}return t},io="space-y-1 pr-1 max-h-72 overflow-y-auto",_oe=new Set(["Vulnerability","Weakness","Blind","Chill","Cripple","Slow","Taunt","Fear","Immobilize"]),Loe=["overview","fight-breakdown","top-players","top-skills-outgoing","squad-composition","commander-stats","commander-push-timing","commander-target-conversion","commander-tag-movement","commander-tag-death-response","attendance-ledger","squad-comp-fight","fight-comp","timeline","map-distribution","boon-output","boon-timeline","boon-uptime","offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing","defense-detailed","incoming-strike-damage","support-detailed","healing-stats","fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],PT={logRecords:[],players:[],skillOptions:[],resUtilitySkills:[]},Hv=[];function $oe({logs:e,onBack:t,mvpWeights:n,statsViewSettings:r,onStatsViewSettingsChange:i,webUploadState:a,onWebUpload:s,disruptionMethod:o,precomputedStats:c,embedded:u=!1,sectionVisibility:d,dashboardTitle:f,uiTheme:h,canShareDiscord:m=!0,statsDataProgress:p,aggregationResult:x}){var oj,lj;const v=n||cI,b=r||xw,y=a||mW,w=b.showTopStats,N=b.showMvp,j=b.roundCountStats,k=b.topStatsMode||"total",[C,E]=g.useState(b.topSkillsMetric||"damage"),R=(i?b.topSkillsMetric:C)||"damage",T=y.uploading,$=y.message,I=y.url,re=y.buildStatus,ce=!u&&!1,[ve,Oe]=g.useState(!0),[fe,Z]=g.useState(AT[0]||""),xe=g.useRef([]),_=g.useRef(0),D=g.useRef(null),ue=g.useRef(0),S=g.useCallback(A=>d?d(A):!0,[d]),Y=!!x,{result:B,aggregationProgress:ee}=bV({logs:Y?[]:e,precomputedStats:Y?void 0:c,mvpWeights:n,statsViewSettings:r,disruptionMethod:o}),de=x||B,oe=(x==null?void 0:x.aggregationProgress)||ee,{stats:H,skillUsageData:K}=de,J=g.useMemo(()=>{const A=Math.max(0,Number((p==null?void 0:p.total)||e.length||0)),L=Math.min(A,Math.max(0,Number((p==null?void 0:p.pending)||0))),M=Math.min(A,Math.max(0,Number((p==null?void 0:p.processed)||A-L))),Te=Math.max(0,Number((p==null?void 0:p.unavailable)||0));if(!!(p!=null&&p.active)&&A>0&&L>0){const Ct=A>0?Math.max(1,Math.min(99,Math.round(M/A*100))):0,wt=Te>0?`  ${Te} unavailable`:"";return{active:!0,phaseLabel:"Loading fight details",progressText:`${M} of ${A} fights prepared${wt}`,progressPercent:Ct}}if(A>0&&Te>=A)return{active:!0,phaseLabel:"Fight details unavailable",progressText:`${Te} of ${A} fights could not be loaded from dps.report`,progressPercent:100};if(A>0&&e.length===0)return{active:!0,phaseLabel:"Preparing fights for stats",progressText:"Syncing uploaded fights into the stats dashboard",progressPercent:5};const Me=Math.max(0,Number((oe==null?void 0:oe.total)||e.length||0));if(!(!!(oe!=null&&oe.active)&&(oe==null?void 0:oe.phase)!=="idle"&&(oe==null?void 0:oe.phase)!=="settled"&&Me>0))return{active:!1,phaseLabel:"",progressText:"",progressPercent:0};const st=Math.min(Math.max(Number((oe==null?void 0:oe.streamed)||0),0),Me),pt=(oe==null?void 0:oe.phase)==="streaming"?"Loading fight data":"Finalizing squad stats",at=(oe==null?void 0:oe.phase)==="streaming"?`${st} of ${Me} fights loaded`:"All fights loaded  calculating final totals",jt=(oe==null?void 0:oe.phase)==="streaming"?Math.max(1,Math.min(99,Math.round(st/Me*100))):99;return{active:!0,phaseLabel:pt,progressText:at,progressPercent:jt}},[p,oe,e.length]),ae=J.active,V=J.phaseLabel,be=J.progressText,ie=ae&&J.progressPercent<100,me=ae||!ve;g.useEffect(()=>{if(D.current!==null&&(window.clearTimeout(D.current),D.current=null),!ae)return;const A=()=>{(xe.current.length===0||_.current>=xe.current.length)&&(xe.current=Ioe(AT),_.current=0);const Fe=xe.current[_.current];_.current+=1,Fe&&(Z(Fe),ue.current=Date.now())},L=Fe=>{D.current=window.setTimeout(()=>{D.current=null,A(),L(Vv)},Math.max(300,Fe))};if(ue.current<=0)return A(),L(Vv),()=>{D.current!==null&&(window.clearTimeout(D.current),D.current=null)};const M=Date.now()-ue.current,Te=Vv-M;return L(Te),()=>{D.current!==null&&(window.clearTimeout(D.current),D.current=null)}},[ae]),g.useEffect(()=>{if(!(u||typeof document>"u"))return document.body.classList.toggle("stats-dashboard-loading",ie),()=>{document.body.classList.remove("stats-dashboard-loading")}},[u,ie]),g.useEffect(()=>{if(ae){Oe(!1);return}let A=!1;const L=()=>{A||Oe(!0)},M=window.requestIdleCallback;let Te=null;return typeof M=="function"?Te=M(()=>L(),{timeout:220}):Te=window.setTimeout(L,60),()=>{if(A=!0,Te!==null)if(typeof M=="function"){const Fe=window.cancelIdleCallback;typeof Fe=="function"&&Fe(Te)}else window.clearTimeout(Te)}},[ae]);const Ye=ve&&!ae,Qe=Ye&&(S("top-skills-outgoing")||S("player-breakdown")||S("damage-breakdown")),yt=Ye&&S("skill-usage"),$e=Ye&&S("apm-stats"),Ae=Ye&&S("spike-damage"),Ee=Ye&&S("incoming-strike-damage"),ot=Ye&&S("conditions-outgoing"),Ce=g.useMemo(()=>{var at,jt,Ct,wt,Et,$t;const A=H&&typeof H=="object"?H:{},L=Ht=>Array.isArray(Ht)?Ht:[],M=Ht=>Ht&&typeof Ht=="object"?Ht:{},Te=(Ht,Ln)=>Ht&&typeof Ht=="object"?Ht:Ln,Fe={value:0,player:"-",profession:"Unknown",professionList:[],count:0},Me={account:"-",profession:"Unknown",professionList:[],reason:"",topStats:[],score:0},se={...A,total:Number(A.total||0),timelineData:L(A.timelineData),mapData:L(A.mapData),fightBreakdown:L(A.fightBreakdown),topSkills:L(A.topSkills),topIncomingSkills:L(A.topIncomingSkills),leaderboards:M(A.leaderboards),topStatsPerSecond:M(A.topStatsPerSecond),topStatsLeaderboardsPerSecond:M(A.topStatsLeaderboardsPerSecond),maxDownContrib:Te(A.maxDownContrib,Fe),maxBarrier:Te(A.maxBarrier,Fe),maxHealing:Te(A.maxHealing,Fe),maxDodges:Te(A.maxDodges,Fe),maxStrips:Te(A.maxStrips,Fe),maxCleanses:Te(A.maxCleanses,Fe),maxCC:Te(A.maxCC,Fe),maxStab:Te(A.maxStab,Fe),closestToTag:Te(A.closestToTag,Fe),mvp:{...Me,...M(A.mvp),topStats:L((at=A==null?void 0:A.mvp)==null?void 0:at.topStats)},silver:Te(A.silver,Me),bronze:Te(A.bronze,Me),avgMvpScore:Number(A.avgMvpScore||0),offensePlayers:L(A.offensePlayers),defensePlayers:L(A.defensePlayers),damageMitigationPlayers:L(A.damageMitigationPlayers),damageMitigationMinions:L(A.damageMitigationMinions),supportPlayers:L(A.supportPlayers),healingPlayers:L(A.healingPlayers),boonTables:L(A.boonTables),boonTimeline:L(A.boonTimeline),boonUptimeTimeline:L(A.boonUptimeTimeline),specialTables:L(A.specialTables),outgoingConditionSummary:L(A.outgoingConditionSummary),outgoingConditionPlayers:L(A.outgoingConditionPlayers),incomingConditionSummary:L(A.incomingConditionSummary),incomingConditionPlayers:L(A.incomingConditionPlayers),squadClassData:L(A.squadClassData),enemyClassData:L(A.enemyClassData),attendanceData:L(A.attendanceData),commanderStats:Te(A.commanderStats,{rows:[]}),squadCompByFight:L(A.squadCompByFight),fightDiffMode:L(A.fightDiffMode),playerSkillBreakdowns:L(A.playerSkillBreakdowns)},pt=L((jt=se.leaderboards)==null?void 0:jt.downContrib).map(Ht=>({...Ht,value:Number((Ht==null?void 0:Ht.value)??0)})).filter(Ht=>Number.isFinite(Ht.value)).sort((Ht,Ln)=>Ln.value-Ht.value||String((Ht==null?void 0:Ht.account)||"").localeCompare(String((Ln==null?void 0:Ln.account)||"")))[0];return pt&&(se.maxDownContrib={...se.maxDownContrib||{},value:Number(pt.value||0),player:String(pt.account||((Ct=se.maxDownContrib)==null?void 0:Ct.player)||"-"),count:Number(pt.count||((wt=se.maxDownContrib)==null?void 0:wt.count)||0),profession:String(pt.profession||((Et=se.maxDownContrib)==null?void 0:Et.profession)||"Unknown"),professionList:Array.isArray(pt.professionList)?pt.professionList:(($t=se.maxDownContrib)==null?void 0:$t.professionList)||[]}),se},[H]);g.useEffect(()=>{var Fe;if(!((Fe=window==null?void 0:window.electronAPI)!=null&&Fe.fetchImageAsDataUrl)||ae)return;let A=!1;const L=()=>{if(A)return;const Me=new Set,se=jt=>{typeof jt=="string"&&/^https?:\/\//i.test(jt)&&Me.add(jt)},st=jt=>{jt.forEach(Ct=>{se(Ct==null?void 0:Ct.icon),se(Ct==null?void 0:Ct.iconUrl)})};st(Array.isArray(Ce==null?void 0:Ce.topSkills)?Ce.topSkills:[]),st(Array.isArray(Ce==null?void 0:Ce.topIncomingSkills)?Ce.topIncomingSkills:[]),st(Array.isArray(Ce==null?void 0:Ce.topSkillsByDamage)?Ce.topSkillsByDamage:[]),st(Array.isArray(Ce==null?void 0:Ce.topSkillsByDownContribution)?Ce.topSkillsByDownContribution:[]),st(Array.isArray(Ce==null?void 0:Ce.outgoingConditionSummary)?Ce.outgoingConditionSummary:[]),st(Array.isArray(Ce==null?void 0:Ce.incomingConditionSummary)?Ce.incomingConditionSummary:[]),(Array.isArray(Ce==null?void 0:Ce.boonTables)?Ce.boonTables:[]).forEach(jt=>{se(jt==null?void 0:jt.icon)}),(Array.isArray(Ce==null?void 0:Ce.specialTables)?Ce.specialTables:[]).forEach(jt=>{se(jt==null?void 0:jt.icon)}),Qe&&(Array.isArray(Ce==null?void 0:Ce.playerSkillBreakdowns)?Ce.playerSkillBreakdowns:[]).forEach(Ct=>{const wt=Array.isArray(Ct==null?void 0:Ct.skills)?Ct.skills:[];st(wt)}),Me.size>0&&Fse(Array.from(Me))},M=window.requestIdleCallback;let Te=null;return typeof M=="function"?Te=M(()=>L(),{timeout:500}):Te=window.setTimeout(L,120),()=>{if(A=!0,Te!==null)if(typeof M=="function"){const Me=window.cancelIdleCallback;typeof Me=="function"&&Me(Te)}else window.clearTimeout(Te)}},[Ce,ae,Qe]);const Kt=g.useMemo(()=>{const A=(c==null?void 0:c.skillUsageData)??K;return{logRecords:Array.isArray(A==null?void 0:A.logRecords)?A.logRecords:[],players:Array.isArray(A==null?void 0:A.players)?A.players:[],skillOptions:Array.isArray(A==null?void 0:A.skillOptions)?A.skillOptions:[],resUtilitySkills:Array.isArray(A==null?void 0:A.resUtilitySkills)?A.resUtilitySkills:[]}},[K,c==null?void 0:c.skillUsageData]),Le=Kt.players.length>0;g.useEffect(()=>{i||E(b.topSkillsMetric||"damage")},[b.topSkillsMetric,i]);const ft=A=>{if(i){i({...b,topSkillsMetric:A});return}E(A)},{scrollContainerRef:Ft}=X8(u,!0,ie),{devMockUploadState:Gt,webCopyStatus:wn,setWebCopyStatus:tr,handleWebUpload:on,handleDevMockUpload:fn}=wW({logs:e,stats:Ce,skillUsageData:Kt,activeStatsViewSettings:r||xw,uiTheme:h||"classic",embedded:u,onWebUpload:s}),{sharing:Aa,handleShare:dn}=pV(u),In={"Down Contribution":"downContribution",Healing:"healing",Cleanses:"cleanses",Strips:"strips",Stability:"stability",CC:"cc",Revives:"revives","Distance to Tag":"distanceToTag",Participation:"participation",Dodging:"dodging",DPS:"dps",Damage:"damage"},cr=A=>{const L=In[A];return L?v[L]>0:!0},[Oi,jo]=g.useState(null),[Ki,Co]=g.useState(null),[jl,Cl]=g.useState("totalBuffs"),[Tc,Cs]=g.useState("total"),[Gi,ua]=g.useState(""),[Ga,Ii]=g.useState(""),[Pa,Ao]=g.useState(null),[zr,Ya]=g.useState("squadBuffs"),[Xs,Qs]=g.useState(""),[jr,As]=g.useState(null),[Da,Iu]=g.useState(null),[Al,_u]=g.useState(""),[Yn,Pl]=g.useState(null),[ur,Cr]=g.useState(""),[Or,Dl]=g.useState(null),[da,Ir]=g.useState(null),[Yi,Ur]=g.useState(null),[fa,Tl]=g.useState(""),[ma,Xa]=g.useState(null),[Po,O]=g.useState(""),[z,pe]=g.useState(""),[ze,Ne]=g.useState(""),[ut,Ue]=g.useState(""),[bt,gt]=g.useState(""),[At,Ke]=g.useState(""),[we,Se]=g.useState(""),[tt,_e]=g.useState("outgoing"),[nt,ct]=g.useState(""),[xt,P]=g.useState("damage"),[W,X]=g.useState("damageTaken"),[ye,De]=g.useState("totalMitigation"),[F,U]=g.useState("all"),[G,he]=g.useState({key:"damage",dir:"desc"}),te=!(F!=="all"&&_oe.has(F)),Q=te?"grid-cols-[0.4fr_1.6fr_1fr_1fr]":"grid-cols-[0.4fr_1.6fr_1fr]",Ie=te?G:{key:"applications",dir:G.key==="applications"?G.dir:"desc"},[le,ne]=g.useState("condiCleanse"),[Xe,je]=g.useState("healing"),[ke,Ge]=g.useState("total"),[rt,lt]=g.useState("all"),[Ve,Ze]=g.useState("total"),[dt,Pt]=g.useState("total"),[Rt,Qt]=g.useState("total"),[ln,bn]=g.useState("total"),[_n,kn]=g.useState("all"),[vt,an]=g.useState("squad"),[Fn,Ar]=g.useState("player"),[Rn,Vn]=g.useState(""),[wi,ki]=g.useState(""),[Xi,ha]=g.useState(null),[xr,Ni]=g.useState([]),[Bn,Qa]=g.useState(null),[li,Zs]=g.useState(null),[He,Je]=g.useState("hit"),[Re,qe]=g.useState("all"),[et,Bt]=g.useState(null),[Zt,Pn]=g.useState(null),[tn,pa]=g.useState("hit"),[Pr,Wr]=g.useState([]),[Nn,Si]=g.useState(null),[nr,Do]=g.useState(!1),Vr=g.useRef(null),[Za,To]=g.useState("sizes"),[pn,Lu]=g.useState("total"),Mc=pn==="perSecond",[Nt,nn]=g.useState(null),[ji,dr]=g.useState("total"),[Qi,Ps]=g.useState(null),[Mo,Eo]=g.useState(null),[Oo,$b]=g.useState(null),[OB,IB]=g.useState(""),[Ec,Fb]=g.useState(null),[_B,H2]=g.useState(null),[Js,Qh]=g.useState(null),[LB,$B]=g.useState(""),[FB,RB]=g.useState("player"),[Oc,Rb]=g.useState(null),[BB,q2]=g.useState(null),[Io,Zh]=g.useState(null),zB=$e?Kt:PT,{apmSpecBuckets:Ml}=vV(zB),_o=g.useMemo(()=>Qe?Ce.playerSkillBreakdowns||[]:Hv,[Qe,Ce.playerSkillBreakdowns]),Bb=g.useMemo(()=>{const A=new Map;return _o.forEach(L=>A.set(L.key,L)),A},[_o]),$u=g.useMemo(()=>{const A=new Map;return _o.forEach(L=>{const M=L.profession||"Unknown";A.has(M)||A.set(M,{profession:M,players:[],skills:new Map});const Te=A.get(M);Te.players.push(L),L.skills.forEach(Fe=>{var se;const Me=Te.skills.get(Fe.id)||{...Fe,damage:0,downContribution:0};Me.damage+=Number(Fe.damage||0),Me.downContribution+=Number(Fe.downContribution||0),!Me.icon&&Fe.icon&&(Me.icon=Fe.icon),(se=Me.name)!=null&&se.startsWith("Skill ")&&!Fe.name.startsWith("Skill ")&&(Me.name=Fe.name),Te.skills.set(Fe.id,Me)})}),Array.from(A.values()).map(L=>{const M=Array.from(L.skills.values()).sort((Fe,Me)=>Me.damage-Fe.damage),Te=M.reduce((Fe,Me)=>(Fe[Me.id]=Me,Fe),{});return{profession:L.profession,players:L.players,skills:M,skillMap:Te}}).sort((L,M)=>L.profession.localeCompare(M.profession))},[_o]),Lo=Ec&&Bb.get(Ec)||null,UB=Lo&&Js&&(((oj=Lo.skillMap)==null?void 0:oj[Js])||Lo.skills.find(A=>A.id===Js))||null,zb=g.useMemo(()=>{const A=new Map;return $u.forEach(L=>A.set(L.profession,L)),A},[$u]),El=Oc&&zb.get(Oc)||null,WB=El&&Io&&((lj=El.skillMap)==null?void 0:lj[Io])||null,Jh=(A,L)=>{if(!L)return null;const M=Number(L.index);if(Number.isInteger(M)&&M>=0&&M<A.length)return A[M]||null;const Te=String(L.fightId||"").trim();return Te&&A.find(Fe=>String((Fe==null?void 0:Fe.id)||"").trim()===Te)||null},Ol=A=>{if(A&&typeof A=="object"){const M=Number((A==null?void 0:A.damage)||0),Te=Array.isArray(A==null?void 0:A.skillRows)?A.skillRows:void 0,Fe=(Te||[]).reduce((Me,se)=>Me+Number((se==null?void 0:se.downContribution)||0),0);return{hit:Number((A==null?void 0:A.hit)??M),burst1s:Number((A==null?void 0:A.burst1s)||0),burst5s:Number((A==null?void 0:A.burst5s)||0),burst30s:Number((A==null?void 0:A.burst30s)||0),hitDown:Number((A==null?void 0:A.hitDown)||Fe||0),burst1sDown:Number((A==null?void 0:A.burst1sDown)||0),burst5sDown:Number((A==null?void 0:A.burst5sDown)||0),burst30sDown:Number((A==null?void 0:A.burst30sDown)||0),skillName:String((A==null?void 0:A.skillName)||""),buckets5s:Array.isArray(A==null?void 0:A.buckets5s)?A.buckets5s:void 0,buckets5sDown:Array.isArray(A==null?void 0:A.buckets5sDown)?A.buckets5sDown:void 0,downIndices5s:Array.isArray(A==null?void 0:A.downIndices5s)?A.downIndices5s:void 0,deathIndices5s:Array.isArray(A==null?void 0:A.deathIndices5s)?A.deathIndices5s:void 0,skillRows:Te}}return{hit:Number(A||0),burst1s:0,burst5s:0,burst30s:0,hitDown:0,burst1sDown:0,burst5sDown:0,burst30sDown:0,skillName:"",buckets5s:void 0,buckets5sDown:void 0,downIndices5s:void 0,deathIndices5s:void 0,skillRows:void 0}},Ta=g.useMemo(()=>{if(!Ae)return{fights:[],players:[]};const A=Pe=>String(Pe||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),L=Pe=>A(Pe).toLowerCase().split(/[^a-z0-9]+/i).map(it=>it.trim()).filter(Boolean).map(it=>it.length>3&&it.endsWith("s")?it.slice(0,-1):it),M=(Pe,it)=>{const ge=A(Pe),Ot=A(it);if(!Ot)return ge;if(!ge)return Ot;const Dt=L(ge),rn=L(Ot),cn=new Set(Dt),Xn=new Set(rn),zt=rn.length>0&&rn.every(_t=>cn.has(_t)),Jt=Dt.length>0&&Dt.every(_t=>Xn.has(_t));return zt||Jt?ge:`${ge} - ${Ot}`},Te=Pe=>{if(Pe==null||Pe==="")return 0;if(typeof Pe=="number")return!Number.isFinite(Pe)||Pe<=0?0:Pe>1e12?Pe:Pe*1e3;if(Pe instanceof Date){const cn=Pe.getTime();return Number.isFinite(cn)&&cn>0?cn:0}const it=String(Pe).trim();if(!it)return 0;const ge=Number(it);if(Number.isFinite(ge)&&ge>0)return ge>1e12?ge:ge*1e3;const Ot=Date.parse(it);if(Number.isFinite(Ot)&&Ot>0)return Ot;const Dt=it.replace(/([+-]\d{2})$/,"$1:00"),rn=Date.parse(Dt);return Number.isFinite(rn)&&rn>0?rn:0},Fe=(Pe,it)=>Te((Pe==null?void 0:Pe.uploadTime)??(it==null?void 0:it.uploadTime)??(Pe==null?void 0:Pe.timeStartStd)??(Pe==null?void 0:Pe.timeStart)??(Pe==null?void 0:Pe.timeEndStd)??(Pe==null?void 0:Pe.timeEnd)),Me=Ce==null?void 0:Ce.spikeDamage,se=Array.isArray(Me==null?void 0:Me.fights)?Me.fights:[],st=Array.isArray(Me==null?void 0:Me.players)?Me.players:[],pt=se.some(Pe=>(Pe!=null&&Pe.values&&typeof Pe.values=="object"?Object.values(Pe.values):[]).some(ge=>ge&&typeof ge=="object"&&(Number(ge.burst1s||0)>0||Number(ge.burst5s||0)>0||Number(ge.burst30s||0)>0)))||st.some(Pe=>Number((Pe==null?void 0:Pe.peak1s)||0)>0||Number((Pe==null?void 0:Pe.peak5s)||0)>0||Number((Pe==null?void 0:Pe.peak30s)||0)>0),at=se.some(Pe=>(Pe!=null&&Pe.values&&typeof Pe.values=="object"?Object.values(Pe.values):[]).some(ge=>ge&&typeof ge=="object"&&(Number(ge.hitDown||0)>0||Number(ge.burst1sDown||0)>0||Number(ge.burst5sDown||0)>0||Number(ge.burst30sDown||0)>0)))||st.some(Pe=>Number((Pe==null?void 0:Pe.peakHitDown)||0)>0||Number((Pe==null?void 0:Pe.peak1sDown)||0)>0||Number((Pe==null?void 0:Pe.peak5sDown)||0)>0||Number((Pe==null?void 0:Pe.peak30sDown)||0)>0);if((se.length>0||st.length>0)&&(pt||e.length===0)&&(Re!=="downContribution"||at||e.length===0)){const Pe=se.map((ge,Ot)=>{const Dt=ge!=null&&ge.values&&typeof ge.values=="object"?ge.values:{};return{id:String((ge==null?void 0:ge.id)||`fight-${Ot+1}`),shortLabel:String((ge==null?void 0:ge.shortLabel)||`F${Ot+1}`),fullLabel:A((ge==null?void 0:ge.fullLabel)||`Fight ${Ot+1}`),timestamp:Number((ge==null?void 0:ge.timestamp)||0),values:Dt,maxHit:Number((ge==null?void 0:ge.maxHit)??(ge==null?void 0:ge.maxDamage)??0),max1s:Number((ge==null?void 0:ge.max1s)||0),max5s:Number((ge==null?void 0:ge.max5s)||0),max30s:Number((ge==null?void 0:ge.max30s)||0),maxHitDown:Number((ge==null?void 0:ge.maxHitDown)||0),max1sDown:Number((ge==null?void 0:ge.max1sDown)||0),max5sDown:Number((ge==null?void 0:ge.max5sDown)||0),max30sDown:Number((ge==null?void 0:ge.max30sDown)||0)}}),it=st.map(ge=>({key:String((ge==null?void 0:ge.key)||""),account:String((ge==null?void 0:ge.account)||"Unknown"),displayName:String((ge==null?void 0:ge.displayName)||(ge==null?void 0:ge.account)||"Unknown"),characterName:String((ge==null?void 0:ge.characterName)||(ge==null?void 0:ge.name)||(ge==null?void 0:ge.character_name)||(ge==null?void 0:ge.display_name)||""),profession:String((ge==null?void 0:ge.profession)||"Unknown"),professionList:Array.isArray(ge==null?void 0:ge.professionList)?ge.professionList.map(Ot=>String(Ot)):[],logs:Number((ge==null?void 0:ge.logs)||0),peakHit:Number((ge==null?void 0:ge.peakHit)||0),peak1s:Number((ge==null?void 0:ge.peak1s)||0),peak5s:Number((ge==null?void 0:ge.peak5s)||0),peak30s:Number((ge==null?void 0:ge.peak30s)||0),peakHitDown:Number((ge==null?void 0:ge.peakHitDown)||0),peak1sDown:Number((ge==null?void 0:ge.peak1sDown)||0),peak5sDown:Number((ge==null?void 0:ge.peak5sDown)||0),peak30sDown:Number((ge==null?void 0:ge.peak30sDown)||0),peakFightLabel:A((ge==null?void 0:ge.peakFightLabel)||""),peakSkillName:String((ge==null?void 0:ge.peakSkillName)||"")}));return{fights:Pe,players:it}}const Ct=(Pe,it)=>{const ge=(it==null?void 0:it.skillMap)||{},Ot=(it==null?void 0:it.buffMap)||{};let Dt=0,rn=0,cn="";const Xn=_t=>{const mn=Number(_t);if(!Number.isFinite(mn))return String(_t||"Unknown Skill");const Qn=(ge==null?void 0:ge[`s${mn}`])||(ge==null?void 0:ge[`${mn}`]);if(Qn!=null&&Qn.name)return String(Qn.name);const Ja=(Ot==null?void 0:Ot[`b${mn}`])||(Ot==null?void 0:Ot[`${mn}`]);return Ja!=null&&Ja.name?String(Ja.name):`Skill ${mn}`},zt=_t=>{if(!_t||typeof _t!="object")return;const mn=[Number(_t.max),Number(_t.maxDamage),Number(_t.maxHit)].filter(wf=>Number.isFinite(wf)),Qn=mn.length>0?Math.max(...mn):0;Qn>Dt&&(Dt=Qn,cn=Xn(_t.id));const Ja=Number(_t.downContribution||0);Ja>rn&&(rn=Ja)};let Jt=!1;return Array.isArray(Pe==null?void 0:Pe.targetDamageDist)&&Pe.targetDamageDist.forEach(_t=>{Array.isArray(_t)&&_t.forEach(mn=>{Array.isArray(mn)&&mn.forEach(Qn=>{Jt=!0,zt(Qn)})})}),(!Jt||Dt<=0)&&Array.isArray(Pe==null?void 0:Pe.totalDamageDist)&&Pe.totalDamageDist.forEach(_t=>{Array.isArray(_t)&&_t.forEach(mn=>zt(mn))}),{peak:Dt,peakDownContribution:rn,skillName:cn||"Unknown Skill"}},wt=Pe=>{const it=zt=>{if(!Array.isArray(zt)||zt.length===0)return[];const Jt=[];for(let _t=0;_t<zt.length;_t+=1){const mn=Number(zt[_t]||0),Qn=_t>0?Number(zt[_t-1]||0):0;Jt.push(Math.max(0,mn-Qn))}return Jt},ge=zt=>{if(!Array.isArray(zt))return[];const Jt=zt.reduce((mn,Qn)=>Math.max(mn,Array.isArray(Qn)?Qn.length:0),0);if(Jt<=0)return[];const _t=new Array(Jt).fill(0);return zt.forEach(mn=>{if(Array.isArray(mn))for(let Qn=0;Qn<Jt;Qn+=1)_t[Qn]+=Number(mn[Qn]||0)}),_t},Ot=zt=>Array.isArray(zt)?zt.map(Jt=>Number(Jt||0)):null,rn=(zt=>{if(!Array.isArray(zt)||zt.length===0)return null;const Jt=zt[0];if(!Array.isArray(Jt))return null;if(Array.isArray(Jt[0])&&Array.isArray(Jt[0][0]))return ge(Jt);if(Array.isArray(Jt[0])&&!Array.isArray(Jt[0][0])){const _t=zt.map(mn=>Ot(Array.isArray(mn)?mn[0]:null)).filter(mn=>Array.isArray(mn)&&mn.length>0);if(_t.length>0)return ge(_t)}return null})(Pe==null?void 0:Pe.targetDamage1S),cn=Array.isArray(Pe==null?void 0:Pe.damage1S)&&Array.isArray(Pe.damage1S[0])?Pe.damage1S[0]:null,Xn=rn||(Array.isArray(cn)?cn.map(zt=>Number(zt||0)):[]);return it(Xn)},Et=(Pe,it)=>{if(!Array.isArray(Pe)||Pe.length===0||it<=0)return 0;let ge=0,Ot=0;for(let Dt=0;Dt<Pe.length;Dt+=1)ge+=Number(Pe[Dt]||0),Dt>=it&&(ge-=Number(Pe[Dt-it]||0)),Dt>=it-1&&ge>Ot&&(Ot=ge);return Math.max(0,Ot)},$t=(Pe,it)=>{if(!Array.isArray(Pe)||Pe.length===0||it<=0)return[];const ge=[];for(let Ot=0;Ot<Pe.length;Ot+=it){const Dt=Math.min(Ot+it,Pe.length),rn=Pe.slice(Ot,Dt).reduce((cn,Xn)=>cn+Number(Xn||0),0);ge.push(rn)}return ge},Ht=(Pe,it)=>{let ge=0,Ot=0;const Dt=new Map,rn=Xn=>{if(!Xn||typeof Xn!="object"||Xn.indirectDamage)return;const zt=Number(Xn.totalDamage||0),Jt=Number(Xn.downContribution||0);!Number.isFinite(zt)&&!Number.isFinite(Jt)||(ge+=Number.isFinite(zt)?zt:0,Ot+=Number.isFinite(Jt)?Jt:0)};return Array.isArray(Pe==null?void 0:Pe.targetDamageDist)&&Pe.targetDamageDist.forEach(Xn=>{Array.isArray(Xn)&&Xn.forEach(zt=>{Array.isArray(zt)&&zt.forEach(Jt=>{const _t=Number(Jt==null?void 0:Jt.id);if(Number.isFinite(_t)){const mn=Dt.get(_t)||{damage:0,downContribution:0};mn.damage+=Number((Jt==null?void 0:Jt.totalDamage)||0),mn.downContribution+=Number((Jt==null?void 0:Jt.downContribution)||0),Dt.set(_t,mn)}rn(Jt)})})}),!(it!=null&&it.detailedWvW)&&Array.isArray(Pe==null?void 0:Pe.totalDamageDist)&&Pe.totalDamageDist.forEach(Xn=>{Array.isArray(Xn)&&Xn.forEach(zt=>{const Jt=Number(zt==null?void 0:zt.id);if(!Number.isFinite(Jt)){rn(zt);return}const _t=Dt.get(Jt);if(!_t){rn(zt);return}const mn=Number((zt==null?void 0:zt.totalDamage)||0)-Number(_t.damage||0),Qn=Number((zt==null?void 0:zt.downContribution)||0)-Number(_t.downContribution||0);mn<=0&&Qn<=0||rn({...zt,totalDamage:Math.max(0,mn),downContribution:Math.max(0,Qn)})})}),{damageTotal:Math.max(0,ge),downContributionTotal:Math.max(0,Ot)}},Ln=[],Ut=new Map;e.forEach(Pe=>{const it=Pe==null?void 0:Pe.details;if(!it)return;const ge=Ln.length+1,Ot=A(it.fightName||Pe.fightName||`Fight ${ge}`),Dt=it.zone||it.mapName||it.map||it.location||"",rn=M(Ot,String(Dt||"")),cn={};(Array.isArray(it.players)?it.players:[]).forEach(sn=>{if(sn!=null&&sn.notInSquad)return;const hn=String((sn==null?void 0:sn.account)||(sn==null?void 0:sn.name)||"Unknown"),kf=String((sn==null?void 0:sn.character_name)||(sn==null?void 0:sn.display_name)||(sn==null?void 0:sn.name)||""),_l=String((sn==null?void 0:sn.profession)||"Unknown"),Uu=`${hn}|${_l}`,Ll=Ct(sn,it),zo=Number(Ll.peak||0),Nf=Number(Ll.peakDownContribution||0),$l=wt(sn),{damageTotal:lp,downContributionTotal:Ic}=Ht(sn,it),cp=lp>0?Math.min(1,Math.max(0,Ic/lp)):0,Fl=$l.map(Ts=>Number(Ts||0)*cp),Wu=Number(Et($l,1)||0),We=Number(Et($l,5)||0),kt=Number(Et($l,30)||0),Wt=Number(Et(Fl,1)||0),Sn=Number(Et(Fl,5)||0),en=Number(Et(Fl,30)||0),qt=Math.max(0,Math.ceil(Number((it==null?void 0:it.durationMS)||0)/5e3)),jn=Math.max(0,Math.ceil($l.length/5)),ui=Math.max(0,Math.ceil(Fl.length/5)),Lr=Math.max(qt,jn,ui),_c=$t($l,5),up=$t(Fl,5),rr=Array.from({length:Lr},(Ts,Lc)=>Number(_c[Lc]||0)),es=Array.from({length:Lr},(Ts,Lc)=>Number(up[Lc]||0));cn[Uu]={hit:zo,burst1s:Wu,burst5s:We,burst30s:kt,hitDown:Nf,burst1sDown:Wt,burst5sDown:Sn,burst30sDown:en,skillName:Ll.skillName,buckets5s:rr,buckets5sDown:es};const $n=Ut.get(Uu)||{key:Uu,account:hn,displayName:hn,characterName:kf,profession:_l,professionList:[_l],logs:0,peakHit:0,peak1s:0,peak5s:0,peak30s:0,peakHitDown:0,peak1sDown:0,peak5sDown:0,peak30sDown:0,peakFightLabel:"",peakSkillName:""};$n.logs+=1,$n.professionList.includes(_l)||$n.professionList.push(_l),!$n.characterName&&kf&&($n.characterName=kf),zo>$n.peakHit&&($n.peakHit=zo,$n.peakFightLabel=rn,$n.peakSkillName=Ll.skillName),Wu>$n.peak1s&&($n.peak1s=Wu),We>$n.peak5s&&($n.peak5s=We),kt>$n.peak30s&&($n.peak30s=kt),Nf>$n.peakHitDown&&($n.peakHitDown=Nf),Wt>$n.peak1sDown&&($n.peak1sDown=Wt),Sn>$n.peak5sDown&&($n.peak5sDown=Sn),en>$n.peak30sDown&&($n.peak30sDown=en),Ut.set(Uu,$n)});const zt=Object.values(cn).reduce((sn,hn)=>Math.max(sn,Number((hn==null?void 0:hn.hit)||0)),0),Jt=Object.values(cn).reduce((sn,hn)=>Math.max(sn,Number((hn==null?void 0:hn.burst1s)||0)),0),_t=Object.values(cn).reduce((sn,hn)=>Math.max(sn,Number((hn==null?void 0:hn.burst5s)||0)),0),mn=Object.values(cn).reduce((sn,hn)=>Math.max(sn,Number((hn==null?void 0:hn.burst30s)||0)),0),Qn=Object.values(cn).reduce((sn,hn)=>Math.max(sn,Number((hn==null?void 0:hn.hitDown)||0)),0),Ja=Object.values(cn).reduce((sn,hn)=>Math.max(sn,Number((hn==null?void 0:hn.burst1sDown)||0)),0),wf=Object.values(cn).reduce((sn,hn)=>Math.max(sn,Number((hn==null?void 0:hn.burst5sDown)||0)),0),cj=Object.values(cn).reduce((sn,hn)=>Math.max(sn,Number((hn==null?void 0:hn.burst30sDown)||0)),0);Ln.push({id:Pe.filePath||Pe.id||`fight-${ge}`,shortLabel:`F${ge}`,fullLabel:rn,timestamp:Fe(it,Pe),values:cn,maxHit:zt,max1s:Jt,max5s:_t,max30s:mn,maxHitDown:Qn,max1sDown:Ja,max5sDown:wf,max30sDown:cj})});const yn=Array.from(Ut.values()).sort((Pe,it)=>it.peakHit!==Pe.peakHit?it.peakHit-Pe.peakHit:Pe.displayName.localeCompare(it.displayName));return{fights:Ln,players:yn}},[e,Ce,Ae,Re]),Ma=g.useMemo(()=>{if(!Ee)return{fights:[],players:[]};const A=se=>String(se||"").replace(/^Detailed\s*WvW\s*-\s*/i,"").replace(/^World\s*vs\s*World\s*-\s*/i,"").replace(/^WvW\s*-\s*/i,"").trim(),L=Ce==null?void 0:Ce.incomingStrikeDamage,M=Array.isArray(L==null?void 0:L.fights)?L.fights:[],Te=Array.isArray(L==null?void 0:L.players)?L.players:[];if(M.length===0&&Te.length===0)return{fights:[],players:[]};const Fe=M.map((se,st)=>{const pt=se!=null&&se.values&&typeof se.values=="object"?se.values:{};return{id:String((se==null?void 0:se.id)||`fight-${st+1}`),shortLabel:String((se==null?void 0:se.shortLabel)||`F${st+1}`),fullLabel:A((se==null?void 0:se.fullLabel)||`Fight ${st+1}`),timestamp:Number((se==null?void 0:se.timestamp)||0),values:pt,maxHit:Number((se==null?void 0:se.maxHit)??(se==null?void 0:se.maxDamage)??0),max1s:Number((se==null?void 0:se.max1s)||0),max5s:Number((se==null?void 0:se.max5s)||0),max30s:Number((se==null?void 0:se.max30s)||0),maxHitDown:Number((se==null?void 0:se.maxHitDown)||0),max1sDown:Number((se==null?void 0:se.max1sDown)||0),max5sDown:Number((se==null?void 0:se.max5sDown)||0),max30sDown:Number((se==null?void 0:se.max30sDown)||0)}}),Me=Te.map(se=>({key:String((se==null?void 0:se.key)||""),account:String((se==null?void 0:se.account)||"Unknown"),displayName:String((se==null?void 0:se.displayName)||(se==null?void 0:se.account)||"Unknown"),characterName:String((se==null?void 0:se.characterName)||(se==null?void 0:se.name)||(se==null?void 0:se.character_name)||(se==null?void 0:se.display_name)||""),profession:String((se==null?void 0:se.profession)||"Unknown"),professionList:Array.isArray(se==null?void 0:se.professionList)?se.professionList.map(st=>String(st)):[],logs:Number((se==null?void 0:se.logs)||0),peakHit:Number((se==null?void 0:se.peakHit)||0),peak1s:Number((se==null?void 0:se.peak1s)||0),peak5s:Number((se==null?void 0:se.peak5s)||0),peak30s:Number((se==null?void 0:se.peak30s)||0),peakHitDown:Number((se==null?void 0:se.peakHitDown)||0),peak1sDown:Number((se==null?void 0:se.peak1sDown)||0),peak5sDown:Number((se==null?void 0:se.peak5sDown)||0),peak30sDown:Number((se==null?void 0:se.peak30sDown)||0),peakFightLabel:A((se==null?void 0:se.peakFightLabel)||""),peakSkillName:String((se==null?void 0:se.peakSkillName)||"")}));return{fights:Fe,players:Me}},[Ce,Ee]),gf=g.useMemo(()=>{const A=new Map;return Ta.players.forEach(L=>A.set(L.key,L)),A},[Ta.players]),VB=g.useMemo(()=>{const A=Fe=>Re==="downContribution"?He==="hit"?Fe.peakHitDown:He==="1s"?Fe.peak1sDown:He==="5s"?Fe.peak5sDown:Fe.peak30sDown:He==="hit"?Fe.peakHit:He==="1s"?Fe.peak1s:He==="5s"?Fe.peak5s:Fe.peak30s,L=At.trim().toLowerCase(),M=L?Ta.players.filter(Fe=>Fe.displayName.toLowerCase().includes(L)||Fe.account.toLowerCase().includes(L)||Fe.profession.toLowerCase().includes(L)):Ta.players,Te=new Map;return M.forEach(Fe=>{const Me=Fe.profession||"Unknown",se=Te.get(Me)||[];se.push(Fe),Te.set(Me,se)}),Array.from(Te.entries()).map(([Fe,Me])=>({profession:Fe,players:[...Me].sort((se,st)=>A(st)-A(se)||se.displayName.localeCompare(st.displayName))})).sort((Fe,Me)=>Fe.profession.localeCompare(Me.profession))},[Ta.players,At,He,Re]),HB=Bn&&gf.get(Bn)||null,eo=g.useMemo(()=>{if(!Bn)return[];const A=M=>M?Number(Re==="downContribution"?He==="hit"?M.hitDown||0:He==="1s"?M.burst1sDown||0:He==="5s"?M.burst5sDown||0:M.burst30sDown||0:He==="hit"?M.hit||0:He==="1s"?M.burst1s||0:He==="5s"?M.burst5s||0:M.burst30s||0):0,L=M=>Number(Re==="downContribution"?He==="hit"?M.maxHitDown||0:He==="1s"?M.max1sDown||0:He==="5s"?M.max5sDown||0:M.max30sDown||0:He==="hit"?M.maxHit||0:He==="1s"?M.max1s||0:He==="5s"?M.max5s||0:M.max30s||0);return Ta.fights.map((M,Te)=>({index:Te,fightId:M.id,shortLabel:M.shortLabel,fullLabel:M.fullLabel,timestamp:Number(M.timestamp||0),damage:A(Ol(M.values[Bn])),maxDamage:L(M),skillName:String(Ol(M.values[Bn]).skillName||"")}))},[Ta.fights,Bn,He,Re]),qB=g.useMemo(()=>{const A=eo.reduce((M,Te)=>Math.max(M,Number(Te.damage||0)),0),L=eo.reduce((M,Te)=>Math.max(M,Number(Te.maxDamage||0)),0);return Math.max(1,A,L)},[eo]),ep=g.useMemo(()=>{var Fl,Wu;const A=li===null?null:eo.find(We=>We.index===li)||null;if(!A||!Bn)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const L=Jh(Ta.fights,A),[M,Te]=Bn.split("|"),Fe=e.find(We=>String((We==null?void 0:We.filePath)||(We==null?void 0:We.id)||"")===String(A.fightId||"")),Me=Fe==null?void 0:Fe.details,se=We=>Array.isArray(We)?We.map(kt=>Array.isArray(kt)?[Number(kt[0]),Number(kt[1])]:kt&&typeof kt=="object"?[Number(kt.time),Number(kt.value)]:null).filter(kt=>!!kt&&Number.isFinite(kt[0])&&kt[0]>=0):[],st=We=>String(We||"").trim().toLowerCase(),pt=st(M),at=st(Te),jt=gf.get(Bn),Ct=new Set([st(jt==null?void 0:jt.displayName),st(jt==null?void 0:jt.characterName),st(jt==null?void 0:jt.account)].filter(Boolean)),wt=Array.isArray(Me==null?void 0:Me.players)&&((Fl=Me.players.map(We=>{const kt=st(We==null?void 0:We.account),Wt=st(We==null?void 0:We.name),Sn=st(We==null?void 0:We.profession),en=!!kt&&kt===pt,qt=!!Wt&&(Wt===pt||Ct.has(Wt)),jn=!!kt&&Ct.has(kt),ui=!at||Sn===at;let Lr=0;return en&&(Lr+=100),qt&&(Lr+=90),jn&&(Lr+=80),ui&&(Lr+=20),{player:We,score:Lr}}).filter(We=>We.score>0).sort((We,kt)=>kt.score-We.score)[0])==null?void 0:Fl.player)||null,Et=(()=>{const We=wt==null?void 0:wt.combatReplayData;return Array.isArray(We)?We.filter(kt=>kt&&typeof kt=="object"):We&&typeof We=="object"?[We]:[]})(),$t=Et.flatMap(We=>se(We==null?void 0:We.down).map(([kt])=>kt)),Ht=Et.flatMap(We=>se(We==null?void 0:We.dead).map(([kt])=>kt)),Ln=Et.map(We=>Number(We==null?void 0:We.start)).filter(We=>Number.isFinite(We)&&We>=0),Ut=Array.isArray(Me==null?void 0:Me.players)?Me.players.flatMap(We=>{const kt=We==null?void 0:We.combatReplayData;return Array.isArray(kt)?kt.map(Wt=>Number(Wt==null?void 0:Wt.start)):[Number(kt==null?void 0:kt.start)]}).filter(We=>Number.isFinite(We)&&We>=0).reduce((We,kt)=>Math.min(We,kt),Number.POSITIVE_INFINITY):Number.POSITIVE_INFINITY,yn=[0,Number((Me==null?void 0:Me.logStartOffset)||0),...Ln,Number.isFinite(Ut)?Ut:0].filter(We=>Number.isFinite(We)&&We>=0),Pe=We=>{const kt=Math.max(0,Math.floor(Number(We||0)/1e3)),Wt=Math.floor(kt/5)*5;return`${Wt}s-${Wt+5}s`},it=(We,kt)=>{if(We.length===0||kt.length===0)return[];const Wt=kt.length*5e3,Sn=rr=>rr.reduce((es,$n)=>$n>=0&&$n<=Wt+2e3?es+1:es,0),en=[],qt=We.map(rr=>Number(rr||0)).filter(rr=>Number.isFinite(rr)&&rr>=0);if(qt.length===0)return[];en.push(qt);const jn=qt.reduce((rr,es)=>Math.max(rr,es),0),ui=qt.reduce((rr,es)=>Math.min(rr,es),Number.POSITIVE_INFINITY);jn>Wt*20&&en.push(qt.map(rr=>rr/1e3)),jn<=Wt*2&&ui>=0&&jn>0&&jn<Math.max(120,kt.length*5+10)&&en.push(qt.map(rr=>rr*1e3));let Lr=qt,_c=0,up=-1;return en.forEach(rr=>{const es=new Set(yn),$n=rr.reduce((Ts,Lc)=>Math.min(Ts,Lc),Number.POSITIVE_INFINITY);if(Number.isFinite($n)&&Wt>0&&$n>Wt){const Ts=Math.floor($n/Wt)*Wt;es.add(Ts),es.add(Math.max(0,Ts-Wt))}es.forEach(Ts=>{const Lc=rr.map(qz=>qz-Ts),uj=Sn(Lc);uj>up&&(up=uj,_c=Ts,Lr=rr)})}),Lr.map(rr=>rr-_c).filter(rr=>Number.isFinite(rr)&&rr>=0)},ge=(We,kt)=>{if(We.length===0||kt.length===0)return[];const Wt=it(kt,We),Sn=new Map;We.forEach(qt=>{const jn=/^(\d+)s-/.exec(String(qt));if(!jn)return;const ui=Number(jn[1]);Number.isFinite(ui)&&Sn.set(ui,qt)});const en=[];return Wt.forEach(qt=>{const jn=Math.max(0,Math.floor(Number(qt||0)/1e3)),ui=Math.floor(jn/5)*5,Lr=Sn.get(ui)||Pe(qt);We.includes(Lr)&&en.push(Lr)}),Array.from(new Set(en))},Ot=(We,kt)=>{if(We<=0||kt.length===0)return[];const Wt=Array.from({length:We},(qt,jn)=>`${jn*5}s-${(jn+1)*5}s`),en=it(kt,Wt).map(qt=>Math.floor(Math.max(0,Number(qt||0))/5e3)).filter(qt=>Number.isFinite(qt)&&qt>=0&&qt<We);return Array.from(new Set(en))},Dt=Ol((Wu=L==null?void 0:L.values)==null?void 0:Wu[Bn]),rn=Re==="downContribution"?Array.isArray(Dt==null?void 0:Dt.buckets5sDown)?(Dt==null?void 0:Dt.buckets5sDown)||[]:[]:Array.isArray(Dt==null?void 0:Dt.buckets5s)?(Dt==null?void 0:Dt.buckets5s)||[]:[],cn=Array.isArray(Dt==null?void 0:Dt.downIndices5s)?Dt.downIndices5s.map(We=>Number(We)).filter(We=>Number.isFinite(We)&&We>=0):[],Xn=Array.isArray(Dt==null?void 0:Dt.deathIndices5s)?Dt.deathIndices5s.map(We=>Number(We)).filter(We=>Number.isFinite(We)&&We>=0):[];if(rn.length>0){const We=Math.max(0,Math.ceil(Number((Me==null?void 0:Me.durationMS)||0)/5e3)),kt=Math.max(rn.length,We),Wt=Array.from({length:kt},(en,qt)=>({label:`${qt*5}s-${(qt+1)*5}s`,value:Number(rn[qt]||0)})),Sn=Wt.map(en=>en.label);return{title:`Fight Breakdown - ${A.shortLabel||"Fight"} (5s ${Re==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:Wt,downLabels:ge(Sn,$t),deathLabels:ge(Sn,Ht),downIndices:cn.length>0?cn.filter(en=>en<Wt.length):Ot(Wt.length,$t),deathIndices:Xn.length>0?Xn.filter(en=>en<Wt.length):Ot(Wt.length,Ht)}}const zt=A.shortLabel||"Fight";if(!Me||!Array.isArray(Me.players))return{title:`Fight Breakdown - ${zt}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const Jt=Me.players.find(We=>String((We==null?void 0:We.account)||(We==null?void 0:We.name)||"Unknown")===M&&String((We==null?void 0:We.profession)||"Unknown")===Te);if(!Jt)return{title:`Fight Breakdown - ${zt}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const _t=Jt,mn=()=>{let We=0,kt=0;const Wt=new Map,Sn=en=>{if(!en||typeof en!="object"||en.indirectDamage)return;const qt=Number(en.totalDamage||0),jn=Number(en.downContribution||0);!Number.isFinite(qt)&&!Number.isFinite(jn)||(We+=Number.isFinite(qt)?qt:0,kt+=Number.isFinite(jn)?jn:0)};return Array.isArray(_t==null?void 0:_t.targetDamageDist)&&_t.targetDamageDist.forEach(en=>{Array.isArray(en)&&en.forEach(qt=>{Array.isArray(qt)&&qt.forEach(jn=>{const ui=Number(jn==null?void 0:jn.id);if(Number.isFinite(ui)){const Lr=Wt.get(ui)||{damage:0,downContribution:0};Lr.damage+=Number((jn==null?void 0:jn.totalDamage)||0),Lr.downContribution+=Number((jn==null?void 0:jn.downContribution)||0),Wt.set(ui,Lr)}Sn(jn)})})}),!(Me!=null&&Me.detailedWvW)&&Array.isArray(_t==null?void 0:_t.totalDamageDist)&&_t.totalDamageDist.forEach(en=>{Array.isArray(en)&&en.forEach(qt=>{const jn=Number(qt==null?void 0:qt.id);if(!Number.isFinite(jn)){Sn(qt);return}const ui=Wt.get(jn);if(!ui){Sn(qt);return}const Lr=Number((qt==null?void 0:qt.totalDamage)||0)-Number(ui.damage||0),_c=Number((qt==null?void 0:qt.downContribution)||0)-Number(ui.downContribution||0);Lr<=0&&_c<=0||Sn({...qt,totalDamage:Math.max(0,Lr),downContribution:Math.max(0,_c)})})}),We<=0?0:Math.min(1,Math.max(0,kt/We))},Qn=We=>{if(!Array.isArray(We)||We.length===0)return[];const kt=[];for(let Wt=0;Wt<We.length;Wt+=1){const Sn=Number(We[Wt]||0),en=Wt>0?Number(We[Wt-1]||0):0;kt.push(Math.max(0,Sn-en))}return kt},Ja=We=>{if(!Array.isArray(We))return[];const kt=We.reduce((Sn,en)=>Math.max(Sn,Array.isArray(en)?en.length:0),0);if(kt<=0)return[];const Wt=new Array(kt).fill(0);return We.forEach(Sn=>{if(Array.isArray(Sn))for(let en=0;en<kt;en+=1)Wt[en]+=Number(Sn[en]||0)}),Wt},wf=We=>Array.isArray(We)?We.map(kt=>Number(kt||0)):null,sn=(We=>{if(!Array.isArray(We)||We.length===0)return null;const kt=We[0];if(!Array.isArray(kt))return null;if(Array.isArray(kt[0])&&Array.isArray(kt[0][0]))return Ja(kt);if(Array.isArray(kt[0])&&!Array.isArray(kt[0][0])){const Wt=We.map(Sn=>wf(Array.isArray(Sn)?Sn[0]:null)).filter(Sn=>Array.isArray(Sn)&&Sn.length>0);if(Wt.length>0)return Ja(Wt)}return null})(_t==null?void 0:_t.targetDamage1S),hn=Array.isArray(_t==null?void 0:_t.damage1S)&&Array.isArray(_t.damage1S[0])?_t.damage1S[0]:null,kf=sn||(Array.isArray(hn)?hn.map(We=>Number(We||0)):[]),_l=Qn(kf),Uu=mn(),Ll=Re==="downContribution"?_l.map(We=>Number(We||0)*Uu):_l,zo=5,Nf=Math.max(0,Math.ceil(Number((Me==null?void 0:Me.durationMS)||0)/(zo*1e3))),$l=Math.max(0,Math.ceil(Ll.length/zo)),lp=Math.max(Nf,$l),Ic=[];for(let We=0;We<lp;We+=1){const kt=We*zo,Wt=Math.min(kt+zo,Ll.length),Sn=Ll.slice(kt,Wt).reduce((en,qt)=>en+Number(qt||0),0);Ic.push({label:`${kt}s-${kt+zo}s`,value:Sn})}const cp=Ic.map(We=>We.label);return{title:`Fight Breakdown - ${zt} (5s ${Re==="downContribution"?"Down Contribution":"Damage"} Buckets)`,data:Ic,downLabels:ge(cp,$t),deathLabels:ge(cp,Ht),downIndices:Ot(Ic.length,$t),deathIndices:Ot(Ic.length,Ht)}},[li,eo,Bn,e,Ta.fights,gf,Re]),Ub=g.useMemo(()=>{const A=new Map;return Ma.players.forEach(L=>A.set(L.key,L)),A},[Ma.players]),KB=g.useMemo(()=>{const A=Fe=>tn==="hit"?Fe.peakHit:tn==="1s"?Fe.peak1s:tn==="5s"?Fe.peak5s:Fe.peak30s,L=we.trim().toLowerCase(),M=L?Ma.players.filter(Fe=>Fe.displayName.toLowerCase().includes(L)||Fe.account.toLowerCase().includes(L)||Fe.profession.toLowerCase().includes(L)):Ma.players,Te=new Map;return M.forEach(Fe=>{const Me=Fe.profession||"Unknown",se=Te.get(Me)||[];se.push(Fe),Te.set(Me,se)}),Array.from(Te.entries()).map(([Fe,Me])=>({profession:Fe,players:[...Me].sort((se,st)=>A(st)-A(se)||se.displayName.localeCompare(st.displayName))})).sort((Fe,Me)=>Fe.profession.localeCompare(Me.profession))},[Ma.players,we,tn]),GB=et&&Ub.get(et)||null,to=g.useMemo(()=>{if(!et)return[];const A=M=>M?Number(tn==="hit"?M.hit||0:tn==="1s"?M.burst1s||0:tn==="5s"?M.burst5s||0:M.burst30s||0):0,L=M=>Number(tn==="hit"?M.maxHit||0:tn==="1s"?M.max1s||0:tn==="5s"?M.max5s||0:M.max30s||0);return Ma.fights.map((M,Te)=>({index:Te,fightId:M.id,shortLabel:M.shortLabel,fullLabel:M.fullLabel,timestamp:Number(M.timestamp||0),damage:A(Ol(M.values[et])),maxDamage:L(M),skillName:String(Ol(M.values[et]).skillName||"")}))},[Ma.fights,et,tn]),YB=g.useMemo(()=>{const A=to.reduce((M,Te)=>Math.max(M,Number(Te.damage||0)),0),L=to.reduce((M,Te)=>Math.max(M,Number(Te.maxDamage||0)),0);return Math.max(1,A,L)},[to]),tp=g.useMemo(()=>{var st;const A=Zt===null?null:to.find(pt=>pt.index===Zt)||null;if(!A||!et)return{title:"Fight Breakdown",data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]};const L=Jh(Ma.fights,A),M=Ol((st=L==null?void 0:L.values)==null?void 0:st[et]),Te=Array.isArray(M==null?void 0:M.buckets5s)?(M==null?void 0:M.buckets5s)||[]:[],Fe=Array.isArray(M==null?void 0:M.downIndices5s)?M.downIndices5s.map(pt=>Number(pt)).filter(pt=>Number.isFinite(pt)&&pt>=0):[],Me=Array.isArray(M==null?void 0:M.deathIndices5s)?M.deathIndices5s.map(pt=>Number(pt)).filter(pt=>Number.isFinite(pt)&&pt>=0):[];if(Te.length>0){const pt=Te.map((at,jt)=>({label:`${jt*5}s-${(jt+1)*5}s`,value:Number(at||0)}));return{title:`Fight Breakdown - ${A.shortLabel||"Fight"} (5s Damage Buckets)`,data:pt,downLabels:[],deathLabels:[],downIndices:Fe.filter(at=>at<pt.length),deathIndices:Me.filter(at=>at<pt.length)}}const se=Number(tn==="hit"?M.hit||0:tn==="1s"?M.burst1s||0:tn==="5s"?M.burst5s||0:M.burst30s||0);return se>0?{title:`Fight Breakdown - ${A.shortLabel||"Fight"} (Estimated)`,data:[{label:"0s-5s",value:se}],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}:{title:`Fight Breakdown - ${A.shortLabel||"Fight"}`,data:[],downLabels:[],deathLabels:[],downIndices:[],deathIndices:[]}},[Zt,to,et,Ma.fights,tn]),XB=g.useMemo(()=>{var pt;if(Zt===null||!et)return[];const A=to.find(at=>at.index===Zt);if(!A)return[];const L=Jh(Ma.fights,A),M=Ol((pt=L==null?void 0:L.values)==null?void 0:pt[et]),Fe=[...(M==null?void 0:M.skillRows)||[]].filter(at=>Number((at==null?void 0:at.damage)||0)>0||Number((at==null?void 0:at.downContribution)||0)>0).sort((at,jt)=>Number(jt.damage||0)-Number(at.damage||0)).slice(0,30);if(Fe.length>0)return Fe;const Me=e.find(at=>String((at==null?void 0:at.filePath)||(at==null?void 0:at.id)||"")===String(A.fightId||"")),se=Me==null?void 0:Me.details;if(se&&et){const at=new Set(Object.keys(xu)),jt=Object.keys(xu).filter(Ut=>Ut&&Ut!=="Unknown").sort((Ut,yn)=>yn.length-Ut.length),Ct=["Guardian","Revenant","Warrior","Engineer","Ranger","Thief","Elementalist","Mesmer","Necromancer"],wt=Ut=>{if(!Ut)return"Unknown";const yn=String(Ut).replace(/\s*\([^)]*\)\s*$/,"").replace(/\s*\[[^\]]*\]\s*$/,"").replace(/\s\d+$/,"").trim();if(at.has(yn))return yn;const Pe=yn.toLowerCase();for(const ge of jt)if(Pe.includes(ge.toLowerCase()))return ge;return Ct.find(ge=>Pe.includes(ge.toLowerCase()))||yn||"Unknown"},Et=Ut=>{const yn=Number(Ut);if(!Number.isFinite(yn))return{name:String(Ut||"Unknown Skill"),icon:void 0};const Pe=(se==null?void 0:se.skillMap)||{},it=(se==null?void 0:se.buffMap)||{},ge=(Pe==null?void 0:Pe[`s${yn}`])||(Pe==null?void 0:Pe[`${yn}`]);if(ge!=null&&ge.name)return{name:String(ge.name),icon:ge==null?void 0:ge.icon};const Ot=(it==null?void 0:it[`b${yn}`])||(it==null?void 0:it[`${yn}`]);return Ot!=null&&Ot.name?{name:String(Ot.name),icon:Ot==null?void 0:Ot.icon}:{name:`Skill ${yn}`,icon:void 0}},$t=new Map;(Array.isArray(se==null?void 0:se.targets)?se.targets:[]).forEach(Ut=>{!Ut||Ut.isFake||Ut.enemyPlayer===!1||wt((Ut==null?void 0:Ut.profession)||(Ut==null?void 0:Ut.name)||(Ut==null?void 0:Ut.id))!==et||Array.isArray(Ut==null?void 0:Ut.totalDamageDist)&&Ut.totalDamageDist.forEach(Pe=>{Array.isArray(Pe)&&Pe.forEach(it=>{if(!it||typeof it!="object"||it.indirectDamage)return;const ge=Number(it.totalDamage||0);if(!Number.isFinite(ge)||ge<=0)return;const Ot=Number(it.connectedHits||it.hits||0),Dt=Et(it.id),rn=Dt.name,cn=$t.get(rn)||{skillName:rn,damage:0,hits:0,icon:Dt.icon};cn.damage+=ge,cn.hits+=Number.isFinite(Ot)?Ot:0,!cn.icon&&Dt.icon&&(cn.icon=Dt.icon),$t.set(rn,cn)})})});const Ln=Array.from($t.values()).filter(Ut=>Number((Ut==null?void 0:Ut.damage)||0)>0).sort((Ut,yn)=>Number(yn.damage||0)-Number(Ut.damage||0)).slice(0,30);if(Ln.length>0)return Ln}const st=Number((M==null?void 0:M.hit)||0);return st<=0?Fe:[{skillName:String((M==null?void 0:M.skillName)||"Unknown Skill"),damage:st,hits:1,icon:void 0}]},[Zt,et,to,Ma.fights,e]),QB=g.useMemo(()=>{var st;if(li===null||!Bn)return[];const A=eo.find(pt=>pt.index===li);if(!A)return[];const L=Jh(Ta.fights,A),M=Ol((st=L==null?void 0:L.values)==null?void 0:st[Bn]),Fe=[...(M==null?void 0:M.skillRows)||[]].filter(pt=>Number((pt==null?void 0:pt.damage)||0)>0||Number((pt==null?void 0:pt.downContribution)||0)>0).sort((pt,at)=>Number(at.damage||0)-Number(pt.damage||0)).slice(0,30);if(Fe.length>0)return Fe;const Me=e.find(pt=>String((pt==null?void 0:pt.filePath)||(pt==null?void 0:pt.id)||"")===String(A.fightId||"")),se=Me==null?void 0:Me.details;if(se&&Bn){const[pt,at]=Bn.split("|"),jt=$t=>{const Ht=Number($t);if(!Number.isFinite(Ht))return{name:String($t||"Unknown Skill"),icon:void 0};const Ln=(se==null?void 0:se.skillMap)||{},Ut=(se==null?void 0:se.buffMap)||{},yn=(Ln==null?void 0:Ln[`s${Ht}`])||(Ln==null?void 0:Ln[`${Ht}`]);if(yn!=null&&yn.name)return{name:String(yn.name),icon:yn==null?void 0:yn.icon};const Pe=(Ut==null?void 0:Ut[`b${Ht}`])||(Ut==null?void 0:Ut[`${Ht}`]);return Pe!=null&&Pe.name?{name:String(Pe.name),icon:Pe==null?void 0:Pe.icon}:{name:`Skill ${Ht}`,icon:void 0}},Ct=new Map,Et=(Array.isArray(se==null?void 0:se.players)?se.players:[]).find($t=>{if($t!=null&&$t.notInSquad)return!1;const Ht=String(($t==null?void 0:$t.account)||($t==null?void 0:$t.name)||""),Ln=String(($t==null?void 0:$t.profession)||"Unknown"),Ut=Ht===String(pt||""),yn=Ln===String(at||"");return Ut&&yn})||null;if(Et){const $t=Et,Ht=Pe=>{if(!Pe||typeof Pe!="object"||Pe.indirectDamage)return;const it=Number(Pe.totalDamage||0),ge=Number(Pe.downContribution||0);if((!Number.isFinite(it)||it<=0)&&(!Number.isFinite(ge)||ge<=0))return;const Ot=Number(Pe.connectedHits||Pe.hits||0),Dt=jt(Pe.id),rn=Ct.get(Dt.name)||{skillName:Dt.name,damage:0,downContribution:0,hits:0,icon:Dt.icon};rn.damage+=Number.isFinite(it)?it:0,rn.downContribution+=Number.isFinite(ge)?ge:0,rn.hits+=Number.isFinite(Ot)?Ot:0,!rn.icon&&Dt.icon&&(rn.icon=Dt.icon),Ct.set(Dt.name,rn)},Ln=new Map;Array.isArray($t==null?void 0:$t.targetDamageDist)&&$t.targetDamageDist.forEach(Pe=>{Array.isArray(Pe)&&Pe.forEach(it=>{Array.isArray(it)&&it.forEach(ge=>{const Ot=Number(ge==null?void 0:ge.id),Dt=Number((ge==null?void 0:ge.totalDamage)||0),rn=Number((ge==null?void 0:ge.downContribution)||0);if(Number.isFinite(Ot)){const cn=Ln.get(Ot)||{damage:0,downContribution:0,hits:0};cn.damage+=Number.isFinite(Dt)?Dt:0,cn.downContribution+=Number.isFinite(rn)?rn:0,cn.hits+=Number((ge==null?void 0:ge.connectedHits)||(ge==null?void 0:ge.hits)||0),Ln.set(Ot,cn)}Ht(ge)})})}),!(se!=null&&se.detailedWvW)&&Array.isArray($t==null?void 0:$t.totalDamageDist)&&$t.totalDamageDist.forEach(Pe=>{Array.isArray(Pe)&&Pe.forEach(it=>{const ge=Number(it==null?void 0:it.id);if(!Number.isFinite(ge)){Ht(it);return}const Ot=Ln.get(ge);if(!Ot){Ht(it);return}const Dt=Number((it==null?void 0:it.totalDamage)||0),rn=Number((it==null?void 0:it.downContribution)||0),cn=Number((it==null?void 0:it.connectedHits)||(it==null?void 0:it.hits)||0),Xn=Dt-Number(Ot.damage||0),zt=rn-Number(Ot.downContribution||0),Jt=cn-Number(Ot.hits||0);Xn<=0&&zt<=0&&Jt<=0||Ht({...it,totalDamage:Math.max(0,Xn),downContribution:Math.max(0,zt),connectedHits:Math.max(0,Jt),hits:Math.max(0,Jt)})})});const yn=Array.from(Ct.values()).filter(Pe=>Number((Pe==null?void 0:Pe.damage)||0)>0||Number((Pe==null?void 0:Pe.downContribution)||0)>0).sort((Pe,it)=>Number(it.damage||0)-Number(Pe.damage||0)).slice(0,30);if(yn.length>0)return yn}}return Fe},[li,Bn,eo,Ta.fights,e]);g.useEffect(()=>{if(_o.length===0){Ec!==null&&Fb(null),Js!==null&&Qh(null);return}if(!Ec||!Bb.has(Ec)){const A=_o[0].key;Fb(A),H2(null)}},[_o,Bb,Ec,Js]),g.useEffect(()=>{if(!Lo||Lo.skills.length===0){Js!==null&&Qh(null);return}const A=Lo.skills.some(L=>L.id===Js);(!Js||!A)&&Qh(Lo.skills[0].id)},[Lo,Js]),g.useEffect(()=>{if($u.length===0){Oc!==null&&Rb(null),Io!==null&&Zh(null);return}if(!Oc||!zb.has(Oc)){const A=$u[0].profession;Rb(A),q2(null)}},[$u,zb,Oc,Io]),g.useEffect(()=>{if(!El||El.skills.length===0){Io!==null&&Zh(null);return}const A=El.skills.some(L=>L.id===Io);(!Io||!A)&&Zh(El.skills[0].id)},[El,Io]),g.useEffect(()=>{if(Ta.players.length===0){Bn!==null&&Qa(null);return}(!Bn||!gf.has(Bn))&&Bn!==null&&Qa(null)},[Ta.players,gf,Bn]),g.useEffect(()=>{Zs(null)},[Bn,He,Re]),g.useEffect(()=>{if(li===null)return;eo.some(L=>L.index===li)||Zs(null)},[eo,li]),g.useEffect(()=>{if(Ma.players.length===0){et!==null&&Bt(null);return}(!et||!Ub.has(et))&&et!==null&&Bt(null)},[Ma.players,Ub,et]),g.useEffect(()=>{Pn(null)},[et,tn]),g.useEffect(()=>{if(Zt===null)return;to.some(L=>L.index===Zt)||Pn(null)},[to,Zt]);const ZB=g.useMemo(()=>new Set(xr),[xr]),np=yt?Kt:PT,{playerMapByKey:$o,playerTotalsForSkill:Fu,skillChartData:JB,skillChartMaxY:ez,groupedSkillUsagePlayers:tz}=yV({skillUsageData:np,selectedSkillId:Xi,selectedPlayers:ZB,skillUsageView:pn==="perSecond"?"perSecond":"total"}),K2=g.useMemo(()=>{const A=new Map,L=Me=>{Me.forEach(se=>{const st=Ju(se==null?void 0:se.name)||(se==null?void 0:se.name);st&&se!=null&&se.icon&&!A.has(st)&&A.set(st,se.icon)})},M=Me=>{Me.forEach(se=>{Object.entries((se==null?void 0:se.conditions)||{}).forEach(([st,pt])=>{const at=Ju(st)||st;pt!=null&&pt.icon&&!A.has(at)&&A.set(at,pt.icon)})})},Te=Me=>{const se=new Map;return Me.forEach(st=>{const pt=Ju(st==null?void 0:st.name)||(st==null?void 0:st.name);if(!pt)return;const at=se.get(pt)||{name:pt,icon:(st==null?void 0:st.icon)||A.get(pt)||Pp(pt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0};at.applications+=Number((st==null?void 0:st.applications)||0),at.damage+=Number((st==null?void 0:st.damage)||0),st!=null&&st.applicationsFromUptime&&(at.applicationsFromUptime+=Number(st.applicationsFromUptime||0)),st!=null&&st.applicationsFromBuffs&&(at.applicationsFromBuffs+=Number(st.applicationsFromBuffs||0)),st!=null&&st.applicationsFromBuffsActive&&(at.applicationsFromBuffsActive+=Number(st.applicationsFromBuffsActive||0)),!at.icon&&(st!=null&&st.icon)&&(at.icon=st.icon),at.icon||(at.icon=Pp(pt)),se.set(pt,at)}),Array.from(se.values())},Fe=Me=>Me.map(se=>{const st={};return Object.entries((se==null?void 0:se.conditions)||{}).forEach(([pt,at])=>{const jt=Ju(pt)||pt;if(!jt)return;const Ct=st[jt]||{icon:(at==null?void 0:at.icon)||A.get(jt)||Pp(jt),applications:0,damage:0,applicationsFromUptime:0,applicationsFromBuffs:0,applicationsFromBuffsActive:0,skills:{}};Ct.applications+=Number((at==null?void 0:at.applications)||0),Ct.damage+=Number((at==null?void 0:at.damage)||0),at!=null&&at.applicationsFromUptime&&(Ct.applicationsFromUptime+=Number(at.applicationsFromUptime||0)),at!=null&&at.applicationsFromBuffs&&(Ct.applicationsFromBuffs+=Number(at.applicationsFromBuffs||0)),at!=null&&at.applicationsFromBuffsActive&&(Ct.applicationsFromBuffsActive+=Number(at.applicationsFromBuffsActive||0)),!Ct.icon&&(at!=null&&at.icon)&&(Ct.icon=at.icon),Ct.icon||(Ct.icon=Pp(jt)),Object.values((at==null?void 0:at.skills)||{}).forEach(wt=>{const Et=(wt==null?void 0:wt.name)||"Unknown",$t=Ct.skills[Et]||{name:Et,hits:0,damage:0,icon:wt==null?void 0:wt.icon};$t.hits+=Number((wt==null?void 0:wt.hits)||0),$t.damage+=Number((wt==null?void 0:wt.damage)||0),!$t.icon&&(wt!=null&&wt.icon)&&($t.icon=wt.icon),Ct.skills[Et]=$t}),st[jt]=Ct}),{...se,conditions:st}});return(Me,se)=>(L(Me),M(se),{summary:Te(Me),players:Fe(se)})},[]),G2=ot?tt==="outgoing"?Ce.outgoingConditionSummary:Ce.incomingConditionSummary:Hv,Y2=ot?tt==="outgoing"?Ce.outgoingConditionPlayers:Ce.incomingConditionPlayers:Hv,{summary:rp,players:nz}=g.useMemo(()=>K2(G2||[],Y2||[]),[K2,G2,Y2]);g.useEffect(()=>{if(!ot||F==="all"||rp.some(L=>L.name===F))return;const A=Ju(F);A&&rp.some(L=>L.name===A)?U(A):U("all")},[F,rp,U,ot]);const rz=g.useMemo(()=>{const A={};return Fu.forEach((L,M)=>{const Te=$o.get(M);if(!Te)return;const Fe=Te.profession;(!A[Fe]||L>A[Fe])&&(A[Fe]=L)}),A},[Fu,$o]),St=S,Dn=g.useCallback((A,L)=>{const M=St(A);return d?`${L} ${M?"":"hidden"}`:`${L} transition-[opacity,transform] duration-700 ease-in-out ${M?"opacity-100 translate-y-0 max-h-[99999px]":"opacity-0 -translate-y-2 max-h-0 h-0 min-h-0 overflow-hidden pointer-events-none p-0 !p-0 m-0 !mb-0 !mt-0 border-0 !border-0 border-transparent"}`},[St,d]),X2=g.useMemo(()=>Loe.find(A=>St(A))||null,[St]),Tn=g.useCallback(A=>A===X2,[X2]),iz=g.useMemo(()=>{const A=new Map,L=new Map;return xr.forEach(M=>{const Te=$o.get(M);if(!Te)return;const Fe=Fu.get(M)??0,Me=L.get(Te.profession)||[];Me.push({key:M,total:Fe}),L.set(Te.profession,Me)}),L.forEach(M=>{M.sort((Te,Fe)=>Fe.total-Te.total),M.forEach((Te,Fe)=>{A.set(Te.key,Fe)})}),A},[xr,$o,Fu]),Q2=["0","12 3","8 3","6 3","4 3","2 3"],az=A=>{const L=$o.get(A),M=tl((L==null?void 0:L.profession)||""),Te=Fu.get(A)??0,Fe=L!=null&&L.profession&&rz[L.profession]||1,se=.35+(Fe>0?Te/Fe:1)*.65;return ip(M,se)},sz=A=>{const L=iz.get(A)??0;return Q2[L%Q2.length]},oz=(A,L,M)=>{if(!M)return az(A);const Te=$o.get(A),Fe=tl((Te==null?void 0:Te.profession)||"");return L?ip(Fe,1.2):ip(Fe,.5)},ip=(A,L)=>{const M=A.replace("#","");if(M.length!==6)return A;const Te=at=>Math.max(0,Math.min(255,at)),Fe=at=>Number.parseInt(M.slice(at,at+2),16),Me=at=>Te(Math.round(at)).toString(16).padStart(2,"0"),se=Fe(0),st=Fe(2),pt=Fe(4);return`#${Me(se*L)}${Me(st*L)}${Me(pt*L)}`},Z2=g.useMemo(()=>{const A=new Map;return np.skillOptions.forEach(L=>{A.set(L.id,{name:L.name,icon:L.icon})}),A},[np.skillOptions]),xf=g.useMemo(()=>{var at;if(xr.length===0)return[];const A=new Map,L=new Map;let M=0;xr.forEach(jt=>{const Ct=$o.get(jt);if(!Ct)return;M+=Ct.totalActiveSeconds||0,Object.entries(Ct.skillTotals||{}).forEach(([Et,$t])=>{A.set(Et,(A.get(Et)||0)+Number($t||0))});const wt=Ct.profession||"Unknown";L.set(wt,(L.get(wt)||0)+(Ct.totalActiveSeconds||0))});const Te=wi.trim().toLowerCase(),Fe=pn==="perSecond",Me=((at=Array.from(L.entries()).sort((jt,Ct)=>Ct[1]-jt[1])[0])==null?void 0:at[0])||"Unknown",se=tl(Me),st="#64748b";return Array.from(A.entries()).map(([jt,Ct])=>{const wt=Z2.get(jt),Et=(wt==null?void 0:wt.name)||jt,$t=Fe&&M>0?Ct/M:Ct;return{skillId:jt,name:Et,icon:wt==null?void 0:wt.icon,total:$t}}).filter(jt=>jt.total>0&&(!Te||jt.name.toLowerCase().includes(Te))).sort((jt,Ct)=>Ct.total-jt.total).map((jt,Ct)=>({...jt,color:Ct===0?se:ip(se,.85-Math.min(Ct*.06,.4))||st}))},[xr,$o,wi,pn,Z2]);g.useEffect(()=>{if(yt){if(xf.length===0){Xi!==null&&ha(null);return}(!Xi||!xf.some(A=>A.skillId===Xi))&&ha(xf[0].skillId)}},[xf,Xi,ha,yt]);const Ru=np.skillOptions.find(A=>A.id===Xi),lz=(Ru==null?void 0:Ru.name)||"",cz=(Ru==null?void 0:Ru.icon)||null,uz=Le&&!!Xi&&xr.length>0,ap="__all__",dz=Le&&Ml.length>0,Fo=g.useMemo(()=>Ml.find(A=>A.profession===Qi)??null,[Ml,Qi]),fz=Oo===ap,mz=g.useMemo(()=>{var A;return((A=Fo==null?void 0:Fo.skills)==null?void 0:A.find(L=>L.id===Oo))??null},[Fo,Oo]);g.useEffect(()=>{if(Ml.length===0){Qi!==null&&Ps(null),Mo!==null&&Eo(null);return}if(!Qi||!Ml.some(A=>A.profession===Qi)){const A=Ml[0].profession;Ps(A),Eo(null)}},[Ml,Qi,Mo]),g.useEffect(()=>{if(!Fo||Fo.skills.length===0){Oo!==null&&$b(null);return}const A=Fo.skills.some(L=>L.id===Oo);(!Oo||!A&&Oo!==ap)&&$b(ap)},[Fo,Oo]);const hz=A=>{Ni(L=>L.includes(A)?L.filter(M=>M!==A):[...L,A])},pz=A=>{Ni(L=>L.filter(M=>M!==A))},gz=g.useMemo(()=>{const A=Gi.trim().toLowerCase(),L=Ce.boonTables||[];return A?L.filter(M=>M.name.toLowerCase().includes(A)):L},[Ce.boonTables,Gi]),xz=g.useMemo(()=>Ki?(Ce.boonTables||[]).find(A=>A.id===Ki)??null:null,[Ce.boonTables,Ki]),sp=A=>{var L,M,Te,Fe;return{selfBuffs:A!=null&&A.totals&&typeof A.totals=="object"?Number(((L=A==null?void 0:A.totals)==null?void 0:L.selfBuffs)||0):0,groupBuffs:A!=null&&A.totals&&typeof A.totals=="object"?Number(((M=A==null?void 0:A.totals)==null?void 0:M.groupBuffs)||0):0,squadBuffs:A!=null&&A.totals&&typeof A.totals=="object"?Number(((Te=A==null?void 0:A.totals)==null?void 0:Te.squadBuffs)||0):Number((A==null?void 0:A.total)||0),totalBuffs:A!=null&&A.totals&&typeof A.totals=="object"?Number((((Fe=A==null?void 0:A.totals)==null?void 0:Fe.totalBuffs)??(A==null?void 0:A.total))||0):Number((A==null?void 0:A.total)||0)}},bf=(A,L)=>{const M=sp(A),Te=Number((M==null?void 0:M[L])||0);return Number.isFinite(Te)?Math.max(0,Te):0},J2=zr==="selfBuffs"?"Self":zr==="groupBuffs"?"Group":zr==="squadBuffs"?"Squad":"All",Ro=g.useMemo(()=>(Array.isArray(Ce==null?void 0:Ce.boonTimeline)?Ce.boonTimeline:[]).map(L=>({id:String((L==null?void 0:L.id)||""),name:String((L==null?void 0:L.name)||(L==null?void 0:L.id)||"Unknown Boon"),icon:typeof(L==null?void 0:L.icon)=="string"?L.icon:void 0,stacking:!!(L!=null&&L.stacking),players:(Array.isArray(L==null?void 0:L.players)?L.players:[]).map(M=>({key:String((M==null?void 0:M.key)||""),account:String((M==null?void 0:M.account)||(M==null?void 0:M.displayName)||"Unknown"),displayName:String((M==null?void 0:M.displayName)||(M==null?void 0:M.account)||"Unknown"),profession:String((M==null?void 0:M.profession)||"Unknown"),professionList:Array.isArray(M==null?void 0:M.professionList)?M.professionList.map(Te=>String(Te||"")):[],logs:Number((M==null?void 0:M.logs)||0),totals:sp(M)})),fights:(Array.isArray(L==null?void 0:L.fights)?L.fights:[]).map((M,Te)=>({id:String((M==null?void 0:M.id)||`fight-${Te+1}`),shortLabel:String((M==null?void 0:M.shortLabel)||`F${Te+1}`),fullLabel:String((M==null?void 0:M.fullLabel)||`Fight ${Te+1}`),timestamp:Number((M==null?void 0:M.timestamp)||0),durationMs:Number((M==null?void 0:M.durationMs)||0),maxTotal:Number((M==null?void 0:M.maxTotal)||0),values:M!=null&&M.values&&typeof M.values=="object"?Object.fromEntries(Object.entries(M.values).map(([Fe,Me])=>[String(Fe||""),{total:Number((Me==null?void 0:Me.total)||0),totals:sp(Me),bucketWeights5s:Array.isArray(Me==null?void 0:Me.bucketWeights5s)?Me.bucketWeights5s.map(se=>Number(se||0)):[],buckets5s:Array.isArray(Me==null?void 0:Me.buckets5s)?Me.buckets5s.map(se=>Number(se||0)):[]}])):{}}))})).filter(L=>L.id&&L.players.length>0&&L.fights.length>0),[Ce.boonTimeline]),bz=g.useMemo(()=>{const A=Ga.trim().toLowerCase();return A?Ro.filter(L=>String((L==null?void 0:L.name)||"").toLowerCase().includes(A)):Ro},[Ro,Ga]),Zi=g.useMemo(()=>Pa&&Ro.find(A=>A.id===Pa)||null,[Ro,Pa]),op=g.useMemo(()=>[...Array.isArray(Zi==null?void 0:Zi.players)?Zi.players:[]].map(L=>({...L,total:bf(L,zr)})).sort((L,M)=>Number(M.total||0)-Number(L.total||0)||String(L.displayName||"").localeCompare(String(M.displayName||""))),[Zi,zr]),vz=g.useMemo(()=>{const A=op,L=Xs.trim().toLowerCase();return L?A.filter(M=>String((M==null?void 0:M.displayName)||"").toLowerCase().includes(L)||String((M==null?void 0:M.account)||"").toLowerCase().includes(L)||String((M==null?void 0:M.profession)||"").toLowerCase().includes(L)):A},[op,Xs]),yz=g.useMemo(()=>{const A=new Map;return op.forEach(L=>{A.set(String((L==null?void 0:L.key)||""),L)}),A},[op]),wz=jr&&yz.get(jr)||null,Bu=g.useMemo(()=>!Zi||!jr?[]:(Zi.fights||[]).map((A,L)=>{var Fe;const M=(Fe=A==null?void 0:A.values)==null?void 0:Fe[jr],Te=Object.entries(A!=null&&A.values&&typeof A.values=="object"?A.values:{}).filter(([Me])=>String(Me||"")!=="__all__").reduce((Me,[,se])=>Math.max(Me,bf(se,zr)),0);return{index:L,fightId:String((A==null?void 0:A.id)||""),shortLabel:String((A==null?void 0:A.shortLabel)||`F${L+1}`),fullLabel:String((A==null?void 0:A.fullLabel)||`Fight ${L+1}`),timestamp:Number((A==null?void 0:A.timestamp)||0),total:bf(M,zr),maxTotal:Te>0?Te:Number((A==null?void 0:A.maxTotal)||0)}}),[Zi,jr,zr]),kz=g.useMemo(()=>{const A=Bu.reduce((M,Te)=>Math.max(M,Number((Te==null?void 0:Te.total)||0)),0),L=Bu.reduce((M,Te)=>Math.max(M,Number((Te==null?void 0:Te.maxTotal)||0)),0);return Math.max(1,A,L)},[Bu]),ej=g.useMemo(()=>{var Ct;const A=Da===null?null:Bu.find(wt=>wt.index===Da)||null;if(!A||!Zi||!jr)return{title:"Fight Breakdown",data:[]};const L=Zi.fights[A.index],M=((Ct=L==null?void 0:L.values)==null?void 0:Ct[jr])||{total:0,totals:{selfBuffs:0,groupBuffs:0,squadBuffs:0,totalBuffs:0},bucketWeights5s:[],buckets5s:[]},Te=bf(M,zr),Fe=Array.isArray(M==null?void 0:M.bucketWeights5s)?M.bucketWeights5s:[],Me=Array.isArray(M==null?void 0:M.buckets5s)?M.buckets5s:[],se=Math.max(Fe.length,Me.length,Math.ceil(Math.max(0,Number((L==null?void 0:L.durationMs)||0))/5e3),1),st=Array.from({length:se},(wt,Et)=>Number(Fe[Et]||0)),pt=st.reduce((wt,Et)=>wt+Number(Et||0),0);let at=[];if(pt>0){const wt=Te>0?Te/pt:0;at=st.map(Et=>Number(Et||0)*wt)}else if(Me.length>0){const wt=Array.from({length:se},(Et,$t)=>Number(Me[$t]||0));if(zr==="totalBuffs"||!(M!=null&&M.totals))at=wt;else{const Et=bf({totals:sp(M)},"totalBuffs"),$t=Et>0?Te/Et:0;at=wt.map(Ht=>Number(Ht||0)*$t)}}else{const wt=Te>0?Te/Math.max(1,se):0;at=Array.from({length:se},()=>wt)}const jt=Array.from({length:se},(wt,Et)=>({label:`${Et*5}s-${(Et+1)*5}s`,value:Number(at[Et]||0)}));return{title:`Fight Breakdown - ${A.shortLabel||"Fight"} (5s ${J2} Generation Buckets)`,data:jt}},[Da,Bu,Zi,jr,zr,J2]),Bo=g.useMemo(()=>(Array.isArray(Ce==null?void 0:Ce.boonUptimeTimeline)?Ce.boonUptimeTimeline:[]).map(L=>({id:String((L==null?void 0:L.id)||""),name:String((L==null?void 0:L.name)||(L==null?void 0:L.id)||"Unknown Boon"),icon:typeof(L==null?void 0:L.icon)=="string"?L.icon:void 0,stacking:!!(L!=null&&L.stacking),players:(Array.isArray(L==null?void 0:L.players)?L.players:[]).map(M=>({key:String((M==null?void 0:M.key)||""),account:String((M==null?void 0:M.account)||(M==null?void 0:M.displayName)||"Unknown"),displayName:String((M==null?void 0:M.displayName)||(M==null?void 0:M.account)||"Unknown"),profession:String((M==null?void 0:M.profession)||"Unknown"),professionList:Array.isArray(M==null?void 0:M.professionList)?M.professionList.map(Te=>String(Te||"")):[],logs:Number((M==null?void 0:M.logs)||0),total:Math.max(0,Number((M==null?void 0:M.total)||0)),peak:Math.max(0,Number((M==null?void 0:M.peak)||0))})).filter(M=>M.key&&M.key!=="__all__"),fights:(Array.isArray(L==null?void 0:L.fights)?L.fights:[]).map((M,Te)=>({id:String((M==null?void 0:M.id)||`fight-${Te+1}`),shortLabel:String((M==null?void 0:M.shortLabel)||`F${Te+1}`),fullLabel:String((M==null?void 0:M.fullLabel)||`Fight ${Te+1}`),timestamp:Number((M==null?void 0:M.timestamp)||0),durationMs:Number((M==null?void 0:M.durationMs)||0),maxTotal:Math.max(0,Number((M==null?void 0:M.maxTotal)||0)),values:M!=null&&M.values&&typeof M.values=="object"?Object.fromEntries(Object.entries(M.values).map(([Fe,Me])=>[String(Fe||""),{total:Math.max(0,Number((Me==null?void 0:Me.total)||0)),peak:Math.max(0,Number((Me==null?void 0:Me.peak)||0)),buckets5s:Array.isArray(Me==null?void 0:Me.buckets5s)?Me.buckets5s.map(se=>Math.max(0,Number(se||0))):[]}])):{}}))})).filter(L=>L.id&&L.players.length>0&&L.fights.length>0),[Ce.boonUptimeTimeline]),Nz=g.useMemo(()=>{const A=Al.trim().toLowerCase();return A?Bo.filter(L=>String((L==null?void 0:L.name)||"").toLowerCase().includes(A)):Bo},[Bo,Al]),vn=g.useMemo(()=>Yn&&Bo.find(A=>A.id===Yn)||null,[Bo,Yn]),zu=g.useMemo(()=>{const A=new Map,L=Array.isArray(vn==null?void 0:vn.players)?vn.players:[],M=Array.isArray(vn==null?void 0:vn.fights)?vn.fights:[];if(!L.length||!M.length)return A;const Te=M.reduce((Fe,Me)=>{const se=Math.max(Math.ceil(Math.max(0,Number((Me==null?void 0:Me.durationMs)||0))/5e3),1);return Fe+se},0);return Te<=0||L.forEach(Fe=>{const Me=String((Fe==null?void 0:Fe.key)||"");if(!Me||Me==="__all__")return;let se=0;M.forEach(st=>{var Ct;const pt=(Ct=st==null?void 0:st.values)==null?void 0:Ct[Me],at=Array.isArray(pt==null?void 0:pt.buckets5s)?pt.buckets5s:[],jt=Math.max(at.length,Math.ceil(Math.max(0,Number((st==null?void 0:st.durationMs)||0))/5e3),1);for(let wt=0;wt<jt;wt+=1)Math.max(0,Number(at[wt]||0))>0&&(se+=1)}),A.set(Me,se/Te*100)}),A},[vn]),vf=g.useMemo(()=>[...(Array.isArray(vn==null?void 0:vn.players)?vn.players:[]).map(M=>({...M,uptimePercent:Number(zu.get(String((M==null?void 0:M.key)||""))||0)}))].sort((M,Te)=>Number(zu.get(String((Te==null?void 0:Te.key)||""))||0)-Number(zu.get(String((M==null?void 0:M.key)||""))||0)||Number(Te.peak||0)-Number(M.peak||0)||Number(Te.total||0)-Number(M.total||0)||String(M.displayName||"").localeCompare(String(Te.displayName||""))),[vn,zu]),Sz=g.useMemo(()=>{const A=ur.trim().toLowerCase();return A?vf.filter(L=>String((L==null?void 0:L.displayName)||"").toLowerCase().includes(A)||String((L==null?void 0:L.account)||"").toLowerCase().includes(A)||String((L==null?void 0:L.profession)||"").toLowerCase().includes(A)):vf},[vf,ur]),jz=g.useMemo(()=>{const A=new Map;return vf.forEach(L=>{A.set(String((L==null?void 0:L.key)||""),L)}),A},[vf]),Cz=Or&&jz.get(Or)||null,Il=g.useMemo(()=>!vn||!Or?[]:(vn.fights||[]).map((A,L)=>{var Ct;const M=((Ct=A==null?void 0:A.values)==null?void 0:Ct[Or])||{total:0,peak:0},Te=Array.isArray(M==null?void 0:M.buckets5s)?M.buckets5s:[],Fe=Math.max(Te.length,Math.ceil(Math.max(0,Number((A==null?void 0:A.durationMs)||0))/5e3),1),Me=Math.max(0,Number((M==null?void 0:M.total)||0))/Fe,st=Array.from({length:Fe},(wt,Et)=>Math.max(0,Number(Te[Et]||0))).reduce((wt,Et)=>wt+(Et>0?1:0),0)/Fe*100,pt=Object.entries(A!=null&&A.values&&typeof A.values=="object"?A.values:{}).filter(([wt])=>String(wt||"")!=="__all__").reduce((wt,[,Et])=>Math.max(wt,Math.max(0,Number((Et==null?void 0:Et.peak)||0))),0),at=Object.entries(A!=null&&A.values&&typeof A.values=="object"?A.values:{}).filter(([wt])=>String(wt||"")!=="__all__").reduce((wt,[,Et])=>{const $t=Array.isArray(Et==null?void 0:Et.buckets5s)?Et.buckets5s:[],Ht=Math.max($t.length,Math.ceil(Math.max(0,Number((A==null?void 0:A.durationMs)||0))/5e3),1),Ln=Math.max(0,Number((Et==null?void 0:Et.total)||0))/Ht;return Math.max(wt,Ln)},0),jt=Object.entries(A!=null&&A.values&&typeof A.values=="object"?A.values:{}).filter(([wt])=>String(wt||"")!=="__all__").reduce((wt,[,Et])=>{const $t=Array.isArray(Et==null?void 0:Et.buckets5s)?Et.buckets5s:[],Ht=Math.max($t.length,Math.ceil(Math.max(0,Number((A==null?void 0:A.durationMs)||0))/5e3),1),Ut=Array.from({length:Ht},(yn,Pe)=>Math.max(0,Number($t[Pe]||0))).reduce((yn,Pe)=>yn+(Pe>0?1:0),0)/Ht*100;return Math.max(wt,Ut)},0);return{index:L,fightId:String((A==null?void 0:A.id)||""),shortLabel:String((A==null?void 0:A.shortLabel)||`F${L+1}`),fullLabel:String((A==null?void 0:A.fullLabel)||`Fight ${L+1}`),timestamp:Number((A==null?void 0:A.timestamp)||0),durationMs:Number((A==null?void 0:A.durationMs)||0),total:Math.max(0,Number((M==null?void 0:M.total)||0)),average:Me,uptimePercent:st,peak:Math.max(0,Number((M==null?void 0:M.peak)||0)),maxTotal:pt>0?pt:Math.max(0,Number((A==null?void 0:A.maxTotal)||0)),maxAverage:at,maxUptimePercent:jt}}),[vn,Or]),Az=g.useMemo(()=>{const A=!!(vn!=null&&vn.stacking),L=Il.reduce((Fe,Me)=>Math.max(Fe,Number(A?Me==null?void 0:Me.average:(Me==null?void 0:Me.uptimePercent)||0)),0),M=Il.reduce((Fe,Me)=>Math.max(Fe,Number(A?Me==null?void 0:Me.maxAverage:(Me==null?void 0:Me.maxUptimePercent)||0)),0),Te=vn!=null&&vn.stacking?25:100;return Math.max(1,L,M,Te)},[Il,vn==null?void 0:vn.stacking]),tj=g.useMemo(()=>{var se,st;const A=da===null?null:Il.find(pt=>pt.index===da)||null;if(!A||!vn||!Or)return{title:"Fight Breakdown",data:[]};const L=(se=vn.fights)==null?void 0:se[A.index];if(!L)return{title:"Fight Breakdown",data:[]};const M=(st=L==null?void 0:L.values)==null?void 0:st[Or],Te=Array.isArray(M==null?void 0:M.buckets5s)?M.buckets5s:[],Fe=Math.max(Te.length,Math.ceil(Math.max(0,Number((L==null?void 0:L.durationMs)||0))/5e3),1),Me=Array.from({length:Fe},(pt,at)=>{const jt=Object.entries(L!=null&&L.values&&typeof L.values=="object"?L.values:{}).filter(([Ct])=>String(Ct||"")!=="__all__").reduce((Ct,[,wt])=>{var Et;return Math.max(Ct,Math.max(0,Number(((Et=wt==null?void 0:wt.buckets5s)==null?void 0:Et[at])||0)))},0);return{label:`${at*5}s-${(at+1)*5}s`,value:Math.max(0,Number(Te[at]||0)),maxValue:jt}});return{title:`Fight Breakdown - ${A.shortLabel||"Fight"} (5s Stack Buckets)`,data:Me}},[da,Il,vn,Or]),Pz=g.useMemo(()=>{if(!Or)return null;const A=zu.get(Or);return Number.isFinite(Number(A))?Number(A):null},[zu,Or]),Dz=g.useMemo(()=>{const A=fa.trim().toLowerCase(),L=[...Ce.specialTables||[]].sort((M,Te)=>M.name.localeCompare(Te.name));return A?L.filter(M=>M.name.toLowerCase().includes(A)):L},[Ce.specialTables,fa]),Ds=g.useMemo(()=>[...Ce.specialTables||[]].filter(L=>/\b(sigil|relic)\b/i.test(String((L==null?void 0:L.name)||""))).sort((L,M)=>L.name.localeCompare(M.name)),[Ce.specialTables]),Tz=g.useMemo(()=>{const A=Po.trim().toLowerCase();return A?Ds.filter(L=>L.name.toLowerCase().includes(A)):Ds},[Ds,Po]),Mz=g.useMemo(()=>Yi?(Ce.specialTables||[]).find(A=>A.id===Yi)??null:null,[Ce.specialTables,Yi]),Ez=g.useMemo(()=>ma?Ds.find(A=>A.id===ma)??null:null,[Ds,ma]);g.useEffect(()=>{!Ce.boonTables||Ce.boonTables.length===0||(!Ki||!Ce.boonTables.some(A=>A.id===Ki))&&Co(Ce.boonTables[0].id)},[Ce.boonTables,Ki]),g.useEffect(()=>{if(Ro.length===0){Pa!==null&&Ao(null);return}(!Pa||!Ro.some(A=>A.id===Pa))&&Ao(Ro[0].id)},[Ro,Pa]),g.useEffect(()=>{var M;const A=(Zi==null?void 0:Zi.players)||[];if(A.length===0){jr!==null&&As(null);return}const L=((M=A.find(Te=>Te.key==="__all__"))==null?void 0:M.key)||A[0].key;(!jr||!A.some(Te=>Te.key===jr))&&As(L)},[Zi,jr]),g.useEffect(()=>{Iu(null)},[Pa,jr]),g.useEffect(()=>{if(Bo.length===0){Yn!==null&&Pl(null);return}(!Yn||!Bo.some(A=>A.id===Yn))&&Pl(Bo[0].id)},[Bo,Yn]),g.useEffect(()=>{var M;const A=(vn==null?void 0:vn.players)||[];if(A.length===0){Or!==null&&Dl(null);return}const L=((M=A.find(Te=>Te.key==="__all__"))==null?void 0:M.key)||A[0].key;(!Or||!A.some(Te=>Te.key===Or))&&Dl(L)},[vn,Or]),g.useEffect(()=>{da!==null&&(da<0||da>=Il.length)&&Ir(null)},[Il,da]),g.useEffect(()=>{Ir(null)},[Yn,Or]),g.useEffect(()=>{!Ce.specialTables||Ce.specialTables.length===0||(!Yi||!Ce.specialTables.some(A=>A.id===Yi))&&Ur(Ce.specialTables[0].id)},[Ce.specialTables,Yi]),g.useEffect(()=>{if(!Ds||Ds.length===0){ma!==null&&Xa(null);return}(!ma||!Ds.some(A=>A.id===ma))&&Xa(Ds[0].id)},[Ds,ma]),g.useEffect(()=>{const A=()=>{const M=window.getSelection();M&&M.rangeCount>0&&M.removeAllRanges()},L=M=>{var Fe;const Te=M.target;(Fe=Te==null?void 0:Te.closest)!=null&&Fe.call(Te,".recharts-wrapper")&&(M.preventDefault(),A())};return document.addEventListener("selectstart",L),document.addEventListener("mousedown",L),document.addEventListener("mousemove",L),document.addEventListener("dragstart",L),()=>{document.removeEventListener("selectstart",L),document.removeEventListener("mousedown",L),document.removeEventListener("mousemove",L),document.removeEventListener("dragstart",L)}},[]);const Jr=A=>{Vr.current&&(window.clearTimeout(Vr.current),Vr.current=null),Do(!1),Si(A)},_r=()=>{Nn&&(Vr.current&&window.clearTimeout(Vr.current),Do(!0),Vr.current=window.setTimeout(()=>{Si(null),Do(!1),Vr.current=null},160))};g.useEffect(()=>{if(!Nn)return;const A=Te=>{Te.key==="Escape"&&_r()},L=document.body.style.overflow,M=document.documentElement.style.overflow;return document.body.style.overflow="hidden",document.documentElement.style.overflow="hidden",window.addEventListener("keydown",A),()=>{window.removeEventListener("keydown",A),document.body.style.overflow=L,document.documentElement.style.overflow=M}},[Nn]);const nj=(A,L)=>{const M=((L==null?void 0:L.value)||0)-((A==null?void 0:A.value)||0);return M!==0?M:String((A==null?void 0:A.name)||"").localeCompare(String((L==null?void 0:L.name)||""))},rj=Array.isArray(Ce==null?void 0:Ce.squadClassData)?Ce.squadClassData:[],ij=Array.isArray(Ce==null?void 0:Ce.enemyClassData)?Ce.enemyClassData:[],Oz=Array.isArray(Ce==null?void 0:Ce.attendanceData)?Ce.attendanceData:[],yf=Ce!=null&&Ce.commanderStats&&typeof Ce.commanderStats=="object"?Ce.commanderStats:{rows:[]},Wb=Array.isArray(Ce==null?void 0:Ce.squadCompByFight)?Ce.squadCompByFight:[],aj=Array.isArray(Ce==null?void 0:Ce.fightBreakdown)?Ce.fightBreakdown:[],Iz=g.useMemo(()=>{const A=new Map;return aj.forEach(L=>{const M=String((L==null?void 0:L.id)||"");M&&A.set(M,L)}),Wb.map(L=>{const M=A.get(String((L==null?void 0:L.id)||""))||null;return{...L,enemyClassCounts:(M==null?void 0:M.enemyClassCounts)||{},isWin:typeof(M==null?void 0:M.isWin)=="boolean"?M.isWin:void 0}})},[Wb,aj]),_z=g.useMemo(()=>[...rj].sort(nj),[rj]),Lz=g.useMemo(()=>[...ij].sort(nj),[ij]),$z=u?"stats-view min-h-screen flex flex-col p-0 w-full max-w-none":"stats-view h-full flex flex-col p-1 w-full max-w-none overflow-hidden",Fz=u?`stats-sections space-y-0 min-h-0 px-3 pb-3 pt-3 sm:px-4 sm:pb-4 sm:pt-4 rounded-xl border border-white/5 ${Nn?"":"backdrop-blur-xl"}`:`flex-1 overflow-y-auto pr-2 space-y-6 min-h-0 border border-white/5 p-4 rounded-xl ${Nn?"":"backdrop-blur-2xl"}`,sj=u&&h!=="matte"&&h!=="kinetic"?{backgroundColor:"rgba(3, 7, 18, 0.75)",backgroundImage:"linear-gradient(160deg, rgba(var(--accent-rgb), 0.12), rgba(var(--accent-rgb), 0.04) 70%)"}:u&&h==="kinetic"?{backgroundColor:"var(--bg-elevated)",backgroundImage:"none"}:void 0,Rz=ie?{...sj||{},overflowY:"hidden"}:sj,Bz=A=>pn==="perSecond"?A.toFixed(1):Math.round(A).toLocaleString(),zz=A=>A.toFixed(1),Uz=A=>Math.round(A).toLocaleString(),Wz=A=>typeof A=="number"&&Number.isFinite(A)?A.toFixed(1):"0.0",Vz=Math.max(Math.max(0,Number(Ce.total||0)),Math.max(0,Number(e.length||0)),Math.max(0,Number((p==null?void 0:p.total)||0))),ci=Wse,Hz=g.useMemo(()=>{const A=Number(Ce.total||0);return Number.isFinite(A)&&A>0?!0:["fightBreakdown","timelineData","mapData","attendanceData","offensePlayers","defensePlayers","supportPlayers","healingPlayers","boonTables","squadClassData","enemyClassData","playerSkillBreakdowns","topSkills","topIncomingSkills"].some(M=>Array.isArray(Ce[M])&&Ce[M].length>0)},[Ce]);return l.jsxs("div",{className:$z,children:[Nn&&l.jsx("div",{className:`fixed inset-0 z-40 bg-black/70 backdrop-blur-md modal-backdrop ${nr?"modal-backdrop-exit":"modal-backdrop-enter"}`,onClick:_r}),l.jsx(Moe,{embedded:u,dashboardTitle:f,totalLogs:Vz,onBack:t,devMockAvailable:ce,devMockUploadState:Gt,onDevMockUpload:fn,uploadingWeb:T,onWebUpload:on,canUploadWeb:Hz,sharing:Aa,canShareDiscord:m,onShare:dn,actionsDisabled:me}),l.jsx(Eoe,{embedded:u,webUploadMessage:$,webUploadUrl:I,webUploadBuildStatus:re,webCopyStatus:wn,setWebCopyStatus:tr}),l.jsx(Ooe,{embedded:u,devMockAvailable:ce,devMockUploadState:Gt}),ae&&l.jsxs("div",{className:"stats-settling-banner mb-3 rounded-xl border px-4 py-3 text-xs",children:[l.jsxs("div",{className:"flex items-center justify-between gap-3",children:[l.jsx("div",{className:"stats-settling-banner__title font-semibold",children:V}),l.jsx("div",{className:"stats-settling-banner__meta text-[11px]",children:be})]}),J.active&&l.jsx("div",{className:"stats-settling-banner__track mt-2 h-1.5 overflow-hidden rounded-full",children:l.jsx("div",{className:"stats-settling-banner__bar h-full rounded-full transition-all duration-300",style:{width:`${J.progressPercent}%`}})}),l.jsx("div",{className:"stats-settling-banner__meta stats-settling-banner__joke mt-2 text-xs opacity-90",children:fe})]}),l.jsxs("div",{className:`${u?"":"flex-1 min-h-0 flex"} relative ${ie?"stats-dashboard-loading-shell":""}`,children:[l.jsxs("div",{id:"stats-dashboard-container",ref:Ft,className:`${Fz} ${u?"":"flex-1"} ${ie?"stats-dashboard-scroll-lock":""}`,style:Rz,children:[l.jsxs(l.Fragment,{children:[St("overview")&&l.jsx(coe,{stats:Ce,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("fight-breakdown")&&l.jsx(uoe,{stats:Ce,fightBreakdownTab:Za,setFightBreakdownTab:To,expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("top-players")&&l.jsx(moe,{stats:Ce,showTopStats:w,showMvp:N,topStatsMode:k,expandedLeader:Oi,setExpandedLeader:jo,formatTopStatValue:zl,formatWithCommas:mi,isMvpStatEnabled:cr,renderProfessionIcon:ci,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("top-skills-outgoing")&&l.jsx(hoe,{stats:Ce,topSkillsMetric:R,onTopSkillsMetricChange:ft,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("squad-composition")&&l.jsx(poe,{sortedSquadClassData:_z,sortedEnemyClassData:Lz,getProfessionIconPath:Xl,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("commander-stats")&&l.jsx(Coe,{commanderStats:yf,getProfessionIconPath:Xl,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("commander-push-timing")&&l.jsx(joe,{commanderStats:yf,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("commander-target-conversion")&&l.jsx(koe,{commanderStats:yf,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("commander-tag-movement")&&l.jsx(Noe,{commanderStats:yf,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("commander-tag-death-response")&&l.jsx(Soe,{commanderStats:yf,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("attendance-ledger")&&l.jsx(yoe,{attendanceRows:Oz,getProfessionIconPath:Xl,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("squad-comp-fight")&&l.jsx(Poe,{fights:Wb,getProfessionIconPath:Xl,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("fight-comp")&&l.jsx(Toe,{fights:Iz,getProfessionIconPath:Xl,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("timeline")&&l.jsx(goe,{timelineData:Ce.timelineData,timelineFriendlyScope:vt,setTimelineFriendlyScope:an,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("map-distribution")&&l.jsx(xoe,{mapData:Ce.mapData,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("offense-detailed")&&l.jsx(Qse,{stats:Ce,OFFENSE_METRICS:YO,roundCountStats:j,offenseSearch:z,setOffenseSearch:pe,activeOffenseStat:xt,setActiveOffenseStat:P,offenseViewMode:Ve,setOffenseViewMode:Ze,formatWithCommas:mi,renderProfessionIcon:ci,expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,sidebarListClass:io}),St("player-breakdown")&&l.jsx(Kse,{expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,sidebarListClass:io,viewMode:FB,setViewMode:RB,playerSkillBreakdowns:_o,classSkillBreakdowns:$u,activePlayerKey:Ec,setActivePlayerKey:Fb,expandedPlayerKey:_B,setExpandedPlayerKey:H2,activePlayerSkillId:Js,setActivePlayerSkillId:Qh,activeClassKey:Oc,setActiveClassKey:Rb,expandedClassKey:BB,setExpandedClassKey:q2,activeClassSkillId:Io,setActiveClassSkillId:Zh,skillSearch:LB,setSkillSearch:$B,activePlayerBreakdown:Lo,activePlayerSkill:UB,activeClassBreakdown:El,activeClassSkill:WB,renderProfessionIcon:ci}),St("damage-breakdown")&&l.jsx(Gse,{expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,playerSkillBreakdowns:_o,renderProfessionIcon:ci}),St("spike-damage")&&l.jsx(jT,{expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,spikePlayerFilter:At,setSpikePlayerFilter:Ke,groupedSpikePlayers:VB,spikeMode:He,setSpikeMode:Je,damageBasis:Re,setDamageBasis:qe,showDamageBasisToggle:!0,selectedSpikePlayerKey:Bn,setSelectedSpikePlayerKey:Qa,selectedSpikePlayer:HB,spikeChartData:eo,spikeChartMaxY:qB,selectedSpikeFightIndex:li,setSelectedSpikeFightIndex:Zs,spikeDrilldownTitle:ep.title,spikeDrilldownData:ep.data,spikeDrilldownDownIndices:ep.downIndices,spikeDrilldownDeathIndices:ep.deathIndices,spikeFightSkillRows:QB,spikeFightSkillTitle:"Outgoing Skill Damage (Selected Fight)",formatWithCommas:mi,renderProfessionIcon:ci}),St("conditions-outgoing")&&l.jsx(Zse,{conditionSummary:rp,conditionPlayers:nz,conditionSearch:bt,setConditionSearch:gt,activeConditionName:F,setActiveConditionName:U,conditionDirection:tt,setConditionDirection:_e,conditionGridClass:Q,effectiveConditionSort:Ie,setConditionSort:he,showConditionDamage:te,renderProfessionIcon:ci,expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,sidebarListClass:io}),St("defense-detailed")&&l.jsx(eoe,{stats:Ce,DEFENSE_METRICS:XO,defenseSearch:ze,setDefenseSearch:Ne,activeDefenseStat:W,setActiveDefenseStat:X,defenseViewMode:dt,setDefenseViewMode:Pt,roundCountStats:j,formatWithCommas:mi,renderProfessionIcon:ci,expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,sidebarListClass:io}),St("incoming-strike-damage")&&l.jsx(jT,{sectionId:"incoming-strike-damage",title:"Incoming Strike Damage",subtitle:"Select one enemy class to chart incoming strike pressure per fight.",listTitle:"Enemy Classes",searchPlaceholder:"Search enemy class",titleIconClassName:"text-cyan-300",expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,spikePlayerFilter:we,setSpikePlayerFilter:Se,groupedSpikePlayers:KB,spikeMode:tn,setSpikeMode:pa,selectedSpikePlayerKey:et,setSelectedSpikePlayerKey:Bt,selectedSpikePlayer:GB,spikeChartData:to,spikeChartMaxY:YB,selectedSpikeFightIndex:Zt,setSelectedSpikeFightIndex:Pn,spikeDrilldownTitle:tp.title,spikeDrilldownData:tp.data,spikeDrilldownDownIndices:tp.downIndices,spikeDrilldownDeathIndices:tp.deathIndices,spikeFightSkillRows:XB,spikeFightSkillTitle:"Incoming Skill Damage (Selected Fight)",formatWithCommas:mi,renderProfessionIcon:ci}),St("defense-mitigation")&&l.jsx(toe,{stats:Ce,DAMAGE_MITIGATION_METRICS:N8,damageMitigationSearch:ut,setDamageMitigationSearch:Ue,activeDamageMitigationStat:ye,setActiveDamageMitigationStat:De,damageMitigationViewMode:Rt,setDamageMitigationViewMode:Qt,damageMitigationScope:Fn,setDamageMitigationScope:Ar,roundCountStats:j,formatWithCommas:mi,renderProfessionIcon:ci,expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,sidebarListClass:io}),St("boon-output")&&l.jsx(Jse,{stats:Ce,activeBoonCategory:jl,setActiveBoonCategory:A=>Cl(A),activeBoonMetric:Tc,setActiveBoonMetric:Cs,activeBoonTab:Ki,setActiveBoonTab:Co,activeBoonTable:xz,filteredBoonTables:gz,boonSearch:Gi,setBoonSearch:ua,formatBoonMetricDisplay:J8,getBoonMetricValue:oI,renderProfessionIcon:ci,roundCountStats:j,expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,sidebarListClass:io}),St("boon-timeline")&&l.jsx(Yse,{expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,boonSearch:Ga,setBoonSearch:Ii,boons:bz,activeBoonId:Pa,setActiveBoonId:Ao,timelineScope:zr,setTimelineScope:Ya,playerFilter:Xs,setPlayerFilter:Qs,players:vz,selectedPlayerKey:jr,setSelectedPlayerKey:As,selectedPlayer:wz,chartData:Bu,chartMaxY:kz,selectedFightIndex:Da,setSelectedFightIndex:Iu,drilldownTitle:ej.title,drilldownData:ej.data,formatWithCommas:mi,renderProfessionIcon:ci}),St("boon-uptime")&&l.jsx(Xse,{expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,boonSearch:Al,setBoonSearch:_u,boons:Nz,activeBoonId:Yn,setActiveBoonId:Pl,playerFilter:ur,setPlayerFilter:Cr,players:Sz,selectedPlayerKey:Or,setSelectedPlayerKey:Dl,selectedPlayer:Cz,chartData:Il,chartMaxY:Az,selectedFightIndex:da,setSelectedFightIndex:Ir,drilldownTitle:tj.title,drilldownData:tj.data,overallUptimePercent:Pz,showStackCapLine:!!(vn!=null&&vn.stacking),formatWithCommas:mi,renderProfessionIcon:ci}),St("support-detailed")&&l.jsx(noe,{stats:Ce,SUPPORT_METRICS:QO,supportSearch:nt,setSupportSearch:ct,activeSupportStat:le,setActiveSupportStat:ne,supportViewMode:ln,setSupportViewMode:bn,cleanseScope:_n,setCleanseScope:kn,roundCountStats:j,formatWithCommas:mi,renderProfessionIcon:ci,expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,sidebarListClass:io}),St("healing-stats")&&l.jsx(roe,{stats:Ce,HEALING_METRICS:S8,activeHealingMetric:Xe,setActiveHealingMetric:je,healingCategory:ke,setHealingCategory:Ge,activeResUtilitySkill:rt,setActiveResUtilitySkill:lt,skillUsageData:Kt,formatWithCommas:mi,renderProfessionIcon:ci,expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("fight-diff-mode")&&l.jsx(loe,{stats:Ce,formatWithCommas:mi,expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn}),St("special-buffs")&&l.jsx(aoe,{stats:Ce,specialSearch:fa,setSpecialSearch:Tl,filteredSpecialTables:Dz,activeSpecialTab:Yi,setActiveSpecialTab:Ur,activeSpecialTable:Mz,formatWithCommas:mi,renderProfessionIcon:ci,expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,sidebarListClass:io}),St("sigil-relic-uptime")&&l.jsx(ooe,{hasSigilRelicTables:Ds.length>0,sigilRelicSearch:Po,setSigilRelicSearch:O,filteredSigilRelicTables:Tz,activeSigilRelicTab:ma,setActiveSigilRelicTab:Xa,activeSigilRelicTable:Ez,formatWithCommas:mi,renderProfessionIcon:ci,expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,sidebarListClass:io}),St("skill-usage")&&l.jsx(Vse,{expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,selectedPlayers:xr,setSelectedPlayers:Ni,removeSelectedPlayer:pz,playerMapByKey:$o,groupedSkillUsagePlayers:tz,expandedSkillUsageClass:Nt,setExpandedSkillUsageClass:nn,togglePlayerSelection:hz,skillUsagePlayerFilter:Rn,setSkillUsagePlayerFilter:Vn,skillUsageView:pn,setSkillUsageView:Lu,skillUsageData:Kt,skillUsageSkillFilter:wi,setSkillUsageSkillFilter:ki,selectedSkillId:Xi,setSelectedSkillId:ha,skillBarData:xf,selectedSkillName:lz,selectedSkillIcon:cz,skillUsageReady:uz,skillUsageAvailable:Le,isSkillUsagePerSecond:Mc,skillChartData:JB,skillChartMaxY:ez,playerTotalsForSkill:Fu,hoveredSkillPlayer:Pr,setHoveredSkillPlayer:Wr,getLineStrokeColor:oz,getLineDashForPlayer:sz,formatSkillUsageValue:Bz,renderProfessionIcon:ci}),St("apm-stats")&&l.jsx(qse,{expandedSection:Nn,expandedSectionClosing:nr,openExpandedSection:Jr,closeExpandedSection:_r,isSectionVisible:St,isFirstVisibleSection:Tn,sectionClass:Dn,sidebarListClass:io,apmSpecAvailable:dz,skillUsageAvailable:Le,apmSpecTables:Ml,activeApmSpec:Qi,setActiveApmSpec:Ps,expandedApmSpec:Mo,setExpandedApmSpec:Eo,activeApmSkillId:Oo,setActiveApmSkillId:$b,ALL_SKILLS_KEY:ap,apmSkillSearch:OB,setApmSkillSearch:IB,activeApmSpecTable:Fo,activeApmSkill:mz,isAllApmSkills:fz,apmView:ji,setApmView:dr,formatApmValue:Wz,formatCastRateValue:zz,formatCastCountValue:Uz,renderProfessionIcon:ci})]}),!u&&l.jsx("div",{className:"h-24","aria-hidden":"true"})]}),ie&&l.jsx("div",{className:"stats-dashboard-loading-overlay","aria-hidden":"true"})]})]})}const Foe="Arcane",i2="CRT",K0="MatteSlate",G0="KineticPaper",Kc="KineticPaperDark",vg={id:Foe,label:"Arcane",rgb:"136, 116, 255",pattern:"radial-gradient(at 0% 0%, hsla(250, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(220, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 65%, 20%, 1) 0, transparent 70%)"},Roe={id:K0,label:"Matte Slate",rgb:"93, 163, 194",pattern:"linear-gradient(to bottom, #222629, #222629)"},Boe={id:G0,label:"Kinetic Paper",rgb:"154, 133, 99",pattern:"linear-gradient(to bottom, #e9e3d8, #e9e3d8)"},zoe={id:Kc,label:"Kinetic Paper (Dark)",rgb:"142, 155, 214",pattern:"linear-gradient(to bottom, #2b3048, #2b3048)"},Uoe=[vg,{id:"Amethyst",label:"Amethyst",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(270, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(260, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 60%, 30%, 1) 0, transparent 70%)"},{id:"Aurora",label:"Aurora",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(160, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 75%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 85%, 15%, 1) 0, transparent 70%)"},{id:"Autumn",label:"Autumn",rgb:"180, 130, 70",pattern:"radial-gradient(at 0% 0%, hsla(30, 65%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 60%, 15%, 1) 0, transparent 70%)"},{id:"Berry",label:"Berry",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(300, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 60%, 25%, 1) 0, transparent 70%)"},{id:"Bubblegum",label:"Bubblegum",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(330, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 85%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 75%, 20%, 1) 0, transparent 70%)"},{id:"Cherry",label:"Cherry",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(340, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(0, 60%, 25%, 1) 0, transparent 70%)"},{id:"Cobalt",label:"Cobalt",rgb:"59, 130, 246",pattern:"radial-gradient(at 0% 0%, hsla(220, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 15%, 1) 0, transparent 70%)"},{id:"Coffee",label:"Coffee",rgb:"253, 186, 116",pattern:"radial-gradient(at 0% 0%, hsla(25, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(35, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(30, 50%, 22%, 1) 0, transparent 70%)"},{id:"Cyberpunk",label:"Cyberpunk",rgb:"232, 121, 249",pattern:"radial-gradient(at 0% 0%, hsla(290, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 25%, 1) 0, transparent 70%)"},{id:"Dark Pearl",label:"Dark Pearl",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 30%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 40%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 30%, 25%, 1) 0, transparent 70%)"},{id:"Deep Space",label:"Deep Space",rgb:"99, 102, 241",pattern:"radial-gradient(at 0% 0%, hsla(245, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(180, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(300, 70%, 18%, 1) 0, transparent 70%)"},{id:"Electric Storm",label:"Electric Storm",rgb:"56, 189, 248",pattern:"radial-gradient(at 0% 0%, hsla(200, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(180, 80%, 20%, 1) 0, transparent 70%)"},{id:"Emerald",label:"Emerald",rgb:"52, 211, 153",pattern:"radial-gradient(at 0% 0%, hsla(150, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 70%, 25%, 1) 0, transparent 70%)"},{id:"Forest",label:"Forest",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(150, 70%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(120, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(160, 80%, 18%, 1) 0, transparent 70%)"},{id:"Glacier",label:"Glacier",rgb:"125, 211, 252",pattern:"radial-gradient(at 0% 0%, hsla(190, 70%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(210, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 30%, 1) 0, transparent 70%)"},{id:"Gold",label:"Gold",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(40, 90%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(50, 70%, 25%, 1) 0, transparent 70%)"},{id:"Jungle",label:"Jungle",rgb:"74, 222, 128",pattern:"radial-gradient(at 0% 0%, hsla(145, 75%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 80%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(175, 70%, 18%, 1) 0, transparent 70%)"},{id:"Lavender",label:"Lavender",rgb:"167, 139, 250",pattern:"radial-gradient(at 0% 0%, hsla(250, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(270, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(290, 50%, 30%, 1) 0, transparent 70%)"},{id:"Mermaid",label:"Mermaid",rgb:"45, 212, 191",pattern:"radial-gradient(at 0% 0%, hsla(175, 75%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(280, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 80%, 20%, 1) 0, transparent 70%)"},{id:"Midnight",label:"Midnight",rgb:"192, 132, 252",pattern:"radial-gradient(at 0% 0%, hsla(260, 60%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(320, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 60%, 20%, 1) 0, transparent 70%)"},{id:"Mint",label:"Mint",rgb:"110, 231, 183",pattern:"radial-gradient(at 0% 0%, hsla(160, 60%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(140, 70%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(170, 50%, 25%, 1) 0, transparent 70%)"},{id:"Nebula",label:"Nebula",rgb:"196, 181, 253",pattern:"radial-gradient(at 0% 0%, hsla(260, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(310, 80%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 60%, 25%, 1) 0, transparent 70%)"},{id:"Neon Nights",label:"Neon Nights",rgb:"236, 72, 153",pattern:"radial-gradient(at 0% 0%, hsla(330, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 95%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 80%, 18%, 1) 0, transparent 70%)"},{id:"Obsidian",label:"Obsidian",rgb:"226, 232, 240",pattern:"radial-gradient(at 0% 0%, hsla(0, 0%, 5%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 10%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 20%, 15%, 1) 0, transparent 70%)"},{id:"Ocean",label:"Ocean",rgb:"34, 211, 238",pattern:"radial-gradient(at 0% 0%, hsla(210, 70%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(200, 60%, 22%, 1) 0, transparent 70%)"},{id:"Royal",label:"Royal",rgb:"250, 204, 21",pattern:"radial-gradient(at 0% 0%, hsla(45, 80%, 15%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(240, 70%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(270, 60%, 30%, 1) 0, transparent 70%)"},{id:"Ruby",label:"Ruby",rgb:"248, 113, 113",pattern:"radial-gradient(at 0% 0%, hsla(350, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(340, 70%, 25%, 1) 0, transparent 70%)"},{id:"Sapphire",label:"Sapphire",rgb:"96, 165, 250",pattern:"radial-gradient(at 0% 0%, hsla(220, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(230, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(210, 70%, 25%, 1) 0, transparent 70%)"},{id:"Shadow",label:"Shadow",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(220, 20%, 10%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 0%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(240, 10%, 20%, 1) 0, transparent 70%)"},{id:"Slate",label:"Slate",rgb:"148, 163, 184",pattern:"radial-gradient(at 0% 0%, hsla(210, 30%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(200, 40%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(220, 30%, 30%, 1) 0, transparent 70%)"},{id:"Sunrise",label:"Sunrise",rgb:"251, 113, 133",pattern:"radial-gradient(at 0% 0%, hsla(350, 75%, 20%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(45, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 18%, 1) 0, transparent 70%)"},{id:"Sunset",label:"Sunset",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(10, 70%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(330, 60%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(280, 50%, 25%, 1) 0, transparent 70%)"},{id:"Toxic",label:"Toxic",rgb:"163, 230, 53",pattern:"radial-gradient(at 0% 0%, hsla(100, 90%, 12%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(90, 90%, 15%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(120, 80%, 18%, 1) 0, transparent 70%)"},{id:"Tropics",label:"Tropics",rgb:"20, 184, 166",pattern:"radial-gradient(at 0% 0%, hsla(170, 80%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(15, 85%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 75%, 20%, 1) 0, transparent 70%)"},{id:"Ultraviolet",label:"Ultraviolet",rgb:"139, 92, 246",pattern:"radial-gradient(at 0% 0%, hsla(265, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(190, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 80%, 20%, 1) 0, transparent 70%)"},{id:"Vaporwave",label:"Vaporwave",rgb:"244, 114, 182",pattern:"radial-gradient(at 0% 0%, hsla(280, 80%, 25%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(170, 90%, 25%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(320, 70%, 30%, 1) 0, transparent 70%)"},{id:"Volcano",label:"Volcano",rgb:"239, 68, 68",pattern:"radial-gradient(at 0% 0%, hsla(0, 85%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(25, 90%, 22%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(350, 75%, 15%, 1) 0, transparent 70%)"},{id:"Wildfire",label:"Wildfire",rgb:"251, 146, 60",pattern:"radial-gradient(at 0% 0%, hsla(25, 90%, 18%, 1) 0, transparent 70%), radial-gradient(at 100% 0%, hsla(0, 85%, 20%, 1) 0, transparent 70%), radial-gradient(at 50% 100%, hsla(45, 80%, 15%, 1) 0, transparent 70%)"}],Woe={id:i2,label:"CRT Hacker",rgb:"87, 255, 154",pattern:"radial-gradient(circle at 12% 10%, rgba(44, 120, 78, 0.42), transparent 60%), radial-gradient(circle at 88% 22%, rgba(22, 86, 52, 0.38), transparent 62%), linear-gradient(180deg, rgba(5, 12, 8, 0.92), rgba(3, 7, 6, 0.98))"},Jf=[...Uoe,Woe,Roe,Boe,zoe];function Voe(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const Hoe=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,qoe=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,Koe={};function DT(e,t){return(Koe.jsx?qoe:Hoe).test(e)}const Goe=/[ \t\n\f\r]/g;function Yoe(e){return typeof e=="object"?e.type==="text"?TT(e.value):!1:TT(e)}function TT(e){return e.replace(Goe,"")===""}class Vh{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}Vh.prototype.normal={};Vh.prototype.property={};Vh.prototype.space=void 0;function sF(e,t){const n={},r={};for(const i of e)Object.assign(n,i.property),Object.assign(r,i.normal);return new Vh(n,r,t)}function v1(e){return e.toLowerCase()}class Ca{constructor(t,n){this.attribute=n,this.property=t}}Ca.prototype.attribute="";Ca.prototype.booleanish=!1;Ca.prototype.boolean=!1;Ca.prototype.commaOrSpaceSeparated=!1;Ca.prototype.commaSeparated=!1;Ca.prototype.defined=!1;Ca.prototype.mustUseProperty=!1;Ca.prototype.number=!1;Ca.prototype.overloadedBoolean=!1;Ca.prototype.property="";Ca.prototype.spaceSeparated=!1;Ca.prototype.space=void 0;let Xoe=0;const un=Mu(),Kr=Mu(),y1=Mu(),ht=Mu(),Zn=Mu(),Md=Mu(),Oa=Mu();function Mu(){return 2**++Xoe}const w1=Object.freeze(Object.defineProperty({__proto__:null,boolean:un,booleanish:Kr,commaOrSpaceSeparated:Oa,commaSeparated:Md,number:ht,overloadedBoolean:y1,spaceSeparated:Zn},Symbol.toStringTag,{value:"Module"})),qv=Object.keys(w1);class a2 extends Ca{constructor(t,n,r,i){let a=-1;if(super(t,n),MT(this,"space",i),typeof r=="number")for(;++a<qv.length;){const s=qv[a];MT(this,qv[a],(r&w1[s])===w1[s])}}}a2.prototype.defined=!0;function MT(e,t,n){n&&(e[t]=n)}function hf(e){const t={},n={};for(const[r,i]of Object.entries(e.properties)){const a=new a2(r,e.transform(e.attributes||{},r),i,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(a.mustUseProperty=!0),t[r]=a,n[v1(r)]=r,n[v1(a.attribute)]=r}return new Vh(t,n,e.space)}const oF=hf({properties:{ariaActiveDescendant:null,ariaAtomic:Kr,ariaAutoComplete:null,ariaBusy:Kr,ariaChecked:Kr,ariaColCount:ht,ariaColIndex:ht,ariaColSpan:ht,ariaControls:Zn,ariaCurrent:null,ariaDescribedBy:Zn,ariaDetails:null,ariaDisabled:Kr,ariaDropEffect:Zn,ariaErrorMessage:null,ariaExpanded:Kr,ariaFlowTo:Zn,ariaGrabbed:Kr,ariaHasPopup:null,ariaHidden:Kr,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Zn,ariaLevel:ht,ariaLive:null,ariaModal:Kr,ariaMultiLine:Kr,ariaMultiSelectable:Kr,ariaOrientation:null,ariaOwns:Zn,ariaPlaceholder:null,ariaPosInSet:ht,ariaPressed:Kr,ariaReadOnly:Kr,ariaRelevant:null,ariaRequired:Kr,ariaRoleDescription:Zn,ariaRowCount:ht,ariaRowIndex:ht,ariaRowSpan:ht,ariaSelected:Kr,ariaSetSize:ht,ariaSort:null,ariaValueMax:ht,ariaValueMin:ht,ariaValueNow:ht,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function lF(e,t){return t in e?e[t]:t}function cF(e,t){return lF(e,t.toLowerCase())}const Qoe=hf({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:Md,acceptCharset:Zn,accessKey:Zn,action:null,allow:null,allowFullScreen:un,allowPaymentRequest:un,allowUserMedia:un,alt:null,as:null,async:un,autoCapitalize:null,autoComplete:Zn,autoFocus:un,autoPlay:un,blocking:Zn,capture:null,charSet:null,checked:un,cite:null,className:Zn,cols:ht,colSpan:null,content:null,contentEditable:Kr,controls:un,controlsList:Zn,coords:ht|Md,crossOrigin:null,data:null,dateTime:null,decoding:null,default:un,defer:un,dir:null,dirName:null,disabled:un,download:y1,draggable:Kr,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:un,formTarget:null,headers:Zn,height:ht,hidden:y1,high:ht,href:null,hrefLang:null,htmlFor:Zn,httpEquiv:Zn,id:null,imageSizes:null,imageSrcSet:null,inert:un,inputMode:null,integrity:null,is:null,isMap:un,itemId:null,itemProp:Zn,itemRef:Zn,itemScope:un,itemType:Zn,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:un,low:ht,manifest:null,max:null,maxLength:ht,media:null,method:null,min:null,minLength:ht,multiple:un,muted:un,name:null,nonce:null,noModule:un,noValidate:un,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:un,optimum:ht,pattern:null,ping:Zn,placeholder:null,playsInline:un,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:un,referrerPolicy:null,rel:Zn,required:un,reversed:un,rows:ht,rowSpan:ht,sandbox:Zn,scope:null,scoped:un,seamless:un,selected:un,shadowRootClonable:un,shadowRootDelegatesFocus:un,shadowRootMode:null,shape:null,size:ht,sizes:null,slot:null,span:ht,spellCheck:Kr,src:null,srcDoc:null,srcLang:null,srcSet:null,start:ht,step:null,style:null,tabIndex:ht,target:null,title:null,translate:null,type:null,typeMustMatch:un,useMap:null,value:Kr,width:ht,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Zn,axis:null,background:null,bgColor:null,border:ht,borderColor:null,bottomMargin:ht,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:un,declare:un,event:null,face:null,frame:null,frameBorder:null,hSpace:ht,leftMargin:ht,link:null,longDesc:null,lowSrc:null,marginHeight:ht,marginWidth:ht,noResize:un,noHref:un,noShade:un,noWrap:un,object:null,profile:null,prompt:null,rev:null,rightMargin:ht,rules:null,scheme:null,scrolling:Kr,standby:null,summary:null,text:null,topMargin:ht,valueType:null,version:null,vAlign:null,vLink:null,vSpace:ht,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:un,disableRemotePlayback:un,prefix:null,property:null,results:ht,security:null,unselectable:null},space:"html",transform:cF}),Zoe=hf({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:Oa,accentHeight:ht,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:ht,amplitude:ht,arabicForm:null,ascent:ht,attributeName:null,attributeType:null,azimuth:ht,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:ht,by:null,calcMode:null,capHeight:ht,className:Zn,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:ht,diffuseConstant:ht,direction:null,display:null,dur:null,divisor:ht,dominantBaseline:null,download:un,dx:null,dy:null,edgeMode:null,editable:null,elevation:ht,enableBackground:null,end:null,event:null,exponent:ht,externalResourcesRequired:null,fill:null,fillOpacity:ht,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:Md,g2:Md,glyphName:Md,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:ht,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:ht,horizOriginX:ht,horizOriginY:ht,id:null,ideographic:ht,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:ht,k:ht,k1:ht,k2:ht,k3:ht,k4:ht,kernelMatrix:Oa,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:ht,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:ht,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:ht,overlineThickness:ht,paintOrder:null,panose1:null,path:null,pathLength:ht,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Zn,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:ht,pointsAtY:ht,pointsAtZ:ht,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:Oa,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:Oa,rev:Oa,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:Oa,requiredFeatures:Oa,requiredFonts:Oa,requiredFormats:Oa,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:ht,specularExponent:ht,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:ht,strikethroughThickness:ht,string:null,stroke:null,strokeDashArray:Oa,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:ht,strokeOpacity:ht,strokeWidth:null,style:null,surfaceScale:ht,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:Oa,tabIndex:ht,tableValues:null,target:null,targetX:ht,targetY:ht,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:Oa,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:ht,underlineThickness:ht,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:ht,values:null,vAlphabetic:ht,vMathematical:ht,vectorEffect:null,vHanging:ht,vIdeographic:ht,version:null,vertAdvY:ht,vertOriginX:ht,vertOriginY:ht,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:ht,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:lF}),uF=hf({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),dF=hf({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:cF}),fF=hf({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),Joe={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},ele=/[A-Z]/g,ET=/-[a-z]/g,tle=/^data[-\w.:]+$/i;function nle(e,t){const n=v1(t);let r=t,i=Ca;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&tle.test(t)){if(t.charAt(4)==="-"){const a=t.slice(5).replace(ET,ile);r="data"+a.charAt(0).toUpperCase()+a.slice(1)}else{const a=t.slice(4);if(!ET.test(a)){let s=a.replace(ele,rle);s.charAt(0)!=="-"&&(s="-"+s),t="data"+s}}i=a2}return new i(r,t)}function rle(e){return"-"+e.toLowerCase()}function ile(e){return e.charAt(1).toUpperCase()}const ale=sF([oF,Qoe,uF,dF,fF],"html"),s2=sF([oF,Zoe,uF,dF,fF],"svg");function sle(e){return e.join(" ").trim()}var o2={},OT=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,ole=/\n/g,lle=/^\s*/,cle=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,ule=/^:\s*/,dle=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,fle=/^[;\s]*/,mle=/^\s+|\s+$/g,hle=`
`,IT="/",_T="*",Gc="",ple="comment",gle="declaration";function xle(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function i(p){var x=p.match(ole);x&&(n+=x.length);var v=p.lastIndexOf(hle);r=~v?p.length-v:r+p.length}function a(){var p={line:n,column:r};return function(x){return x.position=new s(p),u(),x}}function s(p){this.start=p,this.end={line:n,column:r},this.source=t.source}s.prototype.content=e;function o(p){var x=new Error(t.source+":"+n+":"+r+": "+p);if(x.reason=p,x.filename=t.source,x.line=n,x.column=r,x.source=e,!t.silent)throw x}function c(p){var x=p.exec(e);if(x){var v=x[0];return i(v),e=e.slice(v.length),x}}function u(){c(lle)}function d(p){var x;for(p=p||[];x=f();)x!==!1&&p.push(x);return p}function f(){var p=a();if(!(IT!=e.charAt(0)||_T!=e.charAt(1))){for(var x=2;Gc!=e.charAt(x)&&(_T!=e.charAt(x)||IT!=e.charAt(x+1));)++x;if(x+=2,Gc===e.charAt(x-1))return o("End of comment missing");var v=e.slice(2,x-2);return r+=2,i(v),e=e.slice(x),r+=2,p({type:ple,comment:v})}}function h(){var p=a(),x=c(cle);if(x){if(f(),!c(ule))return o("property missing ':'");var v=c(dle),b=p({type:gle,property:LT(x[0].replace(OT,Gc)),value:v?LT(v[0].replace(OT,Gc)):Gc});return c(fle),b}}function m(){var p=[];d(p);for(var x;x=h();)x!==!1&&(p.push(x),d(p));return p}return u(),m()}function LT(e){return e?e.replace(mle,Gc):Gc}var ble=xle,vle=Sg&&Sg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(o2,"__esModule",{value:!0});o2.default=wle;const yle=vle(ble);function wle(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,yle.default)(e),i=typeof t=="function";return r.forEach(a=>{if(a.type!=="declaration")return;const{property:s,value:o}=a;i?t(s,o,a):o&&(n=n||{},n[s]=o)}),n}var Sb={};Object.defineProperty(Sb,"__esModule",{value:!0});Sb.camelCase=void 0;var kle=/^--[a-zA-Z0-9_-]+$/,Nle=/-([a-z])/g,Sle=/^[^-]+$/,jle=/^-(webkit|moz|ms|o|khtml)-/,Cle=/^-(ms)-/,Ale=function(e){return!e||Sle.test(e)||kle.test(e)},Ple=function(e,t){return t.toUpperCase()},$T=function(e,t){return"".concat(t,"-")},Dle=function(e,t){return t===void 0&&(t={}),Ale(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(Cle,$T):e=e.replace(jle,$T),e.replace(Nle,Ple))};Sb.camelCase=Dle;var Tle=Sg&&Sg.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Mle=Tle(o2),Ele=Sb;function k1(e,t){var n={};return!e||typeof e!="string"||(0,Mle.default)(e,function(r,i){r&&i&&(n[(0,Ele.camelCase)(r,t)]=i)}),n}k1.default=k1;var Ole=k1;const Ile=Ks(Ole),mF=hF("end"),l2=hF("start");function hF(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function _le(e){const t=l2(e),n=mF(e);if(t&&n)return{start:t,end:n}}function hm(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?FT(e.position):"start"in e||"end"in e?FT(e):"line"in e||"column"in e?N1(e):""}function N1(e){return RT(e&&e.line)+":"+RT(e&&e.column)}function FT(e){return N1(e&&e.start)+"-"+N1(e&&e.end)}function RT(e){return e&&typeof e=="number"?e:1}class qi extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let i="",a={},s=!1;if(n&&("line"in n&&"column"in n?a={place:n}:"start"in n&&"end"in n?a={place:n}:"type"in n?a={ancestors:[n],place:n.position}:a={...n}),typeof t=="string"?i=t:!a.cause&&t&&(s=!0,i=t.message,a.cause=t),!a.ruleId&&!a.source&&typeof r=="string"){const c=r.indexOf(":");c===-1?a.ruleId=r:(a.source=r.slice(0,c),a.ruleId=r.slice(c+1))}if(!a.place&&a.ancestors&&a.ancestors){const c=a.ancestors[a.ancestors.length-1];c&&(a.place=c.position)}const o=a.place&&"start"in a.place?a.place.start:a.place;this.ancestors=a.ancestors||void 0,this.cause=a.cause||void 0,this.column=o?o.column:void 0,this.fatal=void 0,this.file="",this.message=i,this.line=o?o.line:void 0,this.name=hm(a.place)||"1:1",this.place=a.place||void 0,this.reason=this.message,this.ruleId=a.ruleId||void 0,this.source=a.source||void 0,this.stack=s&&a.cause&&typeof a.cause.stack=="string"?a.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}qi.prototype.file="";qi.prototype.name="";qi.prototype.reason="";qi.prototype.message="";qi.prototype.stack="";qi.prototype.column=void 0;qi.prototype.line=void 0;qi.prototype.ancestors=void 0;qi.prototype.cause=void 0;qi.prototype.fatal=void 0;qi.prototype.place=void 0;qi.prototype.ruleId=void 0;qi.prototype.source=void 0;const c2={}.hasOwnProperty,Lle=new Map,$le=/[A-Z]/g,Fle=new Set(["table","tbody","thead","tfoot","tr"]),Rle=new Set(["td","th"]),pF="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Ble(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Gle(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Kle(n,t.jsx,t.jsxs)}const i={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?s2:ale,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},a=gF(i,e,void 0);return a&&typeof a!="string"?a:i.create(e,i.Fragment,{children:a||void 0},void 0)}function gF(e,t,n){if(t.type==="element")return zle(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return Ule(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return Vle(e,t,n);if(t.type==="mdxjsEsm")return Wle(e,t);if(t.type==="root")return Hle(e,t,n);if(t.type==="text")return qle(e,t)}function zle(e,t,n){const r=e.schema;let i=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(i=s2,e.schema=i),e.ancestors.push(t);const a=bF(e,t.tagName,!1),s=Yle(e,t);let o=d2(e,t);return Fle.has(t.tagName)&&(o=o.filter(function(c){return typeof c=="string"?!Yoe(c):!0})),xF(e,s,a,t),u2(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Ule(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}rh(e,t.position)}function Wle(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);rh(e,t.position)}function Vle(e,t,n){const r=e.schema;let i=r;t.name==="svg"&&r.space==="html"&&(i=s2,e.schema=i),e.ancestors.push(t);const a=t.name===null?e.Fragment:bF(e,t.name,!0),s=Xle(e,t),o=d2(e,t);return xF(e,s,a,t),u2(s,o),e.ancestors.pop(),e.schema=r,e.create(t,a,s,n)}function Hle(e,t,n){const r={};return u2(r,d2(e,t)),e.create(t,e.Fragment,r,n)}function qle(e,t){return t.value}function xF(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function u2(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Kle(e,t,n){return r;function r(i,a,s,o){const u=Array.isArray(s.children)?n:t;return o?u(a,s,o):u(a,s)}}function Gle(e,t){return n;function n(r,i,a,s){const o=Array.isArray(a.children),c=l2(r);return t(i,a,s,o,{columnNumber:c?c.column-1:void 0,fileName:e,lineNumber:c?c.line:void 0},void 0)}}function Yle(e,t){const n={};let r,i;for(i in t.properties)if(i!=="children"&&c2.call(t.properties,i)){const a=Qle(e,i,t.properties[i]);if(a){const[s,o]=a;e.tableCellAlignToStyle&&s==="align"&&typeof o=="string"&&Rle.has(t.tagName)?r=o:n[s]=o}}if(r){const a=n.style||(n.style={});a[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function Xle(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const a=r.data.estree.body[0];a.type;const s=a.expression;s.type;const o=s.properties[0];o.type,Object.assign(n,e.evaluater.evaluateExpression(o.argument))}else rh(e,t.position);else{const i=r.name;let a;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const o=r.value.data.estree.body[0];o.type,a=e.evaluater.evaluateExpression(o.expression)}else rh(e,t.position);else a=r.value===null?!0:r.value;n[i]=a}return n}function d2(e,t){const n=[];let r=-1;const i=e.passKeys?new Map:Lle;for(;++r<t.children.length;){const a=t.children[r];let s;if(e.passKeys){const c=a.type==="element"?a.tagName:a.type==="mdxJsxFlowElement"||a.type==="mdxJsxTextElement"?a.name:void 0;if(c){const u=i.get(c)||0;s=c+"-"+u,i.set(c,u+1)}}const o=gF(e,a,s);o!==void 0&&n.push(o)}return n}function Qle(e,t,n){const r=nle(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?Voe(n):sle(n)),r.property==="style"){let i=typeof n=="object"?n:Zle(e,String(n));return e.stylePropertyNameCase==="css"&&(i=Jle(i)),["style",i]}return[e.elementAttributeNameCase==="react"&&r.space?Joe[r.property]||r.property:r.attribute,n]}}function Zle(e,t){try{return Ile(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,i=new qi("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw i.file=e.filePath||void 0,i.url=pF+"#cannot-parse-style-attribute",i}}function bF(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const i=t.split(".");let a=-1,s;for(;++a<i.length;){const o=DT(i[a])?{type:"Identifier",name:i[a]}:{type:"Literal",value:i[a]};s=s?{type:"MemberExpression",object:s,property:o,computed:!!(a&&o.type==="Literal"),optional:!1}:o}r=s}else r=DT(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const i=r.value;return c2.call(e.components,i)?e.components[i]:i}if(e.evaluater)return e.evaluater.evaluateExpression(r);rh(e)}function rh(e,t){const n=new qi("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=pF+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Jle(e){const t={};let n;for(n in e)c2.call(e,n)&&(t[ece(n)]=e[n]);return t}function ece(e){let t=e.replace($le,tce);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function tce(e){return"-"+e.toLowerCase()}const Kv={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},nce={};function f2(e,t){const n=nce,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,i=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return vF(e,r,i)}function vF(e,t,n){if(rce(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return BT(e.children,t,n)}return Array.isArray(e)?BT(e,t,n):""}function BT(e,t,n){const r=[];let i=-1;for(;++i<e.length;)r[i]=vF(e[i],t,n);return r.join("")}function rce(e){return!!(e&&typeof e=="object")}const zT=document.createElement("i");function m2(e){const t="&"+e+";";zT.innerHTML=t;const n=zT.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Ua(e,t,n,r){const i=e.length;let a=0,s;if(t<0?t=-t>i?0:i+t:t=t>i?i:t,n=n>0?n:0,r.length<1e4)s=Array.from(r),s.unshift(t,n),e.splice(...s);else for(n&&e.splice(t,n);a<r.length;)s=r.slice(a,a+1e4),s.unshift(t,0),e.splice(...s),a+=1e4,t+=1e4}function us(e,t){return e.length>0?(Ua(e,e.length,0,t),e):t}const UT={}.hasOwnProperty;function yF(e){const t={};let n=-1;for(;++n<e.length;)ice(t,e[n]);return t}function ice(e,t){let n;for(n in t){const i=(UT.call(e,n)?e[n]:void 0)||(e[n]={}),a=t[n];let s;if(a)for(s in a){UT.call(i,s)||(i[s]=[]);const o=a[s];ace(i[s],Array.isArray(o)?o:o?[o]:[])}}}function ace(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Ua(e,0,0,r)}function wF(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function zs(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const na=Pc(/[A-Za-z]/),Wi=Pc(/[\dA-Za-z]/),sce=Pc(/[#-'*+\--9=?A-Z^-~]/);function Y0(e){return e!==null&&(e<32||e===127)}const S1=Pc(/\d/),oce=Pc(/[\dA-Fa-f]/),lce=Pc(/[!-/:-@[-`{-~]/);function Vt(e){return e!==null&&e<-2}function qn(e){return e!==null&&(e<0||e===32)}function gn(e){return e===-2||e===-1||e===32}const jb=Pc(new RegExp("\\p{P}|\\p{S}","u")),Cu=Pc(/\s/);function Pc(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function pf(e){const t=[];let n=-1,r=0,i=0;for(;++n<e.length;){const a=e.charCodeAt(n);let s="";if(a===37&&Wi(e.charCodeAt(n+1))&&Wi(e.charCodeAt(n+2)))i=2;else if(a<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(a))||(s=String.fromCharCode(a));else if(a>55295&&a<57344){const o=e.charCodeAt(n+1);a<56320&&o>56319&&o<57344?(s=String.fromCharCode(a,o),i=1):s=""}else s=String.fromCharCode(a);s&&(t.push(e.slice(r,n),encodeURIComponent(s)),r=n+i+1,s=""),i&&(n+=i,i=0)}return t.join("")+e.slice(r)}function An(e,t,n,r){const i=r?r-1:Number.POSITIVE_INFINITY;let a=0;return s;function s(c){return gn(c)?(e.enter(n),o(c)):t(c)}function o(c){return gn(c)&&a++<i?(e.consume(c),o):(e.exit(n),t(c))}}const cce={tokenize:uce};function uce(e){const t=e.attempt(this.parser.constructs.contentInitial,r,i);let n;return t;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),An(e,t,"linePrefix")}function i(o){return e.enter("paragraph"),a(o)}function a(o){const c=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=c),n=c,s(o)}function s(o){if(o===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(o);return}return Vt(o)?(e.consume(o),e.exit("chunkText"),a):(e.consume(o),s)}}const dce={tokenize:fce},WT={tokenize:mce};function fce(e){const t=this,n=[];let r=0,i,a,s;return o;function o(w){if(r<n.length){const N=n[r];return t.containerState=N[1],e.attempt(N[0].continuation,c,u)(w)}return u(w)}function c(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,i&&y();const N=t.events.length;let j=N,k;for(;j--;)if(t.events[j][0]==="exit"&&t.events[j][1].type==="chunkFlow"){k=t.events[j][1].end;break}b(r);let C=N;for(;C<t.events.length;)t.events[C][1].end={...k},C++;return Ua(t.events,j+1,0,t.events.slice(N)),t.events.length=C,u(w)}return o(w)}function u(w){if(r===n.length){if(!i)return h(w);if(i.currentConstruct&&i.currentConstruct.concrete)return p(w);t.interrupt=!!(i.currentConstruct&&!i._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(WT,d,f)(w)}function d(w){return i&&y(),b(r),h(w)}function f(w){return t.parser.lazy[t.now().line]=r!==n.length,s=t.now().offset,p(w)}function h(w){return t.containerState={},e.attempt(WT,m,p)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),h(w)}function p(w){if(w===null){i&&y(),b(0),e.consume(w);return}return i=i||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:i,contentType:"flow",previous:a}),x(w)}function x(w){if(w===null){v(e.exit("chunkFlow"),!0),b(0),e.consume(w);return}return Vt(w)?(e.consume(w),v(e.exit("chunkFlow")),r=0,t.interrupt=void 0,o):(e.consume(w),x)}function v(w,N){const j=t.sliceStream(w);if(N&&j.push(null),w.previous=a,a&&(a.next=w),a=w,i.defineSkip(w.start),i.write(j),t.parser.lazy[w.start.line]){let k=i.events.length;for(;k--;)if(i.events[k][1].start.offset<s&&(!i.events[k][1].end||i.events[k][1].end.offset>s))return;const C=t.events.length;let E=C,R,T;for(;E--;)if(t.events[E][0]==="exit"&&t.events[E][1].type==="chunkFlow"){if(R){T=t.events[E][1].end;break}R=!0}for(b(r),k=C;k<t.events.length;)t.events[k][1].end={...T},k++;Ua(t.events,E+1,0,t.events.slice(C)),t.events.length=k}}function b(w){let N=n.length;for(;N-- >w;){const j=n[N];t.containerState=j[1],j[0].exit.call(t,e)}n.length=w}function y(){i.write([null]),a=void 0,i=void 0,t.containerState._closeFlow=void 0}}function mce(e,t,n){return An(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Qd(e){if(e===null||qn(e)||Cu(e))return 1;if(jb(e))return 2}function Cb(e,t,n){const r=[];let i=-1;for(;++i<e.length;){const a=e[i].resolveAll;a&&!r.includes(a)&&(t=a(t,n),r.push(a))}return t}const j1={name:"attention",resolveAll:hce,tokenize:pce};function hce(e,t){let n=-1,r,i,a,s,o,c,u,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;c=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const f={...e[r][1].end},h={...e[n][1].start};VT(f,-c),VT(h,c),s={type:c>1?"strongSequence":"emphasisSequence",start:f,end:{...e[r][1].end}},o={type:c>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:h},a={type:c>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},i={type:c>1?"strong":"emphasis",start:{...s.start},end:{...o.end}},e[r][1].end={...s.start},e[n][1].start={...o.end},u=[],e[r][1].end.offset-e[r][1].start.offset&&(u=us(u,[["enter",e[r][1],t],["exit",e[r][1],t]])),u=us(u,[["enter",i,t],["enter",s,t],["exit",s,t],["enter",a,t]]),u=us(u,Cb(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),u=us(u,[["exit",a,t],["enter",o,t],["exit",o,t],["exit",i,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,u=us(u,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Ua(e,r-1,n-r+3,u),n=r+u.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function pce(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,i=Qd(r);let a;return s;function s(c){return a=c,e.enter("attentionSequence"),o(c)}function o(c){if(c===a)return e.consume(c),o;const u=e.exit("attentionSequence"),d=Qd(c),f=!d||d===2&&i||n.includes(c),h=!i||i===2&&d||n.includes(r);return u._open=!!(a===42?f:f&&(i||!h)),u._close=!!(a===42?h:h&&(d||!f)),t(c)}}function VT(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const gce={name:"autolink",tokenize:xce};function xce(e,t,n){let r=0;return i;function i(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),a}function a(m){return na(m)?(e.consume(m),s):m===64?n(m):u(m)}function s(m){return m===43||m===45||m===46||Wi(m)?(r=1,o(m)):u(m)}function o(m){return m===58?(e.consume(m),r=0,c):(m===43||m===45||m===46||Wi(m))&&r++<32?(e.consume(m),o):(r=0,u(m))}function c(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||Y0(m)?n(m):(e.consume(m),c)}function u(m){return m===64?(e.consume(m),d):sce(m)?(e.consume(m),u):n(m)}function d(m){return Wi(m)?f(m):n(m)}function f(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):h(m)}function h(m){if((m===45||Wi(m))&&r++<63){const p=m===45?h:f;return e.consume(m),p}return n(m)}}const Hh={partial:!0,tokenize:bce};function bce(e,t,n){return r;function r(a){return gn(a)?An(e,i,"linePrefix")(a):i(a)}function i(a){return a===null||Vt(a)?t(a):n(a)}}const kF={continuation:{tokenize:yce},exit:wce,name:"blockQuote",tokenize:vce};function vce(e,t,n){const r=this;return i;function i(s){if(s===62){const o=r.containerState;return o.open||(e.enter("blockQuote",{_container:!0}),o.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(s),e.exit("blockQuoteMarker"),a}return n(s)}function a(s){return gn(s)?(e.enter("blockQuotePrefixWhitespace"),e.consume(s),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(s))}}function yce(e,t,n){const r=this;return i;function i(s){return gn(s)?An(e,a,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(s):a(s)}function a(s){return e.attempt(kF,t,n)(s)}}function wce(e){e.exit("blockQuote")}const NF={name:"characterEscape",tokenize:kce};function kce(e,t,n){return r;function r(a){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(a),e.exit("escapeMarker"),i}function i(a){return lce(a)?(e.enter("characterEscapeValue"),e.consume(a),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(a)}}const SF={name:"characterReference",tokenize:Nce};function Nce(e,t,n){const r=this;let i=0,a,s;return o;function o(f){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),c}function c(f){return f===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(f),e.exit("characterReferenceMarkerNumeric"),u):(e.enter("characterReferenceValue"),a=31,s=Wi,d(f))}function u(f){return f===88||f===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(f),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),a=6,s=oce,d):(e.enter("characterReferenceValue"),a=7,s=S1,d(f))}function d(f){if(f===59&&i){const h=e.exit("characterReferenceValue");return s===Wi&&!m2(r.sliceSerialize(h))?n(f):(e.enter("characterReferenceMarker"),e.consume(f),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return s(f)&&i++<a?(e.consume(f),d):n(f)}}const HT={partial:!0,tokenize:jce},qT={concrete:!0,name:"codeFenced",tokenize:Sce};function Sce(e,t,n){const r=this,i={partial:!0,tokenize:j};let a=0,s=0,o;return c;function c(k){return u(k)}function u(k){const C=r.events[r.events.length-1];return a=C&&C[1].type==="linePrefix"?C[2].sliceSerialize(C[1],!0).length:0,o=k,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(k)}function d(k){return k===o?(s++,e.consume(k),d):s<3?n(k):(e.exit("codeFencedFenceSequence"),gn(k)?An(e,f,"whitespace")(k):f(k))}function f(k){return k===null||Vt(k)?(e.exit("codeFencedFence"),r.interrupt?t(k):e.check(HT,x,N)(k)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),h(k))}function h(k){return k===null||Vt(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),f(k)):gn(k)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),An(e,m,"whitespace")(k)):k===96&&k===o?n(k):(e.consume(k),h)}function m(k){return k===null||Vt(k)?f(k):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),p(k))}function p(k){return k===null||Vt(k)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),f(k)):k===96&&k===o?n(k):(e.consume(k),p)}function x(k){return e.attempt(i,N,v)(k)}function v(k){return e.enter("lineEnding"),e.consume(k),e.exit("lineEnding"),b}function b(k){return a>0&&gn(k)?An(e,y,"linePrefix",a+1)(k):y(k)}function y(k){return k===null||Vt(k)?e.check(HT,x,N)(k):(e.enter("codeFlowValue"),w(k))}function w(k){return k===null||Vt(k)?(e.exit("codeFlowValue"),y(k)):(e.consume(k),w)}function N(k){return e.exit("codeFenced"),t(k)}function j(k,C,E){let R=0;return T;function T(ve){return k.enter("lineEnding"),k.consume(ve),k.exit("lineEnding"),$}function $(ve){return k.enter("codeFencedFence"),gn(ve)?An(k,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(ve):I(ve)}function I(ve){return ve===o?(k.enter("codeFencedFenceSequence"),re(ve)):E(ve)}function re(ve){return ve===o?(R++,k.consume(ve),re):R>=s?(k.exit("codeFencedFenceSequence"),gn(ve)?An(k,ce,"whitespace")(ve):ce(ve)):E(ve)}function ce(ve){return ve===null||Vt(ve)?(k.exit("codeFencedFence"),C(ve)):E(ve)}}}function jce(e,t,n){const r=this;return i;function i(s){return s===null?n(s):(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}const Gv={name:"codeIndented",tokenize:Ace},Cce={partial:!0,tokenize:Pce};function Ace(e,t,n){const r=this;return i;function i(u){return e.enter("codeIndented"),An(e,a,"linePrefix",5)(u)}function a(u){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?s(u):n(u)}function s(u){return u===null?c(u):Vt(u)?e.attempt(Cce,s,c)(u):(e.enter("codeFlowValue"),o(u))}function o(u){return u===null||Vt(u)?(e.exit("codeFlowValue"),s(u)):(e.consume(u),o)}function c(u){return e.exit("codeIndented"),t(u)}}function Pce(e,t,n){const r=this;return i;function i(s){return r.parser.lazy[r.now().line]?n(s):Vt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),i):An(e,a,"linePrefix",5)(s)}function a(s){const o=r.events[r.events.length-1];return o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):Vt(s)?i(s):n(s)}}const Dce={name:"codeText",previous:Mce,resolve:Tce,tokenize:Ece};function Tce(e){let t=e.length-4,n=3,r,i;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)i===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(i=r):(r===t||e[r][1].type==="lineEnding")&&(e[i][1].type="codeTextData",r!==i+2&&(e[i][1].end=e[r-1][1].end,e.splice(i+2,r-i-2),t-=r-i-2,r=i+2),i=void 0);return e}function Mce(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function Ece(e,t,n){let r=0,i,a;return s;function s(f){return e.enter("codeText"),e.enter("codeTextSequence"),o(f)}function o(f){return f===96?(e.consume(f),r++,o):(e.exit("codeTextSequence"),c(f))}function c(f){return f===null?n(f):f===32?(e.enter("space"),e.consume(f),e.exit("space"),c):f===96?(a=e.enter("codeTextSequence"),i=0,d(f)):Vt(f)?(e.enter("lineEnding"),e.consume(f),e.exit("lineEnding"),c):(e.enter("codeTextData"),u(f))}function u(f){return f===null||f===32||f===96||Vt(f)?(e.exit("codeTextData"),c(f)):(e.consume(f),u)}function d(f){return f===96?(e.consume(f),i++,d):i===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(f)):(a.type="codeTextData",u(f))}}class Oce{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const i=n||0;this.setCursor(Math.trunc(t));const a=this.right.splice(this.right.length-i,Number.POSITIVE_INFINITY);return r&&Bf(this.left,r),a.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),Bf(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),Bf(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);Bf(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);Bf(this.left,n.reverse())}}}function Bf(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function jF(e){const t={};let n=-1,r,i,a,s,o,c,u;const d=new Oce(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(c=r[1]._tokenizer.events,a=0,a<c.length&&c[a][1].type==="lineEndingBlank"&&(a+=2),a<c.length&&c[a][1].type==="content"))for(;++a<c.length&&c[a][1].type!=="content";)c[a][1].type==="chunkText"&&(c[a][1]._isInFirstContentOfListItem=!0,a++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,Ice(d,n)),n=t[n],u=!0);else if(r[1]._container){for(a=n,i=void 0;a--;)if(s=d.get(a),s[1].type==="lineEnding"||s[1].type==="lineEndingBlank")s[0]==="enter"&&(i&&(d.get(i)[1].type="lineEndingBlank"),s[1].type="lineEnding",i=a);else if(!(s[1].type==="linePrefix"||s[1].type==="listItemIndent"))break;i&&(r[1].end={...d.get(i)[1].start},o=d.slice(i,n),o.unshift(r),d.splice(i,n-i+1,o))}}return Ua(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!u}function Ice(e,t){const n=e.get(t)[1],r=e.get(t)[2];let i=t-1;const a=[];let s=n._tokenizer;s||(s=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(s._contentTypeTextTrailing=!0));const o=s.events,c=[],u={};let d,f,h=-1,m=n,p=0,x=0;const v=[x];for(;m;){for(;e.get(++i)[1]!==m;);a.push(i),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),f&&s.defineSkip(m.start),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=!0),s.write(d),m._isInFirstContentOfListItem&&(s._gfmTasklistFirstContentOfListItem=void 0)),f=m,m=m.next}for(m=n;++h<o.length;)o[h][0]==="exit"&&o[h-1][0]==="enter"&&o[h][1].type===o[h-1][1].type&&o[h][1].start.line!==o[h][1].end.line&&(x=h+1,v.push(x),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(s.events=[],m?(m._tokenizer=void 0,m.previous=void 0):v.pop(),h=v.length;h--;){const b=o.slice(v[h],v[h+1]),y=a.pop();c.push([y,y+b.length-1]),e.splice(y,2,b)}for(c.reverse(),h=-1;++h<c.length;)u[p+c[h][0]]=p+c[h][1],p+=c[h][1]-c[h][0]-1;return u}const _ce={resolve:$ce,tokenize:Fce},Lce={partial:!0,tokenize:Rce};function $ce(e){return jF(e),e}function Fce(e,t){let n;return r;function r(o){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),i(o)}function i(o){return o===null?a(o):Vt(o)?e.check(Lce,s,a)(o):(e.consume(o),i)}function a(o){return e.exit("chunkContent"),e.exit("content"),t(o)}function s(o){return e.consume(o),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,i}}function Rce(e,t,n){const r=this;return i;function i(s){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),An(e,a,"linePrefix")}function a(s){if(s===null||Vt(s))return n(s);const o=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&o&&o[1].type==="linePrefix"&&o[2].sliceSerialize(o[1],!0).length>=4?t(s):e.interrupt(r.parser.constructs.flow,n,t)(s)}}function CF(e,t,n,r,i,a,s,o,c){const u=c||Number.POSITIVE_INFINITY;let d=0;return f;function f(b){return b===60?(e.enter(r),e.enter(i),e.enter(a),e.consume(b),e.exit(a),h):b===null||b===32||b===41||Y0(b)?n(b):(e.enter(r),e.enter(s),e.enter(o),e.enter("chunkString",{contentType:"string"}),x(b))}function h(b){return b===62?(e.enter(a),e.consume(b),e.exit(a),e.exit(i),e.exit(r),t):(e.enter(o),e.enter("chunkString",{contentType:"string"}),m(b))}function m(b){return b===62?(e.exit("chunkString"),e.exit(o),h(b)):b===null||b===60||Vt(b)?n(b):(e.consume(b),b===92?p:m)}function p(b){return b===60||b===62||b===92?(e.consume(b),m):m(b)}function x(b){return!d&&(b===null||b===41||qn(b))?(e.exit("chunkString"),e.exit(o),e.exit(s),e.exit(r),t(b)):d<u&&b===40?(e.consume(b),d++,x):b===41?(e.consume(b),d--,x):b===null||b===32||b===40||Y0(b)?n(b):(e.consume(b),b===92?v:x)}function v(b){return b===40||b===41||b===92?(e.consume(b),x):x(b)}}function AF(e,t,n,r,i,a){const s=this;let o=0,c;return u;function u(m){return e.enter(r),e.enter(i),e.consume(m),e.exit(i),e.enter(a),d}function d(m){return o>999||m===null||m===91||m===93&&!c||m===94&&!o&&"_hiddenFootnoteSupport"in s.parser.constructs?n(m):m===93?(e.exit(a),e.enter(i),e.consume(m),e.exit(i),e.exit(r),t):Vt(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),f(m))}function f(m){return m===null||m===91||m===93||Vt(m)||o++>999?(e.exit("chunkString"),d(m)):(e.consume(m),c||(c=!gn(m)),m===92?h:f)}function h(m){return m===91||m===92||m===93?(e.consume(m),o++,f):f(m)}}function PF(e,t,n,r,i,a){let s;return o;function o(h){return h===34||h===39||h===40?(e.enter(r),e.enter(i),e.consume(h),e.exit(i),s=h===40?41:h,c):n(h)}function c(h){return h===s?(e.enter(i),e.consume(h),e.exit(i),e.exit(r),t):(e.enter(a),u(h))}function u(h){return h===s?(e.exit(a),c(s)):h===null?n(h):Vt(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),An(e,u,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(h))}function d(h){return h===s||h===null||Vt(h)?(e.exit("chunkString"),u(h)):(e.consume(h),h===92?f:d)}function f(h){return h===s||h===92?(e.consume(h),d):d(h)}}function pm(e,t){let n;return r;function r(i){return Vt(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),n=!0,r):gn(i)?An(e,r,n?"linePrefix":"lineSuffix")(i):t(i)}}const Bce={name:"definition",tokenize:Uce},zce={partial:!0,tokenize:Wce};function Uce(e,t,n){const r=this;let i;return a;function a(m){return e.enter("definition"),s(m)}function s(m){return AF.call(r,e,o,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function o(m){return i=zs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),c):n(m)}function c(m){return qn(m)?pm(e,u)(m):u(m)}function u(m){return CF(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(zce,f,f)(m)}function f(m){return gn(m)?An(e,h,"whitespace")(m):h(m)}function h(m){return m===null||Vt(m)?(e.exit("definition"),r.parser.defined.push(i),t(m)):n(m)}}function Wce(e,t,n){return r;function r(o){return qn(o)?pm(e,i)(o):n(o)}function i(o){return PF(e,a,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(o)}function a(o){return gn(o)?An(e,s,"whitespace")(o):s(o)}function s(o){return o===null||Vt(o)?t(o):n(o)}}const Vce={name:"hardBreakEscape",tokenize:Hce};function Hce(e,t,n){return r;function r(a){return e.enter("hardBreakEscape"),e.consume(a),i}function i(a){return Vt(a)?(e.exit("hardBreakEscape"),t(a)):n(a)}}const qce={name:"headingAtx",resolve:Kce,tokenize:Gce};function Kce(e,t){let n=e.length-2,r=3,i,a;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(i={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},a={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Ua(e,r,n-r+1,[["enter",i,t],["enter",a,t],["exit",a,t],["exit",i,t]])),e}function Gce(e,t,n){let r=0;return i;function i(d){return e.enter("atxHeading"),a(d)}function a(d){return e.enter("atxHeadingSequence"),s(d)}function s(d){return d===35&&r++<6?(e.consume(d),s):d===null||qn(d)?(e.exit("atxHeadingSequence"),o(d)):n(d)}function o(d){return d===35?(e.enter("atxHeadingSequence"),c(d)):d===null||Vt(d)?(e.exit("atxHeading"),t(d)):gn(d)?An(e,o,"whitespace")(d):(e.enter("atxHeadingText"),u(d))}function c(d){return d===35?(e.consume(d),c):(e.exit("atxHeadingSequence"),o(d))}function u(d){return d===null||d===35||qn(d)?(e.exit("atxHeadingText"),o(d)):(e.consume(d),u)}}const Yce=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],KT=["pre","script","style","textarea"],Xce={concrete:!0,name:"htmlFlow",resolveTo:Jce,tokenize:eue},Qce={partial:!0,tokenize:nue},Zce={partial:!0,tokenize:tue};function Jce(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function eue(e,t,n){const r=this;let i,a,s,o,c;return u;function u(S){return d(S)}function d(S){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(S),f}function f(S){return S===33?(e.consume(S),h):S===47?(e.consume(S),a=!0,x):S===63?(e.consume(S),i=3,r.interrupt?t:_):na(S)?(e.consume(S),s=String.fromCharCode(S),v):n(S)}function h(S){return S===45?(e.consume(S),i=2,m):S===91?(e.consume(S),i=5,o=0,p):na(S)?(e.consume(S),i=4,r.interrupt?t:_):n(S)}function m(S){return S===45?(e.consume(S),r.interrupt?t:_):n(S)}function p(S){const Y="CDATA[";return S===Y.charCodeAt(o++)?(e.consume(S),o===Y.length?r.interrupt?t:I:p):n(S)}function x(S){return na(S)?(e.consume(S),s=String.fromCharCode(S),v):n(S)}function v(S){if(S===null||S===47||S===62||qn(S)){const Y=S===47,B=s.toLowerCase();return!Y&&!a&&KT.includes(B)?(i=1,r.interrupt?t(S):I(S)):Yce.includes(s.toLowerCase())?(i=6,Y?(e.consume(S),b):r.interrupt?t(S):I(S)):(i=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(S):a?y(S):w(S))}return S===45||Wi(S)?(e.consume(S),s+=String.fromCharCode(S),v):n(S)}function b(S){return S===62?(e.consume(S),r.interrupt?t:I):n(S)}function y(S){return gn(S)?(e.consume(S),y):T(S)}function w(S){return S===47?(e.consume(S),T):S===58||S===95||na(S)?(e.consume(S),N):gn(S)?(e.consume(S),w):T(S)}function N(S){return S===45||S===46||S===58||S===95||Wi(S)?(e.consume(S),N):j(S)}function j(S){return S===61?(e.consume(S),k):gn(S)?(e.consume(S),j):w(S)}function k(S){return S===null||S===60||S===61||S===62||S===96?n(S):S===34||S===39?(e.consume(S),c=S,C):gn(S)?(e.consume(S),k):E(S)}function C(S){return S===c?(e.consume(S),c=null,R):S===null||Vt(S)?n(S):(e.consume(S),C)}function E(S){return S===null||S===34||S===39||S===47||S===60||S===61||S===62||S===96||qn(S)?j(S):(e.consume(S),E)}function R(S){return S===47||S===62||gn(S)?w(S):n(S)}function T(S){return S===62?(e.consume(S),$):n(S)}function $(S){return S===null||Vt(S)?I(S):gn(S)?(e.consume(S),$):n(S)}function I(S){return S===45&&i===2?(e.consume(S),Oe):S===60&&i===1?(e.consume(S),fe):S===62&&i===4?(e.consume(S),D):S===63&&i===3?(e.consume(S),_):S===93&&i===5?(e.consume(S),xe):Vt(S)&&(i===6||i===7)?(e.exit("htmlFlowData"),e.check(Qce,ue,re)(S)):S===null||Vt(S)?(e.exit("htmlFlowData"),re(S)):(e.consume(S),I)}function re(S){return e.check(Zce,ce,ue)(S)}function ce(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),ve}function ve(S){return S===null||Vt(S)?re(S):(e.enter("htmlFlowData"),I(S))}function Oe(S){return S===45?(e.consume(S),_):I(S)}function fe(S){return S===47?(e.consume(S),s="",Z):I(S)}function Z(S){if(S===62){const Y=s.toLowerCase();return KT.includes(Y)?(e.consume(S),D):I(S)}return na(S)&&s.length<8?(e.consume(S),s+=String.fromCharCode(S),Z):I(S)}function xe(S){return S===93?(e.consume(S),_):I(S)}function _(S){return S===62?(e.consume(S),D):S===45&&i===2?(e.consume(S),_):I(S)}function D(S){return S===null||Vt(S)?(e.exit("htmlFlowData"),ue(S)):(e.consume(S),D)}function ue(S){return e.exit("htmlFlow"),t(S)}}function tue(e,t,n){const r=this;return i;function i(s){return Vt(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),a):n(s)}function a(s){return r.parser.lazy[r.now().line]?n(s):t(s)}}function nue(e,t,n){return r;function r(i){return e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),e.attempt(Hh,t,n)}}const rue={name:"htmlText",tokenize:iue};function iue(e,t,n){const r=this;let i,a,s;return o;function o(_){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(_),c}function c(_){return _===33?(e.consume(_),u):_===47?(e.consume(_),j):_===63?(e.consume(_),w):na(_)?(e.consume(_),E):n(_)}function u(_){return _===45?(e.consume(_),d):_===91?(e.consume(_),a=0,p):na(_)?(e.consume(_),y):n(_)}function d(_){return _===45?(e.consume(_),m):n(_)}function f(_){return _===null?n(_):_===45?(e.consume(_),h):Vt(_)?(s=f,fe(_)):(e.consume(_),f)}function h(_){return _===45?(e.consume(_),m):f(_)}function m(_){return _===62?Oe(_):_===45?h(_):f(_)}function p(_){const D="CDATA[";return _===D.charCodeAt(a++)?(e.consume(_),a===D.length?x:p):n(_)}function x(_){return _===null?n(_):_===93?(e.consume(_),v):Vt(_)?(s=x,fe(_)):(e.consume(_),x)}function v(_){return _===93?(e.consume(_),b):x(_)}function b(_){return _===62?Oe(_):_===93?(e.consume(_),b):x(_)}function y(_){return _===null||_===62?Oe(_):Vt(_)?(s=y,fe(_)):(e.consume(_),y)}function w(_){return _===null?n(_):_===63?(e.consume(_),N):Vt(_)?(s=w,fe(_)):(e.consume(_),w)}function N(_){return _===62?Oe(_):w(_)}function j(_){return na(_)?(e.consume(_),k):n(_)}function k(_){return _===45||Wi(_)?(e.consume(_),k):C(_)}function C(_){return Vt(_)?(s=C,fe(_)):gn(_)?(e.consume(_),C):Oe(_)}function E(_){return _===45||Wi(_)?(e.consume(_),E):_===47||_===62||qn(_)?R(_):n(_)}function R(_){return _===47?(e.consume(_),Oe):_===58||_===95||na(_)?(e.consume(_),T):Vt(_)?(s=R,fe(_)):gn(_)?(e.consume(_),R):Oe(_)}function T(_){return _===45||_===46||_===58||_===95||Wi(_)?(e.consume(_),T):$(_)}function $(_){return _===61?(e.consume(_),I):Vt(_)?(s=$,fe(_)):gn(_)?(e.consume(_),$):R(_)}function I(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),i=_,re):Vt(_)?(s=I,fe(_)):gn(_)?(e.consume(_),I):(e.consume(_),ce)}function re(_){return _===i?(e.consume(_),i=void 0,ve):_===null?n(_):Vt(_)?(s=re,fe(_)):(e.consume(_),re)}function ce(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||qn(_)?R(_):(e.consume(_),ce)}function ve(_){return _===47||_===62||qn(_)?R(_):n(_)}function Oe(_){return _===62?(e.consume(_),e.exit("htmlTextData"),e.exit("htmlText"),t):n(_)}function fe(_){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),Z}function Z(_){return gn(_)?An(e,xe,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):xe(_)}function xe(_){return e.enter("htmlTextData"),s(_)}}const h2={name:"labelEnd",resolveAll:lue,resolveTo:cue,tokenize:uue},aue={tokenize:due},sue={tokenize:fue},oue={tokenize:mue};function lue(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const i=r.type==="labelImage"?4:2;r.type="data",t+=i}}return e.length!==n.length&&Ua(e,0,e.length,n),e}function cue(e,t){let n=e.length,r=0,i,a,s,o;for(;n--;)if(i=e[n][1],a){if(i.type==="link"||i.type==="labelLink"&&i._inactive)break;e[n][0]==="enter"&&i.type==="labelLink"&&(i._inactive=!0)}else if(s){if(e[n][0]==="enter"&&(i.type==="labelImage"||i.type==="labelLink")&&!i._balanced&&(a=n,i.type!=="labelLink")){r=2;break}}else i.type==="labelEnd"&&(s=n);const c={type:e[a][1].type==="labelLink"?"link":"image",start:{...e[a][1].start},end:{...e[e.length-1][1].end}},u={type:"label",start:{...e[a][1].start},end:{...e[s][1].end}},d={type:"labelText",start:{...e[a+r+2][1].end},end:{...e[s-2][1].start}};return o=[["enter",c,t],["enter",u,t]],o=us(o,e.slice(a+1,a+r+3)),o=us(o,[["enter",d,t]]),o=us(o,Cb(t.parser.constructs.insideSpan.null,e.slice(a+r+4,s-3),t)),o=us(o,[["exit",d,t],e[s-2],e[s-1],["exit",u,t]]),o=us(o,e.slice(s+1)),o=us(o,[["exit",c,t]]),Ua(e,a,e.length,o),e}function uue(e,t,n){const r=this;let i=r.events.length,a,s;for(;i--;)if((r.events[i][1].type==="labelImage"||r.events[i][1].type==="labelLink")&&!r.events[i][1]._balanced){a=r.events[i][1];break}return o;function o(h){return a?a._inactive?f(h):(s=r.parser.defined.includes(zs(r.sliceSerialize({start:a.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(h),e.exit("labelMarker"),e.exit("labelEnd"),c):n(h)}function c(h){return h===40?e.attempt(aue,d,s?d:f)(h):h===91?e.attempt(sue,d,s?u:f)(h):s?d(h):f(h)}function u(h){return e.attempt(oue,d,f)(h)}function d(h){return t(h)}function f(h){return a._balanced=!0,n(h)}}function due(e,t,n){return r;function r(f){return e.enter("resource"),e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),i}function i(f){return qn(f)?pm(e,a)(f):a(f)}function a(f){return f===41?d(f):CF(e,s,o,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(f)}function s(f){return qn(f)?pm(e,c)(f):d(f)}function o(f){return n(f)}function c(f){return f===34||f===39||f===40?PF(e,u,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(f):d(f)}function u(f){return qn(f)?pm(e,d)(f):d(f)}function d(f){return f===41?(e.enter("resourceMarker"),e.consume(f),e.exit("resourceMarker"),e.exit("resource"),t):n(f)}}function fue(e,t,n){const r=this;return i;function i(o){return AF.call(r,e,a,s,"reference","referenceMarker","referenceString")(o)}function a(o){return r.parser.defined.includes(zs(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(o):n(o)}function s(o){return n(o)}}function mue(e,t,n){return r;function r(a){return e.enter("reference"),e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),i}function i(a){return a===93?(e.enter("referenceMarker"),e.consume(a),e.exit("referenceMarker"),e.exit("reference"),t):n(a)}}const hue={name:"labelStartImage",resolveAll:h2.resolveAll,tokenize:pue};function pue(e,t,n){const r=this;return i;function i(o){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(o),e.exit("labelImageMarker"),a}function a(o){return o===91?(e.enter("labelMarker"),e.consume(o),e.exit("labelMarker"),e.exit("labelImage"),s):n(o)}function s(o){return o===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(o):t(o)}}const gue={name:"labelStartLink",resolveAll:h2.resolveAll,tokenize:xue};function xue(e,t,n){const r=this;return i;function i(s){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(s),e.exit("labelMarker"),e.exit("labelLink"),a}function a(s){return s===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(s):t(s)}}const Yv={name:"lineEnding",tokenize:bue};function bue(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),An(e,t,"linePrefix")}}const yg={name:"thematicBreak",tokenize:vue};function vue(e,t,n){let r=0,i;return a;function a(u){return e.enter("thematicBreak"),s(u)}function s(u){return i=u,o(u)}function o(u){return u===i?(e.enter("thematicBreakSequence"),c(u)):r>=3&&(u===null||Vt(u))?(e.exit("thematicBreak"),t(u)):n(u)}function c(u){return u===i?(e.consume(u),r++,c):(e.exit("thematicBreakSequence"),gn(u)?An(e,o,"whitespace")(u):o(u))}}const ga={continuation:{tokenize:Nue},exit:jue,name:"list",tokenize:kue},yue={partial:!0,tokenize:Cue},wue={partial:!0,tokenize:Sue};function kue(e,t,n){const r=this,i=r.events[r.events.length-1];let a=i&&i[1].type==="linePrefix"?i[2].sliceSerialize(i[1],!0).length:0,s=0;return o;function o(m){const p=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(p==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:S1(m)){if(r.containerState.type||(r.containerState.type=p,e.enter(p,{_container:!0})),p==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(yg,n,u)(m):u(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),c(m)}return n(m)}function c(m){return S1(m)&&++s<10?(e.consume(m),c):(!r.interrupt||s<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),u(m)):n(m)}function u(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(Hh,r.interrupt?n:d,e.attempt(yue,h,f))}function d(m){return r.containerState.initialBlankLine=!0,a++,h(m)}function f(m){return gn(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),h):n(m)}function h(m){return r.containerState.size=a+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function Nue(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(Hh,i,a);function i(o){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,An(e,t,"listItemIndent",r.containerState.size+1)(o)}function a(o){return r.containerState.furtherBlankLines||!gn(o)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,s(o)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(wue,t,s)(o))}function s(o){return r.containerState._closeFlow=!0,r.interrupt=void 0,An(e,e.attempt(ga,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(o)}}function Sue(e,t,n){const r=this;return An(e,i,"listItemIndent",r.containerState.size+1);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="listItemIndent"&&s[2].sliceSerialize(s[1],!0).length===r.containerState.size?t(a):n(a)}}function jue(e){e.exit(this.containerState.type)}function Cue(e,t,n){const r=this;return An(e,i,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function i(a){const s=r.events[r.events.length-1];return!gn(a)&&s&&s[1].type==="listItemPrefixWhitespace"?t(a):n(a)}}const GT={name:"setextUnderline",resolveTo:Aue,tokenize:Pue};function Aue(e,t){let n=e.length,r,i,a;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(i=n)}else e[n][1].type==="content"&&e.splice(n,1),!a&&e[n][1].type==="definition"&&(a=n);const s={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[i][1].type="setextHeadingText",a?(e.splice(i,0,["enter",s,t]),e.splice(a+1,0,["exit",e[r][1],t]),e[r][1].end={...e[a][1].end}):e[r][1]=s,e.push(["exit",s,t]),e}function Pue(e,t,n){const r=this;let i;return a;function a(u){let d=r.events.length,f;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){f=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||f)?(e.enter("setextHeadingLine"),i=u,s(u)):n(u)}function s(u){return e.enter("setextHeadingLineSequence"),o(u)}function o(u){return u===i?(e.consume(u),o):(e.exit("setextHeadingLineSequence"),gn(u)?An(e,c,"lineSuffix")(u):c(u))}function c(u){return u===null||Vt(u)?(e.exit("setextHeadingLine"),t(u)):n(u)}}const Due={tokenize:Tue};function Tue(e){const t=this,n=e.attempt(Hh,r,e.attempt(this.parser.constructs.flowInitial,i,An(e,e.attempt(this.parser.constructs.flow,i,e.attempt(_ce,i)),"linePrefix")));return n;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEndingBlank"),e.consume(a),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function i(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const Mue={resolveAll:TF()},Eue=DF("string"),Oue=DF("text");function DF(e){return{resolveAll:TF(e==="text"?Iue:void 0),tokenize:t};function t(n){const r=this,i=this.parser.constructs[e],a=n.attempt(i,s,o);return s;function s(d){return u(d)?a(d):o(d)}function o(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),c}function c(d){return u(d)?(n.exit("data"),a(d)):(n.consume(d),c)}function u(d){if(d===null)return!0;const f=i[d];let h=-1;if(f)for(;++h<f.length;){const m=f[h];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function TF(e){return t;function t(n,r){let i=-1,a;for(;++i<=n.length;)a===void 0?n[i]&&n[i][1].type==="data"&&(a=i,i++):(!n[i]||n[i][1].type!=="data")&&(i!==a+2&&(n[a][1].end=n[i-1][1].end,n.splice(a+2,i-a-2),i=a+2),a=void 0);return e?e(n,r):n}}function Iue(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],i=t.sliceStream(r);let a=i.length,s=-1,o=0,c;for(;a--;){const u=i[a];if(typeof u=="string"){for(s=u.length;u.charCodeAt(s-1)===32;)o++,s--;if(s)break;s=-1}else if(u===-2)c=!0,o++;else if(u!==-1){a++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(o=0),o){const u={type:n===e.length||c||o<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:a?s:r.start._bufferIndex+s,_index:r.start._index+a,line:r.end.line,column:r.end.column-o,offset:r.end.offset-o},end:{...r.end}};r.end={...u.start},r.start.offset===r.end.offset?Object.assign(r,u):(e.splice(n,0,["enter",u,t],["exit",u,t]),n+=2)}n++}return e}const _ue={42:ga,43:ga,45:ga,48:ga,49:ga,50:ga,51:ga,52:ga,53:ga,54:ga,55:ga,56:ga,57:ga,62:kF},Lue={91:Bce},$ue={[-2]:Gv,[-1]:Gv,32:Gv},Fue={35:qce,42:yg,45:[GT,yg],60:Xce,61:GT,95:yg,96:qT,126:qT},Rue={38:SF,92:NF},Bue={[-5]:Yv,[-4]:Yv,[-3]:Yv,33:hue,38:SF,42:j1,60:[gce,rue],91:gue,92:[Vce,NF],93:h2,95:j1,96:Dce},zue={null:[j1,Mue]},Uue={null:[42,95]},Wue={null:[]},Vue=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:Uue,contentInitial:Lue,disable:Wue,document:_ue,flow:Fue,flowInitial:$ue,insideSpan:zue,string:Rue,text:Bue},Symbol.toStringTag,{value:"Module"}));function Hue(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const i={},a=[];let s=[],o=[];const c={attempt:C(j),check:C(k),consume:y,enter:w,exit:N,interrupt:C(k,{interrupt:!0})},u={code:null,containerState:{},defineSkip:x,events:[],now:p,parser:e,previous:null,sliceSerialize:h,sliceStream:m,write:f};let d=t.tokenize.call(u,c);return t.resolveAll&&a.push(t),u;function f($){return s=us(s,$),v(),s[s.length-1]!==null?[]:(E(t,0),u.events=Cb(a,u.events,u),u.events)}function h($,I){return Kue(m($),I)}function m($){return que(s,$)}function p(){const{_bufferIndex:$,_index:I,line:re,column:ce,offset:ve}=r;return{_bufferIndex:$,_index:I,line:re,column:ce,offset:ve}}function x($){i[$.line]=$.column,T()}function v(){let $;for(;r._index<s.length;){const I=s[r._index];if(typeof I=="string")for($=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===$&&r._bufferIndex<I.length;)b(I.charCodeAt(r._bufferIndex));else b(I)}}function b($){d=d($)}function y($){Vt($)?(r.line++,r.column=1,r.offset+=$===-3?2:1,T()):$!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===s[r._index].length&&(r._bufferIndex=-1,r._index++)),u.previous=$}function w($,I){const re=I||{};return re.type=$,re.start=p(),u.events.push(["enter",re,u]),o.push(re),re}function N($){const I=o.pop();return I.end=p(),u.events.push(["exit",I,u]),I}function j($,I){E($,I.from)}function k($,I){I.restore()}function C($,I){return re;function re(ce,ve,Oe){let fe,Z,xe,_;return Array.isArray(ce)?ue(ce):"tokenize"in ce?ue([ce]):D(ce);function D(ee){return de;function de(oe){const H=oe!==null&&ee[oe],K=oe!==null&&ee.null,J=[...Array.isArray(H)?H:H?[H]:[],...Array.isArray(K)?K:K?[K]:[]];return ue(J)(oe)}}function ue(ee){return fe=ee,Z=0,ee.length===0?Oe:S(ee[Z])}function S(ee){return de;function de(oe){return _=R(),xe=ee,ee.partial||(u.currentConstruct=ee),ee.name&&u.parser.constructs.disable.null.includes(ee.name)?B():ee.tokenize.call(I?Object.assign(Object.create(u),I):u,c,Y,B)(oe)}}function Y(ee){return $(xe,_),ve}function B(ee){return _.restore(),++Z<fe.length?S(fe[Z]):Oe}}}function E($,I){$.resolveAll&&!a.includes($)&&a.push($),$.resolve&&Ua(u.events,I,u.events.length-I,$.resolve(u.events.slice(I),u)),$.resolveTo&&(u.events=$.resolveTo(u.events,u))}function R(){const $=p(),I=u.previous,re=u.currentConstruct,ce=u.events.length,ve=Array.from(o);return{from:ce,restore:Oe};function Oe(){r=$,u.previous=I,u.currentConstruct=re,u.events.length=ce,o=ve,T()}}function T(){r.line in i&&r.column<2&&(r.column=i[r.line],r.offset+=i[r.line]-1)}}function que(e,t){const n=t.start._index,r=t.start._bufferIndex,i=t.end._index,a=t.end._bufferIndex;let s;if(n===i)s=[e[n].slice(r,a)];else{if(s=e.slice(n,i),r>-1){const o=s[0];typeof o=="string"?s[0]=o.slice(r):s.shift()}a>0&&s.push(e[i].slice(0,a))}return s}function Kue(e,t){let n=-1;const r=[];let i;for(;++n<e.length;){const a=e[n];let s;if(typeof a=="string")s=a;else switch(a){case-5:{s="\r";break}case-4:{s=`
`;break}case-3:{s=`\r
`;break}case-2:{s=t?" ":"	";break}case-1:{if(!t&&i)continue;s=" ";break}default:s=String.fromCharCode(a)}i=a===-2,r.push(s)}return r.join("")}function Gue(e){const r={constructs:yF([Vue,...(e||{}).extensions||[]]),content:i(cce),defined:[],document:i(dce),flow:i(Due),lazy:{},string:i(Eue),text:i(Oue)};return r;function i(a){return s;function s(o){return Hue(r,a,o)}}}function Yue(e){for(;!jF(e););return e}const YT=/[\0\t\n\r]/g;function Xue(){let e=1,t="",n=!0,r;return i;function i(a,s,o){const c=[];let u,d,f,h,m;for(a=t+(typeof a=="string"?a.toString():new TextDecoder(s||void 0).decode(a)),f=0,t="",n&&(a.charCodeAt(0)===65279&&f++,n=void 0);f<a.length;){if(YT.lastIndex=f,u=YT.exec(a),h=u&&u.index!==void 0?u.index:a.length,m=a.charCodeAt(h),!u){t=a.slice(f);break}if(m===10&&f===h&&r)c.push(-3),r=void 0;else switch(r&&(c.push(-5),r=void 0),f<h&&(c.push(a.slice(f,h)),e+=h-f),m){case 0:{c.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,c.push(-2);e++<d;)c.push(-1);break}case 10:{c.push(-4),e=1;break}default:r=!0,e=1}f=h+1}return o&&(r&&c.push(-5),t&&c.push(t),c.push(null)),c}}const Que=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Zue(e){return e.replace(Que,Jue)}function Jue(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const i=n.charCodeAt(1),a=i===120||i===88;return wF(n.slice(a?2:1),a?16:10)}return m2(n)||e}const MF={}.hasOwnProperty;function ede(e,t,n){return typeof t!="string"&&(n=t,t=void 0),tde(n)(Yue(Gue(n).document().write(Xue()(e,t,!0))))}function tde(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:a(yt),autolinkProtocol:R,autolinkEmail:R,atxHeading:a(ie),blockQuote:a(K),characterEscape:R,characterReference:R,codeFenced:a(J),codeFencedFenceInfo:s,codeFencedFenceMeta:s,codeIndented:a(J,s),codeText:a(ae,s),codeTextData:R,data:R,codeFlowValue:R,definition:a(V),definitionDestinationString:s,definitionLabelString:s,definitionTitleString:s,emphasis:a(be),hardBreakEscape:a(me),hardBreakTrailing:a(me),htmlFlow:a(Ye,s),htmlFlowData:R,htmlText:a(Ye,s),htmlTextData:R,image:a(Qe),label:s,link:a(yt),listItem:a(Ae),listItemValue:h,listOrdered:a($e,f),listUnordered:a($e),paragraph:a(Ee),reference:S,referenceString:s,resourceDestinationString:s,resourceTitleString:s,setextHeading:a(ie),strong:a(ot),thematicBreak:a(Kt)},exit:{atxHeading:c(),atxHeadingSequence:j,autolink:c(),autolinkEmail:H,autolinkProtocol:oe,blockQuote:c(),characterEscapeValue:T,characterReferenceMarkerHexadecimal:B,characterReferenceMarkerNumeric:B,characterReferenceValue:ee,characterReference:de,codeFenced:c(v),codeFencedFence:x,codeFencedFenceInfo:m,codeFencedFenceMeta:p,codeFlowValue:T,codeIndented:c(b),codeText:c(ve),codeTextData:T,data:T,definition:c(),definitionDestinationString:N,definitionLabelString:y,definitionTitleString:w,emphasis:c(),hardBreakEscape:c(I),hardBreakTrailing:c(I),htmlFlow:c(re),htmlFlowData:T,htmlText:c(ce),htmlTextData:T,image:c(fe),label:xe,labelText:Z,lineEnding:$,link:c(Oe),listItem:c(),listOrdered:c(),listUnordered:c(),paragraph:c(),referenceString:Y,resourceDestinationString:_,resourceTitleString:D,resource:ue,setextHeading:c(E),setextHeadingLineSequence:C,setextHeadingText:k,strong:c(),thematicBreak:c()}};EF(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(Le){let ft={type:"root",children:[]};const Ft={stack:[ft],tokenStack:[],config:t,enter:o,exit:u,buffer:s,resume:d,data:n},Gt=[];let wn=-1;for(;++wn<Le.length;)if(Le[wn][1].type==="listOrdered"||Le[wn][1].type==="listUnordered")if(Le[wn][0]==="enter")Gt.push(wn);else{const tr=Gt.pop();wn=i(Le,tr,wn)}for(wn=-1;++wn<Le.length;){const tr=t[Le[wn][0]];MF.call(tr,Le[wn][1].type)&&tr[Le[wn][1].type].call(Object.assign({sliceSerialize:Le[wn][2].sliceSerialize},Ft),Le[wn][1])}if(Ft.tokenStack.length>0){const tr=Ft.tokenStack[Ft.tokenStack.length-1];(tr[1]||XT).call(Ft,void 0,tr[0])}for(ft.position={start:Bl(Le.length>0?Le[0][1].start:{line:1,column:1,offset:0}),end:Bl(Le.length>0?Le[Le.length-2][1].end:{line:1,column:1,offset:0})},wn=-1;++wn<t.transforms.length;)ft=t.transforms[wn](ft)||ft;return ft}function i(Le,ft,Ft){let Gt=ft-1,wn=-1,tr=!1,on,fn,Aa,dn;for(;++Gt<=Ft;){const In=Le[Gt];switch(In[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{In[0]==="enter"?wn++:wn--,dn=void 0;break}case"lineEndingBlank":{In[0]==="enter"&&(on&&!dn&&!wn&&!Aa&&(Aa=Gt),dn=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:dn=void 0}if(!wn&&In[0]==="enter"&&In[1].type==="listItemPrefix"||wn===-1&&In[0]==="exit"&&(In[1].type==="listUnordered"||In[1].type==="listOrdered")){if(on){let cr=Gt;for(fn=void 0;cr--;){const Oi=Le[cr];if(Oi[1].type==="lineEnding"||Oi[1].type==="lineEndingBlank"){if(Oi[0]==="exit")continue;fn&&(Le[fn][1].type="lineEndingBlank",tr=!0),Oi[1].type="lineEnding",fn=cr}else if(!(Oi[1].type==="linePrefix"||Oi[1].type==="blockQuotePrefix"||Oi[1].type==="blockQuotePrefixWhitespace"||Oi[1].type==="blockQuoteMarker"||Oi[1].type==="listItemIndent"))break}Aa&&(!fn||Aa<fn)&&(on._spread=!0),on.end=Object.assign({},fn?Le[fn][1].start:In[1].end),Le.splice(fn||Gt,0,["exit",on,In[2]]),Gt++,Ft++}if(In[1].type==="listItemPrefix"){const cr={type:"listItem",_spread:!1,start:Object.assign({},In[1].start),end:void 0};on=cr,Le.splice(Gt,0,["enter",cr,In[2]]),Gt++,Ft++,Aa=void 0,dn=!0}}}return Le[ft][1]._spread=tr,Ft}function a(Le,ft){return Ft;function Ft(Gt){o.call(this,Le(Gt),Gt),ft&&ft.call(this,Gt)}}function s(){this.stack.push({type:"fragment",children:[]})}function o(Le,ft,Ft){this.stack[this.stack.length-1].children.push(Le),this.stack.push(Le),this.tokenStack.push([ft,Ft||void 0]),Le.position={start:Bl(ft.start),end:void 0}}function c(Le){return ft;function ft(Ft){Le&&Le.call(this,Ft),u.call(this,Ft)}}function u(Le,ft){const Ft=this.stack.pop(),Gt=this.tokenStack.pop();if(Gt)Gt[0].type!==Le.type&&(ft?ft.call(this,Le,Gt[0]):(Gt[1]||XT).call(this,Le,Gt[0]));else throw new Error("Cannot close `"+Le.type+"` ("+hm({start:Le.start,end:Le.end})+"): its not open");Ft.position.end=Bl(Le.end)}function d(){return f2(this.stack.pop())}function f(){this.data.expectingFirstListItemValue=!0}function h(Le){if(this.data.expectingFirstListItemValue){const ft=this.stack[this.stack.length-2];ft.start=Number.parseInt(this.sliceSerialize(Le),10),this.data.expectingFirstListItemValue=void 0}}function m(){const Le=this.resume(),ft=this.stack[this.stack.length-1];ft.lang=Le}function p(){const Le=this.resume(),ft=this.stack[this.stack.length-1];ft.meta=Le}function x(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function v(){const Le=this.resume(),ft=this.stack[this.stack.length-1];ft.value=Le.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function b(){const Le=this.resume(),ft=this.stack[this.stack.length-1];ft.value=Le.replace(/(\r?\n|\r)$/g,"")}function y(Le){const ft=this.resume(),Ft=this.stack[this.stack.length-1];Ft.label=ft,Ft.identifier=zs(this.sliceSerialize(Le)).toLowerCase()}function w(){const Le=this.resume(),ft=this.stack[this.stack.length-1];ft.title=Le}function N(){const Le=this.resume(),ft=this.stack[this.stack.length-1];ft.url=Le}function j(Le){const ft=this.stack[this.stack.length-1];if(!ft.depth){const Ft=this.sliceSerialize(Le).length;ft.depth=Ft}}function k(){this.data.setextHeadingSlurpLineEnding=!0}function C(Le){const ft=this.stack[this.stack.length-1];ft.depth=this.sliceSerialize(Le).codePointAt(0)===61?1:2}function E(){this.data.setextHeadingSlurpLineEnding=void 0}function R(Le){const Ft=this.stack[this.stack.length-1].children;let Gt=Ft[Ft.length-1];(!Gt||Gt.type!=="text")&&(Gt=Ce(),Gt.position={start:Bl(Le.start),end:void 0},Ft.push(Gt)),this.stack.push(Gt)}function T(Le){const ft=this.stack.pop();ft.value+=this.sliceSerialize(Le),ft.position.end=Bl(Le.end)}function $(Le){const ft=this.stack[this.stack.length-1];if(this.data.atHardBreak){const Ft=ft.children[ft.children.length-1];Ft.position.end=Bl(Le.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(ft.type)&&(R.call(this,Le),T.call(this,Le))}function I(){this.data.atHardBreak=!0}function re(){const Le=this.resume(),ft=this.stack[this.stack.length-1];ft.value=Le}function ce(){const Le=this.resume(),ft=this.stack[this.stack.length-1];ft.value=Le}function ve(){const Le=this.resume(),ft=this.stack[this.stack.length-1];ft.value=Le}function Oe(){const Le=this.stack[this.stack.length-1];if(this.data.inReference){const ft=this.data.referenceType||"shortcut";Le.type+="Reference",Le.referenceType=ft,delete Le.url,delete Le.title}else delete Le.identifier,delete Le.label;this.data.referenceType=void 0}function fe(){const Le=this.stack[this.stack.length-1];if(this.data.inReference){const ft=this.data.referenceType||"shortcut";Le.type+="Reference",Le.referenceType=ft,delete Le.url,delete Le.title}else delete Le.identifier,delete Le.label;this.data.referenceType=void 0}function Z(Le){const ft=this.sliceSerialize(Le),Ft=this.stack[this.stack.length-2];Ft.label=Zue(ft),Ft.identifier=zs(ft).toLowerCase()}function xe(){const Le=this.stack[this.stack.length-1],ft=this.resume(),Ft=this.stack[this.stack.length-1];if(this.data.inReference=!0,Ft.type==="link"){const Gt=Le.children;Ft.children=Gt}else Ft.alt=ft}function _(){const Le=this.resume(),ft=this.stack[this.stack.length-1];ft.url=Le}function D(){const Le=this.resume(),ft=this.stack[this.stack.length-1];ft.title=Le}function ue(){this.data.inReference=void 0}function S(){this.data.referenceType="collapsed"}function Y(Le){const ft=this.resume(),Ft=this.stack[this.stack.length-1];Ft.label=ft,Ft.identifier=zs(this.sliceSerialize(Le)).toLowerCase(),this.data.referenceType="full"}function B(Le){this.data.characterReferenceType=Le.type}function ee(Le){const ft=this.sliceSerialize(Le),Ft=this.data.characterReferenceType;let Gt;Ft?(Gt=wF(ft,Ft==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):Gt=m2(ft);const wn=this.stack[this.stack.length-1];wn.value+=Gt}function de(Le){const ft=this.stack.pop();ft.position.end=Bl(Le.end)}function oe(Le){T.call(this,Le);const ft=this.stack[this.stack.length-1];ft.url=this.sliceSerialize(Le)}function H(Le){T.call(this,Le);const ft=this.stack[this.stack.length-1];ft.url="mailto:"+this.sliceSerialize(Le)}function K(){return{type:"blockquote",children:[]}}function J(){return{type:"code",lang:null,meta:null,value:""}}function ae(){return{type:"inlineCode",value:""}}function V(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function be(){return{type:"emphasis",children:[]}}function ie(){return{type:"heading",depth:0,children:[]}}function me(){return{type:"break"}}function Ye(){return{type:"html",value:""}}function Qe(){return{type:"image",title:null,url:"",alt:null}}function yt(){return{type:"link",title:null,url:"",children:[]}}function $e(Le){return{type:"list",ordered:Le.type==="listOrdered",start:null,spread:Le._spread,children:[]}}function Ae(Le){return{type:"listItem",spread:Le._spread,checked:null,children:[]}}function Ee(){return{type:"paragraph",children:[]}}function ot(){return{type:"strong",children:[]}}function Ce(){return{type:"text",value:""}}function Kt(){return{type:"thematicBreak"}}}function Bl(e){return{line:e.line,column:e.column,offset:e.offset}}function EF(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?EF(e,r):nde(e,r)}}function nde(e,t){let n;for(n in t)if(MF.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function XT(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+hm({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+hm({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+hm({start:t.start,end:t.end})+") is still open")}function rde(e){const t=this;t.parser=n;function n(r){return ede(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function ide(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function ade(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function sde(e,t){const n=t.value?t.value+`
`:"",r={},i=t.lang?t.lang.split(/\s+/):[];i.length>0&&(r.className=["language-"+i[0]]);let a={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(a.data={meta:t.meta}),e.patch(t,a),a=e.applyData(t,a),a={type:"element",tagName:"pre",properties:{},children:[a]},e.patch(t,a),a}function ode(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function lde(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function cde(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),i=pf(r.toLowerCase()),a=e.footnoteOrder.indexOf(r);let s,o=e.footnoteCounts.get(r);o===void 0?(o=0,e.footnoteOrder.push(r),s=e.footnoteOrder.length):s=a+1,o+=1,e.footnoteCounts.set(r,o);const c={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+i,id:n+"fnref-"+i+(o>1?"-"+o:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(s)}]};e.patch(t,c);const u={type:"element",tagName:"sup",properties:{},children:[c]};return e.patch(t,u),e.applyData(t,u)}function ude(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function dde(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function OF(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const i=e.all(t),a=i[0];a&&a.type==="text"?a.value="["+a.value:i.unshift({type:"text",value:"["});const s=i[i.length-1];return s&&s.type==="text"?s.value+=r:i.push({type:"text",value:r}),i}function fde(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return OF(e,t);const i={src:pf(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"img",properties:i,children:[]};return e.patch(t,a),e.applyData(t,a)}function mde(e,t){const n={src:pf(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function hde(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function pde(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return OF(e,t);const i={href:pf(r.url||"")};r.title!==null&&r.title!==void 0&&(i.title=r.title);const a={type:"element",tagName:"a",properties:i,children:e.all(t)};return e.patch(t,a),e.applyData(t,a)}function gde(e,t){const n={href:pf(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function xde(e,t,n){const r=e.all(t),i=n?bde(n):IF(t),a={},s=[];if(typeof t.checked=="boolean"){const d=r[0];let f;d&&d.type==="element"&&d.tagName==="p"?f=d:(f={type:"element",tagName:"p",properties:{},children:[]},r.unshift(f)),f.children.length>0&&f.children.unshift({type:"text",value:" "}),f.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),a.className=["task-list-item"]}let o=-1;for(;++o<r.length;){const d=r[o];(i||o!==0||d.type!=="element"||d.tagName!=="p")&&s.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!i?s.push(...d.children):s.push(d)}const c=r[r.length-1];c&&(i||c.type!=="element"||c.tagName!=="p")&&s.push({type:"text",value:`
`});const u={type:"element",tagName:"li",properties:a,children:s};return e.patch(t,u),e.applyData(t,u)}function bde(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=IF(n[r])}return t}function IF(e){const t=e.spread;return t??e.children.length>1}function vde(e,t){const n={},r=e.all(t);let i=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++i<r.length;){const s=r[i];if(s.type==="element"&&s.tagName==="li"&&s.properties&&Array.isArray(s.properties.className)&&s.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const a={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,a),e.applyData(t,a)}function yde(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function wde(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function kde(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function Nde(e,t){const n=e.all(t),r=n.shift(),i=[];if(r){const s={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],s),i.push(s)}if(n.length>0){const s={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},o=l2(t.children[1]),c=mF(t.children[t.children.length-1]);o&&c&&(s.position={start:o,end:c}),i.push(s)}const a={type:"element",tagName:"table",properties:{},children:e.wrap(i,!0)};return e.patch(t,a),e.applyData(t,a)}function Sde(e,t,n){const r=n?n.children:void 0,a=(r?r.indexOf(t):1)===0?"th":"td",s=n&&n.type==="table"?n.align:void 0,o=s?s.length:t.children.length;let c=-1;const u=[];for(;++c<o;){const f=t.children[c],h={},m=s?s[c]:void 0;m&&(h.align=m);let p={type:"element",tagName:a,properties:h,children:[]};f&&(p.children=e.all(f),e.patch(f,p),p=e.applyData(f,p)),u.push(p)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(u,!0)};return e.patch(t,d),e.applyData(t,d)}function jde(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const QT=9,ZT=32;function Cde(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),i=0;const a=[];for(;r;)a.push(JT(t.slice(i,r.index),i>0,!0),r[0]),i=r.index+r[0].length,r=n.exec(t);return a.push(JT(t.slice(i),i>0,!1)),a.join("")}function JT(e,t,n){let r=0,i=e.length;if(t){let a=e.codePointAt(r);for(;a===QT||a===ZT;)r++,a=e.codePointAt(r)}if(n){let a=e.codePointAt(i-1);for(;a===QT||a===ZT;)i--,a=e.codePointAt(i-1)}return i>r?e.slice(r,i):""}function Ade(e,t){const n={type:"text",value:Cde(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function Pde(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const Dde={blockquote:ide,break:ade,code:sde,delete:ode,emphasis:lde,footnoteReference:cde,heading:ude,html:dde,imageReference:fde,image:mde,inlineCode:hde,linkReference:pde,link:gde,listItem:xde,list:vde,paragraph:yde,root:wde,strong:kde,table:Nde,tableCell:jde,tableRow:Sde,text:Ade,thematicBreak:Pde,toml:Kp,yaml:Kp,definition:Kp,footnoteDefinition:Kp};function Kp(){}const _F=-1,Ab=0,gm=1,X0=2,p2=3,g2=4,x2=5,b2=6,LF=7,$F=8,eM=typeof self=="object"?self:globalThis,Tde=(e,t)=>{const n=(i,a)=>(e.set(a,i),i),r=i=>{if(e.has(i))return e.get(i);const[a,s]=t[i];switch(a){case Ab:case _F:return n(s,i);case gm:{const o=n([],i);for(const c of s)o.push(r(c));return o}case X0:{const o=n({},i);for(const[c,u]of s)o[r(c)]=r(u);return o}case p2:return n(new Date(s),i);case g2:{const{source:o,flags:c}=s;return n(new RegExp(o,c),i)}case x2:{const o=n(new Map,i);for(const[c,u]of s)o.set(r(c),r(u));return o}case b2:{const o=n(new Set,i);for(const c of s)o.add(r(c));return o}case LF:{const{name:o,message:c}=s;return n(new eM[o](c),i)}case $F:return n(BigInt(s),i);case"BigInt":return n(Object(BigInt(s)),i);case"ArrayBuffer":return n(new Uint8Array(s).buffer,s);case"DataView":{const{buffer:o}=new Uint8Array(s);return n(new DataView(o),s)}}return n(new eM[a](s),i)};return r},tM=e=>Tde(new Map,e)(0),Zu="",{toString:Mde}={},{keys:Ede}=Object,zf=e=>{const t=typeof e;if(t!=="object"||!e)return[Ab,t];const n=Mde.call(e).slice(8,-1);switch(n){case"Array":return[gm,Zu];case"Object":return[X0,Zu];case"Date":return[p2,Zu];case"RegExp":return[g2,Zu];case"Map":return[x2,Zu];case"Set":return[b2,Zu];case"DataView":return[gm,n]}return n.includes("Array")?[gm,n]:n.includes("Error")?[LF,n]:[X0,n]},Gp=([e,t])=>e===Ab&&(t==="function"||t==="symbol"),Ode=(e,t,n,r)=>{const i=(s,o)=>{const c=r.push(s)-1;return n.set(o,c),c},a=s=>{if(n.has(s))return n.get(s);let[o,c]=zf(s);switch(o){case Ab:{let d=s;switch(c){case"bigint":o=$F,d=s.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+c);d=null;break;case"undefined":return i([_F],s)}return i([o,d],s)}case gm:{if(c){let h=s;return c==="DataView"?h=new Uint8Array(s.buffer):c==="ArrayBuffer"&&(h=new Uint8Array(s)),i([c,[...h]],s)}const d=[],f=i([o,d],s);for(const h of s)d.push(a(h));return f}case X0:{if(c)switch(c){case"BigInt":return i([c,s.toString()],s);case"Boolean":case"Number":case"String":return i([c,s.valueOf()],s)}if(t&&"toJSON"in s)return a(s.toJSON());const d=[],f=i([o,d],s);for(const h of Ede(s))(e||!Gp(zf(s[h])))&&d.push([a(h),a(s[h])]);return f}case p2:return i([o,s.toISOString()],s);case g2:{const{source:d,flags:f}=s;return i([o,{source:d,flags:f}],s)}case x2:{const d=[],f=i([o,d],s);for(const[h,m]of s)(e||!(Gp(zf(h))||Gp(zf(m))))&&d.push([a(h),a(m)]);return f}case b2:{const d=[],f=i([o,d],s);for(const h of s)(e||!Gp(zf(h)))&&d.push(a(h));return f}}const{message:u}=s;return i([o,{name:c,message:u}],s)};return a},nM=(e,{json:t,lossy:n}={})=>{const r=[];return Ode(!(t||n),!!t,new Map,r)(e),r},Q0=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?tM(nM(e,t)):structuredClone(e):(e,t)=>tM(nM(e,t));function Ide(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function _de(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function Lde(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||Ide,r=e.options.footnoteBackLabel||_de,i=e.options.footnoteLabel||"Footnotes",a=e.options.footnoteLabelTagName||"h2",s=e.options.footnoteLabelProperties||{className:["sr-only"]},o=[];let c=-1;for(;++c<e.footnoteOrder.length;){const u=e.footnoteById.get(e.footnoteOrder[c]);if(!u)continue;const d=e.all(u),f=String(u.identifier).toUpperCase(),h=pf(f.toLowerCase());let m=0;const p=[],x=e.footnoteCounts.get(f);for(;x!==void 0&&++m<=x;){p.length>0&&p.push({type:"text",value:" "});let y=typeof n=="string"?n:n(c,m);typeof y=="string"&&(y={type:"text",value:y}),p.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+h+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(c,m),className:["data-footnote-backref"]},children:Array.isArray(y)?y:[y]})}const v=d[d.length-1];if(v&&v.type==="element"&&v.tagName==="p"){const y=v.children[v.children.length-1];y&&y.type==="text"?y.value+=" ":v.children.push({type:"text",value:" "}),v.children.push(...p)}else d.push(...p);const b={type:"element",tagName:"li",properties:{id:t+"fn-"+h},children:e.wrap(d,!0)};e.patch(u,b),o.push(b)}if(o.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:a,properties:{...Q0(s),id:"footnote-label"},children:[{type:"text",value:i}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(o,!0)},{type:"text",value:`
`}]}}const Pb=function(e){if(e==null)return Bde;if(typeof e=="function")return Db(e);if(typeof e=="object")return Array.isArray(e)?$de(e):Fde(e);if(typeof e=="string")return Rde(e);throw new Error("Expected function, string, or object as test")};function $de(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=Pb(e[n]);return Db(r);function r(...i){let a=-1;for(;++a<t.length;)if(t[a].apply(this,i))return!0;return!1}}function Fde(e){const t=e;return Db(n);function n(r){const i=r;let a;for(a in e)if(i[a]!==t[a])return!1;return!0}}function Rde(e){return Db(t);function t(n){return n&&n.type===e}}function Db(e){return t;function t(n,r,i){return!!(zde(n)&&e.call(this,n,typeof r=="number"?r:void 0,i||void 0))}}function Bde(){return!0}function zde(e){return e!==null&&typeof e=="object"&&"type"in e}const FF=[],Ude=!0,C1=!1,Wde="skip";function RF(e,t,n,r){let i;typeof t=="function"&&typeof n!="function"?(r=n,n=t):i=t;const a=Pb(i),s=r?-1:1;o(e,void 0,[])();function o(c,u,d){const f=c&&typeof c=="object"?c:{};if(typeof f.type=="string"){const m=typeof f.tagName=="string"?f.tagName:typeof f.name=="string"?f.name:void 0;Object.defineProperty(h,"name",{value:"node ("+(c.type+(m?"<"+m+">":""))+")"})}return h;function h(){let m=FF,p,x,v;if((!t||a(c,u,d[d.length-1]||void 0))&&(m=Vde(n(c,d)),m[0]===C1))return m;if("children"in c&&c.children){const b=c;if(b.children&&m[0]!==Wde)for(x=(r?b.children.length:-1)+s,v=d.concat(b);x>-1&&x<b.children.length;){const y=b.children[x];if(p=o(y,x,v)(),p[0]===C1)return p;x=typeof p[1]=="number"?p[1]:x+s}}return m}}}function Vde(e){return Array.isArray(e)?e:typeof e=="number"?[Ude,e]:e==null?FF:[e]}function v2(e,t,n,r){let i,a,s;typeof t=="function"&&typeof n!="function"?(a=void 0,s=t,i=n):(a=t,s=n,i=r),RF(e,a,o,i);function o(c,u){const d=u[u.length-1],f=d?d.children.indexOf(c):void 0;return s(c,f,d)}}const A1={}.hasOwnProperty,Hde={};function qde(e,t){const n=t||Hde,r=new Map,i=new Map,a=new Map,s={...Dde,...n.handlers},o={all:u,applyData:Gde,definitionById:r,footnoteById:i,footnoteCounts:a,footnoteOrder:[],handlers:s,one:c,options:n,patch:Kde,wrap:Xde};return v2(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const f=d.type==="definition"?r:i,h=String(d.identifier).toUpperCase();f.has(h)||f.set(h,d)}}),o;function c(d,f){const h=d.type,m=o.handlers[h];if(A1.call(o.handlers,h)&&m)return m(o,d,f);if(o.options.passThrough&&o.options.passThrough.includes(h)){if("children"in d){const{children:x,...v}=d,b=Q0(v);return b.children=o.all(d),b}return Q0(d)}return(o.options.unknownHandler||Yde)(o,d,f)}function u(d){const f=[];if("children"in d){const h=d.children;let m=-1;for(;++m<h.length;){const p=o.one(h[m],d);if(p){if(m&&h[m-1].type==="break"&&(!Array.isArray(p)&&p.type==="text"&&(p.value=rM(p.value)),!Array.isArray(p)&&p.type==="element")){const x=p.children[0];x&&x.type==="text"&&(x.value=rM(x.value))}Array.isArray(p)?f.push(...p):f.push(p)}}}return f}}function Kde(e,t){e.position&&(t.position=_le(e))}function Gde(e,t){let n=t;if(e&&e.data){const r=e.data.hName,i=e.data.hChildren,a=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const s="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:s}}n.type==="element"&&a&&Object.assign(n.properties,Q0(a)),"children"in n&&n.children&&i!==null&&i!==void 0&&(n.children=i)}return n}function Yde(e,t){const n=t.data||{},r="value"in t&&!(A1.call(n,"hProperties")||A1.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function Xde(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function rM(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function iM(e,t){const n=qde(e,t),r=n.one(e,void 0),i=Lde(n),a=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return i&&a.children.push({type:"text",value:`
`},i),a}function Qde(e,t){return e&&"run"in e?async function(n,r){const i=iM(n,{file:r,...t});await e.run(i,r)}:function(n,r){return iM(n,{file:r,...e||t})}}function aM(e){if(e)throw e}var wg=Object.prototype.hasOwnProperty,BF=Object.prototype.toString,sM=Object.defineProperty,oM=Object.getOwnPropertyDescriptor,lM=function(t){return typeof Array.isArray=="function"?Array.isArray(t):BF.call(t)==="[object Array]"},cM=function(t){if(!t||BF.call(t)!=="[object Object]")return!1;var n=wg.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&wg.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var i;for(i in t);return typeof i>"u"||wg.call(t,i)},uM=function(t,n){sM&&n.name==="__proto__"?sM(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},dM=function(t,n){if(n==="__proto__")if(wg.call(t,n)){if(oM)return oM(t,n).value}else return;return t[n]},Zde=function e(){var t,n,r,i,a,s,o=arguments[0],c=1,u=arguments.length,d=!1;for(typeof o=="boolean"&&(d=o,o=arguments[1]||{},c=2),(o==null||typeof o!="object"&&typeof o!="function")&&(o={});c<u;++c)if(t=arguments[c],t!=null)for(n in t)r=dM(o,n),i=dM(t,n),o!==i&&(d&&i&&(cM(i)||(a=lM(i)))?(a?(a=!1,s=r&&lM(r)?r:[]):s=r&&cM(r)?r:{},uM(o,{name:n,newValue:e(d,s,i)})):typeof i<"u"&&uM(o,{name:n,newValue:i}));return o};const Xv=Ks(Zde);function P1(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function Jde(){const e=[],t={run:n,use:r};return t;function n(...i){let a=-1;const s=i.pop();if(typeof s!="function")throw new TypeError("Expected function as last argument, not "+s);o(null,...i);function o(c,...u){const d=e[++a];let f=-1;if(c){s(c);return}for(;++f<i.length;)(u[f]===null||u[f]===void 0)&&(u[f]=i[f]);i=u,d?efe(d,o)(...u):s(null,...u)}}function r(i){if(typeof i!="function")throw new TypeError("Expected `middelware` to be a function, not "+i);return e.push(i),t}}function efe(e,t){let n;return r;function r(...s){const o=e.length>s.length;let c;o&&s.push(i);try{c=e.apply(this,s)}catch(u){const d=u;if(o&&n)throw d;return i(d)}o||(c&&c.then&&typeof c.then=="function"?c.then(a,i):c instanceof Error?i(c):a(c))}function i(s,...o){n||(n=!0,t(s,...o))}function a(s){i(null,s)}}const lo={basename:tfe,dirname:nfe,extname:rfe,join:ife,sep:"/"};function tfe(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');qh(e);let n=0,r=-1,i=e.length,a;if(t===void 0||t.length===0||t.length>e.length){for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else r<0&&(a=!0,r=i+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let s=-1,o=t.length-1;for(;i--;)if(e.codePointAt(i)===47){if(a){n=i+1;break}}else s<0&&(a=!0,s=i+1),o>-1&&(e.codePointAt(i)===t.codePointAt(o--)?o<0&&(r=i):(o=-1,r=s));return n===r?r=s:r<0&&(r=e.length),e.slice(n,r)}function nfe(e){if(qh(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function rfe(e){qh(e);let t=e.length,n=-1,r=0,i=-1,a=0,s;for(;t--;){const o=e.codePointAt(t);if(o===47){if(s){r=t+1;break}continue}n<0&&(s=!0,n=t+1),o===46?i<0?i=t:a!==1&&(a=1):i>-1&&(a=-1)}return i<0||n<0||a===0||a===1&&i===n-1&&i===r+1?"":e.slice(i,n)}function ife(...e){let t=-1,n;for(;++t<e.length;)qh(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":afe(n)}function afe(e){qh(e);const t=e.codePointAt(0)===47;let n=sfe(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function sfe(e,t){let n="",r=0,i=-1,a=0,s=-1,o,c;for(;++s<=e.length;){if(s<e.length)o=e.codePointAt(s);else{if(o===47)break;o=47}if(o===47){if(!(i===s-1||a===1))if(i!==s-1&&a===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(c=n.lastIndexOf("/"),c!==n.length-1){c<0?(n="",r=0):(n=n.slice(0,c),r=n.length-1-n.lastIndexOf("/")),i=s,a=0;continue}}else if(n.length>0){n="",r=0,i=s,a=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(i+1,s):n=e.slice(i+1,s),r=s-i-1;i=s,a=0}else o===46&&a>-1?a++:a=-1}return n}function qh(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const ofe={cwd:lfe};function lfe(){return"/"}function D1(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function cfe(e){if(typeof e=="string")e=new URL(e);else if(!D1(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return ufe(e)}function ufe(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const i=new TypeError("File URL path must not include encoded / characters");throw i.code="ERR_INVALID_FILE_URL_PATH",i}}return decodeURIComponent(t)}const Qv=["history","path","basename","stem","extname","dirname"];class zF{constructor(t){let n;t?D1(t)?n={path:t}:typeof t=="string"||dfe(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":ofe.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Qv.length;){const a=Qv[r];a in n&&n[a]!==void 0&&n[a]!==null&&(this[a]=a==="history"?[...n[a]]:n[a])}let i;for(i in n)Qv.includes(i)||(this[i]=n[i])}get basename(){return typeof this.path=="string"?lo.basename(this.path):void 0}set basename(t){Jv(t,"basename"),Zv(t,"basename"),this.path=lo.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?lo.dirname(this.path):void 0}set dirname(t){fM(this.basename,"dirname"),this.path=lo.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?lo.extname(this.path):void 0}set extname(t){if(Zv(t,"extname"),fM(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=lo.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){D1(t)&&(t=cfe(t)),Jv(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?lo.basename(this.path,this.extname):void 0}set stem(t){Jv(t,"stem"),Zv(t,"stem"),this.path=lo.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const i=this.message(t,n,r);throw i.fatal=!0,i}info(t,n,r){const i=this.message(t,n,r);return i.fatal=void 0,i}message(t,n,r){const i=new qi(t,n,r);return this.path&&(i.name=this.path+":"+i.name,i.file=this.path),i.fatal=!1,this.messages.push(i),i}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Zv(e,t){if(e&&e.includes(lo.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+lo.sep+"`")}function Jv(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function fM(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function dfe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const ffe=function(e){const r=this.constructor.prototype,i=r[e],a=function(){return i.apply(a,arguments)};return Object.setPrototypeOf(a,r),a},mfe={}.hasOwnProperty;class y2 extends ffe{constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=Jde()}copy(){const t=new y2;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Xv(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(ny("data",this.frozen),this.namespace[t]=n,this):mfe.call(this.namespace,t)&&this.namespace[t]||void 0:t?(ny("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const i=n.call(t,...r);typeof i=="function"&&this.transformers.use(i)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=Yp(t),r=this.parser||this.Parser;return ey("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),ey("process",this.parser||this.Parser),ty("process",this.compiler||this.Compiler),n?i(void 0,n):new Promise(i);function i(a,s){const o=Yp(t),c=r.parse(o);r.run(c,o,function(d,f,h){if(d||!f||!h)return u(d);const m=f,p=r.stringify(m,h);gfe(p)?h.value=p:h.result=p,u(d,h)});function u(d,f){d||!f?s(d):a?a(f):n(void 0,f)}}}processSync(t){let n=!1,r;return this.freeze(),ey("processSync",this.parser||this.Parser),ty("processSync",this.compiler||this.Compiler),this.process(t,i),hM("processSync","process",n),r;function i(a,s){n=!0,aM(a),r=s}}run(t,n,r){mM(t),this.freeze();const i=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?a(void 0,r):new Promise(a);function a(s,o){const c=Yp(n);i.run(t,c,u);function u(d,f,h){const m=f||t;d?o(d):s?s(m):r(void 0,m,h)}}}runSync(t,n){let r=!1,i;return this.run(t,n,a),hM("runSync","run",r),i;function a(s,o){aM(s),i=o,r=!0}}stringify(t,n){this.freeze();const r=Yp(n),i=this.compiler||this.Compiler;return ty("stringify",i),mM(t),i(t,r)}use(t,...n){const r=this.attachers,i=this.namespace;if(ny("use",this.frozen),t!=null)if(typeof t=="function")c(t,n);else if(typeof t=="object")Array.isArray(t)?o(t):s(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function a(u){if(typeof u=="function")c(u,[]);else if(typeof u=="object")if(Array.isArray(u)){const[d,...f]=u;c(d,f)}else s(u);else throw new TypeError("Expected usable value, not `"+u+"`")}function s(u){if(!("plugins"in u)&&!("settings"in u))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");o(u.plugins),u.settings&&(i.settings=Xv(!0,i.settings,u.settings))}function o(u){let d=-1;if(u!=null)if(Array.isArray(u))for(;++d<u.length;){const f=u[d];a(f)}else throw new TypeError("Expected a list of plugins, not `"+u+"`")}function c(u,d){let f=-1,h=-1;for(;++f<r.length;)if(r[f][0]===u){h=f;break}if(h===-1)r.push([u,...d]);else if(d.length>0){let[m,...p]=d;const x=r[h][1];P1(x)&&P1(m)&&(m=Xv(!0,x,m)),r[h]=[u,m,...p]}}}}const hfe=new y2().freeze();function ey(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function ty(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function ny(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function mM(e){if(!P1(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function hM(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function Yp(e){return pfe(e)?e:new zF(e)}function pfe(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function gfe(e){return typeof e=="string"||xfe(e)}function xfe(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const bfe="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",pM=[],gM={allowDangerousHtml:!0},vfe=/^(https?|ircs?|mailto|xmpp)$/i,yfe=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function wfe(e){const t=kfe(e),n=Nfe(e);return Sfe(t.runSync(t.parse(n),n),e)}function kfe(e){const t=e.rehypePlugins||pM,n=e.remarkPlugins||pM,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...gM}:gM;return hfe().use(rde).use(n).use(Qde,r).use(t)}function Nfe(e){const t=e.children||"",n=new zF;return typeof t=="string"&&(n.value=t),n}function Sfe(e,t){const n=t.allowedElements,r=t.allowElement,i=t.components,a=t.disallowedElements,s=t.skipHtml,o=t.unwrapDisallowed,c=t.urlTransform||jfe;for(const d of yfe)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+bfe+d.id,void 0);return t.className&&(e={type:"element",tagName:"div",properties:{className:t.className},children:e.type==="root"?e.children:[e]}),v2(e,u),Ble(e,{Fragment:l.Fragment,components:i,ignoreInvalidStyle:!0,jsx:l.jsx,jsxs:l.jsxs,passKeys:!0,passNode:!0});function u(d,f,h){if(d.type==="raw"&&h&&typeof f=="number")return s?h.children.splice(f,1):h.children[f]={type:"text",value:d.value},f;if(d.type==="element"){let m;for(m in Kv)if(Object.hasOwn(Kv,m)&&Object.hasOwn(d.properties,m)){const p=d.properties[m],x=Kv[m];(x===null||x.includes(d.tagName))&&(d.properties[m]=c(String(p||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):a?a.includes(d.tagName):!1;if(!m&&r&&typeof f=="number"&&(m=!r(d,f,h)),m&&h&&typeof f=="number")return o&&d.children?h.children.splice(f,1,...d.children):h.children.splice(f,1),f}}}function jfe(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),i=e.indexOf("/");return t===-1||i!==-1&&t>i||n!==-1&&t>n||r!==-1&&t>r||vfe.test(e.slice(0,t))?e:""}function xM(e,t){const n=String(e);if(typeof t!="string")throw new TypeError("Expected character");let r=0,i=n.indexOf(t);for(;i!==-1;)r++,i=n.indexOf(t,i+t.length);return r}function Cfe(e){if(typeof e!="string")throw new TypeError("Expected a string");return e.replace(/[|\\{}()[\]^$+*?.]/g,"\\$&").replace(/-/g,"\\x2d")}function Afe(e,t,n){const i=Pb((n||{}).ignore||[]),a=Pfe(t);let s=-1;for(;++s<a.length;)RF(e,"text",o);function o(u,d){let f=-1,h;for(;++f<d.length;){const m=d[f],p=h?h.children:void 0;if(i(m,p?p.indexOf(m):void 0,h))return;h=m}if(h)return c(u,d)}function c(u,d){const f=d[d.length-1],h=a[s][0],m=a[s][1];let p=0;const v=f.children.indexOf(u);let b=!1,y=[];h.lastIndex=0;let w=h.exec(u.value);for(;w;){const N=w.index,j={index:w.index,input:w.input,stack:[...d,u]};let k=m(...w,j);if(typeof k=="string"&&(k=k.length>0?{type:"text",value:k}:void 0),k===!1?h.lastIndex=N+1:(p!==N&&y.push({type:"text",value:u.value.slice(p,N)}),Array.isArray(k)?y.push(...k):k&&y.push(k),p=N+w[0].length,b=!0),!h.global)break;w=h.exec(u.value)}return b?(p<u.value.length&&y.push({type:"text",value:u.value.slice(p)}),f.children.splice(v,1,...y)):y=[u],v+y.length}}function Pfe(e){const t=[];if(!Array.isArray(e))throw new TypeError("Expected find and replace tuple or list of tuples");const n=!e[0]||Array.isArray(e[0])?e:[e];let r=-1;for(;++r<n.length;){const i=n[r];t.push([Dfe(i[0]),Tfe(i[1])])}return t}function Dfe(e){return typeof e=="string"?new RegExp(Cfe(e),"g"):e}function Tfe(e){return typeof e=="function"?e:function(){return e}}const ry="phrasing",iy=["autolink","link","image","label"];function Mfe(){return{transforms:[Ffe],enter:{literalAutolink:Ofe,literalAutolinkEmail:ay,literalAutolinkHttp:ay,literalAutolinkWww:ay},exit:{literalAutolink:$fe,literalAutolinkEmail:Lfe,literalAutolinkHttp:Ife,literalAutolinkWww:_fe}}}function Efe(){return{unsafe:[{character:"@",before:"[+\\-.\\w]",after:"[\\-.\\w]",inConstruct:ry,notInConstruct:iy},{character:".",before:"[Ww]",after:"[\\-.\\w]",inConstruct:ry,notInConstruct:iy},{character:":",before:"[ps]",after:"\\/",inConstruct:ry,notInConstruct:iy}]}}function Ofe(e){this.enter({type:"link",title:null,url:"",children:[]},e)}function ay(e){this.config.enter.autolinkProtocol.call(this,e)}function Ife(e){this.config.exit.autolinkProtocol.call(this,e)}function _fe(e){this.config.exit.data.call(this,e);const t=this.stack[this.stack.length-1];t.type,t.url="http://"+this.sliceSerialize(e)}function Lfe(e){this.config.exit.autolinkEmail.call(this,e)}function $fe(e){this.exit(e)}function Ffe(e){Afe(e,[[/(https?:\/\/|www(?=\.))([-.\w]+)([^ \t\r\n]*)/gi,Rfe],[new RegExp("(?<=^|\\s|\\p{P}|\\p{S})([-.\\w+]+)@([-\\w]+(?:\\.[-\\w]+)+)","gu"),Bfe]],{ignore:["link","linkReference"]})}function Rfe(e,t,n,r,i){let a="";if(!UF(i)||(/^w/i.test(t)&&(n=t+n,t="",a="http://"),!zfe(n)))return!1;const s=Ufe(n+r);if(!s[0])return!1;const o={type:"link",title:null,url:a+t+s[0],children:[{type:"text",value:t+s[0]}]};return s[1]?[o,{type:"text",value:s[1]}]:o}function Bfe(e,t,n,r){return!UF(r,!0)||/[-\d_]$/.test(n)?!1:{type:"link",title:null,url:"mailto:"+t+"@"+n,children:[{type:"text",value:t+"@"+n}]}}function zfe(e){const t=e.split(".");return!(t.length<2||t[t.length-1]&&(/_/.test(t[t.length-1])||!/[a-zA-Z\d]/.test(t[t.length-1]))||t[t.length-2]&&(/_/.test(t[t.length-2])||!/[a-zA-Z\d]/.test(t[t.length-2])))}function Ufe(e){const t=/[!"&'),.:;<>?\]}]+$/.exec(e);if(!t)return[e,void 0];e=e.slice(0,t.index);let n=t[0],r=n.indexOf(")");const i=xM(e,"(");let a=xM(e,")");for(;r!==-1&&i>a;)e+=n.slice(0,r+1),n=n.slice(r+1),r=n.indexOf(")"),a++;return[e,n]}function UF(e,t){const n=e.input.charCodeAt(e.index-1);return(e.index===0||Cu(n)||jb(n))&&(!t||n!==47)}WF.peek=Qfe;function Wfe(){this.buffer()}function Vfe(e){this.enter({type:"footnoteReference",identifier:"",label:""},e)}function Hfe(){this.buffer()}function qfe(e){this.enter({type:"footnoteDefinition",identifier:"",label:"",children:[]},e)}function Kfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=zs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Gfe(e){this.exit(e)}function Yfe(e){const t=this.resume(),n=this.stack[this.stack.length-1];n.type,n.identifier=zs(this.sliceSerialize(e)).toLowerCase(),n.label=t}function Xfe(e){this.exit(e)}function Qfe(){return"["}function WF(e,t,n,r){const i=n.createTracker(r);let a=i.move("[^");const s=n.enter("footnoteReference"),o=n.enter("reference");return a+=i.move(n.safe(n.associationId(e),{after:"]",before:a})),o(),s(),a+=i.move("]"),a}function Zfe(){return{enter:{gfmFootnoteCallString:Wfe,gfmFootnoteCall:Vfe,gfmFootnoteDefinitionLabelString:Hfe,gfmFootnoteDefinition:qfe},exit:{gfmFootnoteCallString:Kfe,gfmFootnoteCall:Gfe,gfmFootnoteDefinitionLabelString:Yfe,gfmFootnoteDefinition:Xfe}}}function Jfe(e){let t=!1;return e&&e.firstLineBlank&&(t=!0),{handlers:{footnoteDefinition:n,footnoteReference:WF},unsafe:[{character:"[",inConstruct:["label","phrasing","reference"]}]};function n(r,i,a,s){const o=a.createTracker(s);let c=o.move("[^");const u=a.enter("footnoteDefinition"),d=a.enter("label");return c+=o.move(a.safe(a.associationId(r),{before:c,after:"]"})),d(),c+=o.move("]:"),r.children&&r.children.length>0&&(o.shift(4),c+=o.move((t?`
`:" ")+a.indentLines(a.containerFlow(r,o.current()),t?VF:eme))),u(),c}}function eme(e,t,n){return t===0?e:VF(e,t,n)}function VF(e,t,n){return(n?"":"    ")+e}const tme=["autolink","destinationLiteral","destinationRaw","reference","titleQuote","titleApostrophe"];HF.peek=sme;function nme(){return{canContainEols:["delete"],enter:{strikethrough:ime},exit:{strikethrough:ame}}}function rme(){return{unsafe:[{character:"~",inConstruct:"phrasing",notInConstruct:tme}],handlers:{delete:HF}}}function ime(e){this.enter({type:"delete",children:[]},e)}function ame(e){this.exit(e)}function HF(e,t,n,r){const i=n.createTracker(r),a=n.enter("strikethrough");let s=i.move("~~");return s+=n.containerPhrasing(e,{...i.current(),before:s,after:"~"}),s+=i.move("~~"),a(),s}function sme(){return"~"}function ome(e){return e.length}function lme(e,t){const n=t||{},r=(n.align||[]).concat(),i=n.stringLength||ome,a=[],s=[],o=[],c=[];let u=0,d=-1;for(;++d<e.length;){const x=[],v=[];let b=-1;for(e[d].length>u&&(u=e[d].length);++b<e[d].length;){const y=cme(e[d][b]);if(n.alignDelimiters!==!1){const w=i(y);v[b]=w,(c[b]===void 0||w>c[b])&&(c[b]=w)}x.push(y)}s[d]=x,o[d]=v}let f=-1;if(typeof r=="object"&&"length"in r)for(;++f<u;)a[f]=bM(r[f]);else{const x=bM(r);for(;++f<u;)a[f]=x}f=-1;const h=[],m=[];for(;++f<u;){const x=a[f];let v="",b="";x===99?(v=":",b=":"):x===108?v=":":x===114&&(b=":");let y=n.alignDelimiters===!1?1:Math.max(1,c[f]-v.length-b.length);const w=v+"-".repeat(y)+b;n.alignDelimiters!==!1&&(y=v.length+y+b.length,y>c[f]&&(c[f]=y),m[f]=y),h[f]=w}s.splice(1,0,h),o.splice(1,0,m),d=-1;const p=[];for(;++d<s.length;){const x=s[d],v=o[d];f=-1;const b=[];for(;++f<u;){const y=x[f]||"";let w="",N="";if(n.alignDelimiters!==!1){const j=c[f]-(v[f]||0),k=a[f];k===114?w=" ".repeat(j):k===99?j%2?(w=" ".repeat(j/2+.5),N=" ".repeat(j/2-.5)):(w=" ".repeat(j/2),N=w):N=" ".repeat(j)}n.delimiterStart!==!1&&!f&&b.push("|"),n.padding!==!1&&!(n.alignDelimiters===!1&&y==="")&&(n.delimiterStart!==!1||f)&&b.push(" "),n.alignDelimiters!==!1&&b.push(w),b.push(y),n.alignDelimiters!==!1&&b.push(N),n.padding!==!1&&b.push(" "),(n.delimiterEnd!==!1||f!==u-1)&&b.push("|")}p.push(n.delimiterEnd===!1?b.join("").replace(/ +$/,""):b.join(""))}return p.join(`
`)}function cme(e){return e==null?"":String(e)}function bM(e){const t=typeof e=="string"?e.codePointAt(0):0;return t===67||t===99?99:t===76||t===108?108:t===82||t===114?114:0}function ume(e,t,n,r){const i=n.enter("blockquote"),a=n.createTracker(r);a.move("> "),a.shift(2);const s=n.indentLines(n.containerFlow(e,a.current()),dme);return i(),s}function dme(e,t,n){return">"+(n?"":" ")+e}function fme(e,t){return vM(e,t.inConstruct,!0)&&!vM(e,t.notInConstruct,!1)}function vM(e,t,n){if(typeof t=="string"&&(t=[t]),!t||t.length===0)return n;let r=-1;for(;++r<t.length;)if(e.includes(t[r]))return!0;return!1}function yM(e,t,n,r){let i=-1;for(;++i<n.unsafe.length;)if(n.unsafe[i].character===`
`&&fme(n.stack,n.unsafe[i]))return/[ \t]/.test(r.before)?"":" ";return`\\
`}function mme(e,t){const n=String(e);let r=n.indexOf(t),i=r,a=0,s=0;if(typeof t!="string")throw new TypeError("Expected substring");for(;r!==-1;)r===i?++a>s&&(s=a):a=1,i=r+t.length,r=n.indexOf(t,i);return s}function hme(e,t){return!!(t.options.fences===!1&&e.value&&!e.lang&&/[^ \r\n]/.test(e.value)&&!/^[\t ]*(?:[\r\n]|$)|(?:^|[\r\n])[\t ]*$/.test(e.value))}function pme(e){const t=e.options.fence||"`";if(t!=="`"&&t!=="~")throw new Error("Cannot serialize code with `"+t+"` for `options.fence`, expected `` ` `` or `~`");return t}function gme(e,t,n,r){const i=pme(n),a=e.value||"",s=i==="`"?"GraveAccent":"Tilde";if(hme(e,n)){const f=n.enter("codeIndented"),h=n.indentLines(a,xme);return f(),h}const o=n.createTracker(r),c=i.repeat(Math.max(mme(a,i)+1,3)),u=n.enter("codeFenced");let d=o.move(c);if(e.lang){const f=n.enter(`codeFencedLang${s}`);d+=o.move(n.safe(e.lang,{before:d,after:" ",encode:["`"],...o.current()})),f()}if(e.lang&&e.meta){const f=n.enter(`codeFencedMeta${s}`);d+=o.move(" "),d+=o.move(n.safe(e.meta,{before:d,after:`
`,encode:["`"],...o.current()})),f()}return d+=o.move(`
`),a&&(d+=o.move(a+`
`)),d+=o.move(c),u(),d}function xme(e,t,n){return(n?"":"    ")+e}function w2(e){const t=e.options.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Cannot serialize title with `"+t+"` for `options.quote`, expected `\"`, or `'`");return t}function bme(e,t,n,r){const i=w2(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("definition");let o=n.enter("label");const c=n.createTracker(r);let u=c.move("[");return u+=c.move(n.safe(n.associationId(e),{before:u,after:"]",...c.current()})),u+=c.move("]: "),o(),!e.url||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":`
`,...c.current()}))),o(),e.title&&(o=n.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),o()),s(),u}function vme(e){const t=e.options.emphasis||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize emphasis with `"+t+"` for `options.emphasis`, expected `*`, or `_`");return t}function ih(e){return"&#x"+e.toString(16).toUpperCase()+";"}function Z0(e,t,n){const r=Qd(e),i=Qd(t);return r===void 0?i===void 0?n==="_"?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!0}:r===1?i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!0}:{inside:!1,outside:!1}:i===void 0?{inside:!1,outside:!1}:i===1?{inside:!0,outside:!1}:{inside:!1,outside:!1}}qF.peek=yme;function qF(e,t,n,r){const i=vme(n),a=n.enter("emphasis"),s=n.createTracker(r),o=s.move(i);let c=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=c.charCodeAt(0),d=Z0(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=ih(u)+c.slice(1));const f=c.charCodeAt(c.length-1),h=Z0(r.after.charCodeAt(0),f,i);h.inside&&(c=c.slice(0,-1)+ih(f));const m=s.move(i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+c+m}function yme(e,t,n){return n.options.emphasis||"*"}function wme(e,t){let n=!1;return v2(e,function(r){if("value"in r&&/\r?\n|\r/.test(r.value)||r.type==="break")return n=!0,C1}),!!((!e.depth||e.depth<3)&&f2(e)&&(t.options.setext||n))}function kme(e,t,n,r){const i=Math.max(Math.min(6,e.depth||1),1),a=n.createTracker(r);if(wme(e,n)){const d=n.enter("headingSetext"),f=n.enter("phrasing"),h=n.containerPhrasing(e,{...a.current(),before:`
`,after:`
`});return f(),d(),h+`
`+(i===1?"=":"-").repeat(h.length-(Math.max(h.lastIndexOf("\r"),h.lastIndexOf(`
`))+1))}const s="#".repeat(i),o=n.enter("headingAtx"),c=n.enter("phrasing");a.move(s+" ");let u=n.containerPhrasing(e,{before:"# ",after:`
`,...a.current()});return/^[\t ]/.test(u)&&(u=ih(u.charCodeAt(0))+u.slice(1)),u=u?s+" "+u:s,n.options.closeAtx&&(u+=" "+s),c(),o(),u}KF.peek=Nme;function KF(e){return e.value||""}function Nme(){return"<"}GF.peek=Sme;function GF(e,t,n,r){const i=w2(n),a=i==='"'?"Quote":"Apostrophe",s=n.enter("image");let o=n.enter("label");const c=n.createTracker(r);let u=c.move("![");return u+=c.move(n.safe(e.alt,{before:u,after:"]",...c.current()})),u+=c.move("]("),o(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(o=n.enter("destinationLiteral"),u+=c.move("<"),u+=c.move(n.safe(e.url,{before:u,after:">",...c.current()})),u+=c.move(">")):(o=n.enter("destinationRaw"),u+=c.move(n.safe(e.url,{before:u,after:e.title?" ":")",...c.current()}))),o(),e.title&&(o=n.enter(`title${a}`),u+=c.move(" "+i),u+=c.move(n.safe(e.title,{before:u,after:i,...c.current()})),u+=c.move(i),o()),u+=c.move(")"),s(),u}function Sme(){return"!"}YF.peek=jme;function YF(e,t,n,r){const i=e.referenceType,a=n.enter("imageReference");let s=n.enter("label");const o=n.createTracker(r);let c=o.move("![");const u=n.safe(e.alt,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==f?c+=o.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function jme(){return"!"}XF.peek=Cme;function XF(e,t,n){let r=e.value||"",i="`",a=-1;for(;new RegExp("(^|[^`])"+i+"([^`]|$)").test(r);)i+="`";for(/[^ \r\n]/.test(r)&&(/^[ \r\n]/.test(r)&&/[ \r\n]$/.test(r)||/^`|`$/.test(r))&&(r=" "+r+" ");++a<n.unsafe.length;){const s=n.unsafe[a],o=n.compilePattern(s);let c;if(s.atBreak)for(;c=o.exec(r);){let u=c.index;r.charCodeAt(u)===10&&r.charCodeAt(u-1)===13&&u--,r=r.slice(0,u)+" "+r.slice(c.index+1)}}return i+r+i}function Cme(){return"`"}function QF(e,t){const n=f2(e);return!!(!t.options.resourceLink&&e.url&&!e.title&&e.children&&e.children.length===1&&e.children[0].type==="text"&&(n===e.url||"mailto:"+n===e.url)&&/^[a-z][a-z+.-]+:/i.test(e.url)&&!/[\0- <>\u007F]/.test(e.url))}ZF.peek=Ame;function ZF(e,t,n,r){const i=w2(n),a=i==='"'?"Quote":"Apostrophe",s=n.createTracker(r);let o,c;if(QF(e,n)){const d=n.stack;n.stack=[],o=n.enter("autolink");let f=s.move("<");return f+=s.move(n.containerPhrasing(e,{before:f,after:">",...s.current()})),f+=s.move(">"),o(),n.stack=d,f}o=n.enter("link"),c=n.enter("label");let u=s.move("[");return u+=s.move(n.containerPhrasing(e,{before:u,after:"](",...s.current()})),u+=s.move("]("),c(),!e.url&&e.title||/[\0- \u007F]/.test(e.url)?(c=n.enter("destinationLiteral"),u+=s.move("<"),u+=s.move(n.safe(e.url,{before:u,after:">",...s.current()})),u+=s.move(">")):(c=n.enter("destinationRaw"),u+=s.move(n.safe(e.url,{before:u,after:e.title?" ":")",...s.current()}))),c(),e.title&&(c=n.enter(`title${a}`),u+=s.move(" "+i),u+=s.move(n.safe(e.title,{before:u,after:i,...s.current()})),u+=s.move(i),c()),u+=s.move(")"),o(),u}function Ame(e,t,n){return QF(e,n)?"<":"["}JF.peek=Pme;function JF(e,t,n,r){const i=e.referenceType,a=n.enter("linkReference");let s=n.enter("label");const o=n.createTracker(r);let c=o.move("[");const u=n.containerPhrasing(e,{before:c,after:"]",...o.current()});c+=o.move(u+"]["),s();const d=n.stack;n.stack=[],s=n.enter("reference");const f=n.safe(n.associationId(e),{before:c,after:"]",...o.current()});return s(),n.stack=d,a(),i==="full"||!u||u!==f?c+=o.move(f+"]"):i==="shortcut"?c=c.slice(0,-1):c+=o.move("]"),c}function Pme(){return"["}function k2(e){const t=e.options.bullet||"*";if(t!=="*"&&t!=="+"&&t!=="-")throw new Error("Cannot serialize items with `"+t+"` for `options.bullet`, expected `*`, `+`, or `-`");return t}function Dme(e){const t=k2(e),n=e.options.bulletOther;if(!n)return t==="*"?"-":"*";if(n!=="*"&&n!=="+"&&n!=="-")throw new Error("Cannot serialize items with `"+n+"` for `options.bulletOther`, expected `*`, `+`, or `-`");if(n===t)throw new Error("Expected `bullet` (`"+t+"`) and `bulletOther` (`"+n+"`) to be different");return n}function Tme(e){const t=e.options.bulletOrdered||".";if(t!=="."&&t!==")")throw new Error("Cannot serialize items with `"+t+"` for `options.bulletOrdered`, expected `.` or `)`");return t}function eR(e){const t=e.options.rule||"*";if(t!=="*"&&t!=="-"&&t!=="_")throw new Error("Cannot serialize rules with `"+t+"` for `options.rule`, expected `*`, `-`, or `_`");return t}function Mme(e,t,n,r){const i=n.enter("list"),a=n.bulletCurrent;let s=e.ordered?Tme(n):k2(n);const o=e.ordered?s==="."?")":".":Dme(n);let c=t&&n.bulletLastUsed?s===n.bulletLastUsed:!1;if(!e.ordered){const d=e.children?e.children[0]:void 0;if((s==="*"||s==="-")&&d&&(!d.children||!d.children[0])&&n.stack[n.stack.length-1]==="list"&&n.stack[n.stack.length-2]==="listItem"&&n.stack[n.stack.length-3]==="list"&&n.stack[n.stack.length-4]==="listItem"&&n.indexStack[n.indexStack.length-1]===0&&n.indexStack[n.indexStack.length-2]===0&&n.indexStack[n.indexStack.length-3]===0&&(c=!0),eR(n)===s&&d){let f=-1;for(;++f<e.children.length;){const h=e.children[f];if(h&&h.type==="listItem"&&h.children&&h.children[0]&&h.children[0].type==="thematicBreak"){c=!0;break}}}}c&&(s=o),n.bulletCurrent=s;const u=n.containerFlow(e,r);return n.bulletLastUsed=s,n.bulletCurrent=a,i(),u}function Eme(e){const t=e.options.listItemIndent||"one";if(t!=="tab"&&t!=="one"&&t!=="mixed")throw new Error("Cannot serialize items with `"+t+"` for `options.listItemIndent`, expected `tab`, `one`, or `mixed`");return t}function Ome(e,t,n,r){const i=Eme(n);let a=n.bulletCurrent||k2(n);t&&t.type==="list"&&t.ordered&&(a=(typeof t.start=="number"&&t.start>-1?t.start:1)+(n.options.incrementListMarker===!1?0:t.children.indexOf(e))+a);let s=a.length+1;(i==="tab"||i==="mixed"&&(t&&t.type==="list"&&t.spread||e.spread))&&(s=Math.ceil(s/4)*4);const o=n.createTracker(r);o.move(a+" ".repeat(s-a.length)),o.shift(s);const c=n.enter("listItem"),u=n.indentLines(n.containerFlow(e,o.current()),d);return c(),u;function d(f,h,m){return h?(m?"":" ".repeat(s))+f:(m?a:a+" ".repeat(s-a.length))+f}}function Ime(e,t,n,r){const i=n.enter("paragraph"),a=n.enter("phrasing"),s=n.containerPhrasing(e,r);return a(),i(),s}const _me=Pb(["break","delete","emphasis","footnote","footnoteReference","image","imageReference","inlineCode","inlineMath","link","linkReference","mdxJsxTextElement","mdxTextExpression","strong","text","textDirective"]);function Lme(e,t,n,r){return(e.children.some(function(s){return _me(s)})?n.containerPhrasing:n.containerFlow).call(n,e,r)}function $me(e){const t=e.options.strong||"*";if(t!=="*"&&t!=="_")throw new Error("Cannot serialize strong with `"+t+"` for `options.strong`, expected `*`, or `_`");return t}tR.peek=Fme;function tR(e,t,n,r){const i=$me(n),a=n.enter("strong"),s=n.createTracker(r),o=s.move(i+i);let c=s.move(n.containerPhrasing(e,{after:i,before:o,...s.current()}));const u=c.charCodeAt(0),d=Z0(r.before.charCodeAt(r.before.length-1),u,i);d.inside&&(c=ih(u)+c.slice(1));const f=c.charCodeAt(c.length-1),h=Z0(r.after.charCodeAt(0),f,i);h.inside&&(c=c.slice(0,-1)+ih(f));const m=s.move(i+i);return a(),n.attentionEncodeSurroundingInfo={after:h.outside,before:d.outside},o+c+m}function Fme(e,t,n){return n.options.strong||"*"}function Rme(e,t,n,r){return n.safe(e.value,r)}function Bme(e){const t=e.options.ruleRepetition||3;if(t<3)throw new Error("Cannot serialize rules with repetition `"+t+"` for `options.ruleRepetition`, expected `3` or more");return t}function zme(e,t,n){const r=(eR(n)+(n.options.ruleSpaces?" ":"")).repeat(Bme(n));return n.options.ruleSpaces?r.slice(0,-1):r}const nR={blockquote:ume,break:yM,code:gme,definition:bme,emphasis:qF,hardBreak:yM,heading:kme,html:KF,image:GF,imageReference:YF,inlineCode:XF,link:ZF,linkReference:JF,list:Mme,listItem:Ome,paragraph:Ime,root:Lme,strong:tR,text:Rme,thematicBreak:zme};function Ume(){return{enter:{table:Wme,tableData:wM,tableHeader:wM,tableRow:Hme},exit:{codeText:qme,table:Vme,tableData:sy,tableHeader:sy,tableRow:sy}}}function Wme(e){const t=e._align;this.enter({type:"table",align:t.map(function(n){return n==="none"?null:n}),children:[]},e),this.data.inTable=!0}function Vme(e){this.exit(e),this.data.inTable=void 0}function Hme(e){this.enter({type:"tableRow",children:[]},e)}function sy(e){this.exit(e)}function wM(e){this.enter({type:"tableCell",children:[]},e)}function qme(e){let t=this.resume();this.data.inTable&&(t=t.replace(/\\([\\|])/g,Kme));const n=this.stack[this.stack.length-1];n.type,n.value=t,this.exit(e)}function Kme(e,t){return t==="|"?t:e}function Gme(e){const t=e||{},n=t.tableCellPadding,r=t.tablePipeAlign,i=t.stringLength,a=n?" ":"|";return{unsafe:[{character:"\r",inConstruct:"tableCell"},{character:`
`,inConstruct:"tableCell"},{atBreak:!0,character:"|",after:"[	 :-]"},{character:"|",inConstruct:"tableCell"},{atBreak:!0,character:":",after:"-"},{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{inlineCode:h,table:s,tableCell:c,tableRow:o}};function s(m,p,x,v){return u(d(m,x,v),m.align)}function o(m,p,x,v){const b=f(m,x,v),y=u([b]);return y.slice(0,y.indexOf(`
`))}function c(m,p,x,v){const b=x.enter("tableCell"),y=x.enter("phrasing"),w=x.containerPhrasing(m,{...v,before:a,after:a});return y(),b(),w}function u(m,p){return lme(m,{align:p,alignDelimiters:r,padding:n,stringLength:i})}function d(m,p,x){const v=m.children;let b=-1;const y=[],w=p.enter("table");for(;++b<v.length;)y[b]=f(v[b],p,x);return w(),y}function f(m,p,x){const v=m.children;let b=-1;const y=[],w=p.enter("tableRow");for(;++b<v.length;)y[b]=c(v[b],m,p,x);return w(),y}function h(m,p,x){let v=nR.inlineCode(m,p,x);return x.stack.includes("tableCell")&&(v=v.replace(/\|/g,"\\$&")),v}}function Yme(){return{exit:{taskListCheckValueChecked:kM,taskListCheckValueUnchecked:kM,paragraph:Qme}}}function Xme(){return{unsafe:[{atBreak:!0,character:"-",after:"[:|-]"}],handlers:{listItem:Zme}}}function kM(e){const t=this.stack[this.stack.length-2];t.type,t.checked=e.type==="taskListCheckValueChecked"}function Qme(e){const t=this.stack[this.stack.length-2];if(t&&t.type==="listItem"&&typeof t.checked=="boolean"){const n=this.stack[this.stack.length-1];n.type;const r=n.children[0];if(r&&r.type==="text"){const i=t.children;let a=-1,s;for(;++a<i.length;){const o=i[a];if(o.type==="paragraph"){s=o;break}}s===n&&(r.value=r.value.slice(1),r.value.length===0?n.children.shift():n.position&&r.position&&typeof r.position.start.offset=="number"&&(r.position.start.column++,r.position.start.offset++,n.position.start=Object.assign({},r.position.start)))}}this.exit(e)}function Zme(e,t,n,r){const i=e.children[0],a=typeof e.checked=="boolean"&&i&&i.type==="paragraph",s="["+(e.checked?"x":" ")+"] ",o=n.createTracker(r);a&&o.move(s);let c=nR.listItem(e,t,n,{...r,...o.current()});return a&&(c=c.replace(/^(?:[*+-]|\d+\.)([\r\n]| {1,3})/,u)),c;function u(d){return d+s}}function Jme(){return[Mfe(),Zfe(),nme(),Ume(),Yme()]}function ehe(e){return{extensions:[Efe(),Jfe(e),rme(),Gme(e),Xme()]}}const the={tokenize:ohe,partial:!0},rR={tokenize:lhe,partial:!0},iR={tokenize:che,partial:!0},aR={tokenize:uhe,partial:!0},nhe={tokenize:dhe,partial:!0},sR={name:"wwwAutolink",tokenize:ahe,previous:lR},oR={name:"protocolAutolink",tokenize:she,previous:cR},Sl={name:"emailAutolink",tokenize:ihe,previous:uR},So={};function rhe(){return{text:So}}let $c=48;for(;$c<123;)So[$c]=Sl,$c++,$c===58?$c=65:$c===91&&($c=97);So[43]=Sl;So[45]=Sl;So[46]=Sl;So[95]=Sl;So[72]=[Sl,oR];So[104]=[Sl,oR];So[87]=[Sl,sR];So[119]=[Sl,sR];function ihe(e,t,n){const r=this;let i,a;return s;function s(f){return!T1(f)||!uR.call(r,r.previous)||N2(r.events)?n(f):(e.enter("literalAutolink"),e.enter("literalAutolinkEmail"),o(f))}function o(f){return T1(f)?(e.consume(f),o):f===64?(e.consume(f),c):n(f)}function c(f){return f===46?e.check(nhe,d,u)(f):f===45||f===95||Wi(f)?(a=!0,e.consume(f),c):d(f)}function u(f){return e.consume(f),i=!0,c}function d(f){return a&&i&&na(r.previous)?(e.exit("literalAutolinkEmail"),e.exit("literalAutolink"),t(f)):n(f)}}function ahe(e,t,n){const r=this;return i;function i(s){return s!==87&&s!==119||!lR.call(r,r.previous)||N2(r.events)?n(s):(e.enter("literalAutolink"),e.enter("literalAutolinkWww"),e.check(the,e.attempt(rR,e.attempt(iR,a),n),n)(s))}function a(s){return e.exit("literalAutolinkWww"),e.exit("literalAutolink"),t(s)}}function she(e,t,n){const r=this;let i="",a=!1;return s;function s(f){return(f===72||f===104)&&cR.call(r,r.previous)&&!N2(r.events)?(e.enter("literalAutolink"),e.enter("literalAutolinkHttp"),i+=String.fromCodePoint(f),e.consume(f),o):n(f)}function o(f){if(na(f)&&i.length<5)return i+=String.fromCodePoint(f),e.consume(f),o;if(f===58){const h=i.toLowerCase();if(h==="http"||h==="https")return e.consume(f),c}return n(f)}function c(f){return f===47?(e.consume(f),a?u:(a=!0,c)):n(f)}function u(f){return f===null||Y0(f)||qn(f)||Cu(f)||jb(f)?n(f):e.attempt(rR,e.attempt(iR,d),n)(f)}function d(f){return e.exit("literalAutolinkHttp"),e.exit("literalAutolink"),t(f)}}function ohe(e,t,n){let r=0;return i;function i(s){return(s===87||s===119)&&r<3?(r++,e.consume(s),i):s===46&&r===3?(e.consume(s),a):n(s)}function a(s){return s===null?n(s):t(s)}}function lhe(e,t,n){let r,i,a;return s;function s(u){return u===46||u===95?e.check(aR,c,o)(u):u===null||qn(u)||Cu(u)||u!==45&&jb(u)?c(u):(a=!0,e.consume(u),s)}function o(u){return u===95?r=!0:(i=r,r=void 0),e.consume(u),s}function c(u){return i||r||!a?n(u):t(u)}}function che(e,t){let n=0,r=0;return i;function i(s){return s===40?(n++,e.consume(s),i):s===41&&r<n?a(s):s===33||s===34||s===38||s===39||s===41||s===42||s===44||s===46||s===58||s===59||s===60||s===63||s===93||s===95||s===126?e.check(aR,t,a)(s):s===null||qn(s)||Cu(s)?t(s):(e.consume(s),i)}function a(s){return s===41&&r++,e.consume(s),i}}function uhe(e,t,n){return r;function r(o){return o===33||o===34||o===39||o===41||o===42||o===44||o===46||o===58||o===59||o===63||o===95||o===126?(e.consume(o),r):o===38?(e.consume(o),a):o===93?(e.consume(o),i):o===60||o===null||qn(o)||Cu(o)?t(o):n(o)}function i(o){return o===null||o===40||o===91||qn(o)||Cu(o)?t(o):r(o)}function a(o){return na(o)?s(o):n(o)}function s(o){return o===59?(e.consume(o),r):na(o)?(e.consume(o),s):n(o)}}function dhe(e,t,n){return r;function r(a){return e.consume(a),i}function i(a){return Wi(a)?n(a):t(a)}}function lR(e){return e===null||e===40||e===42||e===95||e===91||e===93||e===126||qn(e)}function cR(e){return!na(e)}function uR(e){return!(e===47||T1(e))}function T1(e){return e===43||e===45||e===46||e===95||Wi(e)}function N2(e){let t=e.length,n=!1;for(;t--;){const r=e[t][1];if((r.type==="labelLink"||r.type==="labelImage")&&!r._balanced){n=!0;break}if(r._gfmAutolinkLiteralWalkedInto){n=!1;break}}return e.length>0&&!n&&(e[e.length-1][1]._gfmAutolinkLiteralWalkedInto=!0),n}const fhe={tokenize:yhe,partial:!0};function mhe(){return{document:{91:{name:"gfmFootnoteDefinition",tokenize:xhe,continuation:{tokenize:bhe},exit:vhe}},text:{91:{name:"gfmFootnoteCall",tokenize:ghe},93:{name:"gfmPotentialFootnoteCall",add:"after",tokenize:hhe,resolveTo:phe}}}}function hhe(e,t,n){const r=this;let i=r.events.length;const a=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let s;for(;i--;){const c=r.events[i][1];if(c.type==="labelImage"){s=c;break}if(c.type==="gfmFootnoteCall"||c.type==="labelLink"||c.type==="label"||c.type==="image"||c.type==="link")break}return o;function o(c){if(!s||!s._balanced)return n(c);const u=zs(r.sliceSerialize({start:s.end,end:r.now()}));return u.codePointAt(0)!==94||!a.includes(u.slice(1))?n(c):(e.enter("gfmFootnoteCallLabelMarker"),e.consume(c),e.exit("gfmFootnoteCallLabelMarker"),t(c))}}function phe(e,t){let n=e.length;for(;n--;)if(e[n][1].type==="labelImage"&&e[n][0]==="enter"){e[n][1];break}e[n+1][1].type="data",e[n+3][1].type="gfmFootnoteCallLabelMarker";const r={type:"gfmFootnoteCall",start:Object.assign({},e[n+3][1].start),end:Object.assign({},e[e.length-1][1].end)},i={type:"gfmFootnoteCallMarker",start:Object.assign({},e[n+3][1].end),end:Object.assign({},e[n+3][1].end)};i.end.column++,i.end.offset++,i.end._bufferIndex++;const a={type:"gfmFootnoteCallString",start:Object.assign({},i.end),end:Object.assign({},e[e.length-1][1].start)},s={type:"chunkString",contentType:"string",start:Object.assign({},a.start),end:Object.assign({},a.end)},o=[e[n+1],e[n+2],["enter",r,t],e[n+3],e[n+4],["enter",i,t],["exit",i,t],["enter",a,t],["enter",s,t],["exit",s,t],["exit",a,t],e[e.length-2],e[e.length-1],["exit",r,t]];return e.splice(n,e.length-n+1,...o),e}function ghe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a=0,s;return o;function o(f){return e.enter("gfmFootnoteCall"),e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),c}function c(f){return f!==94?n(f):(e.enter("gfmFootnoteCallMarker"),e.consume(f),e.exit("gfmFootnoteCallMarker"),e.enter("gfmFootnoteCallString"),e.enter("chunkString").contentType="string",u)}function u(f){if(a>999||f===93&&!s||f===null||f===91||qn(f))return n(f);if(f===93){e.exit("chunkString");const h=e.exit("gfmFootnoteCallString");return i.includes(zs(r.sliceSerialize(h)))?(e.enter("gfmFootnoteCallLabelMarker"),e.consume(f),e.exit("gfmFootnoteCallLabelMarker"),e.exit("gfmFootnoteCall"),t):n(f)}return qn(f)||(s=!0),a++,e.consume(f),f===92?d:u}function d(f){return f===91||f===92||f===93?(e.consume(f),a++,u):u(f)}}function xhe(e,t,n){const r=this,i=r.parser.gfmFootnotes||(r.parser.gfmFootnotes=[]);let a,s=0,o;return c;function c(p){return e.enter("gfmFootnoteDefinition")._container=!0,e.enter("gfmFootnoteDefinitionLabel"),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),u}function u(p){return p===94?(e.enter("gfmFootnoteDefinitionMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionMarker"),e.enter("gfmFootnoteDefinitionLabelString"),e.enter("chunkString").contentType="string",d):n(p)}function d(p){if(s>999||p===93&&!o||p===null||p===91||qn(p))return n(p);if(p===93){e.exit("chunkString");const x=e.exit("gfmFootnoteDefinitionLabelString");return a=zs(r.sliceSerialize(x)),e.enter("gfmFootnoteDefinitionLabelMarker"),e.consume(p),e.exit("gfmFootnoteDefinitionLabelMarker"),e.exit("gfmFootnoteDefinitionLabel"),h}return qn(p)||(o=!0),s++,e.consume(p),p===92?f:d}function f(p){return p===91||p===92||p===93?(e.consume(p),s++,d):d(p)}function h(p){return p===58?(e.enter("definitionMarker"),e.consume(p),e.exit("definitionMarker"),i.includes(a)||i.push(a),An(e,m,"gfmFootnoteDefinitionWhitespace")):n(p)}function m(p){return t(p)}}function bhe(e,t,n){return e.check(Hh,t,e.attempt(fhe,t,n))}function vhe(e){e.exit("gfmFootnoteDefinition")}function yhe(e,t,n){const r=this;return An(e,i,"gfmFootnoteDefinitionIndent",5);function i(a){const s=r.events[r.events.length-1];return s&&s[1].type==="gfmFootnoteDefinitionIndent"&&s[2].sliceSerialize(s[1],!0).length===4?t(a):n(a)}}function whe(e){let n=(e||{}).singleTilde;const r={name:"strikethrough",tokenize:a,resolveAll:i};return n==null&&(n=!0),{text:{126:r},insideSpan:{null:[r]},attentionMarkers:{null:[126]}};function i(s,o){let c=-1;for(;++c<s.length;)if(s[c][0]==="enter"&&s[c][1].type==="strikethroughSequenceTemporary"&&s[c][1]._close){let u=c;for(;u--;)if(s[u][0]==="exit"&&s[u][1].type==="strikethroughSequenceTemporary"&&s[u][1]._open&&s[c][1].end.offset-s[c][1].start.offset===s[u][1].end.offset-s[u][1].start.offset){s[c][1].type="strikethroughSequence",s[u][1].type="strikethroughSequence";const d={type:"strikethrough",start:Object.assign({},s[u][1].start),end:Object.assign({},s[c][1].end)},f={type:"strikethroughText",start:Object.assign({},s[u][1].end),end:Object.assign({},s[c][1].start)},h=[["enter",d,o],["enter",s[u][1],o],["exit",s[u][1],o],["enter",f,o]],m=o.parser.constructs.insideSpan.null;m&&Ua(h,h.length,0,Cb(m,s.slice(u+1,c),o)),Ua(h,h.length,0,[["exit",f,o],["enter",s[c][1],o],["exit",s[c][1],o],["exit",d,o]]),Ua(s,u-1,c-u+3,h),c=u+h.length-2;break}}for(c=-1;++c<s.length;)s[c][1].type==="strikethroughSequenceTemporary"&&(s[c][1].type="data");return s}function a(s,o,c){const u=this.previous,d=this.events;let f=0;return h;function h(p){return u===126&&d[d.length-1][1].type!=="characterEscape"?c(p):(s.enter("strikethroughSequenceTemporary"),m(p))}function m(p){const x=Qd(u);if(p===126)return f>1?c(p):(s.consume(p),f++,m);if(f<2&&!n)return c(p);const v=s.exit("strikethroughSequenceTemporary"),b=Qd(p);return v._open=!b||b===2&&!!x,v._close=!x||x===2&&!!b,o(p)}}}class khe{constructor(){this.map=[]}add(t,n,r){Nhe(this,t,n,r)}consume(t){if(this.map.sort(function(a,s){return a[0]-s[0]}),this.map.length===0)return;let n=this.map.length;const r=[];for(;n>0;)n-=1,r.push(t.slice(this.map[n][0]+this.map[n][1]),this.map[n][2]),t.length=this.map[n][0];r.push(t.slice()),t.length=0;let i=r.pop();for(;i;){for(const a of i)t.push(a);i=r.pop()}this.map.length=0}}function Nhe(e,t,n,r){let i=0;if(!(n===0&&r.length===0)){for(;i<e.map.length;){if(e.map[i][0]===t){e.map[i][1]+=n,e.map[i][2].push(...r);return}i+=1}e.map.push([t,n,r])}}function She(e,t){let n=!1;const r=[];for(;t<e.length;){const i=e[t];if(n){if(i[0]==="enter")i[1].type==="tableContent"&&r.push(e[t+1][1].type==="tableDelimiterMarker"?"left":"none");else if(i[1].type==="tableContent"){if(e[t-1][1].type==="tableDelimiterMarker"){const a=r.length-1;r[a]=r[a]==="left"?"center":"right"}}else if(i[1].type==="tableDelimiterRow")break}else i[0]==="enter"&&i[1].type==="tableDelimiterRow"&&(n=!0);t+=1}return r}function jhe(){return{flow:{null:{name:"table",tokenize:Che,resolveAll:Ahe}}}}function Che(e,t,n){const r=this;let i=0,a=0,s;return o;function o(T){let $=r.events.length-1;for(;$>-1;){const ce=r.events[$][1].type;if(ce==="lineEnding"||ce==="linePrefix")$--;else break}const I=$>-1?r.events[$][1].type:null,re=I==="tableHead"||I==="tableRow"?k:c;return re===k&&r.parser.lazy[r.now().line]?n(T):re(T)}function c(T){return e.enter("tableHead"),e.enter("tableRow"),u(T)}function u(T){return T===124||(s=!0,a+=1),d(T)}function d(T){return T===null?n(T):Vt(T)?a>1?(a=0,r.interrupt=!0,e.exit("tableRow"),e.enter("lineEnding"),e.consume(T),e.exit("lineEnding"),m):n(T):gn(T)?An(e,d,"whitespace")(T):(a+=1,s&&(s=!1,i+=1),T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),s=!0,d):(e.enter("data"),f(T)))}function f(T){return T===null||T===124||qn(T)?(e.exit("data"),d(T)):(e.consume(T),T===92?h:f)}function h(T){return T===92||T===124?(e.consume(T),f):f(T)}function m(T){return r.interrupt=!1,r.parser.lazy[r.now().line]?n(T):(e.enter("tableDelimiterRow"),s=!1,gn(T)?An(e,p,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(T):p(T))}function p(T){return T===45||T===58?v(T):T===124?(s=!0,e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),x):j(T)}function x(T){return gn(T)?An(e,v,"whitespace")(T):v(T)}function v(T){return T===58?(a+=1,s=!0,e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),b):T===45?(a+=1,b(T)):T===null||Vt(T)?N(T):j(T)}function b(T){return T===45?(e.enter("tableDelimiterFiller"),y(T)):j(T)}function y(T){return T===45?(e.consume(T),y):T===58?(s=!0,e.exit("tableDelimiterFiller"),e.enter("tableDelimiterMarker"),e.consume(T),e.exit("tableDelimiterMarker"),w):(e.exit("tableDelimiterFiller"),w(T))}function w(T){return gn(T)?An(e,N,"whitespace")(T):N(T)}function N(T){return T===124?p(T):T===null||Vt(T)?!s||i!==a?j(T):(e.exit("tableDelimiterRow"),e.exit("tableHead"),t(T)):j(T)}function j(T){return n(T)}function k(T){return e.enter("tableRow"),C(T)}function C(T){return T===124?(e.enter("tableCellDivider"),e.consume(T),e.exit("tableCellDivider"),C):T===null||Vt(T)?(e.exit("tableRow"),t(T)):gn(T)?An(e,C,"whitespace")(T):(e.enter("data"),E(T))}function E(T){return T===null||T===124||qn(T)?(e.exit("data"),C(T)):(e.consume(T),T===92?R:E)}function R(T){return T===92||T===124?(e.consume(T),E):E(T)}}function Ahe(e,t){let n=-1,r=!0,i=0,a=[0,0,0,0],s=[0,0,0,0],o=!1,c=0,u,d,f;const h=new khe;for(;++n<e.length;){const m=e[n],p=m[1];m[0]==="enter"?p.type==="tableHead"?(o=!1,c!==0&&(NM(h,t,c,u,d),d=void 0,c=0),u={type:"table",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",u,t]])):p.type==="tableRow"||p.type==="tableDelimiterRow"?(r=!0,f=void 0,a=[0,0,0,0],s=[0,n+1,0,0],o&&(o=!1,d={type:"tableBody",start:Object.assign({},p.start),end:Object.assign({},p.end)},h.add(n,0,[["enter",d,t]])),i=p.type==="tableDelimiterRow"?2:d?3:1):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")?(r=!1,s[2]===0&&(a[1]!==0&&(s[0]=s[1],f=Xp(h,t,a,i,void 0,f),a=[0,0,0,0]),s[2]=n)):p.type==="tableCellDivider"&&(r?r=!1:(a[1]!==0&&(s[0]=s[1],f=Xp(h,t,a,i,void 0,f)),a=s,s=[a[1],n,0,0])):p.type==="tableHead"?(o=!0,c=n):p.type==="tableRow"||p.type==="tableDelimiterRow"?(c=n,a[1]!==0?(s[0]=s[1],f=Xp(h,t,a,i,n,f)):s[1]!==0&&(f=Xp(h,t,s,i,n,f)),i=0):i&&(p.type==="data"||p.type==="tableDelimiterMarker"||p.type==="tableDelimiterFiller")&&(s[3]=n)}for(c!==0&&NM(h,t,c,u,d),h.consume(t.events),n=-1;++n<t.events.length;){const m=t.events[n];m[0]==="enter"&&m[1].type==="table"&&(m[1]._align=She(t.events,n))}return e}function Xp(e,t,n,r,i,a){const s=r===1?"tableHeader":r===2?"tableDelimiter":"tableData",o="tableContent";n[0]!==0&&(a.end=Object.assign({},td(t.events,n[0])),e.add(n[0],0,[["exit",a,t]]));const c=td(t.events,n[1]);if(a={type:s,start:Object.assign({},c),end:Object.assign({},c)},e.add(n[1],0,[["enter",a,t]]),n[2]!==0){const u=td(t.events,n[2]),d=td(t.events,n[3]),f={type:o,start:Object.assign({},u),end:Object.assign({},d)};if(e.add(n[2],0,[["enter",f,t]]),r!==2){const h=t.events[n[2]],m=t.events[n[3]];if(h[1].end=Object.assign({},m[1].end),h[1].type="chunkText",h[1].contentType="text",n[3]>n[2]+1){const p=n[2]+1,x=n[3]-n[2]-1;e.add(p,x,[])}}e.add(n[3]+1,0,[["exit",f,t]])}return i!==void 0&&(a.end=Object.assign({},td(t.events,i)),e.add(i,0,[["exit",a,t]]),a=void 0),a}function NM(e,t,n,r,i){const a=[],s=td(t.events,n);i&&(i.end=Object.assign({},s),a.push(["exit",i,t])),r.end=Object.assign({},s),a.push(["exit",r,t]),e.add(n+1,0,a)}function td(e,t){const n=e[t],r=n[0]==="enter"?"start":"end";return n[1][r]}const Phe={name:"tasklistCheck",tokenize:The};function Dhe(){return{text:{91:Phe}}}function The(e,t,n){const r=this;return i;function i(c){return r.previous!==null||!r._gfmTasklistFirstContentOfListItem?n(c):(e.enter("taskListCheck"),e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),a)}function a(c){return qn(c)?(e.enter("taskListCheckValueUnchecked"),e.consume(c),e.exit("taskListCheckValueUnchecked"),s):c===88||c===120?(e.enter("taskListCheckValueChecked"),e.consume(c),e.exit("taskListCheckValueChecked"),s):n(c)}function s(c){return c===93?(e.enter("taskListCheckMarker"),e.consume(c),e.exit("taskListCheckMarker"),e.exit("taskListCheck"),o):n(c)}function o(c){return Vt(c)?t(c):gn(c)?e.check({tokenize:Mhe},t,n)(c):n(c)}}function Mhe(e,t,n){return An(e,r,"whitespace");function r(i){return i===null?n(i):t(i)}}function Ehe(e){return yF([rhe(),mhe(),whe(e),jhe(),Dhe()])}const Ohe={};function Ihe(e){const t=this,n=e||Ohe,r=t.data(),i=r.micromarkExtensions||(r.micromarkExtensions=[]),a=r.fromMarkdownExtensions||(r.fromMarkdownExtensions=[]),s=r.toMarkdownExtensions||(r.toMarkdownExtensions=[]);i.push(Ehe(n)),a.push(Jme()),s.push(ehe(n))}const oy='# Combat Metrics Spec\n\nThis document describes the project-defined combat metrics used in the UI,\nDiscord summaries, and aggregate stats. The intent is to define the metrics\nindependently from any third-party implementation while staying consistent\nwith EI JSON inputs. It also records the exact fields and aggregation rules\nso the stats dashboard, Discord, and cards produce identical values.\n\nSpec version: `v5` (see `src/shared/metrics-methods.json`).\n\n## Input Contract (EI JSON)\n\nAll metrics are derived from the EI JSON payload produced by dps.report. The\nminimum fields consumed are:\n\n- `players[*].dpsAll[0].damage`, `players[*].dpsAll[0].dps`, `players[*].dpsAll[0].breakbarDamage`\n- `players[*].defenses[0].damageTaken`, `deadCount`, `downCount`,\n  `missedCount`, `blockedCount`, `evadedCount`, `dodgeCount`,\n  `receivedCrowdControl`, `receivedCrowdControlDuration`,\n  `boonStrips`, `boonStripsTime`\n- `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage` (fallback:\n  `damageTaken`) for minion incoming damage totals\n- `players[*].support[0].condiCleanse`, `condiCleanseSelf`, `boonStrips`,\n  `boonStripsTime`, `resurrects`\n- `players[*].statsAll[0].stackDist`, `players[*].statsAll[0].distToCom`\n- `players[*].statsTargets[*][0].downContribution`, `killed`, `downed`,\n  `againstDownedCount`\n- `players[*].extHealingStats.outgoingHealingAllies`\n- `players[*].extBarrierStats.outgoingBarrierAllies`\n- `players[*].totalDamageDist`, `players[*].targetDamageDist`, `players[*].totalDamageTaken`\n- `players[*].damage1S`, `players[*].targetDamage1S`,\n  `players[*].powerDamageTaken1S`, `players[*].targetPowerDamage1S`\n- `players[*].activeTimes`\n- `players[*].rotation`\n- `players[*].buffUptimes`\n- `players[*].selfBuffs`, `players[*].groupBuffs`, `players[*].squadBuffs`\n- `players[*].selfBuffsActive`, `players[*].groupBuffsActive`, `players[*].squadBuffsActive`\n- `players[*].group`\n- `buffMap`, `skillMap`, and `durationMS` for stability generation, boon output/uptime, and skill labeling\n- `targets[*].buffs[*].statesPerSource` when available for condition application counts\n- `details.fightName`, `details.uploadTime` (or `details.timeStartStd` / `details.timeStart` fallback),\n  `details.zone`/`mapName`/`map`/`location`, `details.success`,\n  `details.targets`, `details.durationMS`\n- `targets[*].totalDamageDist`, `targets[*].powerDamage1S`, `targets[*].damage1S`,\n  `targets[*].enemyPlayer`, `targets[*].isFake`, `targets[*].profession`\n\nIf any of these are missing, the metric falls back to `0` as defined below.\n\n## Crowd Control & Strips Methodology\n\nThe app supports three user-selectable methodologies (default: `count`),\nconfigured in `src/shared/metrics-methods.json`:\n\n1. **Count Events** (`count`)  \n   Uses EI summary counts for CC/strips. Best for stable, comparable totals.\n\n2. **Duration (Seconds)** (`duration`)  \n   Uses EI summary durations (converted to seconds). Best for impact-weighted\n   totals, but units are time not event counts.\n\n3. **Tiered Impact** (`tiered`)  \n   Uses average duration per event to apply tiered weights. Best for balancing\n   short vs long control with a simple, configurable heuristic.\n\nThese methodologies apply to:\n- Outgoing CC totals\n- Incoming CC totals\n- Incoming strips totals\n\n## Outgoing Crowd Control\n\nFor each player:\n- `count`: `statsAll[0].appliedCrowdControl`\n- `duration`: `statsAll[0].appliedCrowdControlDuration / 1000`\n- `tiered`: `appliedCrowdControl * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/combatMetrics.ts` (computeOutgoingCrowdControl).\n\n## Incoming Strips and Crowd Control\n\nFor each player:\n- Incoming CC uses `defenses[0].receivedCrowdControl` and\n  `defenses[0].receivedCrowdControlDuration`.\n- Incoming strips use `defenses[0].boonStrips` and `defenses[0].boonStripsTime`.\n\nMethod application is the same as outgoing CC (count/duration/tiered).\n\nImplementation: `src/shared/combatMetrics.ts` (computeIncomingDisruptions).\n\n## Cleanses\n\n`cleanses = support[0].condiCleanse + support[0].condiCleanseSelf`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerCleanses).\n\nUI note: the Support table can display either **All** (condiCleanse + condiCleanseSelf) or **Squad** (condiCleanse only) via the cleanse-scope toggle. Discord and top summaries use **All**.\n\n## Strips\n\n`strips` uses the configured methodology:\n- `count`: `support[0].boonStrips`\n- `duration`: `support[0].boonStripsTime / 1000`\n- `tiered`: `boonStrips * tierWeight(avgDurationMs)`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerStrips).\n\n## Down Contribution\n\nDown contribution is the sum of `statsTargets[*][0].downContribution` across\nall targets for the player.\n\nImplementation: `src/shared/combatMetrics.ts` (computeDownContribution).\n\n## Squad Barrier and Squad Healing\n\nSquad barrier and healing sum all phases of `extBarrierStats.outgoingBarrierAllies`\nand `extHealingStats.outgoingHealingAllies` respectively.\n\nImplementation: `src/shared/combatMetrics.ts` (computeSquadBarrier, computeSquadHealing).\n\n## Stability Generation\n\nStability generation uses the EI buff data via `getPlayerBoonGenerationMs`\nand writes `player.stabGeneration` in seconds.\n\nImplementation: `src/shared/combatMetrics.ts` (applySquadStabilityGeneration).\n\n## Damage and DPS\n\n`damage = dpsAll[0].damage`  \n`dps = dpsAll[0].dps`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamage, getPlayerDps).\n\n## Breakbar Damage\n\n`breakbarDamage = dpsAll[0].breakbarDamage`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerBreakbarDamage).\n\n## Incoming Damage (Taken)\n\n`damageTaken = defenses[0].damageTaken`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDamageTaken).\n\nIncoming damage per skill (incoming damage distribution) is derived from\n`players[*].totalDamageTaken[*]` entries and summed across players for the\nsquad view. This total can be large for siege skills because it aggregates\nall hits and all players (and across multiple logs when viewing aggregates).\n\n## Damage Mitigation (Player + Minion)\n\nDamage mitigation is an **estimate** of avoided damage based on enemy skill\ndamage averages and avoidance events (block/evade/miss/invuln/interrupted).\nIt is intended for relative comparisons between players/minions and logs, not\nas a literal damage prevented total.\n\n### Inputs Used\n\nPer-log data sources:\n\n- Enemy damage distribution: `targets[*].totalDamageDist[0]`\n- Player avoided events: `players[*].totalDamageTaken[0]`\n- Minion avoided events: `players[*].minions[*].totalDamageTakenDist[0]`\n- Skill names: `skillMap` / `buffMap` (for UI labels only)\n\n### Enemy Skill Damage Averages\n\nFor each skill id across **all logs in the aggregation**:\n\n1. Gather `totalDamage` and `connectedHits` from every targets\n   `totalDamageDist[0]` entry with the same `id`.\n2. Compute:\n   - `avgDamage = sum(totalDamage) / sum(connectedHits)`\n   - `minDamage = average(entry.min over all occurrences)`\n\nThese averages are computed **once for the aggregation window** and used for\nall player/minion mitigation calculations.\n\n### Avoided Damage Per Skill (Formula)\n\nFor a given skill id `S` with enemy averages `avgDamage` and `minDamage`:\n\n```\navoidCount = blocked + evaded + missed + invulned + interrupted\navoidDamage = (glanced * avgDamage / 2) + (avoidCount * avgDamage)\nminAvoidDamage = (glanced * minDamage / 2) + (avoidCount * minDamage)\n```\n\nNotes:\n- `glanced` is treated as half damage.\n- If `connectedHits` for the enemy skill is `0`, the skill is excluded from\n  mitigation totals (both avoid and min avoid).\n\n### Player Mitigation Aggregation\n\nFor each player (account key):\n\n1. Sum avoidance counts **per skill id** across all logs:\n   - `hits`, `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`.\n2. For each skill id, compute `avoidDamage` / `minAvoidDamage` using the global\n   enemy averages (above).\n3. **Include only skills with `avoidDamage > 0`** in totals.\n4. Totals are the sum of:\n   - `totalHits` (from `hits`)\n   - `blocked`, `evaded`, `glanced`, `missed`, `invulned`, `interrupted`\n   - `totalMitigation` (sum of avoidDamage)\n   - `minMitigation` (sum of minAvoidDamage)\n\n### Minion Mitigation Aggregation\n\nFor each minion (player account + minion name):\n\n1. Sum avoidance counts **per skill id** across all logs using\n   `minion.totalDamageTakenDist[0]`.\n2. Use the **same enemy averages** (from targets).\n3. Compute totals using the same formula and inclusion rules as player\n   mitigation.\n\nMinion names are normalized by:\n- Removing `"Juvenile "` prefix.\n- Converting names containing `"UNKNOWN"` to `"Unknown"`.\n\n### Field Mapping in UI\n\nThe Damage Mitigation table uses the following totals:\n\n- `Total Hits`  summed `hits` for included skills\n- `Evaded`, `Blocked`, `Glanced`, `Missed`, `Invulned`, `Interrupted`\n- `Damage Mitigation`  `totalMitigation`\n- `Min Damage Mitigation`  `minMitigation`\n\n### Why This Diverges From Some External Tools\n\nSome tools compute mitigation differently (e.g., per-log accumulation with\nrunning averages, name-based skill bucketing, or repeated adding across logs).\nThis spec intentionally computes **one consistent estimate** across all logs\nusing **global enemy averages** and **per-skill cumulative counts**, which\navoids log-count bias.\n\n### Known Limitations\n\n- If a skills `connectedHits` is zero in targets data, mitigation for that\n  skill is excluded.\n- Some skills share names across different ids; we bucket by **skill id** to\n  avoid collisions.\n- Enemy damage averages are computed from `targets[*].totalDamageDist[0]` and\n  can be skewed by target mix, fake targets, or atypical fights.\n\n### How-To: Validate Against Raw EI JSON\n\n1. Choose a player or minion and a specific skill id from:\n   - `players[*].totalDamageTaken[0]` or `minions[*].totalDamageTakenDist[0]`.\n2. Compute counts: `blocked`, `evaded`, `glanced`, `missed`, `invulned`,\n   `interrupted`, `hits`.\n3. Compute enemy averages from all logs `targets[*].totalDamageDist[0]` for\n   the same skill id.\n4. Apply the formula above and verify the per-skill avoided damage.\n5. Sum over skills with `avoidDamage > 0` to confirm table totals.\n\n### How-To: Debug Mismatches\n\n1. Confirm the same log set is being aggregated.\n2. Verify skill ids match (name collisions can hide differences).\n3. Check if the target data includes the skill id with non-zero\n   `connectedHits`.\n4. Validate that minion names are normalized (`Juvenile` prefix removed).\n5. Compare against a single skill id first, then widen to all skills.\n\n## Conditions (Outgoing + Incoming)\n\nOutgoing condition totals are derived from `players[*].totalDamageDist[*]`\nentries whose resolved skill name maps to a condition label (see\n`CONDITION_NAME_MAP`). For each matching entry:\n\n- `applications` uses `connectedHits` when available, otherwise falls back to\n  `hits` (needed for non-damaging conditions like blind/slow/fear).\n- `damage` uses `totalDamage`.\n\nTotals are aggregated per player and across the squad. The UI can filter to a\nsingle condition or show the all-conditions rollup.\n\nIncoming condition totals are derived from `players[*].totalDamageTaken[*]`\nentries whose resolved skill/buff ID maps to a condition. For each matching\nentry:\n\n- `applications` uses `hits`.\n- `damage` uses `totalDamage`.\n\n### Current Condition Labels (Normalization)\n\nCondition detection normalizes skill/buff names to the following labels. Only\nthese are counted as conditions:\n\n- Bleeding\n- Burning\n- Confusion\n- Poison\n- Torment\n- Vulnerability\n- Weakness\n- Blind\n- Cripple\n- Chill\n- Immobilize\n- Slow\n- Fear\n- Taunt\n\nNotes:\n- The matcher lowercases and trims names, then maps variants like `crippled`\n   `Cripple` and `chilled`  `Chill`.\n- If a skill/buff name does not normalize to one of the labels above, it is\n  excluded from condition totals.\n\n### Limitation (Hosted JSON)\n\nAccurate application counts for non-damaging conditions (e.g., vulnerability,\nweakness, blind, slow) require target buff state timelines\n(`targets[*].buffs[*].statesPerSource`). If hosted JSON lacks this data (common\nin older logs or trimmed outputs), the app falls back to damage distribution\n(`totalDamageDist`) hit counts, which can significantly under-count\napplications for those conditions.\n\n### Condition Application Counting (States Per Source)\n\nWhen `targets[*].buffs[*].statesPerSource` is available, the app computes two\nseparate application counts per condition:\n\n- **Stack Delta Applications (`applicationsFromBuffs`)**  \n  Counts the **sum of positive stack increases** across the states timeline.\n  Example timeline: `0  1  3  2  5` contributes `+1 +2 +3 = 6`.  \n  This aligns with the technical definition of applications as **stacks\n  actually added**.\n\n- **Active State Entries (`applicationsFromBuffsActive`)**  \n  Counts **each non-zero state entry** (each time the state updates while the\n  condition is active). This tracks **how often the buff state changed while\n  active**, which often matches external tooling that counts active segments,\n  but can **over-count** true applications for stacking conditions.\n\n**Tradeoffs:**\n- *Stack delta* is closer to how many stacks were applied but can be lower\n  than tools that count refreshes/active entries.\n- *Active entries* better match some log combiner views but can overstate\n  application counts when stacks are refreshed without adding stacks.\n\n## Deaths / Downs (Taken)\n\n`deaths = defenses[0].deadCount`  \n`downsTaken = defenses[0].downCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDeaths, getPlayerDownsTaken).\n\n## Dodges / Misses / Blocks / Evades (Taken)\n\n`dodges = defenses[0].dodgeCount`  \n`missed = defenses[0].missedCount`  \n`blocked = defenses[0].blockedCount`  \n`evaded = defenses[0].evadedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts`\n(getPlayerDodges, getPlayerMissed, getPlayerBlocked, getPlayerEvaded).\n\n## Resurrects\n\n`resurrects = support[0].resurrects`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerResurrects).\n\n## Distance to Tag\n\n`distanceToTag = statsAll[0].distToCom` if present; otherwise use\n`statsAll[0].stackDist`. If both are missing but combat replay positions are\navailable, compute the average distance to the commander tag over the\navailable timeline. Otherwise `0`.\n\nImplementation: `src/shared/dashboardMetrics.ts` (getPlayerDistanceToTag).\n\n## Kills / Downs / Against Downed (Target Stats)\n\nFor each player, aggregate from `statsTargets[*][0]`:\n\n- `killed`\n- `downed`\n- `againstDownedCount`\n\nImplementation: `src/shared/dashboardMetrics.ts` (getTargetStatTotal).\n\n## Skill Usage Tracker (Rotation Casts)\n\nSkill usage is derived from each player\'s `rotation` entries in EI JSON. For\neach rotation skill entry:\n- `castCount = rotationSkill.skills.length`\n- `skillId = s{rotationSkill.id}`\n- Counts are aggregated per player per log and summed across logs for totals.\n\nThe Skill Usage Tracker supports two display modes:\n- **Total**: raw cast counts per player (per log in the timeline).\n- **Per Second**: cast rate using active time, where\n  `activeSeconds = players[*].activeTimes[0] / 1000` when available, otherwise\n  `durationMS / 1000` from the log details.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (skill usage tracker aggregation).\n\n## APM Breakdown\n\nAPM is derived from the Skill Usage Tracker data (rotation casts). For each\nplayer:\n- `totalCasts = sum(rotationSkill.skills.length)`\n- `apm = totalCasts / (activeSeconds / 60)`\n- `aps = totalCasts / activeSeconds`\n- Auto-attack counts are excluded for the "No Auto" variants.\n\nThe APM Breakdown groups players by profession and aggregates per-skill cast\ncounts across the group.\n\nImplementation: `src/renderer/stats/hooks/useApmStats.ts`.\n\n## Player Skill Breakdown (Damage / Down Contribution / DPS)\n\nPer-player skill damage breakdown is built from the same damage distribution\ninputs as Top Skills (see below):\n- Outgoing skill damage uses `targetDamageDist` (default) or `totalDamageDist`\n  based on settings.\n- Each entry contributes `totalDamage` and `downContribution`.\n\nFor each player and skill:\n- `totalDamage = sum(entry.totalDamage)`\n- `downContribution = sum(entry.downContribution)`\n- `dps = totalDamage / (totalFightSeconds)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Top Skills (Outgoing / Incoming)\n\nTop Outgoing Skills are derived from the squad-wide aggregation of\n`targetDamageDist` (default) or `totalDamageDist` entries:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.connectedHits)`\n- `downContribution = sum(entry.downContribution)`\n\nWhen using target-based outgoing aggregation, total-distribution supplementation\nis mode-sensitive:\n- non-detailed logs (`detailedWvW !== true`): missing/under-reported target\n  skill ids may be supplemented from `totalDamageDist` deltas\n- detailed WvW logs (`detailedWvW === true`): supplementation from\n  `totalDamageDist` is disabled to avoid known outlier max/damage artifacts\n  observed in some EI exports\n\nTop Incoming Skills are derived from `totalDamageTaken`:\n- `damage = sum(entry.totalDamage)`\n- `hits = sum(entry.hits)`\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Boon Output\n\nBoon output tables are computed from player boon generation data:\n- `selfBuffs`, `groupBuffs`, `squadBuffs` (and their `Active` variants)\n- `buffMap` for name/icon/stacking metadata\n- `durationMS`, `activeTimes`, and `group` for normalization\n\nImplementation: `src/shared/boonGeneration.ts`.\n\n### Boon Timeline (Defense)\n\nThe Boon Timeline section uses the same generation foundation as Boon Output\nwith **Total** semantics:\n\n- Per-player per-boon totals use:\n  - `selfBuffs + squadBuffs`\n  - `groupBuffs` is intentionally excluded to avoid double counting\n    (group is a subset of squad in this model)\n- Scope toggle:\n  - `Self` = `selfBuffs`\n  - `Squad` = `squadBuffs` (default)\n  - `Group` = `groupBuffs`\n  - `All` = `selfBuffs + squadBuffs` (`totalBuffs`)\n\nFor each fight and boon:\n\n1. Compute player total generation milliseconds:\n   - stacking boons:\n     - `generationMs = generation * durationMs * recipientCount`\n   - non-stacking boons:\n     - `generationMs = (generation / 100) * durationMs * recipientCount`\n   - where:\n     - `recipientCount = 1` for self\n     - `recipientCount = squadCount - 1` for squad\n\n2. Build 5-second bucket shape from `buffUptimes[*].statesPerSource`:\n   - integrate source state value over time (time-weighted area) into each 5s bucket\n   - this yields relative bucket weights (not final totals)\n\n3. Scale bucket weights to the player fight total from step 1:\n   - `bucketValue = bucketWeight * (fightTotal / sum(bucketWeights))`\n   - fallback when timeline weights are unavailable: uniform distribution across buckets\n\nUnits shown in the UI are **boon-seconds** (`generationMs / 1000`), aggregated\nacross recipients. Because this is recipient-aggregated generation, 5s bucket\nvalues can exceed `5` and may be large for stacking boons or `All`-player view.\n\nTimeline player identity is account-level (`account`) to match Boon Output row\ngrouping across profession swaps.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`.\n\n### Boon Uptime (Defense)\n\nThe Boon Uptime section is derived from `players[*].buffUptimes[*].statesPerSource`\nfor boon-classified buffs and reports **stack state over time on the selected\nplayer**, not outgoing generation.\n\nSource/eligibility:\n- include only `players[*].buffUptimes[*]` entries where `buffMap[b{id}]` (or fallback)\n  has `classification === "Boon"` (or empty classification treated as boon-compatible)\n- use `buffMap` metadata for `name`, `icon`, and `stacking`\n\nPer-fight timeline buckets:\n- sample every 5 seconds (`t = 0, 5, 10, ...`) and read current state value from\n  each source timeline in `statesPerSource`\n- sum active source values for that sample into the player bucket\n\nStack semantics (enforced):\n- non-stacking boons: binary only\n  - `bucket = 1` when sampled value is `> 0`\n  - `bucket = 0` otherwise\n  - no fractional values are permitted\n- stacking boons: integer stack counts only\n  - sampled values are rounded to whole stacks\n  - stacks are clamped to a max cap\n\nUptime percentage semantics:\n- uptime% is **presence-based** for all boons:\n  - a 5s bucket counts as uptime when sampled bucket value is `> 0`\n  - otherwise that bucket counts as no uptime\n- this rule applies to both non-stacking and stacking boons (stack amount does\n  not scale uptime%)\n- denominator includes all 5s buckets across all fights for that player/boon\n  (including fights where that player has no states for the boon)\n\nStack caps:\n- `Might`: `25`\n- `Stability`: `25`\n- current implementation applies cap `25` for stacking boons\n\nUI behavior:\n- main chart:\n  - stacking boons: per-fight **average stacks**\n  - non-stacking boons: per-fight **uptime percentage** (active 5s buckets / total 5s buckets)\n- drilldown chart: selected fight 5-second stack buckets\n- for stacking boons, UI may render a reference line at stack cap (`25`)\n- player list and summary card use the same shared uptime% source, so selected\n  player row uptime% equals displayed overall uptime%\n\nAggregation notes:\n- uptime view is account-keyed per player and does not use an aggregated `__all__`\n  synthetic row for timeline values\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`,\n`src/renderer/StatsView.tsx`, `src/renderer/stats/sections/BoonUptimeSection.tsx`.\n\n## Special Buffs\n\nSpecial (non-boon) buff tables are computed from `buffUptimes` using\n`buffMap` classification and icon metadata. Durations are normalized by\n`activeTimes` and `durationMS`.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n### Sigil/Relic Uptime (Other Metrics)\n\nThe `Sigil/Relic Uptime` section is derived from `specialTables` and filtered\nto entries whose buff name matches `sigil` or `relic` (case-insensitive).\n\n#### Data source and eligibility\n\nFor each squad player and each non-boon buff in `players[*].buffUptimes`:\n\n- Buff metadata source:\n  - `details.buffMap[b{id}]` (fallback `details.buffMap[id]`)\n- Include only:\n  - non-boons (`classification !== "Boon"`)\n  - rows with valid positive uptime signal:\n    - `buffData[0].uptime > 0` or `buffData[0].presence > 0`\n\n#### Two parallel measures stored for each row\n\n1. **Stack/Intensity measure** (`total`, `perSecond`)\n   - used by the generic Special Buffs table\n   - formula:\n     - if stacking buff: `uptimeFactor = uptimeRaw`\n     - else: `uptimeFactor = uptimeRaw / 100`\n     - `totalMs += uptimeFactor * activeMs`\n   - output:\n     - `total = totalMs / 1000`\n     - `perSecond = totalMs / durationMs`\n\n2. **True uptime percentage measure** (`uptimePerSecond`)\n   - used by `Sigil/Relic Uptime`\n   - formula:\n     - non-stacking buff:\n       - `uptimePctRaw = uptimeRaw`\n     - stacking buff:\n       - `uptimePctRaw = presenceRaw`\n     - clamp to percentage domain:\n       - `uptimePct = clamp(uptimePctRaw, 0, 100) / 100`\n     - accumulate:\n       - `uptimeMs += uptimePct * activeMs`\n   - final denominator:\n     - `fullPlayerDurationMs = player.supportActiveMs`\n     - `uptimePerSecond = uptimeMs / fullPlayerDurationMs`\n   - rendered as:\n     - `Uptime% = uptimePerSecond * 100`\n\n#### Why this is the accuracy model\n\nThis method intentionally uses the **same activity window in numerator and\ndenominator** (player active time):\n\n- Numerator:\n  - uptime milliseconds accumulated from each fight over player active time\n- Denominator:\n  - total player active time across selected fights\n\nThat produces a direct interpretation:\n\n- "Percent of the time this player was active that this sigil/relic effect was\n  present."\n\nFor stacking gear buffs, `presence` is used for percent uptime because\n`uptime` on stacking buffs represents average stack intensity, not time-up\npercentage. This avoids under/over-reporting caused by treating stack-average\nas uptime%.\n\n### Fight Comparison (Other Metrics)\n\n`Fight Comparison` compares two selected fights using two focused views:\n\n1. `Target Focus Comparison`\n- Aggregates squad outgoing damage into enemy profession buckets using\n  `players[*].statsTargets[targetIndex][0].damage`.\n- Target labels are resolved from `targets[targetIndex]` with profession-first\n  fallback (`profession -> name -> id`).\n- Per fight, each target bucket includes:\n  - `damage`\n  - `hits`\n  - `share = damage / totalTargetDamage`\n- Comparison table uses the union of target buckets and highlights\n  `shareDelta = fightB.share - fightA.share`.\n\n2. `Squad Metric Comparison`\n- Compares squad-level fight aggregates instead of individual player leaders.\n- Includes broad outcome/pressure/support metrics, including:\n  - win flag, squad size, enemy count, squad KDR\n  - enemy deaths/downs, squad deaths/downs\n  - outgoing/incoming damage and damage delta\n  - cleanses, strips, stability, healing, barrier out\n  - incoming barrier absorption, enemy barrier absorption\n  - squad CC, down contribution, revived players\n- Delta shown is `fightB.value - fightA.value`; color semantics account for\n  metric direction (`higherIsBetter`).\n\nImplementation:\n- aggregation payload build: `src/renderer/stats/computeStatsAggregation.ts` (`fightDiffMode`)\n- section rendering: `src/renderer/stats/sections/FightDiffModeSection.tsx`\n\n## Offense / Defense / Support / Healing Tables\n\nDetailed tables aggregate the per-player totals defined in:\n- `src/renderer/stats/statsMetrics.ts` (metric definitions)\n- `src/shared/dashboardMetrics.ts` (per-player metric extraction)\n- `src/renderer/stats/computeStatsAggregation.ts` (aggregation)\n\nDefense Detailed includes a derived metric:\n- `Minion Damage Taken`:\n  sum `players[*].minions[*].totalDamageTakenDist[0][*].totalDamage`, with\n  fallback to `damageTaken` when `totalDamage` is absent.\n\n## Spike Damage\n\nSpike Damage has four modes:\n- `hit`: highest single skill hit in a fight\n- `1s`: highest rolling 1-second damage burst in a fight\n- `5s`: highest rolling 5-second damage burst in a fight\n- `30s`: highest rolling 30-second damage burst in a fight\n\n### Player Identity\n\nPer-fight player keys are resolved as:\n- `key = "${account}|${profession}"`\n- `account = player.account || player.name || "Unknown"`\n- `profession = player.profession || "Unknown"`\n\nThis same key is used to join:\n- player list\n- per-fight values\n- selected-player chart/drilldown\n\n### Highest Single Hit (`hit`)\n\nFor each squad player (`!notInSquad`), the highest single-hit value is scanned\nfrom damage distributions (skill maps used for names).\n\nValue:\n- candidate fields per entry:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- no inferred single-hit estimate is used (for example,\n  `totalDamage / connectedHits` is intentionally excluded)\n\nSource priority:\n- primary: `targetDamageDist`\n- fallback: `totalDamageDist` only when no target entries are present (or no\n  positive peak was found from target entries)\n\nDetailed WvW safeguard:\n- for logs with `detailedWvW === true`, target-side data is treated as the\n  authoritative source for spike-hit computations whenever present, because\n  some logs can contain total-distribution outlier maxima that are inconsistent\n  with target-distribution entries.\n\nSkill label:\n- `skillName` from `skillMap`/`buffMap` by id fallback (`Unknown Skill` if missing)\n\n### Rolling Burst (`1s` / `5s`)\n\nBurst uses per-second **delta** damage:\n1. Build cumulative damage for phase 0:\n   - prefer aggregated target phase 0 from `targetDamage1S` when available\n   - fallback to `damage1S[0]`\n2. Convert cumulative -> per-second deltas:\n   - `delta[i] = max(0, cumulative[i] - cumulative[i-1])` (`i=0` uses prev `0`)\n3. Compute rolling windows:\n- `burst1s = max(sum(delta[i..i]))`\n- `burst5s = max(sum(delta[i..i+4]))`\n- `burst30s = max(sum(delta[i..i+29]))`\n\nImplementation includes support for EI shape variants:\n- Shape A: `[phase][target][time]`\n- Shape B: `[target][phase][time]`\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses the corresponding max series as the dashed reference line.\n\n### Drilldown (5s Buckets)\n\nSelected fight drilldown is always rendered as 5-second buckets.\n\nBucket source:\n- preferred: precomputed `buckets5s`\n- fallback: recompute from selected player per-second delta series\n\nBucket value:\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count:\n- extended to full fight duration (`ceil(durationMS / 5000)`) so trailing\n  down/death events are representable even if damage is zero late-fight.\n\n### Down / Death Markers\n\nMarker events are read from `combatReplayData`:\n- supports both replay object and segmented replay-array forms\n- uses `down` and `dead` arrays\n\nTimestamp normalization:\n- handles mixed encodings (ms/seconds/large scales) and offset baselines\n  using replay starts/global starts/log offsets\n- selects the shift/scale that maximizes in-range alignment with fight buckets\n\nMarker placement:\n- convert normalized time to bucket index:\n  - `index = floor(timeMs / 5000)`\n- constrain to visible drilldown bucket range\n- render:\n  - down marker: yellow\n  - death marker: red\n\nWeb report parity:\n- precomputed spike payload stores marker indices as:\n  - `downIndices5s`\n  - `deathIndices5s`\n- embedded/web mode can render markers without raw `logs` by consuming these fields.\n\nImplementation:\n- Aggregation/precompute: `src/renderer/stats/computeStatsAggregation.ts`\n- Runtime selection/drilldown + fallbacks: `src/renderer/StatsView.tsx`\n- Chart rendering/interaction: `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Incoming Strike Damage\n\nIncoming Strike Damage mirrors Spike Damage interactions (same chart modes,\nselection, drilldown, animations, and fight navigation) but changes the data\nsource and grouping:\n\n- grouped by **enemy class** (`targets[*].profession`) instead of squad player\n- uses **incoming strike timelines** and target damage distributions\n- selected-fight expansion includes a **skill-level incoming strike table**\n\n### Identity and Grouping\n\nPer-fight keys are enemy profession labels:\n\n- `key = resolveProfessionLabel(target.profession || target.name || target.id)`\n- fallback key: `"Unknown"`\n\nAll enemy targets in a fight that resolve to the same profession are merged\ninto one class bucket for that fight.\n\n### Damage Modes (`hit`, `1s`, `5s`, `30s`)\n\nModes are defined the same way as Spike Damage:\n\n- `hit`: highest single incoming strike hit seen in the class bucket\n- `1s`: highest rolling 1-second incoming strike burst\n- `5s`: highest rolling 5-second incoming strike burst\n- `30s`: highest rolling 30-second incoming strike burst\n\n`hit` source:\n\n- scan target strike distributions (`totalDamageDist`) and keep max of:\n  - `entry.max`\n  - `entry.maxDamage`\n  - `entry.maxHit`\n- ignore `indirectDamage` entries\n\n### Incoming Timeline Construction\n\nFor each enemy target, incoming strike series is built with the following\npriority:\n\n1. Squad-attributed incoming-vs-target cumulative strike:\n   - sum `players[*].targetPowerDamage1S[targetIndex]` across all squad players\n2. Fallback target timeline:\n   - `targets[targetIndex].powerDamage1S`\n3. Final fallback:\n   - `targets[targetIndex].damage1S`\n\nEach chosen cumulative series is converted to per-second deltas:\n\n- `delta[i] = max(0, cumulative[i] - cumulative[i-1])`\n- `delta[0] = max(0, cumulative[0])`\n\nClass series is then:\n\n- sum of target delta series for all targets in that class\n\nBurst windows are computed from class per-second deltas with the same rolling\nwindow logic used by Spike Damage.\n\n### Timeline Fallback When Target Timelines Are Missing\n\nIf enemy target timelines are empty/unusable for a fight:\n\n1. Build squad incoming strike series from `players[*].powerDamageTaken1S`\n   (cumulative -> per-second deltas).\n2. Compute enemy class counts from `targets[*]` (enemy player targets only).\n3. Distribute squad incoming per-second totals across classes proportionally by\n   class count in that fight.\n\nThis preserves non-zero burst/drilldown behavior for logs lacking complete\ntarget timeline detail.\n\n### Per-Fight Max Reference Line\n\nFor each fight:\n\n- `maxHit = max(values[*].hit)`\n- `max1s = max(values[*].burst1s)`\n- `max5s = max(values[*].burst5s)`\n- `max30s = max(values[*].burst30s)`\n\nThe selected mode uses its corresponding fight max as the dashed reference\nseries in the chart.\n\n### Fight Drilldown (5s Buckets)\n\nSelected-fight drilldown is 5-second buckets from class per-second deltas:\n\n- `bucket[k] = sum(delta[k*5 .. k*5+4])`\n\nBucket count extends to at least `ceil(durationMS / 5000)` so late-fight\nmarker events can still be shown even when trailing bucket damage is zero.\n\nDown/death markers use replay event times from squad players and are converted\nto indices with the same normalization/indexing logic as Spike Damage\n(ms/sec scaling, offset hints, then `floor(timeMs / 5000)` clamp).\n\n### Selected Fight Skill Table (Incoming Skill Damage)\n\nThe expanded table for the selected fight/class is generated from enemy target\nstrike distributions:\n\n1. For each target in the selected class:\n   - read `target.totalDamageDist` entries\n   - ignore `indirectDamage`\n2. Resolve each skill id via:\n   - `skillMap[s{id}]`, then `skillMap[id]`\n   - fallback `buffMap[b{id}]`, then `buffMap[id]`\n3. Aggregate per skill name:\n   - `damage += entry.totalDamage`\n   - `hits += entry.connectedHits || entry.hits`\n   - preserve first available icon URL\n4. Sort desc by damage and keep top rows for rendering.\n\n### Why Some Skill Names Can Look Off-Class\n\nSkill names in incoming strike tables are tied to damage event ids in EI\ndamage distributions, not to profession skill catalogs. Because of that,\noff-class-looking names can appear in a class bucket (for example via\nreflected/returned projectiles, transformed skills, or attribution context).\nThis is expected under the current event-id attribution model.\n\n### Implementation\n\n- Aggregation/precompute:\n  - `src/renderer/stats/computeStatsAggregation.ts` (`incomingStrikeDamage`)\n- Runtime selection/drilldown/table rows:\n  - `src/renderer/StatsView.tsx`\n- UI rendering (card, chart, drilldown, skill table):\n  - `src/renderer/stats/sections/SpikeDamageSection.tsx`\n\n## Timeline / Map Distribution / Fight Breakdown\n\nThese sections use log-level metadata:\n- `details.uploadTime`, `details.durationMS`, `details.success`\n- `details.targets` (enemy counts, fake target filtering)\n- `details.zone`/`mapName`/`map`/`location`/`fightName` for map labels\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Squad Composition\n\nSquad composition is derived from each player\'s resolved profession name\nand aggregated across logs.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Attendance Ledger\n\nAttendance is computed from squad-player participation across all valid logs.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, account/name/profession/group)\n- `players[*].activeTimes[0]`\n- `details.durationMS` (fallback when active time is missing)\n\n### Player Inclusion\n\n- Include only squad players: `!player.notInSquad`.\n- Player key for aggregation is:\n  - `player.account` when present and not `"Unknown"`\n  - otherwise `player.name`\n\n### Time Aggregation\n\nPer squad player entry:\n\n- `activeMs = players[*].activeTimes[0]` when numeric, else `details.durationMS || 0`\n- `combatTimeMs[player] += activeMs`\n- if profession is known:\n  - `professionTimeMs[player][profession] += activeMs`\n\nAlso track appearance window per player:\n\n- `firstSeenFightTs`: earliest fight timestamp where player appears in squad\n- `lastSeenFightTs`: latest fight timestamp where player appears in squad\n- `lastSeenFightDurationMs`: duration of that latest fight\n\nFinal elapsed squad time:\n\n- `squadTimeMs = max(0, (lastSeenFightTs + lastSeenFightDurationMs) - firstSeenFightTs)`\n- fallback to `combatTimeMs` when timestamps are unavailable\n\nCharacter names shown in attendance are the unique set of `player.name` values\nseen for that player key.\n\n### Row Shape / Sorting\n\nFor each aggregated player:\n\n- `account`: aggregation key\n- `characterNames`: unique character names, sorted ascending\n- `classTimes`: entries from `professionTimeMs`, filtered to\n  - `profession !== "Unknown"`\n  - `timeMs > 0`\n- `combatTimeMs`: total active combat time\n- `squadTimeMs`: elapsed time between first seen fight start and last seen fight end\n\nRows are sorted by:\n1. `squadTimeMs` descending\n2. `account` ascending\n\nRows with `account` missing/`"Unknown"` are excluded from final output.\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`attendanceData`).\n\n## Squad Comp By Fight\n\nThis section provides per-fight party-line roster composition.\n\n### Inputs Used\n\n- `details.players[*]` (squad membership, group, account/name/profession)\n- `details.durationMS`\n- fight metadata/time fields used by `resolveFightTimestamp` and `resolveMapName`\n\n### Fight Ordering\n\nFights are sorted by resolved fight timestamp ascending:\n\n- `uploadTime`\n- fallback: `timeStartStd`, `timeStart`, `timeEndStd`, `timeEnd`\n\n### Party Assignment\n\nFor each squad player (`!player.notInSquad`) in a fight:\n\n- `party = Number(player.group)` when finite and `> 0`, else `0` (`Unassigned`)\n- profession label is normalized via `resolveProfessionLabel(...)`\n\nPer party:\n\n- append player row `{ account, characterName, profession }`\n- increment `classCounts[profession] += 1`\n\n### Party / Player Sorting\n\nWithin each party:\n\n- players are sorted by `profession`, then `account` ascending\n\nParty rows are sorted by:\n1. party number ascending for `1..n`\n2. party `0` (`Unassigned`) last\n\n### Output Shape\n\nPer fight:\n\n- `id`: file/log id fallback chain\n- `label`: `F{index+1}` in timestamp-sorted order\n- `timestamp`: resolved fight timestamp\n- `mapName`: resolved map name\n- `duration`: `formatDurationMs(details.durationMS)`\n- `parties`: sorted party rows with class counts and account list\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts` (`squadCompByFight`).\n\n## Top Stats / MVP\n\nTop stats are computed by ranking the leaderboards for key metrics (down\ncontribution, barrier, healing, cleanses, strips, stability, CC, etc).\nMVP scoring uses weighted ratios against these leaderboards and is configured\nvia `statsViewSettings` + `mvpWeights`.\n\nParticipation is computed as `logsJoined` (number of logs where the player\nappears in the squad).\n\nImplementation: `src/renderer/stats/computeStatsAggregation.ts`.\n\n## Known Caveats\n\n- EI JSON versions can add/remove fields; missing fields always fall back to `0`.\n- `distToCom` and `stackDist` are not guaranteed to exist in every log; `distanceToTag` may be `0`.\n- Incoming CC/strips use weighted skill mappings; mismatches can occur if EI changes skill ids or hit accounting.\n- Stability generation depends on buff metadata presence (`buffMap`) and correct `durationMS`.\n- Damage uses `dpsAll[0].damage` (player total) rather than summing per-target totals, which may differ when targets are filtered or merged.\n- Skill usage totals are raw cast counts unless the per-second view is selected; missing `activeTimes` falls back to log duration for rate calculations.\n- Some detailed WvW EI exports may contain outlier values in `totalDamageDist`\n  (notably `max` on specific skill rows). Spike-hit and target-mode outgoing\n  aggregations prefer/anchor to `targetDamageDist` to reduce false outliers.\n\n## Manifest & Field Usage\n\nThe dev dataset manifest is generated by the app when exporting logs. It is\nstored as `dev/datasets/<dataset>/manifest.json` and contains:\n\n- `id`: log id or generated id\n- `filePath`: relative path to the log JSON\n- `fightName`\n- `encounterDuration`\n- `uploadTime`\n- `timeStart`\n- `timeStartStd`\n- `durationMS`\n- `success`\n- `playerCount`\n- `squadCount`\n- `nonSquadCount`\n\nStats calculations **do not** use the manifest fields directly; the manifest\nis used for listing logs and metadata only. All computations are derived from\nthe EI JSON log payload fields listed in the **Input Contract** and the\nsections above.\n',dR=g.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),Tb=g.createContext({}),S2=g.createContext(null),Mb=typeof document<"u",_he=Mb?g.useLayoutEffect:g.useEffect,fR=g.createContext({strict:!1}),j2=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Lhe="framerAppearId",mR="data-"+j2(Lhe);function $he(e,t,n,r){const{visualElement:i}=g.useContext(Tb),a=g.useContext(fR),s=g.useContext(S2),o=g.useContext(dR).reducedMotion,c=g.useRef();r=r||a.renderer,!c.current&&r&&(c.current=r(e,{visualState:t,parent:i,props:n,presenceContext:s,blockInitialAnimation:s?s.initial===!1:!1,reducedMotionConfig:o}));const u=c.current;g.useInsertionEffect(()=>{u&&u.update(n,s)});const d=g.useRef(!!(n[mR]&&!window.HandoffComplete));return _he(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),g.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function gd(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function Fhe(e,t,n){return g.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):gd(n)&&(n.current=r))},[t])}function ah(e){return typeof e=="string"||Array.isArray(e)}function Eb(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const C2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],A2=["initial",...C2];function Ob(e){return Eb(e.animate)||A2.some(t=>ah(e[t]))}function hR(e){return!!(Ob(e)||e.variants)}function Rhe(e,t){if(Ob(e)){const{initial:n,animate:r}=e;return{initial:n===!1||ah(n)?n:void 0,animate:ah(r)?r:void 0}}return e.inherit!==!1?t:{}}function Bhe(e){const{initial:t,animate:n}=Rhe(e,g.useContext(Tb));return g.useMemo(()=>({initial:t,animate:n}),[SM(t),SM(n)])}function SM(e){return Array.isArray(e)?e.join(" "):e}const jM={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sh={};for(const e in jM)sh[e]={isEnabled:t=>jM[e].some(n=>!!t[n])};function zhe(e){for(const t in e)sh[t]={...sh[t],...e[t]}}const pR=g.createContext({}),gR=g.createContext({}),Uhe=Symbol.for("motionComponentSymbol");function Whe({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&zhe(e);function a(o,c){let u;const d={...g.useContext(dR),...o,layoutId:Vhe(o)},{isStatic:f}=d,h=Bhe(o),m=r(o,f);if(!f&&Mb){h.visualElement=$he(i,m,d,t);const p=g.useContext(gR),x=g.useContext(fR).strict;h.visualElement&&(u=h.visualElement.loadFeatures(d,x,e,p))}return g.createElement(Tb.Provider,{value:h},u&&h.visualElement?g.createElement(u,{visualElement:h.visualElement,...d}):null,n(i,o,Fhe(m,h.visualElement,c),m,f,h.visualElement))}const s=g.forwardRef(a);return s[Uhe]=i,s}function Vhe({layoutId:e}){const t=g.useContext(pR).id;return t&&e!==void 0?t+"-"+e:e}function Hhe(e){function t(r,i={}){return Whe(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const qhe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function P2(e){return typeof e!="string"||e.includes("-")?!1:!!(qhe.indexOf(e)>-1||/[A-Z]/.test(e))}const J0={};function Khe(e){Object.assign(J0,e)}const Kh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Eu=new Set(Kh);function xR(e,{layout:t,layoutId:n}){return Eu.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!J0[e]||e==="opacity")}const Sa=e=>!!(e&&e.getVelocity),Ghe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Yhe=Kh.length;function Xhe(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let a="";for(let s=0;s<Yhe;s++){const o=Kh[s];if(e[o]!==void 0){const c=Ghe[o]||o;a+=`${c}(${e[o]}) `}}return t&&!e.z&&(a+="translateZ(0)"),a=a.trim(),i?a=i(e,r?"":a):n&&r&&(a="none"),a}const bR=e=>t=>typeof t=="string"&&t.startsWith(e),vR=bR("--"),M1=bR("var(--"),Qhe=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Zhe=(e,t)=>t&&typeof e=="number"?t.transform(e):e,bc=(e,t,n)=>Math.min(Math.max(n,e),t),Ou={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},xm={...Ou,transform:e=>bc(0,1,e)},Qp={...Ou,default:1},bm=e=>Math.round(e*1e5)/1e5,Ib=/(-)?([\d]*\.?[\d])+/g,yR=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Jhe=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Gh(e){return typeof e=="string"}const Yh=e=>({test:t=>Gh(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),Ul=Yh("deg"),go=Yh("%"),Yt=Yh("px"),epe=Yh("vh"),tpe=Yh("vw"),CM={...go,parse:e=>go.parse(e)/100,transform:e=>go.transform(e*100)},AM={...Ou,transform:Math.round},wR={borderWidth:Yt,borderTopWidth:Yt,borderRightWidth:Yt,borderBottomWidth:Yt,borderLeftWidth:Yt,borderRadius:Yt,radius:Yt,borderTopLeftRadius:Yt,borderTopRightRadius:Yt,borderBottomRightRadius:Yt,borderBottomLeftRadius:Yt,width:Yt,maxWidth:Yt,height:Yt,maxHeight:Yt,size:Yt,top:Yt,right:Yt,bottom:Yt,left:Yt,padding:Yt,paddingTop:Yt,paddingRight:Yt,paddingBottom:Yt,paddingLeft:Yt,margin:Yt,marginTop:Yt,marginRight:Yt,marginBottom:Yt,marginLeft:Yt,rotate:Ul,rotateX:Ul,rotateY:Ul,rotateZ:Ul,scale:Qp,scaleX:Qp,scaleY:Qp,scaleZ:Qp,skew:Ul,skewX:Ul,skewY:Ul,distance:Yt,translateX:Yt,translateY:Yt,translateZ:Yt,x:Yt,y:Yt,z:Yt,perspective:Yt,transformPerspective:Yt,opacity:xm,originX:CM,originY:CM,originZ:Yt,zIndex:AM,fillOpacity:xm,strokeOpacity:xm,numOctaves:AM};function D2(e,t,n,r){const{style:i,vars:a,transform:s,transformOrigin:o}=e;let c=!1,u=!1,d=!0;for(const f in t){const h=t[f];if(vR(f)){a[f]=h;continue}const m=wR[f],p=Zhe(h,m);if(Eu.has(f)){if(c=!0,s[f]=p,!d)continue;h!==(m.default||0)&&(d=!1)}else f.startsWith("origin")?(u=!0,o[f]=p):i[f]=p}if(t.transform||(c||r?i.transform=Xhe(e.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:f="50%",originY:h="50%",originZ:m=0}=o;i.transformOrigin=`${f} ${h} ${m}`}}const T2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function kR(e,t,n){for(const r in t)!Sa(t[r])&&!xR(r,n)&&(e[r]=t[r])}function npe({transformTemplate:e},t,n){return g.useMemo(()=>{const r=T2();return D2(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function rpe(e,t,n){const r=e.style||{},i={};return kR(i,r,e),Object.assign(i,npe(e,t,n)),e.transformValues?e.transformValues(i):i}function ipe(e,t,n){const r={},i=rpe(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const ape=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function ex(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||ape.has(e)}let NR=e=>!ex(e);function spe(e){e&&(NR=t=>t.startsWith("on")?!ex(t):e(t))}try{spe(require("@emotion/is-prop-valid").default)}catch{}function ope(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(NR(i)||n===!0&&ex(i)||!t&&!ex(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function PM(e,t,n){return typeof e=="string"?e:Yt.transform(t+n*e)}function lpe(e,t,n){const r=PM(t,e.x,e.width),i=PM(n,e.y,e.height);return`${r} ${i}`}const cpe={offset:"stroke-dashoffset",array:"stroke-dasharray"},upe={offset:"strokeDashoffset",array:"strokeDasharray"};function dpe(e,t,n=1,r=0,i=!0){e.pathLength=1;const a=i?cpe:upe;e[a.offset]=Yt.transform(-r);const s=Yt.transform(t),o=Yt.transform(n);e[a.array]=`${s} ${o}`}function M2(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:a,pathLength:s,pathSpacing:o=1,pathOffset:c=0,...u},d,f,h){if(D2(e,u,d,h),f){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:m,style:p,dimensions:x}=e;m.transform&&(x&&(p.transform=m.transform),delete m.transform),x&&(i!==void 0||a!==void 0||p.transform)&&(p.transformOrigin=lpe(x,i!==void 0?i:.5,a!==void 0?a:.5)),t!==void 0&&(m.x=t),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),s!==void 0&&dpe(m,s,o,c,!1)}const SR=()=>({...T2(),attrs:{}}),E2=e=>typeof e=="string"&&e.toLowerCase()==="svg";function fpe(e,t,n,r){const i=g.useMemo(()=>{const a=SR();return M2(a,t,{enableHardwareAcceleration:!1},E2(r),e.transformTemplate),{...a.attrs,style:{...a.style}}},[t]);if(e.style){const a={};kR(a,e.style,e),i.style={...a,...i.style}}return i}function mpe(e=!1){return(n,r,i,{latestValues:a},s)=>{const c=(P2(n)?fpe:ipe)(r,a,s,n),d={...ope(r,typeof n=="string",e),...c,ref:i},{children:f}=r,h=g.useMemo(()=>Sa(f)?f.get():f,[f]);return g.createElement(n,{...d,children:h})}}function jR(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const a in n)e.style.setProperty(a,n[a])}const CR=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function AR(e,t,n,r){jR(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(CR.has(i)?i:j2(i),t.attrs[i])}function O2(e,t){const{style:n}=e,r={};for(const i in n)(Sa(n[i])||t.style&&Sa(t.style[i])||xR(i,e))&&(r[i]=n[i]);return r}function PR(e,t){const n=O2(e,t);for(const r in e)if(Sa(e[r])||Sa(t[r])){const i=Kh.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function I2(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function hpe(e){const t=g.useRef(null);return t.current===null&&(t.current=e()),t.current}const tx=e=>Array.isArray(e),ppe=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),gpe=e=>tx(e)?e[e.length-1]||0:e;function kg(e){const t=Sa(e)?e.get():e;return ppe(t)?t.toValue():t}function xpe({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,a){const s={latestValues:bpe(r,i,a,e),renderState:t()};return n&&(s.mount=o=>n(r,o,s)),s}const DR=e=>(t,n)=>{const r=g.useContext(Tb),i=g.useContext(S2),a=()=>xpe(e,t,r,i);return n?a():hpe(a)};function bpe(e,t,n,r){const i={},a=r(e,{});for(const h in a)i[h]=kg(a[h]);let{initial:s,animate:o}=e;const c=Ob(e),u=hR(e);t&&u&&!c&&e.inherit!==!1&&(s===void 0&&(s=t.initial),o===void 0&&(o=t.animate));let d=n?n.initial===!1:!1;d=d||s===!1;const f=d?o:s;return f&&typeof f!="boolean"&&!Eb(f)&&(Array.isArray(f)?f:[f]).forEach(m=>{const p=I2(e,m);if(!p)return;const{transitionEnd:x,transition:v,...b}=p;for(const y in b){let w=b[y];if(Array.isArray(w)){const N=d?w.length-1:0;w=w[N]}w!==null&&(i[y]=w)}for(const y in x)i[y]=x[y]}),i}const Br=e=>e;class DM{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function vpe(e){let t=new DM,n=new DM,r=0,i=!1,a=!1;const s=new WeakSet,o={schedule:(c,u=!1,d=!1)=>{const f=d&&i,h=f?t:n;return u&&s.add(c),h.add(c)&&f&&i&&(r=t.order.length),c},cancel:c=>{n.remove(c),s.delete(c)},process:c=>{if(i){a=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(c),s.has(d)&&(o.schedule(d),e())}i=!1,a&&(a=!1,o.process(c))}};return o}const Zp=["prepare","read","update","preRender","render","postRender"],ype=40;function wpe(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},a=Zp.reduce((f,h)=>(f[h]=vpe(()=>n=!0),f),{}),s=f=>a[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,ype),1),i.timestamp=f,i.isProcessing=!0,Zp.forEach(s),i.isProcessing=!1,n&&t&&(r=!1,e(o))},c=()=>{n=!0,r=!0,i.isProcessing||e(o)};return{schedule:Zp.reduce((f,h)=>{const m=a[h];return f[h]=(p,x=!1,v=!1)=>(n||c(),m.schedule(p,x,v)),f},{}),cancel:f=>Zp.forEach(h=>a[h].cancel(f)),state:i,steps:a}}const{schedule:lr,cancel:xl,state:$i,steps:ly}=wpe(typeof requestAnimationFrame<"u"?requestAnimationFrame:Br,!0),kpe={useVisualState:DR({scrapeMotionValuesFromProps:PR,createRenderState:SR,onMount:(e,t,{renderState:n,latestValues:r})=>{lr.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),lr.render(()=>{M2(n,r,{enableHardwareAcceleration:!1},E2(t.tagName),e.transformTemplate),AR(t,n)})}})},Npe={useVisualState:DR({scrapeMotionValuesFromProps:O2,createRenderState:T2})};function Spe(e,{forwardMotionProps:t=!1},n,r){return{...P2(e)?kpe:Npe,preloadedFeatures:n,useRender:mpe(t),createVisualElement:r,Component:e}}function Jo(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const TR=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function _b(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const jpe=e=>t=>TR(t)&&e(t,_b(t));function il(e,t,n,r){return Jo(e,t,jpe(n),r)}const Cpe=(e,t)=>n=>t(e(n)),fc=(...e)=>e.reduce(Cpe);function MR(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const TM=MR("dragHorizontal"),MM=MR("dragVertical");function ER(e){let t=!1;if(e==="y")t=MM();else if(e==="x")t=TM();else{const n=TM(),r=MM();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function OR(){const e=ER(!0);return e?(e(),!1):!0}class Dc{constructor(t){this.isMounted=!1,this.node=t}update(){}}function EM(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(a,s)=>{if(a.pointerType==="touch"||OR())return;const o=e.getProps();e.animationState&&o.whileHover&&e.animationState.setActive("whileHover",t),o[r]&&lr.update(()=>o[r](a,s))};return il(e.current,n,i,{passive:!e.getProps()[r]})}class Ape extends Dc{mount(){this.unmount=fc(EM(this.node,!0),EM(this.node,!1))}unmount(){}}class Ppe extends Dc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=fc(Jo(this.node.current,"focus",()=>this.onFocus()),Jo(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const IR=(e,t)=>t?e===t?!0:IR(e,t.parentElement):!1;function cy(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,_b(n))}class Dpe extends Dc{constructor(){super(...arguments),this.removeStartListeners=Br,this.removeEndListeners=Br,this.removeAccessibleListeners=Br,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),a=il(window,"pointerup",(o,c)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:f}=this.node.getProps();lr.update(()=>{!f&&!IR(this.node.current,o.target)?d&&d(o,c):u&&u(o,c)})},{passive:!(r.onTap||r.onPointerUp)}),s=il(window,"pointercancel",(o,c)=>this.cancelPress(o,c),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=fc(a,s),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=a=>{if(a.key!=="Enter"||this.isPressing)return;const s=o=>{o.key!=="Enter"||!this.checkPressEnd()||cy("up",(c,u)=>{const{onTap:d}=this.node.getProps();d&&lr.update(()=>d(c,u))})};this.removeEndListeners(),this.removeEndListeners=Jo(this.node.current,"keyup",s),cy("down",(o,c)=>{this.startPress(o,c)})},n=Jo(this.node.current,"keydown",t),r=()=>{this.isPressing&&cy("cancel",(a,s)=>this.cancelPress(a,s))},i=Jo(this.node.current,"blur",r);this.removeAccessibleListeners=fc(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&lr.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!OR()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&lr.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=il(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=Jo(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=fc(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const E1=new WeakMap,uy=new WeakMap,Tpe=e=>{const t=E1.get(e.target);t&&t(e)},Mpe=e=>{e.forEach(Tpe)};function Epe({root:e,...t}){const n=e||document;uy.has(n)||uy.set(n,{});const r=uy.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(Mpe,{root:e,...t})),r[i]}function Ope(e,t,n){const r=Epe(t);return E1.set(e,n),r.observe(e),()=>{E1.delete(e),r.unobserve(e)}}const Ipe={some:0,all:1};class _pe extends Dc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:a}=t,s={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Ipe[i]},o=c=>{const{isIntersecting:u}=c;if(this.isInView===u||(this.isInView=u,a&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),h=u?d:f;h&&h(c)};return Ope(this.node.current,s,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(Lpe(t,n))&&this.startObserver()}unmount(){}}function Lpe({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const $pe={inView:{Feature:_pe},tap:{Feature:Dpe},focus:{Feature:Ppe},hover:{Feature:Ape}};function _R(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function Fpe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function Rpe(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Lb(e,t,n){const r=e.getProps();return I2(r,t,n!==void 0?n:r.custom,Fpe(e),Rpe(e))}let _2=Br;const uu=e=>e*1e3,al=e=>e/1e3,Bpe={current:!1},LR=e=>Array.isArray(e)&&typeof e[0]=="number";function $R(e){return!!(!e||typeof e=="string"&&FR[e]||LR(e)||Array.isArray(e)&&e.every($R))}const em=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,FR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:em([0,.65,.55,1]),circOut:em([.55,0,1,.45]),backIn:em([.31,.01,.66,-.59]),backOut:em([.33,1.53,.69,.99])};function RR(e){if(e)return LR(e)?em(e):Array.isArray(e)?e.map(RR):FR[e]}function zpe(e,t,n,{delay:r=0,duration:i,repeat:a=0,repeatType:s="loop",ease:o,times:c}={}){const u={[t]:n};c&&(u.offset=c);const d=RR(o);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:a+1,direction:s==="reverse"?"alternate":"normal"})}function Upe(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const BR=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,Wpe=1e-7,Vpe=12;function Hpe(e,t,n,r,i){let a,s,o=0;do s=t+(n-t)/2,a=BR(s,r,i)-e,a>0?n=s:t=s;while(Math.abs(a)>Wpe&&++o<Vpe);return s}function Xh(e,t,n,r){if(e===t&&n===r)return Br;const i=a=>Hpe(a,0,1,e,n);return a=>a===0||a===1?a:BR(i(a),t,r)}const qpe=Xh(.42,0,1,1),Kpe=Xh(0,0,.58,1),zR=Xh(.42,0,.58,1),Gpe=e=>Array.isArray(e)&&typeof e[0]!="number",UR=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,WR=e=>t=>1-e(1-t),L2=e=>1-Math.sin(Math.acos(e)),VR=WR(L2),Ype=UR(L2),HR=Xh(.33,1.53,.69,.99),$2=WR(HR),Xpe=UR($2),Qpe=e=>(e*=2)<1?.5*$2(e):.5*(2-Math.pow(2,-10*(e-1))),Zpe={linear:Br,easeIn:qpe,easeInOut:zR,easeOut:Kpe,circIn:L2,circInOut:Ype,circOut:VR,backIn:$2,backInOut:Xpe,backOut:HR,anticipate:Qpe},OM=e=>{if(Array.isArray(e)){_2(e.length===4);const[t,n,r,i]=e;return Xh(t,n,r,i)}else if(typeof e=="string")return Zpe[e];return e},F2=(e,t)=>n=>!!(Gh(n)&&Jhe.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),qR=(e,t,n)=>r=>{if(!Gh(r))return r;const[i,a,s,o]=r.match(Ib);return{[e]:parseFloat(i),[t]:parseFloat(a),[n]:parseFloat(s),alpha:o!==void 0?parseFloat(o):1}},Jpe=e=>bc(0,255,e),dy={...Ou,transform:e=>Math.round(Jpe(e))},nu={test:F2("rgb","red"),parse:qR("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+dy.transform(e)+", "+dy.transform(t)+", "+dy.transform(n)+", "+bm(xm.transform(r))+")"};function ege(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const O1={test:F2("#"),parse:ege,transform:nu.transform},xd={test:F2("hsl","hue"),parse:qR("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+go.transform(bm(t))+", "+go.transform(bm(n))+", "+bm(xm.transform(r))+")"},Ji={test:e=>nu.test(e)||O1.test(e)||xd.test(e),parse:e=>nu.test(e)?nu.parse(e):xd.test(e)?xd.parse(e):O1.parse(e),transform:e=>Gh(e)?e:e.hasOwnProperty("red")?nu.transform(e):xd.transform(e)},vr=(e,t,n)=>-n*e+n*t+e;function fy(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function tge({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,a=0,s=0;if(!t)i=a=s=n;else{const o=n<.5?n*(1+t):n+t-n*t,c=2*n-o;i=fy(c,o,e+1/3),a=fy(c,o,e),s=fy(c,o,e-1/3)}return{red:Math.round(i*255),green:Math.round(a*255),blue:Math.round(s*255),alpha:r}}const my=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},nge=[O1,nu,xd],rge=e=>nge.find(t=>t.test(e));function IM(e){const t=rge(e);let n=t.parse(e);return t===xd&&(n=tge(n)),n}const KR=(e,t)=>{const n=IM(e),r=IM(t),i={...n};return a=>(i.red=my(n.red,r.red,a),i.green=my(n.green,r.green,a),i.blue=my(n.blue,r.blue,a),i.alpha=vr(n.alpha,r.alpha,a),nu.transform(i))};function ige(e){var t,n;return isNaN(e)&&Gh(e)&&(((t=e.match(Ib))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(yR))===null||n===void 0?void 0:n.length)||0)>0}const GR={regex:Qhe,countKey:"Vars",token:"${v}",parse:Br},YR={regex:yR,countKey:"Colors",token:"${c}",parse:Ji.parse},XR={regex:Ib,countKey:"Numbers",token:"${n}",parse:Ou.parse};function hy(e,{regex:t,countKey:n,token:r,parse:i}){const a=e.tokenised.match(t);a&&(e["num"+n]=a.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...a.map(i)))}function nx(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&hy(n,GR),hy(n,YR),hy(n,XR),n}function QR(e){return nx(e).values}function ZR(e){const{values:t,numColors:n,numVars:r,tokenised:i}=nx(e),a=t.length;return s=>{let o=i;for(let c=0;c<a;c++)c<r?o=o.replace(GR.token,s[c]):c<r+n?o=o.replace(YR.token,Ji.transform(s[c])):o=o.replace(XR.token,bm(s[c]));return o}}const age=e=>typeof e=="number"?0:e;function sge(e){const t=QR(e);return ZR(e)(t.map(age))}const vc={test:ige,parse:QR,createTransformer:ZR,getAnimatableNone:sge},JR=(e,t)=>n=>`${n>0?t:e}`;function eB(e,t){return typeof e=="number"?n=>vr(e,t,n):Ji.test(e)?KR(e,t):e.startsWith("var(")?JR(e,t):nB(e,t)}const tB=(e,t)=>{const n=[...e],r=n.length,i=e.map((a,s)=>eB(a,t[s]));return a=>{for(let s=0;s<r;s++)n[s]=i[s](a);return n}},oge=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=eB(e[i],t[i]));return i=>{for(const a in r)n[a]=r[a](i);return n}},nB=(e,t)=>{const n=vc.createTransformer(t),r=nx(e),i=nx(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?fc(tB(r.values,i.values),n):JR(e,t)},oh=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},_M=(e,t)=>n=>vr(e,t,n);function lge(e){return typeof e=="number"?_M:typeof e=="string"?Ji.test(e)?KR:nB:Array.isArray(e)?tB:typeof e=="object"?oge:_M}function cge(e,t,n){const r=[],i=n||lge(e[0]),a=e.length-1;for(let s=0;s<a;s++){let o=i(e[s],e[s+1]);if(t){const c=Array.isArray(t)?t[s]||Br:t;o=fc(c,o)}r.push(o)}return r}function rB(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const a=e.length;if(_2(a===t.length),a===1)return()=>t[0];e[0]>e[a-1]&&(e=[...e].reverse(),t=[...t].reverse());const s=cge(t,r,i),o=s.length,c=u=>{let d=0;if(o>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const f=oh(e[d],e[d+1],u);return s[d](f)};return n?u=>c(bc(e[0],e[a-1],u)):c}function uge(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=oh(0,t,r);e.push(vr(n,1,i))}}function dge(e){const t=[0];return uge(t,e.length-1),t}function fge(e,t){return e.map(n=>n*t)}function mge(e,t){return e.map(()=>t||zR).splice(0,e.length-1)}function rx({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=Gpe(r)?r.map(OM):OM(r),a={done:!1,value:t[0]},s=fge(n&&n.length===t.length?n:dge(t),e),o=rB(s,t,{ease:Array.isArray(i)?i:mge(t,i)});return{calculatedDuration:e,next:c=>(a.value=o(c),a.done=c>=e,a)}}function iB(e,t){return t?e*(1e3/t):0}const hge=5;function aB(e,t,n){const r=Math.max(t-hge,0);return iB(n-e(r),t-r)}const py=.001,pge=.01,gge=10,xge=.05,bge=1;function vge({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,a,s=1-t;s=bc(xge,bge,s),e=bc(pge,gge,al(e)),s<1?(i=u=>{const d=u*s,f=d*e,h=d-n,m=I1(u,s),p=Math.exp(-f);return py-h/m*p},a=u=>{const f=u*s*e,h=f*n+n,m=Math.pow(s,2)*Math.pow(u,2)*e,p=Math.exp(-f),x=I1(Math.pow(u,2),s);return(-i(u)+py>0?-1:1)*((h-m)*p)/x}):(i=u=>{const d=Math.exp(-u*e),f=(u-n)*e+1;return-py+d*f},a=u=>{const d=Math.exp(-u*e),f=(n-u)*(e*e);return d*f});const o=5/e,c=wge(i,a,o);if(e=uu(e),isNaN(c))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(c,2)*r;return{stiffness:u,damping:s*2*Math.sqrt(r*u),duration:e}}}const yge=12;function wge(e,t,n){let r=n;for(let i=1;i<yge;i++)r=r-e(r)/t(r);return r}function I1(e,t){return e*Math.sqrt(1-t*t)}const kge=["duration","bounce"],Nge=["stiffness","damping","mass"];function LM(e,t){return t.some(n=>e[n]!==void 0)}function Sge(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!LM(e,Nge)&&LM(e,kge)){const n=vge(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function sB({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],a=e[e.length-1],s={done:!1,value:i},{stiffness:o,damping:c,mass:u,duration:d,velocity:f,isResolvedFromDuration:h}=Sge({...r,velocity:-al(r.velocity||0)}),m=f||0,p=c/(2*Math.sqrt(o*u)),x=a-i,v=al(Math.sqrt(o/u)),b=Math.abs(x)<5;n||(n=b?.01:2),t||(t=b?.005:.5);let y;if(p<1){const w=I1(v,p);y=N=>{const j=Math.exp(-p*v*N);return a-j*((m+p*v*x)/w*Math.sin(w*N)+x*Math.cos(w*N))}}else if(p===1)y=w=>a-Math.exp(-v*w)*(x+(m+v*x)*w);else{const w=v*Math.sqrt(p*p-1);y=N=>{const j=Math.exp(-p*v*N),k=Math.min(w*N,300);return a-j*((m+p*v*x)*Math.sinh(k)+w*x*Math.cosh(k))/w}}return{calculatedDuration:h&&d||null,next:w=>{const N=y(w);if(h)s.done=w>=d;else{let j=m;w!==0&&(p<1?j=aB(y,w,N):j=0);const k=Math.abs(j)<=n,C=Math.abs(a-N)<=t;s.done=k&&C}return s.value=s.done?a:N,s}}}function $M({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:a=500,modifyTarget:s,min:o,max:c,restDelta:u=.5,restSpeed:d}){const f=e[0],h={done:!1,value:f},m=E=>o!==void 0&&E<o||c!==void 0&&E>c,p=E=>o===void 0?c:c===void 0||Math.abs(o-E)<Math.abs(c-E)?o:c;let x=n*t;const v=f+x,b=s===void 0?v:s(v);b!==v&&(x=b-f);const y=E=>-x*Math.exp(-E/r),w=E=>b+y(E),N=E=>{const R=y(E),T=w(E);h.done=Math.abs(R)<=u,h.value=h.done?b:T};let j,k;const C=E=>{m(h.value)&&(j=E,k=sB({keyframes:[h.value,p(h.value)],velocity:aB(w,E,h.value),damping:i,stiffness:a,restDelta:u,restSpeed:d}))};return C(0),{calculatedDuration:null,next:E=>{let R=!1;return!k&&j===void 0&&(R=!0,N(E),C(E)),j!==void 0&&E>j?k.next(E-j):(!R&&N(E),h)}}}const jge=e=>{const t=({timestamp:n})=>e(n);return{start:()=>lr.update(t,!0),stop:()=>xl(t),now:()=>$i.isProcessing?$i.timestamp:performance.now()}},FM=2e4;function RM(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<FM;)t+=n,r=e.next(t);return t>=FM?1/0:t}const Cge={decay:$M,inertia:$M,tween:rx,keyframes:rx,spring:sB};function ix({autoplay:e=!0,delay:t=0,driver:n=jge,keyframes:r,type:i="keyframes",repeat:a=0,repeatDelay:s=0,repeatType:o="loop",onPlay:c,onStop:u,onComplete:d,onUpdate:f,...h}){let m=1,p=!1,x,v;const b=()=>{v=new Promise(D=>{x=D})};b();let y;const w=Cge[i]||rx;let N;w!==rx&&typeof r[0]!="number"&&(N=rB([0,100],r,{clamp:!1}),r=[0,100]);const j=w({...h,keyframes:r});let k;o==="mirror"&&(k=w({...h,keyframes:[...r].reverse(),velocity:-(h.velocity||0)}));let C="idle",E=null,R=null,T=null;j.calculatedDuration===null&&a&&(j.calculatedDuration=RM(j));const{calculatedDuration:$}=j;let I=1/0,re=1/0;$!==null&&(I=$+s,re=I*(a+1)-s);let ce=0;const ve=D=>{if(R===null)return;m>0&&(R=Math.min(R,D)),m<0&&(R=Math.min(D-re/m,R)),E!==null?ce=E:ce=Math.round(D-R)*m;const ue=ce-t*(m>=0?1:-1),S=m>=0?ue<0:ue>re;ce=Math.max(ue,0),C==="finished"&&E===null&&(ce=re);let Y=ce,B=j;if(a){const H=Math.min(ce,re)/I;let K=Math.floor(H),J=H%1;!J&&H>=1&&(J=1),J===1&&K--,K=Math.min(K,a+1),!!(K%2)&&(o==="reverse"?(J=1-J,s&&(J-=s/I)):o==="mirror"&&(B=k)),Y=bc(0,1,J)*I}const ee=S?{done:!1,value:r[0]}:B.next(Y);N&&(ee.value=N(ee.value));let{done:de}=ee;!S&&$!==null&&(de=m>=0?ce>=re:ce<=0);const oe=E===null&&(C==="finished"||C==="running"&&de);return f&&f(ee.value),oe&&Z(),ee},Oe=()=>{y&&y.stop(),y=void 0},fe=()=>{C="idle",Oe(),x(),b(),R=T=null},Z=()=>{C="finished",d&&d(),Oe(),x()},xe=()=>{if(p)return;y||(y=n(ve));const D=y.now();c&&c(),E!==null?R=D-E:(!R||C==="finished")&&(R=D),C==="finished"&&b(),T=R,E=null,C="running",y.start()};e&&xe();const _={then(D,ue){return v.then(D,ue)},get time(){return al(ce)},set time(D){D=uu(D),ce=D,E!==null||!y||m===0?E=D:R=y.now()-D/m},get duration(){const D=j.calculatedDuration===null?RM(j):j.calculatedDuration;return al(D)},get speed(){return m},set speed(D){D===m||!y||(m=D,_.time=al(ce))},get state(){return C},play:xe,pause:()=>{C="paused",E=ce},stop:()=>{p=!0,C!=="idle"&&(C="idle",u&&u(),fe())},cancel:()=>{T!==null&&ve(T),fe()},complete:()=>{C="finished"},sample:D=>(R=0,ve(D))};return _}function Age(e){let t;return()=>(t===void 0&&(t=e()),t)}const Pge=Age(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Dge=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Jp=10,Tge=2e4,Mge=(e,t)=>t.type==="spring"||e==="backgroundColor"||!$R(t.ease);function Ege(e,t,{onUpdate:n,onComplete:r,...i}){if(!(Pge()&&Dge.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,c,u=!1;const d=()=>{c=new Promise(w=>{o=w})};d();let{keyframes:f,duration:h=300,ease:m,times:p}=i;if(Mge(t,i)){const w=ix({...i,repeat:0,delay:0});let N={done:!1,value:f[0]};const j=[];let k=0;for(;!N.done&&k<Tge;)N=w.sample(k),j.push(N.value),k+=Jp;p=void 0,f=j,h=k-Jp,m="linear"}const x=zpe(e.owner.current,t,f,{...i,duration:h,ease:m,times:p}),v=()=>{u=!1,x.cancel()},b=()=>{u=!0,lr.update(v),o(),d()};return x.onfinish=()=>{u||(e.set(Upe(f,i)),r&&r(),b())},{then(w,N){return c.then(w,N)},attachTimeline(w){return x.timeline=w,x.onfinish=null,Br},get time(){return al(x.currentTime||0)},set time(w){x.currentTime=uu(w)},get speed(){return x.playbackRate},set speed(w){x.playbackRate=w},get duration(){return al(h)},play:()=>{s||(x.play(),xl(v))},pause:()=>x.pause(),stop:()=>{if(s=!0,x.playState==="idle")return;const{currentTime:w}=x;if(w){const N=ix({...i,autoplay:!1});e.setWithVelocity(N.sample(w-Jp).value,N.sample(w).value,Jp)}b()},complete:()=>{u||x.finish()},cancel:b}}function Oge({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Br,pause:Br,stop:Br,then:a=>(a(),Promise.resolve()),cancel:Br,complete:Br});return t?ix({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Ige={type:"spring",stiffness:500,damping:25,restSpeed:10},_ge=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Lge={type:"keyframes",duration:.8},$ge={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Fge=(e,{keyframes:t})=>t.length>2?Lge:Eu.has(e)?e.startsWith("scale")?_ge(t[1]):Ige:$ge,_1=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(vc.test(t)||t==="0")&&!t.startsWith("url(")),Rge=new Set(["brightness","contrast","saturate","opacity"]);function Bge(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Ib)||[];if(!r)return e;const i=n.replace(r,"");let a=Rge.has(t)?1:0;return r!==n&&(a*=100),t+"("+a+i+")"}const zge=/([a-z-]*)\(.*?\)/g,L1={...vc,getAnimatableNone:e=>{const t=e.match(zge);return t?t.map(Bge).join(" "):e}},Uge={...wR,color:Ji,backgroundColor:Ji,outlineColor:Ji,fill:Ji,stroke:Ji,borderColor:Ji,borderTopColor:Ji,borderRightColor:Ji,borderBottomColor:Ji,borderLeftColor:Ji,filter:L1,WebkitFilter:L1},R2=e=>Uge[e];function oB(e,t){let n=R2(e);return n!==L1&&(n=vc),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const lB=e=>/^0[^.\s]+$/.test(e);function Wge(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||lB(e)}function Vge(e,t,n,r){const i=_1(t,n);let a;Array.isArray(n)?a=[...n]:a=[null,n];const s=r.from!==void 0?r.from:e.get();let o;const c=[];for(let u=0;u<a.length;u++)a[u]===null&&(a[u]=u===0?s:a[u-1]),Wge(a[u])&&c.push(u),typeof a[u]=="string"&&a[u]!=="none"&&a[u]!=="0"&&(o=a[u]);if(i&&c.length&&o)for(let u=0;u<c.length;u++){const d=c[u];a[d]=oB(t,o)}return a}function Hge({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:a,repeatType:s,repeatDelay:o,from:c,elapsed:u,...d}){return!!Object.keys(d).length}function B2(e,t){return e[t]||e.default||e}const qge={skipAnimations:!1},z2=(e,t,n,r={})=>i=>{const a=B2(r,e)||{},s=a.delay||r.delay||0;let{elapsed:o=0}=r;o=o-uu(s);const c=Vge(t,e,n,a),u=c[0],d=c[c.length-1],f=_1(e,u),h=_1(e,d);let m={keyframes:c,velocity:t.getVelocity(),ease:"easeOut",...a,delay:-o,onUpdate:p=>{t.set(p),a.onUpdate&&a.onUpdate(p)},onComplete:()=>{i(),a.onComplete&&a.onComplete()}};if(Hge(a)||(m={...m,...Fge(e,m)}),m.duration&&(m.duration=uu(m.duration)),m.repeatDelay&&(m.repeatDelay=uu(m.repeatDelay)),!f||!h||Bpe.current||a.type===!1||qge.skipAnimations)return Oge(m);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Ege(t,e,m);if(p)return p}return ix(m)};function ax(e){return!!(Sa(e)&&e.add)}const cB=e=>/^\-?\d*\.?\d+$/.test(e);function U2(e,t){e.indexOf(t)===-1&&e.push(t)}function W2(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class V2{constructor(){this.subscriptions=[]}add(t){return U2(this.subscriptions,t),()=>W2(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let a=0;a<i;a++){const s=this.subscriptions[a];s&&s(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Kge=e=>!isNaN(parseFloat(e));class Gge{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:a,timestamp:s}=$i;this.lastUpdated!==s&&(this.timeDelta=a,this.lastUpdated=s,lr.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>lr.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Kge(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new V2);const r=this.events[t].add(n);return t==="change"?()=>{r(),lr.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?iB(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Zd(e,t){return new Gge(e,t)}const uB=e=>t=>t.test(e),Yge={test:e=>e==="auto",parse:e=>e},dB=[Ou,Yt,go,Ul,tpe,epe,Yge],Uf=e=>dB.find(uB(e)),Xge=[...dB,Ji,vc],Qge=e=>Xge.find(uB(e));function Zge(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,Zd(n))}function Jge(e,t){const n=Lb(e,t);let{transitionEnd:r={},transition:i={},...a}=n?e.makeTargetAnimatable(n,!1):{};a={...a,...r};for(const s in a){const o=gpe(a[s]);Zge(e,s,o)}}function e0e(e,t,n){var r,i;const a=Object.keys(t).filter(o=>!e.hasValue(o)),s=a.length;if(s)for(let o=0;o<s;o++){const c=a[o],u=t[c];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[c])!==null&&r!==void 0?r:e.readValue(c))!==null&&i!==void 0?i:t[c]),d!=null&&(typeof d=="string"&&(cB(d)||lB(d))?d=parseFloat(d):!Qge(d)&&vc.test(u)&&(d=oB(c,u)),e.addValue(c,Zd(d,{owner:e})),n[c]===void 0&&(n[c]=d),d!==null&&e.setBaseTarget(c,d))}}function t0e(e,t){return t?(t[e]||t.default||t).from:void 0}function n0e(e,t,n){const r={};for(const i in e){const a=t0e(i,t);if(a!==void 0)r[i]=a;else{const s=n.getValue(i);s&&(r[i]=s.get())}}return r}function r0e({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function i0e(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function fB(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:a=e.getDefaultTransition(),transitionEnd:s,...o}=e.makeTargetAnimatable(t);const c=e.getValue("willChange");r&&(a=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const f in o){const h=e.getValue(f),m=o[f];if(!h||m===void 0||d&&r0e(d,f))continue;const p={delay:n,elapsed:0,...B2(a||{},f)};if(window.HandoffAppearAnimations){const b=e.getProps()[mR];if(b){const y=window.HandoffAppearAnimations(b,f,h,lr);y!==null&&(p.elapsed=y,p.isHandoff=!0)}}let x=!p.isHandoff&&!i0e(h,m);if(p.type==="spring"&&(h.getVelocity()||p.velocity)&&(x=!1),h.animation&&(x=!1),x)continue;h.start(z2(f,h,m,e.shouldReduceMotion&&Eu.has(f)?{type:!1}:p));const v=h.animation;ax(c)&&(c.add(f),v.then(()=>c.remove(f))),u.push(v)}return s&&Promise.all(u).then(()=>{s&&Jge(e,s)}),u}function $1(e,t,n={}){const r=Lb(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const a=r?()=>Promise.all(fB(e,r,n)):()=>Promise.resolve(),s=e.variantChildren&&e.variantChildren.size?(c=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:f}=i;return a0e(e,t,u+c,d,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[c,u]=o==="beforeChildren"?[a,s]:[s,a];return c().then(()=>u())}else return Promise.all([a(),s(n.delay)])}function a0e(e,t,n=0,r=0,i=1,a){const s=[],o=(e.variantChildren.size-1)*r,c=i===1?(u=0)=>u*r:(u=0)=>o-u*r;return Array.from(e.variantChildren).sort(s0e).forEach((u,d)=>{u.notify("AnimationStart",t),s.push($1(u,t,{...a,delay:n+c(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(s)}function s0e(e,t){return e.sortNodePosition(t)}function o0e(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(a=>$1(e,a,n));r=Promise.all(i)}else if(typeof t=="string")r=$1(e,t,n);else{const i=typeof t=="function"?Lb(e,t,n.custom):t;r=Promise.all(fB(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const l0e=[...C2].reverse(),c0e=C2.length;function u0e(e){return t=>Promise.all(t.map(({animation:n,options:r})=>o0e(e,n,r)))}function d0e(e){let t=u0e(e);const n=m0e();let r=!0;const i=(c,u)=>{const d=Lb(e,u);if(d){const{transition:f,transitionEnd:h,...m}=d;c={...c,...m,...h}}return c};function a(c){t=c(e)}function s(c,u){const d=e.getProps(),f=e.getVariantContext(!0)||{},h=[],m=new Set;let p={},x=1/0;for(let b=0;b<c0e;b++){const y=l0e[b],w=n[y],N=d[y]!==void 0?d[y]:f[y],j=ah(N),k=y===u?w.isActive:null;k===!1&&(x=b);let C=N===f[y]&&N!==d[y]&&j;if(C&&r&&e.manuallyAnimateOnMount&&(C=!1),w.protectedKeys={...p},!w.isActive&&k===null||!N&&!w.prevProp||Eb(N)||typeof N=="boolean")continue;let R=f0e(w.prevProp,N)||y===u&&w.isActive&&!C&&j||b>x&&j,T=!1;const $=Array.isArray(N)?N:[N];let I=$.reduce(i,{});k===!1&&(I={});const{prevResolvedValues:re={}}=w,ce={...re,...I},ve=Oe=>{R=!0,m.has(Oe)&&(T=!0,m.delete(Oe)),w.needsAnimating[Oe]=!0};for(const Oe in ce){const fe=I[Oe],Z=re[Oe];if(p.hasOwnProperty(Oe))continue;let xe=!1;tx(fe)&&tx(Z)?xe=!_R(fe,Z):xe=fe!==Z,xe?fe!==void 0?ve(Oe):m.add(Oe):fe!==void 0&&m.has(Oe)?ve(Oe):w.protectedKeys[Oe]=!0}w.prevProp=N,w.prevResolvedValues=I,w.isActive&&(p={...p,...I}),r&&e.blockInitialAnimation&&(R=!1),R&&(!C||T)&&h.push(...$.map(Oe=>({animation:Oe,options:{type:y,...c}})))}if(m.size){const b={};m.forEach(y=>{const w=e.getBaseTarget(y);w!==void 0&&(b[y]=w)}),h.push({animation:b})}let v=!!h.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(v=!1),r=!1,v?t(h):Promise.resolve()}function o(c,u,d){var f;if(n[c].isActive===u)return Promise.resolve();(f=e.variantChildren)===null||f===void 0||f.forEach(m=>{var p;return(p=m.animationState)===null||p===void 0?void 0:p.setActive(c,u)}),n[c].isActive=u;const h=s(d,c);for(const m in n)n[m].protectedKeys={};return h}return{animateChanges:s,setActive:o,setAnimateFunction:a,getState:()=>n}}function f0e(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!_R(t,e):!1}function Fc(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function m0e(){return{animate:Fc(!0),whileInView:Fc(),whileHover:Fc(),whileTap:Fc(),whileDrag:Fc(),whileFocus:Fc(),exit:Fc()}}class h0e extends Dc{constructor(t){super(t),t.animationState||(t.animationState=d0e(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Eb(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let p0e=0;class g0e extends Dc{constructor(){super(...arguments),this.id=p0e++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const a=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&a.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const x0e={animation:{Feature:h0e},exit:{Feature:g0e}},BM=(e,t)=>Math.abs(e-t);function b0e(e,t){const n=BM(e.x,t.x),r=BM(e.y,t.y);return Math.sqrt(n**2+r**2)}class mB{constructor(t,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=xy(this.lastMoveEventInfo,this.history),h=this.startEvent!==null,m=b0e(f.offset,{x:0,y:0})>=3;if(!h&&!m)return;const{point:p}=f,{timestamp:x}=$i;this.history.push({...p,timestamp:x});const{onStart:v,onMove:b}=this.handlers;h||(v&&v(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,f)},this.handlePointerMove=(f,h)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=gy(h,this.transformPagePoint),lr.update(this.updatePoint,!0)},this.handlePointerUp=(f,h)=>{this.end();const{onEnd:m,onSessionEnd:p,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const v=xy(f.type==="pointercancel"?this.lastMoveEventInfo:gy(h,this.transformPagePoint),this.history);this.startEvent&&m&&m(f,v),p&&p(f,v)},!TR(t))return;this.dragSnapToOrigin=a,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const s=_b(t),o=gy(s,this.transformPagePoint),{point:c}=o,{timestamp:u}=$i;this.history=[{...c,timestamp:u}];const{onSessionStart:d}=n;d&&d(t,xy(o,this.history)),this.removeListeners=fc(il(this.contextWindow,"pointermove",this.handlePointerMove),il(this.contextWindow,"pointerup",this.handlePointerUp),il(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(t){this.handlers=t}end(){this.removeListeners&&this.removeListeners(),xl(this.updatePoint)}}function gy(e,t){return t?{point:t(e.point)}:e}function zM(e,t){return{x:e.x-t.x,y:e.y-t.y}}function xy({point:e},t){return{point:e,delta:zM(e,hB(t)),offset:zM(e,v0e(t)),velocity:y0e(t,.1)}}function v0e(e){return e[0]}function hB(e){return e[e.length-1]}function y0e(e,t){if(e.length<2)return{x:0,y:0};let n=e.length-1,r=null;const i=hB(e);for(;n>=0&&(r=e[n],!(i.timestamp-r.timestamp>uu(t)));)n--;if(!r)return{x:0,y:0};const a=al(i.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const s={x:(i.x-r.x)/a,y:(i.y-r.y)/a};return s.x===1/0&&(s.x=0),s.y===1/0&&(s.y=0),s}function Ha(e){return e.max-e.min}function F1(e,t=0,n=.01){return Math.abs(e-t)<=n}function UM(e,t,n,r=.5){e.origin=r,e.originPoint=vr(t.min,t.max,e.origin),e.scale=Ha(n)/Ha(t),(F1(e.scale,1,1e-4)||isNaN(e.scale))&&(e.scale=1),e.translate=vr(n.min,n.max,e.origin)-e.originPoint,(F1(e.translate)||isNaN(e.translate))&&(e.translate=0)}function vm(e,t,n,r){UM(e.x,t.x,n.x,r?r.originX:void 0),UM(e.y,t.y,n.y,r?r.originY:void 0)}function WM(e,t,n){e.min=n.min+t.min,e.max=e.min+Ha(t)}function w0e(e,t,n){WM(e.x,t.x,n.x),WM(e.y,t.y,n.y)}function VM(e,t,n){e.min=t.min-n.min,e.max=e.min+Ha(t)}function ym(e,t,n){VM(e.x,t.x,n.x),VM(e.y,t.y,n.y)}function k0e(e,{min:t,max:n},r){return t!==void 0&&e<t?e=r?vr(t,e,r.min):Math.max(e,t):n!==void 0&&e>n&&(e=r?vr(n,e,r.max):Math.min(e,n)),e}function HM(e,t,n){return{min:t!==void 0?e.min+t:void 0,max:n!==void 0?e.max+n-(e.max-e.min):void 0}}function N0e(e,{top:t,left:n,bottom:r,right:i}){return{x:HM(e.x,n,i),y:HM(e.y,t,r)}}function qM(e,t){let n=t.min-e.min,r=t.max-e.max;return t.max-t.min<e.max-e.min&&([n,r]=[r,n]),{min:n,max:r}}function S0e(e,t){return{x:qM(e.x,t.x),y:qM(e.y,t.y)}}function j0e(e,t){let n=.5;const r=Ha(e),i=Ha(t);return i>r?n=oh(t.min,t.max-r,e.min):r>i&&(n=oh(e.min,e.max-i,t.min)),bc(0,1,n)}function C0e(e,t){const n={};return t.min!==void 0&&(n.min=t.min-e.min),t.max!==void 0&&(n.max=t.max-e.min),n}const R1=.35;function A0e(e=R1){return e===!1?e=0:e===!0&&(e=R1),{x:KM(e,"left","right"),y:KM(e,"top","bottom")}}function KM(e,t,n){return{min:GM(e,t),max:GM(e,n)}}function GM(e,t){return typeof e=="number"?e:e[t]||0}const YM=()=>({translate:0,scale:1,origin:0,originPoint:0}),bd=()=>({x:YM(),y:YM()}),XM=()=>({min:0,max:0}),qr=()=>({x:XM(),y:XM()});function ss(e){return[e("x"),e("y")]}function pB({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function P0e({x:e,y:t}){return{top:t.min,right:e.max,bottom:t.max,left:e.min}}function D0e(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function by(e){return e===void 0||e===1}function B1({scale:e,scaleX:t,scaleY:n}){return!by(e)||!by(t)||!by(n)}function Hc(e){return B1(e)||gB(e)||e.z||e.rotate||e.rotateX||e.rotateY}function gB(e){return QM(e.x)||QM(e.y)}function QM(e){return e&&e!=="0%"}function sx(e,t,n){const r=e-n,i=t*r;return n+i}function ZM(e,t,n,r,i){return i!==void 0&&(e=sx(e,i,r)),sx(e,n,r)+t}function z1(e,t=0,n=1,r,i){e.min=ZM(e.min,t,n,r,i),e.max=ZM(e.max,t,n,r,i)}function xB(e,{x:t,y:n}){z1(e.x,t.translate,t.scale,t.originPoint),z1(e.y,n.translate,n.scale,n.originPoint)}function T0e(e,t,n,r=!1){const i=n.length;if(!i)return;t.x=t.y=1;let a,s;for(let o=0;o<i;o++){a=n[o],s=a.projectionDelta;const c=a.instance;c&&c.style&&c.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&vd(e,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),s&&(t.x*=s.x.scale,t.y*=s.y.scale,xB(e,s)),r&&Hc(a.latestValues)&&vd(e,a.latestValues))}t.x=JM(t.x),t.y=JM(t.y)}function JM(e){return Number.isInteger(e)||e>1.0000000000001||e<.999999999999?e:1}function Kl(e,t){e.min=e.min+t,e.max=e.max+t}function eE(e,t,[n,r,i]){const a=t[i]!==void 0?t[i]:.5,s=vr(e.min,e.max,a);z1(e,t[n],t[r],s,t.scale)}const M0e=["x","scaleX","originX"],E0e=["y","scaleY","originY"];function vd(e,t){eE(e.x,t,M0e),eE(e.y,t,E0e)}function bB(e,t){return pB(D0e(e.getBoundingClientRect(),t))}function O0e(e,t,n){const r=bB(e,n),{scroll:i}=t;return i&&(Kl(r.x,i.offset.x),Kl(r.y,i.offset.y)),r}const vB=({current:e})=>e?e.ownerDocument.defaultView:null,I0e=new WeakMap;class _0e{constructor(t){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=qr(),this.visualElement=t}start(t,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=d=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(_b(d,"page").point)},a=(d,f)=>{const{drag:h,dragPropagation:m,onDragStart:p}=this.getProps();if(h&&!m&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=ER(h),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),ss(v=>{let b=this.getAxisMotionValue(v).get()||0;if(go.test(b)){const{projection:y}=this.visualElement;if(y&&y.layout){const w=y.layout.layoutBox[v];w&&(b=Ha(w)*(parseFloat(b)/100))}}this.originPoint[v]=b}),p&&lr.update(()=>p(d,f),!1,!0);const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},s=(d,f)=>{const{dragPropagation:h,dragDirectionLock:m,onDirectionLock:p,onDrag:x}=this.getProps();if(!h&&!this.openGlobalLock)return;const{offset:v}=f;if(m&&this.currentDirection===null){this.currentDirection=L0e(v),this.currentDirection!==null&&p&&p(this.currentDirection);return}this.updateAxis("x",f.point,v),this.updateAxis("y",f.point,v),this.visualElement.render(),x&&x(d,f)},o=(d,f)=>this.stop(d,f),c=()=>ss(d=>{var f;return this.getAnimationState(d)==="paused"&&((f=this.getAxisMotionValue(d).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:u}=this.getProps();this.panSession=new mB(t,{onSessionStart:i,onStart:a,onMove:s,onSessionEnd:o,resumeAnimation:c},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:u,contextWindow:vB(this.visualElement)})}stop(t,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:a}=this.getProps();a&&lr.update(()=>a(t,n))}cancel(){this.isDragging=!1;const{projection:t,animationState:n}=this.visualElement;t&&(t.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(t,n,r){const{drag:i}=this.getProps();if(!r||!eg(t,i,this.currentDirection))return;const a=this.getAxisMotionValue(t);let s=this.originPoint[t]+r[t];this.constraints&&this.constraints[t]&&(s=k0e(s,this.constraints[t],this.elastic[t])),a.set(s)}resolveConstraints(){var t;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(t=this.visualElement.projection)===null||t===void 0?void 0:t.layout,a=this.constraints;n&&gd(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=N0e(i.layoutBox,n):this.constraints=!1,this.elastic=A0e(r),a!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&ss(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=C0e(i.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:t,onMeasureDragConstraints:n}=this.getProps();if(!t||!gd(t))return!1;const r=t.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const a=O0e(r,i.root,this.visualElement.getTransformPagePoint());let s=S0e(i.layout.layoutBox,a);if(n){const o=n(P0e(s));this.hasMutatedConstraints=!!o,o&&(s=pB(o))}return s}startAnimation(t){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:a,dragSnapToOrigin:s,onDragTransitionEnd:o}=this.getProps(),c=this.constraints||{},u=ss(d=>{if(!eg(d,n,this.currentDirection))return;let f=c&&c[d]||{};s&&(f={min:0,max:0});const h=i?200:1e6,m=i?40:1e7,p={type:"inertia",velocity:r?t[d]:0,bounceStiffness:h,bounceDamping:m,timeConstant:750,restDelta:1,restSpeed:10,...a,...f};return this.startAxisValueAnimation(d,p)});return Promise.all(u).then(o)}startAxisValueAnimation(t,n){const r=this.getAxisMotionValue(t);return r.start(z2(t,r,0,n))}stopAnimation(){ss(t=>this.getAxisMotionValue(t).stop())}pauseAnimation(){ss(t=>{var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(t){var n;return(n=this.getAxisMotionValue(t).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(t){const n="_drag"+t.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(t,(r.initial?r.initial[t]:void 0)||0)}snapToCursor(t){ss(n=>{const{drag:r}=this.getProps();if(!eg(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,a=this.getAxisMotionValue(n);if(i&&i.layout){const{min:s,max:o}=i.layout.layoutBox[n];a.set(t[n]-vr(s,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:t,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!gd(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};ss(s=>{const o=this.getAxisMotionValue(s);if(o){const c=o.get();i[s]=j0e({min:c,max:c},this.constraints[s])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),ss(s=>{if(!eg(s,t,null))return;const o=this.getAxisMotionValue(s),{min:c,max:u}=this.constraints[s];o.set(vr(c,u,i[s]))})}addListeners(){if(!this.visualElement.current)return;I0e.set(this.visualElement,this);const t=this.visualElement.current,n=il(t,"pointerdown",c=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(c)}),r=()=>{const{dragConstraints:c}=this.getProps();gd(c)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,a=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const s=Jo(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:c,hasLayoutChanged:u})=>{this.isDragging&&u&&(ss(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=c[d].translate,f.set(f.get()+c[d].translate))}),this.visualElement.render())});return()=>{s(),n(),a(),o&&o()}}getProps(){const t=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:a=!1,dragElastic:s=R1,dragMomentum:o=!0}=t;return{...t,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:a,dragElastic:s,dragMomentum:o}}}function eg(e,t,n){return(t===!0||t===e)&&(n===null||n===e)}function L0e(e,t=10){let n=null;return Math.abs(e.y)>t?n="y":Math.abs(e.x)>t&&(n="x"),n}class $0e extends Dc{constructor(t){super(t),this.removeGroupControls=Br,this.removeListeners=Br,this.controls=new _0e(t)}mount(){const{dragControls:t}=this.node.getProps();t&&(this.removeGroupControls=t.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Br}unmount(){this.removeGroupControls(),this.removeListeners()}}const tE=e=>(t,n)=>{e&&lr.update(()=>e(t,n))};class F0e extends Dc{constructor(){super(...arguments),this.removePointerDownListener=Br}onPointerDown(t){this.session=new mB(t,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:vB(this.node)})}createPanHandlers(){const{onPanSessionStart:t,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:tE(t),onStart:tE(n),onMove:r,onEnd:(a,s)=>{delete this.session,i&&lr.update(()=>i(a,s))}}}mount(){this.removePointerDownListener=il(this.node.current,"pointerdown",t=>this.onPointerDown(t))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function R0e(){const e=g.useContext(S2);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:n,register:r}=e,i=g.useId();return g.useEffect(()=>r(i),[]),!t&&n?[!1,()=>n&&n(i)]:[!0]}const Ng={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function nE(e,t){return t.max===t.min?0:e/(t.max-t.min)*100}const Wf={correct:(e,t)=>{if(!t.target)return e;if(typeof e=="string")if(Yt.test(e))e=parseFloat(e);else return e;const n=nE(e,t.target.x),r=nE(e,t.target.y);return`${n}% ${r}%`}},B0e={correct:(e,{treeScale:t,projectionDelta:n})=>{const r=e,i=vc.parse(e);if(i.length>5)return r;const a=vc.createTransformer(e),s=typeof i[0]!="number"?1:0,o=n.x.scale*t.x,c=n.y.scale*t.y;i[0+s]/=o,i[1+s]/=c;const u=vr(o,c,.5);return typeof i[2+s]=="number"&&(i[2+s]/=u),typeof i[3+s]=="number"&&(i[3+s]/=u),a(i)}};class z0e extends lx.Component{componentDidMount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:a}=t;Khe(U0e),a&&(n.group&&n.group.add(a),r&&r.register&&i&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),Ng.hasEverUpdated=!0}getSnapshotBeforeUpdate(t){const{layoutDependency:n,visualElement:r,drag:i,isPresent:a}=this.props,s=r.projection;return s&&(s.isPresent=a,i||t.layoutDependency!==n||n===void 0?s.willUpdate():this.safeToRemove(),t.isPresent!==a&&(a?s.promote():s.relegate()||lr.postRender(()=>{const o=s.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:t}=this.props.visualElement;t&&(t.root.didUpdate(),queueMicrotask(()=>{!t.currentAnimation&&t.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:t,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=t;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:t}=this.props;t&&t()}render(){return null}}function yB(e){const[t,n]=R0e(),r=g.useContext(pR);return lx.createElement(z0e,{...e,layoutGroup:r,switchLayoutGroup:g.useContext(gR),isPresent:t,safeToRemove:n})}const U0e={borderRadius:{...Wf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Wf,borderTopRightRadius:Wf,borderBottomLeftRadius:Wf,borderBottomRightRadius:Wf,boxShadow:B0e},wB=["TopLeft","TopRight","BottomLeft","BottomRight"],W0e=wB.length,rE=e=>typeof e=="string"?parseFloat(e):e,iE=e=>typeof e=="number"||Yt.test(e);function V0e(e,t,n,r,i,a){i?(e.opacity=vr(0,n.opacity!==void 0?n.opacity:1,H0e(r)),e.opacityExit=vr(t.opacity!==void 0?t.opacity:1,0,q0e(r))):a&&(e.opacity=vr(t.opacity!==void 0?t.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let s=0;s<W0e;s++){const o=`border${wB[s]}Radius`;let c=aE(t,o),u=aE(n,o);if(c===void 0&&u===void 0)continue;c||(c=0),u||(u=0),c===0||u===0||iE(c)===iE(u)?(e[o]=Math.max(vr(rE(c),rE(u),r),0),(go.test(u)||go.test(c))&&(e[o]+="%")):e[o]=u}(t.rotate||n.rotate)&&(e.rotate=vr(t.rotate||0,n.rotate||0,r))}function aE(e,t){return e[t]!==void 0?e[t]:e.borderRadius}const H0e=kB(0,.5,VR),q0e=kB(.5,.95,Br);function kB(e,t,n){return r=>r<e?0:r>t?1:n(oh(e,t,r))}function sE(e,t){e.min=t.min,e.max=t.max}function rs(e,t){sE(e.x,t.x),sE(e.y,t.y)}function oE(e,t,n,r,i){return e-=t,e=sx(e,1/n,r),i!==void 0&&(e=sx(e,1/i,r)),e}function K0e(e,t=0,n=1,r=.5,i,a=e,s=e){if(go.test(t)&&(t=parseFloat(t),t=vr(s.min,s.max,t/100)-s.min),typeof t!="number")return;let o=vr(a.min,a.max,r);e===a&&(o-=t),e.min=oE(e.min,t,n,o,i),e.max=oE(e.max,t,n,o,i)}function lE(e,t,[n,r,i],a,s){K0e(e,t[n],t[r],t[i],t.scale,a,s)}const G0e=["x","scaleX","originX"],Y0e=["y","scaleY","originY"];function cE(e,t,n,r){lE(e.x,t,G0e,n?n.x:void 0,r?r.x:void 0),lE(e.y,t,Y0e,n?n.y:void 0,r?r.y:void 0)}function uE(e){return e.translate===0&&e.scale===1}function NB(e){return uE(e.x)&&uE(e.y)}function X0e(e,t){return e.x.min===t.x.min&&e.x.max===t.x.max&&e.y.min===t.y.min&&e.y.max===t.y.max}function SB(e,t){return Math.round(e.x.min)===Math.round(t.x.min)&&Math.round(e.x.max)===Math.round(t.x.max)&&Math.round(e.y.min)===Math.round(t.y.min)&&Math.round(e.y.max)===Math.round(t.y.max)}function dE(e){return Ha(e.x)/Ha(e.y)}class Q0e{constructor(){this.members=[]}add(t){U2(this.members,t),t.scheduleRender()}remove(t){if(W2(this.members,t),t===this.prevLead&&(this.prevLead=void 0),t===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(t){const n=this.members.findIndex(i=>t===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const a=this.members[i];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(t,n){const r=this.lead;if(t!==r&&(this.prevLead=r,this.lead=t,t.show(),r)){r.instance&&r.scheduleRender(),t.scheduleRender(),t.resumeFrom=r,n&&(t.resumeFrom.preserveOpacity=!0),r.snapshot&&(t.snapshot=r.snapshot,t.snapshot.latestValues=r.animationValues||r.latestValues),t.root&&t.root.isUpdating&&(t.isLayoutDirty=!0);const{crossfade:i}=t.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(t=>{const{options:n,resumingFrom:r}=t;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(t=>{t.instance&&t.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function fE(e,t,n){let r="";const i=e.x.translate/t.x,a=e.y.translate/t.y;if((i||a)&&(r=`translate3d(${i}px, ${a}px, 0) `),(t.x!==1||t.y!==1)&&(r+=`scale(${1/t.x}, ${1/t.y}) `),n){const{rotate:c,rotateX:u,rotateY:d}=n;c&&(r+=`rotate(${c}deg) `),u&&(r+=`rotateX(${u}deg) `),d&&(r+=`rotateY(${d}deg) `)}const s=e.x.scale*t.x,o=e.y.scale*t.y;return(s!==1||o!==1)&&(r+=`scale(${s}, ${o})`),r||"none"}const Z0e=(e,t)=>e.depth-t.depth;class J0e{constructor(){this.children=[],this.isDirty=!1}add(t){U2(this.children,t),this.isDirty=!0}remove(t){W2(this.children,t),this.isDirty=!0}forEach(t){this.isDirty&&this.children.sort(Z0e),this.isDirty=!1,this.children.forEach(t)}}function exe(e,t){const n=performance.now(),r=({timestamp:i})=>{const a=i-n;a>=t&&(xl(r),e(a-t))};return lr.read(r,!0),()=>xl(r)}function txe(e){window.MotionDebug&&window.MotionDebug.record(e)}function nxe(e){return e instanceof SVGElement&&e.tagName!=="svg"}function rxe(e,t,n){const r=Sa(e)?e:Zd(e);return r.start(z2("",r,t,n)),r.animation}const mE=["","X","Y","Z"],ixe={visibility:"hidden"},hE=1e3;let axe=0;const qc={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function jB({attachResizeListener:e,defaultParent:t,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(s={},o=t==null?void 0:t()){this.id=axe++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,qc.totalNodes=qc.resolvedTargetDeltas=qc.recalculatedProjection=0,this.nodes.forEach(lxe),this.nodes.forEach(mxe),this.nodes.forEach(hxe),this.nodes.forEach(cxe),txe(qc)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let c=0;c<this.path.length;c++)this.path[c].shouldResetTransform=!0;this.root===this&&(this.nodes=new J0e)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new V2),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const c=this.eventHandlers.get(s);c&&c.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=nxe(s),this.instance=s;const{layoutId:c,layout:u,visualElement:d}=this.options;if(d&&!d.current&&d.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||c)&&(this.isLayoutDirty=!0),e){let f;const h=()=>this.root.updateBlockedByResize=!1;e(s,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=exe(h,250),Ng.hasAnimatedSinceResize&&(Ng.hasAnimatedSinceResize=!1,this.nodes.forEach(gE))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&d&&(c||u)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeTargetChanged:m,layout:p})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||d.getDefaultTransition()||vxe,{onLayoutAnimationStart:v,onLayoutAnimationComplete:b}=d.getProps(),y=!this.targetLayout||!SB(this.targetLayout,p)||m,w=!h&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||w||h&&(y||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,w);const N={...B2(x,"layout"),onPlay:v,onComplete:b};(d.shouldReduceMotion||this.options.layoutRoot)&&(N.delay=0,N.type=!1),this.startAnimation(N)}else h||gE(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=p})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,xl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(pxe),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:c}=this.options;if(o===void 0&&!c)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(pE);return}this.isUpdating||this.nodes.forEach(dxe),this.isUpdating=!1,this.nodes.forEach(fxe),this.nodes.forEach(sxe),this.nodes.forEach(oxe),this.clearAllSnapshots();const o=performance.now();$i.delta=bc(0,1e3/60,o-$i.timestamp),$i.timestamp=o,$i.isProcessing=!0,ly.update.process($i),ly.preRender.process($i),ly.render.process($i),$i.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(uxe),this.sharedNodes.forEach(gxe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,lr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){lr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let c=0;c<this.path.length;c++)this.path[c].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=qr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!NB(this.projectionDelta),c=this.getTransformTemplate(),u=c?c(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;s&&(o||Hc(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let c=this.removeElementScroll(o);return s&&(c=this.removeTransform(c)),yxe(c),{animationId:this.root.animationId,measuredBox:o,layoutBox:c,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return qr();const o=s.measureViewportBox(),{scroll:c}=this.root;return c&&(Kl(o.x,c.offset.x),Kl(o.y,c.offset.y)),o}removeElementScroll(s){const o=qr();rs(o,s);for(let c=0;c<this.path.length;c++){const u=this.path[c],{scroll:d,options:f}=u;if(u!==this.root&&d&&f.layoutScroll){if(d.isRoot){rs(o,s);const{scroll:h}=this.root;h&&(Kl(o.x,-h.offset.x),Kl(o.y,-h.offset.y))}Kl(o.x,d.offset.x),Kl(o.y,d.offset.y)}}return o}applyTransform(s,o=!1){const c=qr();rs(c,s);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&vd(c,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),Hc(d.latestValues)&&vd(c,d.latestValues)}return Hc(this.latestValues)&&vd(c,this.latestValues),c}removeTransform(s){const o=qr();rs(o,s);for(let c=0;c<this.path.length;c++){const u=this.path[c];if(!u.instance||!Hc(u.latestValues))continue;B1(u.latestValues)&&u.updateSnapshot();const d=qr(),f=u.measurePageBox();rs(d,f),cE(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return Hc(this.latestValues)&&cE(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==$i.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==c;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:h}=this.options;if(!(!this.layout||!(f||h))){if(this.resolvedRelativeTargetAt=$i.timestamp,!this.targetDelta&&!this.relativeTarget){const m=this.getClosestProjectingParent();m&&m.layout&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qr(),this.relativeTargetOrigin=qr(),ym(this.relativeTargetOrigin,this.layout.layoutBox,m.layout.layoutBox),rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=qr(),this.targetWithTransforms=qr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),w0e(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):rs(this.target,this.layout.layoutBox),xB(this.target,this.targetDelta)):rs(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const m=this.getClosestProjectingParent();m&&!!m.resumingFrom==!!this.resumingFrom&&!m.options.layoutScroll&&m.target&&this.animationProgress!==1?(this.relativeParent=m,this.forceRelativeParentToResolveTarget(),this.relativeTarget=qr(),this.relativeTargetOrigin=qr(),ym(this.relativeTargetOrigin,this.target,m.target),rs(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}qc.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||B1(this.parent.latestValues)||gB(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),c=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===$i.timestamp&&(u=!1),u)return;const{layout:d,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(d||f))return;rs(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,m=this.treeScale.y;T0e(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:p}=o;if(!p){this.projectionTransform&&(this.projectionDelta=bd(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=bd(),this.projectionDeltaWithTransform=bd());const x=this.projectionTransform;vm(this.projectionDelta,this.layoutCorrected,p,this.latestValues),this.projectionTransform=fE(this.projectionDelta,this.treeScale),(this.projectionTransform!==x||this.treeScale.x!==h||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",p)),qc.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const c=this.snapshot,u=c?c.latestValues:{},d={...this.latestValues},f=bd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const h=qr(),m=c?c.source:void 0,p=this.layout?this.layout.source:void 0,x=m!==p,v=this.getStack(),b=!v||v.members.length<=1,y=!!(x&&!b&&this.options.crossfade===!0&&!this.path.some(bxe));this.animationProgress=0;let w;this.mixTargetDelta=N=>{const j=N/1e3;xE(f.x,s.x,j),xE(f.y,s.y,j),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(ym(h,this.layout.layoutBox,this.relativeParent.layout.layoutBox),xxe(this.relativeTarget,this.relativeTargetOrigin,h,j),w&&X0e(this.relativeTarget,w)&&(this.isProjectionDirty=!1),w||(w=qr()),rs(w,this.relativeTarget)),x&&(this.animationValues=d,V0e(d,u,this.latestValues,j,y,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(xl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=lr.update(()=>{Ng.hasAnimatedSinceResize=!0,this.currentAnimation=rxe(0,hE,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hE),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:c,layout:u,latestValues:d}=s;if(!(!o||!c||!u)){if(this!==s&&this.layout&&u&&CB(this.options.animationType,this.layout.layoutBox,u.layoutBox)){c=this.target||qr();const f=Ha(this.layout.layoutBox.x);c.x.min=s.target.x.min,c.x.max=c.x.min+f;const h=Ha(this.layout.layoutBox.y);c.y.min=s.target.y.min,c.y.max=c.y.min+h}rs(o,c),vd(o,d),vm(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new Q0e),this.sharedNodes.get(s).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:c}={}){const u=this.getStack();u&&u.promote(this,c),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:c}=s;if((c.rotate||c.rotateX||c.rotateY||c.rotateZ)&&(o=!0),!o)return;const u={};for(let d=0;d<mE.length;d++){const f="rotate"+mE[d];c[f]&&(u[f]=c[f],s.setStaticValue(f,0))}s.render();for(const d in u)s.setStaticValue(d,u[d]);s.scheduleRender()}getProjectionStyles(s){var o,c;if(!this.instance||this.isSVG)return;if(!this.isVisible)return ixe;const u={visibility:""},d=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=kg(s==null?void 0:s.pointerEvents)||"",u.transform=d?d(this.latestValues,""):"none",u;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=kg(s==null?void 0:s.pointerEvents)||""),this.hasProjected&&!Hc(this.latestValues)&&(x.transform=d?d({},""):"none",this.hasProjected=!1),x}const h=f.animationValues||f.latestValues;this.applyTransformsToTarget(),u.transform=fE(this.projectionDeltaWithTransform,this.treeScale,h),d&&(u.transform=d(h,u.transform));const{x:m,y:p}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${p.origin*100}% 0`,f.animationValues?u.opacity=f===this?(c=(o=h.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&c!==void 0?c:1:this.preserveOpacity?this.latestValues.opacity:h.opacityExit:u.opacity=f===this?h.opacity!==void 0?h.opacity:"":h.opacityExit!==void 0?h.opacityExit:0;for(const x in J0){if(h[x]===void 0)continue;const{correct:v,applyTo:b}=J0[x],y=u.transform==="none"?h[x]:v(h[x],f);if(b){const w=b.length;for(let N=0;N<w;N++)u[b[N]]=y}else u[x]=y}return this.options.layoutId&&(u.pointerEvents=f===this?kg(s==null?void 0:s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(pE),this.root.sharedNodes.clear()}}}function sxe(e){e.updateLayout()}function oxe(e){var t;const n=((t=e.resumeFrom)===null||t===void 0?void 0:t.snapshot)||e.snapshot;if(e.isLead()&&e.layout&&n&&e.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=e.layout,{animationType:a}=e.options,s=n.source!==e.layout.source;a==="size"?ss(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ha(h);h.min=r[f].min,h.max=h.min+m}):CB(a,n.layoutBox,r)&&ss(f=>{const h=s?n.measuredBox[f]:n.layoutBox[f],m=Ha(r[f]);h.max=h.min+m,e.relativeTarget&&!e.currentAnimation&&(e.isProjectionDirty=!0,e.relativeTarget[f].max=e.relativeTarget[f].min+m)});const o=bd();vm(o,r,n.layoutBox);const c=bd();s?vm(c,e.applyTransform(i,!0),n.measuredBox):vm(c,r,n.layoutBox);const u=!NB(o);let d=!1;if(!e.resumeFrom){const f=e.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:h,layout:m}=f;if(h&&m){const p=qr();ym(p,n.layoutBox,h.layoutBox);const x=qr();ym(x,r,m.layoutBox),SB(p,x)||(d=!0),f.options.layoutRoot&&(e.relativeTarget=x,e.relativeTargetOrigin=p,e.relativeParent=f)}}}e.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:c,layoutDelta:o,hasLayoutChanged:u,hasRelativeTargetChanged:d})}else if(e.isLead()){const{onExitComplete:r}=e.options;r&&r()}e.options.transition=void 0}function lxe(e){qc.totalNodes++,e.parent&&(e.isProjecting()||(e.isProjectionDirty=e.parent.isProjectionDirty),e.isSharedProjectionDirty||(e.isSharedProjectionDirty=!!(e.isProjectionDirty||e.parent.isProjectionDirty||e.parent.isSharedProjectionDirty)),e.isTransformDirty||(e.isTransformDirty=e.parent.isTransformDirty))}function cxe(e){e.isProjectionDirty=e.isSharedProjectionDirty=e.isTransformDirty=!1}function uxe(e){e.clearSnapshot()}function pE(e){e.clearMeasurements()}function dxe(e){e.isLayoutDirty=!1}function fxe(e){const{visualElement:t}=e.options;t&&t.getProps().onBeforeLayoutMeasure&&t.notify("BeforeLayoutMeasure"),e.resetTransform()}function gE(e){e.finishAnimation(),e.targetDelta=e.relativeTarget=e.target=void 0,e.isProjectionDirty=!0}function mxe(e){e.resolveTargetDelta()}function hxe(e){e.calcProjection()}function pxe(e){e.resetRotation()}function gxe(e){e.removeLeadSnapshot()}function xE(e,t,n){e.translate=vr(t.translate,0,n),e.scale=vr(t.scale,1,n),e.origin=t.origin,e.originPoint=t.originPoint}function bE(e,t,n,r){e.min=vr(t.min,n.min,r),e.max=vr(t.max,n.max,r)}function xxe(e,t,n,r){bE(e.x,t.x,n.x,r),bE(e.y,t.y,n.y,r)}function bxe(e){return e.animationValues&&e.animationValues.opacityExit!==void 0}const vxe={duration:.45,ease:[.4,0,.1,1]},vE=e=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(e),yE=vE("applewebkit/")&&!vE("chrome/")?Math.round:Br;function wE(e){e.min=yE(e.min),e.max=yE(e.max)}function yxe(e){wE(e.x),wE(e.y)}function CB(e,t,n){return e==="position"||e==="preserve-aspect"&&!F1(dE(t),dE(n),.2)}const wxe=jB({attachResizeListener:(e,t)=>Jo(e,"resize",t),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vy={current:void 0},AB=jB({measureScroll:e=>({x:e.scrollLeft,y:e.scrollTop}),defaultParent:()=>{if(!vy.current){const e=new wxe({});e.mount(window),e.setOptions({layoutScroll:!0}),vy.current=e}return vy.current},resetTransform:(e,t)=>{e.style.transform=t!==void 0?t:"none"},checkIsScrollRoot:e=>window.getComputedStyle(e).position==="fixed"}),kxe={pan:{Feature:F0e},drag:{Feature:$0e,ProjectionNode:AB,MeasureLayout:yB}},Nxe=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function Sxe(e){const t=Nxe.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function U1(e,t,n=1){const[r,i]=Sxe(e);if(!r)return;const a=window.getComputedStyle(t).getPropertyValue(r);if(a){const s=a.trim();return cB(s)?parseFloat(s):s}else return M1(i)?U1(i,t,n+1):i}function jxe(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const a=i.get();if(!M1(a))return;const s=U1(a,r);s&&i.set(s)});for(const i in t){const a=t[i];if(!M1(a))continue;const s=U1(a,r);s&&(t[i]=s,n||(n={}),n[i]===void 0&&(n[i]=a))}return{target:t,transitionEnd:n}}const Cxe=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),PB=e=>Cxe.has(e),Axe=e=>Object.keys(e).some(PB),kE=e=>e===Ou||e===Yt,NE=(e,t)=>parseFloat(e.split(", ")[t]),SE=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return NE(i[1],t);{const a=r.match(/^matrix\((.+)\)$/);return a?NE(a[1],e):0}},Pxe=new Set(["x","y","z"]),Dxe=Kh.filter(e=>!Pxe.has(e));function Txe(e){const t=[];return Dxe.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Jd={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:SE(4,13),y:SE(5,14)};Jd.translateX=Jd.x;Jd.translateY=Jd.y;const Mxe=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,a=getComputedStyle(i),{display:s}=a,o={};s==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{o[u]=Jd[u](r,a)}),t.render();const c=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(o[u]),e[u]=Jd[u](c,a)}),e},Exe=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(PB);let a=[],s=!1;const o=[];if(i.forEach(c=>{const u=e.getValue(c);if(!e.hasValue(c))return;let d=n[c],f=Uf(d);const h=t[c];let m;if(tx(h)){const p=h.length,x=h[0]===null?1:0;d=h[x],f=Uf(d);for(let v=x;v<p&&h[v]!==null;v++)m?_2(Uf(h[v])===m):m=Uf(h[v])}else m=Uf(h);if(f!==m)if(kE(f)&&kE(m)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof h=="string"?t[c]=parseFloat(h):Array.isArray(h)&&m===Yt&&(t[c]=h.map(parseFloat))}else f!=null&&f.transform&&(m!=null&&m.transform)&&(d===0||h===0)?d===0?u.set(m.transform(d)):t[c]=f.transform(h):(s||(a=Txe(e),s=!0),o.push(c),r[c]=r[c]!==void 0?r[c]:t[c],u.jump(h))}),o.length){const c=o.indexOf("height")>=0?window.pageYOffset:null,u=Mxe(t,e,o);return a.length&&a.forEach(([d,f])=>{e.getValue(d).set(f)}),e.render(),Mb&&c!==null&&window.scrollTo({top:c}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function Oxe(e,t,n,r){return Axe(t)?Exe(e,t,n,r):{target:t,transitionEnd:r}}const Ixe=(e,t,n,r)=>{const i=jxe(e,t,r);return t=i.target,r=i.transitionEnd,Oxe(e,t,n,r)},W1={current:null},DB={current:!1};function _xe(){if(DB.current=!0,!!Mb)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>W1.current=e.matches;e.addListener(t),t()}else W1.current=!1}function Lxe(e,t,n){const{willChange:r}=t;for(const i in t){const a=t[i],s=n[i];if(Sa(a))e.addValue(i,a),ax(r)&&r.add(i);else if(Sa(s))e.addValue(i,Zd(a,{owner:e})),ax(r)&&r.remove(i);else if(s!==a)if(e.hasValue(i)){const o=e.getValue(i);!o.hasAnimated&&o.set(a)}else{const o=e.getStaticValue(i);e.addValue(i,Zd(o!==void 0?o:a,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const jE=new WeakMap,TB=Object.keys(sh),$xe=TB.length,CE=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],Fxe=A2.length;class Rxe{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:a},s={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>lr.render(this.render,!1,!0);const{latestValues:o,renderState:c}=a;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=c,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=s,this.isControllingVariants=Ob(n),this.isVariantNode=hR(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const f in d){const h=d[f];o[f]!==void 0&&Sa(h)&&(h.set(o[f],!1),ax(u)&&u.add(f))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,jE.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),DB.current||_xe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:W1.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){jE.delete(this.current),this.projection&&this.projection.unmount(),xl(this.notifyUpdate),xl(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Eu.has(t),i=n.on("change",s=>{this.latestValues[t]=s,this.props.onUpdate&&lr.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),a()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,a){let s,o;for(let c=0;c<$xe;c++){const u=TB[c],{isEnabled:d,Feature:f,ProjectionNode:h,MeasureLayout:m}=sh[u];h&&(s=h),d(n)&&(!this.features[u]&&f&&(this.features[u]=new f(this)),m&&(o=m))}if((this.type==="html"||this.type==="svg")&&!this.projection&&s){this.projection=new s(this.latestValues,this.parent&&this.parent.projection);const{layoutId:c,layout:u,drag:d,dragConstraints:f,layoutScroll:h,layoutRoot:m}=n;this.projection.setOptions({layoutId:c,layout:u,alwaysMeasureLayout:!!d||f&&gd(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:a,layoutScroll:h,layoutRoot:m})}return o}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):qr()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CE.length;r++){const i=CE[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const a=t["on"+i];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Lxe(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<Fxe;r++){const i=A2[r],a=this.props[i];(ah(a)||a===!1)&&(n[i]=a)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=Zd(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=I2(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const a=this.getBaseTargetFromProps(this.props,t);return a!==void 0&&!Sa(a)?a:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new V2),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class MB extends Rxe{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},a){let s=n0e(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),s&&(s=i(s))),a){e0e(this,r,s);const o=Ixe(this,r,s,n);n=o.transitionEnd,r=o.target}return{transition:t,transitionEnd:n,...r}}}function Bxe(e){return window.getComputedStyle(e)}class zxe extends MB{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Eu.has(n)){const r=R2(n);return r&&r.default||0}else{const r=Bxe(t),i=(vR(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return bB(t,n)}build(t,n,r,i){D2(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return O2(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;Sa(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){jR(t,n,r,i)}}class Uxe extends MB{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Eu.has(n)){const r=R2(n);return r&&r.default||0}return n=CR.has(n)?n:j2(n),t.getAttribute(n)}measureInstanceViewportBox(){return qr()}scrapeMotionValuesFromProps(t,n){return PR(t,n)}build(t,n,r,i){M2(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){AR(t,n,r,i)}mount(t){this.isSVGTag=E2(t.tagName),super.mount(t)}}const Wxe=(e,t)=>P2(e)?new Uxe(t,{enableHardwareAcceleration:!1}):new zxe(t,{enableHardwareAcceleration:!0}),Vxe={layout:{ProjectionNode:AB,MeasureLayout:yB}},Hxe={...x0e,...$pe,...kxe,...Vxe},ao=Hhe((e,t)=>Spe(e,t,Hxe,Wxe));function qxe({isOpen:e,onClose:t,searchValue:n,searchFocused:r,searchResults:i,onSearchChange:a,onSearchFocus:s,onSearchBlur:o,onSearchEnter:c,onSearchResultMouseDown:u,renderHighlightedMatch:d,searchRef:f,tocItems:h,activeTocId:m,onTocClick:p,contentRef:x,children:v}){return e?l.jsx("div",{className:"app-modal-overlay fixed inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-lg",onClick:b=>b.target===b.currentTarget&&t(),children:l.jsxs("div",{className:"app-modal-card proof-of-work-modal relative isolate w-full max-w-4xl bg-[#10151b]/95 border border-white/10 rounded-xl shadow-[0_20px_60px_rgba(0,0,0,0.55)] p-6 overflow-hidden",children:[l.jsxs("div",{className:"pointer-events-none absolute inset-0 z-0 opacity-60","aria-hidden":"true",children:[l.jsx("div",{className:"absolute -top-24 -right-24 h-56 w-56 rounded-full bg-cyan-500/8 blur-3xl"}),l.jsx("div",{className:"absolute -bottom-24 -left-16 h-64 w-64 rounded-full bg-slate-500/10 blur-3xl"})]}),l.jsxs("div",{className:"relative z-10",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-[10px] uppercase tracking-[0.35em] text-cyan-300/70",children:"Proof of Work"}),l.jsx("div",{className:"text-xl font-semibold text-white mt-1",children:"Metrics Specification"})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("div",{className:"relative",ref:f,children:[l.jsx("input",{type:"text",value:n,onChange:b=>a(b.target.value),onFocus:s,onBlur:b=>o(b.relatedTarget),onKeyDown:b=>{b.key==="Enter"&&c()},placeholder:"Search spec...",className:"proof-of-work-search w-56 rounded-lg border border-white/10 bg-black/30 px-3 py-2 text-xs text-gray-200 placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-cyan-500/30"}),r&&i.length>0&&n.trim().length>=2&&l.jsx("div",{className:"proof-of-work-search-results absolute right-0 mt-2 w-80 max-h-64 overflow-y-auto rounded-lg border border-white/10 bg-[#0d1218]/95 shadow-2xl z-10",children:i.map((b,y)=>l.jsxs("button",{type:"button",className:"w-full text-left px-3 py-2 text-xs text-gray-200 hover:bg-white/10 border-b border-white/5 last:border-b-0",onMouseDown:w=>{w.preventDefault(),u(b)},children:[l.jsx("div",{className:"text-[10px] uppercase tracking-wide text-gray-500 mb-1",children:b.section}),l.jsx("div",{className:"truncate",children:d(b.text,n)})]},`${b.hitId}-${y}-${b.text}`))})]}),l.jsx("button",{type:"button",onClick:t,className:"p-2 rounded-lg border border-white/10 bg-white/5 text-gray-300 hover:text-white hover:border-white/30 transition-colors","aria-label":"Close proof of work",children:l.jsx(ii,{className:"w-5 h-5"})})]})]}),l.jsx("div",{className:"h-[65vh]",children:l.jsxs("div",{className:"grid grid-cols-[230px_1fr] gap-4 h-full min-h-0",children:[l.jsxs("div",{className:"proof-of-work-sidebar h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-white/5 p-3",children:[l.jsx("div",{className:"proof-of-work-toc-header text-[10px] uppercase tracking-[0.3em] text-gray-400 mb-2",children:"On This Page"}),l.jsxs("div",{className:"space-y-1",children:[h.length===0&&l.jsx("div",{className:"px-2 py-1 text-[11px] text-gray-500",children:"Loading sections"}),h.map((b,y)=>{const w=b.id===m;return l.jsxs("button",{type:"button","data-toc-active":w?"true":"false",className:`proof-of-work-toc-item ${b.level===1?"proof-of-work-toc-item--l1":b.level===2?"proof-of-work-toc-item--l2":"proof-of-work-toc-item--l3"} w-full text-left flex items-center gap-2 min-w-0 transition-colors ${w?"proof-of-work-toc-item--active !text-cyan-300 hover:!text-cyan-300":b.level===1?"text-white hover:text-white":"text-gray-400 hover:text-gray-200"}`,onClick:()=>p(b),children:[l.jsx("span",{className:`proof-of-work-toc-dot ${w?"!bg-cyan-300":""}`,"aria-hidden":"true"}),l.jsx("span",{className:"proof-of-work-toc-label text-[13px] font-medium truncate min-w-0",children:b.text})]},`${b.id}-${b.level}-${y}`)})]})]}),l.jsx("div",{className:"proof-of-work-content h-full overflow-y-auto pr-2 rounded-xl border border-white/10 bg-black/30 p-4",ref:x,id:"metrics-spec-content",children:l.jsx("div",{className:"space-y-4 text-sm text-gray-200",children:v})})]})})]})]})}):null}const Uo=e=>{const t=Number(e??0);return Number.isFinite(t)?t:0},V1=e=>{const t=[e==null?void 0:e.dateEnd,e==null?void 0:e.dateStart];for(const n of t){if(!n)continue;const r=new Date(n).getTime();if(Number.isFinite(r)&&r>0)return r}return 0},Kxe=e=>{const t=e!=null&&e.generatedAt?new Date(e.generatedAt).getTime():0;return Number.isFinite(t)&&t>0?t:V1(e)},Gxe=(e,t)=>{var a,s,o;const n=String(((a=e==null?void 0:e.meta)==null?void 0:a.dateStart)||"").trim(),r=String(((s=e==null?void 0:e.meta)==null?void 0:s.dateEnd)||"").trim();if(n||r)return`${n}|${r}`;const i=String(((o=e==null?void 0:e.meta)==null?void 0:o.id)||"").trim();return i||`report-${t}`},Yxe=(e,t="Unknown")=>{var r;return((r=Object.entries(e).filter(([i,a])=>i&&a>0).sort((i,a)=>{const s=a[1]-i[1];return s!==0?s:i[0].localeCompare(a[0])})[0])==null?void 0:r[0])||t},Xxe=(e,t="Unknown")=>{var r;return((r=Object.entries(e).filter(([i,a])=>i&&a>0).sort((i,a)=>{const s=a[1]-i[1];return s!==0?s:i[0].localeCompare(a[0])})[0])==null?void 0:r[0])||t},AE=e=>{const t=new Set,n=new Map;e.forEach((p,x)=>{const v=Gxe(p,x);t.add(v);const b=Kxe(p==null?void 0:p.meta);n.has(v)||n.set(v,[]),n.get(v).push({report:p,generatedTs:b,index:x})});const r=Array.from(n.values()).sort((p,x)=>{const v=Math.max(...p.map(N=>N.generatedTs||0)),b=Math.max(...x.map(N=>N.generatedTs||0));if(b!==v)return b-v;const y=Math.max(...p.map(N=>N.index));return Math.max(...x.map(N=>N.index))-y}).map(p=>[...p].sort((x,v)=>v.generatedTs!==x.generatedTs?v.generatedTs-x.generatedTs:v.index-x.index)),i=new Map,a=new Map;let s=0,o=0,c=0,u=0,d=0,f=0;r.forEach(p=>{var N;const x=p.find(j=>{var k,C;return Array.isArray((C=(k=j.report)==null?void 0:k.stats)==null?void 0:C.attendanceData)&&j.report.stats.attendanceData.length>0})||null,v=(x==null?void 0:x.report)||null,b=v?V1(v.meta):0,y=Array.isArray((N=v==null?void 0:v.stats)==null?void 0:N.attendanceData)?v.stats.attendanceData:[];y.length>0?c+=1:u+=1;const w=new Map;p.forEach(j=>{var R,T;const k=j.report,C=V1(k==null?void 0:k.meta);(Array.isArray((T=(R=k==null?void 0:k.stats)==null?void 0:R.commanderStats)==null?void 0:T.rows)?k.stats.commanderStats.rows:[]).forEach($=>{const I=String(($==null?void 0:$.account)||($==null?void 0:$.key)||"").trim();if(!I)return;const re=w.get(I);if(!re){w.set(I,{row:$,timestamp:C,generatedTs:j.generatedTs,index:j.index});return}(j.generatedTs>re.generatedTs||j.generatedTs===re.generatedTs&&j.index>re.index)&&w.set(I,{row:$,timestamp:C,generatedTs:j.generatedTs,index:j.index})})}),w.size>0?s+=1:o+=1,!(y.length===0||w.size===0)&&(d+=1,f+=p.length,y.forEach(j=>{const k=String((j==null?void 0:j.account)||"").trim();if(!k||k==="Unknown")return;const C=a.get(k)||{account:k,characterNames:new Set,professionTimeMs:{},runs:0,combatTimeMs:0,squadTimeMs:0,lastSeenTs:0};C.runs+=1,C.combatTimeMs+=Math.max(0,Uo(j==null?void 0:j.combatTimeMs)),C.squadTimeMs+=Math.max(0,Uo(j==null?void 0:j.squadTimeMs)),C.lastSeenTs=Math.max(C.lastSeenTs,b),Array.isArray(j==null?void 0:j.characterNames)&&j.characterNames.forEach(R=>{const T=String(R||"").trim();T&&C.characterNames.add(T)}),(Array.isArray(j==null?void 0:j.classTimes)?j.classTimes:[]).forEach(R=>{const T=String((R==null?void 0:R.profession)||"").trim();!T||T==="Unknown"||(C.professionTimeMs[T]=(C.professionTimeMs[T]||0)+Math.max(0,Uo(R==null?void 0:R.timeMs)))}),a.set(k,C)}),w.forEach(({row:j,timestamp:k})=>{const C=String((j==null?void 0:j.account)||(j==null?void 0:j.key)||"").trim();if(!C)return;const E=i.get(C)||{account:C,characterNames:new Set,professionCounts:{},runs:0,fightsLed:0,kills:0,downs:0,commanderDeaths:0,wins:0,losses:0,lastSeenTs:0};E.runs+=1,E.fightsLed+=Math.max(0,Uo(j==null?void 0:j.fights)),E.kills+=Math.max(0,Uo(j==null?void 0:j.kills)),E.downs+=Math.max(0,Uo(j==null?void 0:j.downs)),E.commanderDeaths+=Math.max(0,Uo(j==null?void 0:j.commanderDeaths)),E.wins+=Math.max(0,Uo(j==null?void 0:j.wins)),E.losses+=Math.max(0,Uo(j==null?void 0:j.losses)),E.lastSeenTs=Math.max(E.lastSeenTs,k),Array.isArray(j==null?void 0:j.characterNames)&&j.characterNames.forEach(T=>{const $=String(T||"").trim();$&&E.characterNames.add($)});const R=String((j==null?void 0:j.profession)||"").trim();R&&(E.professionCounts[R]=(E.professionCounts[R]||0)+1),i.set(C,E)}))});const h=Array.from(i.values()).map(p=>{const x=p.commanderDeaths>0?p.kills/p.commanderDeaths:p.kills;return{account:p.account,characterNames:Array.from(p.characterNames.values()).sort((v,b)=>v.localeCompare(b)),profession:Xxe(p.professionCounts),runs:p.runs,fightsLed:p.fightsLed,kills:p.kills,downs:p.downs,commanderDeaths:p.commanderDeaths,wins:p.wins,losses:p.losses,kdr:x,lastSeenTs:p.lastSeenTs}}).sort((p,x)=>x.runs!==p.runs?x.runs-p.runs:x.fightsLed!==p.fightsLed?x.fightsLed-p.fightsLed:x.kills!==p.kills?x.kills-p.kills:p.account.localeCompare(x.account)),m=Array.from(a.values()).map(p=>({account:p.account,characterNames:Array.from(p.characterNames.values()).sort((x,v)=>x.localeCompare(v)),profession:Yxe(p.professionTimeMs),runs:p.runs,combatTimeMs:p.combatTimeMs,squadTimeMs:p.squadTimeMs,lastSeenTs:p.lastSeenTs})).sort((p,x)=>x.runs!==p.runs?x.runs-p.runs:x.lastSeenTs!==p.lastSeenTs?x.lastSeenTs-p.lastSeenTs:x.squadTimeMs!==p.squadTimeMs?x.squadTimeMs-p.squadTimeMs:p.account.localeCompare(x.account));return{commanderRows:h,playerRows:m,sourceReports:e.length,uniqueRaids:d,duplicateReportsCollapsed:Math.max(0,f-d),raidsSkippedMissingRequiredData:Math.max(0,r.length-d),reportsWithCommanderDetails:s,reportsMissingCommanderDetails:o,reportsWithAttendanceDetails:c,reportsMissingAttendanceDetails:u}},Ai="border border-white/10 rounded-2xl shadow-xl backdrop-blur-md glass-card",H1="arcbridge_web_theme_override",PE="arcbridge_web_kinetic_font_override",DE="__default__",EB=e=>{if(typeof document>"u")return null;const t=e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),n=document.cookie.match(new RegExp(`(?:^|; )${t}=([^;]*)`));if(!n)return null;try{return decodeURIComponent(n[1])}catch{return n[1]}},TE=(e,t,n=365)=>{if(typeof document>"u")return;const r=Math.max(0,Math.floor(n*24*60*60));document.cookie=`${e}=${encodeURIComponent(t)}; Max-Age=${r}; Path=/; SameSite=Lax`},Qxe=e=>{typeof document>"u"||(document.cookie=`${e}=; Max-Age=0; Path=/; SameSite=Lax`)},Zxe=(e,t)=>{if(!e||!t)return e;try{const n=new URL(e,window.location.origin);return n.searchParams.set("themeId",t),/^https?:\/\//i.test(e)?n.toString():`${n.pathname}${n.search}${n.hash}`}catch{const n=e.includes("?")?"&":"?";return`${e}${n}themeId=${encodeURIComponent(t)}`}},Jxe=(e,t,n)=>{const r=new URL(e);return r.searchParams.set("report",t||""),n&&r.searchParams.set("themeId",n),r.toString()},ebe=(e,t)=>{const n=new URL(e);return n.searchParams.delete("report"),n.searchParams.set("view","rollup"),t&&n.searchParams.set("themeId",t),n.toString()},q1=e=>e?e===i2?!0:Jf.some(t=>t.id===e):!1,tbe=()=>{const e=new URLSearchParams(window.location.search),t=e.get("themeId")||e.get("theme");if(t&&q1(t))return t;const n=EB(H1);if(!n)return null;try{const r=JSON.parse(n),i=typeof(r==null?void 0:r.themeId)=="string"?r.themeId:null;return i&&q1(i)?i:null}catch{return null}},ME=(e,t)=>e?e===K0?"matte":e===G0||e===Kc?"kinetic":e===i2?"crt":t==="modern"||t==="classic"?t:"classic":t,K1=e=>{if(typeof e!="string")return null;const t=e.trim();return t||null},yy=e=>(e==null?void 0:e.uiTheme)==="kinetic"&&!K1(e==null?void 0:e.webThemeId),EE=(e,t)=>{try{const n=new Date(e),r=new Date(t);return Number.isNaN(n.getTime())||Number.isNaN(r.getTime())?"":`${n.toLocaleString()} - ${r.toLocaleString()}`}catch{return""}},nbe=e=>{const t=new Date(e);if(Number.isNaN(t.getTime()))return"Raid";const n=`${t.getMonth()+1}/${t.getDate()}/${String(t.getFullYear()).slice(-2)}`,r=t.toLocaleDateString(void 0,{weekday:"long"}),i=t.getHours();let a="Night";return i>=5&&i<12?a="Morning":i>=12&&i<17?a="Afternoon":i>=17&&i<21&&(a="Evening"),`${n} - ${r} ${a} Raid`},OE=e=>{if(!Number.isFinite(e)||e<=0)return"--";try{return new Date(e).toLocaleString(void 0,{year:"numeric",month:"short",day:"numeric"})}catch{return"--"}},IE=e=>{const t=Math.max(0,Number(e||0))/36e5;return!Number.isFinite(t)||t<=0?"--":t>=100?`${Math.round(t)}h`:`${t.toFixed(1)}h`},_E=e=>Number.isFinite(e)?e.toFixed(e>=10?1:2):"--",rbe=(e,t)=>{const n=String(e||"").split(",").map(r=>Math.max(0,Math.min(255,Math.round(Number(r.trim())*t))));return n.length!==3||n.some(r=>!Number.isFinite(r))?"rgb(24, 32, 48)":`rgb(${n[0]}, ${n[1]}, ${n[2]})`},LE=e=>e.toLowerCase().trim().replace(/\[(.*?)\]\(.*?\)/g,"$1").replace(/`([^`]+)`/g,"$1").replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-"),ibe=({slices:e})=>{const n=2*Math.PI*18,r=e.reduce((a,s)=>a+(s.value||0),0);let i=0;return l.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[l.jsx("circle",{cx:"24",cy:"24",r:18,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),e.map((a,s)=>{const o=a.value||0,c=r>0?o/r*n:0,u=`${c} ${n-c}`,d=n-i;return i+=c,l.jsx("circle",{cx:"24",cy:"24",r:18,stroke:a.color,strokeWidth:"6",fill:"none",strokeLinecap:"butt",strokeDasharray:u,strokeDashoffset:d,transform:"rotate(-90 24 24)"},`${s}-${a.color}`)})]})},abe=({value:e})=>{const t=typeof e=="number"?Math.min(Math.max(e,0),1):null,n=18,r=2*Math.PI*n,i=t===null?r:r-t*r;return l.jsxs("svg",{className:"report-mini-donut",width:"48",height:"48",viewBox:"0 0 48 48",children:[l.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(255,255,255,0.35)",strokeWidth:"6",fill:"none"}),l.jsx("circle",{cx:"24",cy:"24",r:n,stroke:"rgba(16,185,129,0.9)",strokeWidth:"6",fill:"none",strokeLinecap:"round",strokeDasharray:r,strokeDashoffset:i,transform:"rotate(-90 24 24)"}),l.jsx("text",{x:"24",y:"27",textAnchor:"middle",fontSize:"10",fill:"#e2e8f0",children:t===null?"--":`${Math.round(t*100)}%`})]})};function sbe(){var xt;const e=tbe(),t=g.useMemo(()=>new URLSearchParams(window.location.search),[]),[n,r]=g.useState(null),[i,a]=g.useState(null),[s,o]=g.useState(null),[c,u]=g.useState(!1),[d,f]=g.useState(null),[h,m]=g.useState(0),[p,x]=g.useState(""),[v,b]=g.useState(""),[y,w]=g.useState("all"),[N,j]=g.useState("all"),[k,C]=g.useState("1"),[E,R]=g.useState("1"),[T,$]=g.useState(null),[I,re]=g.useState(null),[ce,ve]=g.useState(""),[Oe,fe]=g.useState(null),[Z,xe]=g.useState(null),[_,D]=g.useState(!1),[ue,S]=g.useState(!1),[Y,B]=g.useState(()=>ME(e,"classic")),[ee,de]=g.useState("classic"),[oe,H]=g.useState(vg.id),[K,J]=g.useState(e),ae=g.useMemo(()=>(t.get("view")||"").trim().toLowerCase(),[t]),V=g.useMemo(()=>{var P;return t.get("report")||((P=window.location.pathname.match(/\/reports\/([^/]+)\/?$/))==null?void 0:P[1])||null},[t]),be=g.useMemo(()=>!V&&ae==="rollup",[V,ae]),ie=g.useMemo(()=>{const P=t.get("themeId")||t.get("theme");return P&&q1(P)?P:null},[t]),[me,Ye]=g.useState("default"),[Qe,yt]=g.useState(!1),[$e,Ae]=g.useState(!1),[Ee,ot]=g.useState(!1),[Ce,Kt]=g.useState(""),[Le,ft]=g.useState(""),[Ft,Gt]=g.useState([]),[wn,tr]=g.useState(!1),[on,fn]=g.useState("overview"),[Aa,dn]=g.useState("kdr"),[In,cr]=g.useState({overview:!0,roster:!1,offense:!1,defense:!1,other:!1}),Oi=g.useRef(null),jo=g.useRef(null),Ki=g.useRef(null),Co=g.useRef(null),jl=g.useRef(null),Cl=g.useRef(null),Tc=g.useRef(new Map),Cs=g.useRef(null),Gi=g.useRef(null),ua=g.useMemo(()=>{let P=window.location.pathname||"/";const W=/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host);return P.endsWith("/index.html")&&(P=P.slice(0,-11)),P.includes("/reports/")&&(P=P.replace(/\/reports\/[^/]+\/?$/,"")),W&&(P=P.replace(/^\/web\/web(?=\/|$)/,"/web")),P.endsWith("/")||(P=`${P}/`),P},[]),Ga=g.useMemo(()=>new URL(ua,window.location.origin).toString(),[ua]),Ii=g.useMemo(()=>ie?Zxe(Ga,ie):Ga,[ie,Ga]),Pa=g.useMemo(()=>ebe(Ga,ie),[Ga,ie]),Ao=g.useMemo(()=>/^(localhost|127\.0\.0\.1)(:\d+)?$/.test(window.location.host)&&window.location.pathname.startsWith("/web/"),[]),zr=g.useMemo(()=>{const W=[ua,"./","/"],X=[];return W.forEach(ye=>{let De=ye||"/";De!=="./"&&!De.endsWith("/")&&(De=`${De}/`),X.includes(De)||X.push(De)}),X},[ua,Ao]),[Ya,Xs]=g.useState(zr[0]||"/"),Qs=P=>{var W;return typeof P=="string"||typeof P=="number"?String(P):Array.isArray(P)?P.map(Qs).join(""):P&&typeof P=="object"&&"props"in P?Qs((W=P.props)==null?void 0:W.children):""},jr=P=>{const W=LE(P||"section")||"section",X=Tc.current,ye=(X.get(W)??0)+1;return X.set(W,ye),ye===1?W:`${W}-${ye}`},As=g.useMemo(()=>{const P=oy.split(`
`),W=new Map,X=[],ye=De=>{const F=LE(De||"section")||"section",U=(W.get(F)??0)+1;return W.set(F,U),U===1?F:`${F}-${U}`};for(const De of P){const F=/^(#{1,3})\s+(.*)\s*$/.exec(De);if(!F)continue;const U=F[1].length,G=F[2].trim();G&&X.push({level:U,text:G,id:ye(G)})}return X},[oy]),Da=(P,W)=>{const X=P==="./"?"./":P.endsWith("/")?P:`${P}/`,ye=String(W||"").replace(/^\/+/,"");return`${X}${ye}`};g.useEffect(()=>{const P=EB(PE);(P==="original"||P==="default")&&Ye(P)},[]),g.useEffect(()=>{const P=K||oe,W=Jf.find(X=>X.id===P)||vg;fe(W)},[K,oe]),g.useEffect(()=>{if(!K){B(ee);return}B(ME(K,ee))},[K,ee]),g.useEffect(()=>{Xs(zr[0]||"/");let P=!0;return(async()=>{for(const X of zr)try{if((await fetch(Da(X,"ui-theme.json"),{cache:"no-store"})).ok){P&&Xs(X);return}}catch{}})(),()=>{P=!1}},[zr]);const Iu=(P,W)=>{const X=W.trim();if(!X)return P;const ye=P.toLowerCase(),De=X.toLowerCase(),F=ye.indexOf(De);if(F===-1)return P;const U=P.slice(0,F),G=P.slice(F,F+X.length),he=P.slice(F+X.length);return l.jsxs(l.Fragment,{children:[U,l.jsx("mark",{className:"rounded bg-cyan-500/30 px-1 text-cyan-100",children:G}),he]})},Al=(P,W)=>{const X=jo.current;if(!X)return;let ye=X.querySelector(`[data-search-hit="${P}"]`);if(!ye&&W){const De=W.trim().replace(/\s+/g," "),F=Array.from(X.querySelectorAll("h1, h2, h3, p, li, code"));ye=F.find(U=>(U.textContent||"").trim().replace(/\s+/g," ")===De)||null,ye||(ye=F.find(U=>(U.textContent||"").toLowerCase().includes(De.toLowerCase()))||null)}ye&&requestAnimationFrame(()=>{const De=X.getBoundingClientRect(),F=ye.getBoundingClientRect(),U=Math.max(0,X.scrollTop+(F.top-De.top)-12);X.scrollTop=U,ye.classList.add("ring-2","ring-cyan-400/70","bg-cyan-500/10"),Cl.current&&window.clearTimeout(Cl.current),Cl.current=window.setTimeout(()=>{ye.classList.remove("ring-2","ring-cyan-400/70","bg-cyan-500/10")},1600)})},_u=P=>{const W=jo.current,X=P.trim().toLowerCase();if(!W||X.length<2){Gt([]);return}const ye=Array.from(W.querySelectorAll("h1, h2, h3, p, li, code"));ye.forEach(U=>U.removeAttribute("data-search-hit"));const De=[];let F=0;ye.forEach((U,G)=>{const he=(U.textContent||"").trim();if(he&&he.toLowerCase().includes(X)){let q="";for(let te=G;te>=0;te-=1){const Q=ye[te];if(Q&&["H1","H2","H3"].includes(Q.tagName)){q=(Q.textContent||"").trim();break}}U.setAttribute("data-search-hit",String(F)),De.push({index:G,text:he,section:q||"Unlabeled Section",hitId:F}),F+=1}}),Gt(De.slice(0,12))};g.useEffect(()=>{var W;if(!Ee)return;Kt(((W=As[0])==null?void 0:W.id)||"");const P=X=>{var De;const ye=X.target;ye&&((De=Ki.current)!=null&&De.contains(ye)||(tr(!1),Gt([])))};return window.addEventListener("mousedown",P),()=>{window.removeEventListener("mousedown",P)}},[Ee,As]),g.useEffect(()=>{if(!Ee){Kt("");return}const P=jo.current;if(!P)return;let W=0;const X=()=>{var ne;const De=Array.from(P.querySelectorAll("[data-heading-id]"));if(De.length===0)return;const U=P.getBoundingClientRect().top+18,G=De.map((Xe,je)=>({index:je,id:Xe.dataset.headingId||Xe.id||"",top:Xe.getBoundingClientRect().top})).filter(Xe=>!!Xe.id);if(G.length===0)return;let he=0,q=!1;for(const Xe of G){if(Xe.top<=U){he=Xe.index,q=!0;continue}q||(he=Xe.index);break}P.scrollTop+P.clientHeight>=P.scrollHeight-2&&(he=Math.max(0,G.length-1));const Q=As[he],Ie=((ne=G[he])==null?void 0:ne.id)||"",le=(Q==null?void 0:Q.id)||Ie;le&&Kt(le)};X();const ye=()=>{W&&cancelAnimationFrame(W),W=requestAnimationFrame(X)};return P.addEventListener("scroll",ye,{passive:!0}),window.addEventListener("resize",ye),()=>{W&&cancelAnimationFrame(W),P.removeEventListener("scroll",ye),window.removeEventListener("resize",ye)}},[Ee,As]);const Yn=g.useMemo(()=>[{id:"overview",label:"Overview",icon:z8,sectionIds:["overview","kdr","fight-breakdown","top-players","top-skills-outgoing","top-skills-incoming","timeline","map-distribution","squad-composition"],items:[{id:"kdr",label:"KDR",icon:au},{id:"fight-breakdown",label:"Fight Breakdown",icon:ec},{id:"top-players",label:"Top Players",icon:au},{id:"top-skills-outgoing",label:"Top Skills",icon:Uk},{id:"squad-composition",label:"Classes",icon:Er},{id:"timeline",label:"Squad vs Enemy Size",icon:Er},{id:"map-distribution",label:"Map Distribution",icon:Kk}]},{id:"commanders",label:"Commander Stats",icon:Cd,sectionIds:["commander-stats","commander-push-timing","commander-target-conversion","commander-tag-movement","commander-tag-death-response"],items:[{id:"commander-stats",label:"Commander Stats",icon:Cd},{id:"commander-push-timing",label:"Push Timing",icon:Wk},{id:"commander-target-conversion",label:"Target Conversion",icon:Yk},{id:"commander-tag-movement",label:"Tag Movement",icon:Gk},{id:"commander-tag-death-response",label:"Tag Death Response",icon:gu}]},{id:"roster",label:"Roster Intel",icon:Fm,sectionIds:["attendance-ledger","squad-comp-fight","fight-comp"],items:[{id:"attendance-ledger",label:"Attendance",icon:Fm},{id:"squad-comp-fight",label:"Squad Comp",icon:Er},{id:"fight-comp",label:"Fight Comp",icon:ec}]},{id:"offense",label:"Offensive Stats",icon:ec,sectionIds:["offense-detailed","player-breakdown","damage-breakdown","spike-damage","conditions-outgoing"],items:[{id:"offense-detailed",label:"Offense Detailed",icon:aF},{id:"player-breakdown",label:"Player Breakdown",icon:qk},{id:"damage-breakdown",label:"Damage Breakdown",icon:um},{id:"spike-damage",label:"Spike Damage",icon:Rm},{id:"conditions-outgoing",label:"Conditions",icon:gu}]},{id:"defense",label:"Defensive Stats",icon:Rd,sectionIds:["defense-detailed","incoming-strike-damage","defense-mitigation","boon-output","boon-timeline","boon-uptime","support-detailed","healing-stats"],items:[{id:"defense-detailed",label:"Defense Detailed",icon:Rd},{id:"incoming-strike-damage",label:"Incoming Strike Damage",icon:Rm},{id:"defense-mitigation",label:"Damage Mitigation",icon:Jk},{id:"boon-output",label:"Boon Output",icon:su},{id:"boon-timeline",label:"Boon Timeline",icon:Zk},{id:"boon-uptime",label:"Boon Uptime",icon:dm},{id:"support-detailed",label:"Support Detailed",icon:Xk},{id:"healing-stats",label:"Healing Stats",icon:nI}]},{id:"other",label:"Other Metrics",icon:Sx,sectionIds:["fight-diff-mode","special-buffs","sigil-relic-uptime","skill-usage","apm-stats"],items:[{id:"fight-diff-mode",label:"Fight Comparison",icon:Vk},{id:"special-buffs",label:"Special Buffs",icon:Yg},{id:"sigil-relic-uptime",label:"Sigil/Relic Uptime",icon:eN},{id:"skill-usage",label:"Skill Usage",icon:Hk},{id:"apm-stats",label:"APM Breakdown",icon:Qk}]}],[]),Pl=g.useMemo(()=>{const P=new Map;return Yn.forEach(W=>{P.set(W.id.toLowerCase(),W.id),(W.sectionIds||[]).forEach(X=>P.set(String(X).toLowerCase(),W.id)),(W.items||[]).forEach(X=>P.set(String(X.id).toLowerCase(),W.id))}),P.set("report-top","overview"),P.set("overview","overview"),P.set("kdr","overview"),P},[Yn]),ur=g.useMemo(()=>Yn.find(P=>P.id===on)||Yn[0],[Yn,on]),Cr=Y==="kinetic",Or=g.useMemo(()=>{const W=((ur==null?void 0:ur.sectionIds)||((ur==null?void 0:ur.items)||[]).map(X=>X.id)).map(X=>X==="kdr"?"overview":X);return new Set(W)},[ur]),Dl=P=>{if(P==="report-top")return window.scrollTo({top:0,behavior:"smooth"}),history.replaceState&&history.replaceState(null,"","#report-top"),!0;const W=P==="kdr"?"overview":P,X=W==="overview"&&P!=="kdr"?"report-top":W,ye=document.getElementById(X);if(!ye||!(ye.getAttribute("data-section-visible")!=="false")||!ye.offsetParent)return!1;const F=ye.getBoundingClientRect();if(F.height<=0)return!1;let U=0;if(X==="stats-view-top"){const he=document.getElementById("report-top");he&&(U=he.getBoundingClientRect().height+12)}const G=F.top+window.scrollY-12-U;return window.scrollTo({top:Math.max(0,G),behavior:"smooth"}),history.replaceState&&history.replaceState(null,"",`#${X}`),!0},da=(P,W=0)=>{Dl(P)||W>=12||window.setTimeout(()=>{requestAnimationFrame(()=>da(P,W+1))},40)};g.useEffect(()=>{if(!n)return;const P=requestAnimationFrame(()=>{Array.from(document.querySelectorAll("[data-nav-submenu-content]")).forEach(X=>{X.scrollHeight})});return()=>cancelAnimationFrame(P)},[n]),g.useEffect(()=>{const P=Cs.current;if(!P)return;let W=0;const X=()=>{if(Dl(P)){Cs.current=null;return}if(W+=1,W>=20){Cs.current=null;return}window.setTimeout(()=>requestAnimationFrame(X),40)};requestAnimationFrame(X)},[on]),g.useEffect(()=>{const P=()=>{var F,U;const W=(window.location.hash||"").replace(/^#/,"").trim();if(!W)return;let X=W;try{X=decodeURIComponent(W)}catch{X=W}const ye=X.toLowerCase(),De=Pl.get(ye);if(De){if(fn(De),cr(()=>{const G={};return Yn.forEach(he=>{G[he.id]=he.id===De}),G}),ye==="report-top")dn("kdr");else{const G=Yn.find(he=>he.id.toLowerCase()===ye);dn(((U=(F=G==null?void 0:G.items)==null?void 0:F[0])==null?void 0:U.id)||ye)}Cs.current=ye==="report-top"?"kdr":ye}};return P(),window.addEventListener("hashchange",P),()=>{window.removeEventListener("hashchange",P)}},[Pl,Yn]);const Ir=Y==="matte",Yi=Oe??vg,Ur=Cr&&Yi.id===Kc,fa=Cr?Ur?"142, 155, 214":"90, 80, 68":Yi.rgb,Tl=Ir?"#d8e1eb":Cr?Ur?"#f0d8a9":"#24211d":"var(--accent)",ma={"--accent":`rgb(${fa})`,"--accent-rgb":fa,"--accent-soft":`rgba(${fa}, ${Cr?Ur?"0.22":"0.18":"0.32"})`,"--accent-strong":`rgba(${fa}, ${Cr?Ur?"0.86":"0.78":"0.95"})`,"--accent-border":`rgba(${fa}, ${Cr?Ur?"0.32":"0.22":"0.4"})`,"--accent-glow":`rgba(${fa}, ${Cr?Ur?"0.14":"0.08":"0.18"})`,"--accent-glow-soft":`rgba(${fa}, ${Cr?Ur?"0.08":"0.04":"0.08"})`},Xa=Y==="modern"||Y==="matte"||Y==="kinetic",Po=Yi.pattern?Ir||Cr?void 0:Xa?`linear-gradient(180deg, rgba(14, 18, 26, 0.72), rgba(18, 24, 34, 0.78)), ${Yi.pattern}`:Yi.pattern:void 0,O=Cr?{backgroundImage:"none",backgroundColor:Ur?"rgba(57, 64, 93, 0.9)":"rgba(220, 210, 196, 0.95)",borderColor:Ur?"rgba(164, 177, 228, 0.28)":"rgba(78, 67, 56, 0.18)"}:Ir?{backgroundImage:"none",backgroundColor:"var(--bg-card)"}:{backgroundImage:Xa?"linear-gradient(135deg, rgba(var(--accent-rgb), 0.2), rgba(var(--accent-rgb), 0.06) 70%)":"linear-gradient(135deg, rgba(var(--accent-rgb), 0.26), rgba(var(--accent-rgb), 0.08) 70%)"},z=Cr?{backgroundColor:Ur?"#39405d":"#c9bead"}:Ir?{backgroundColor:"var(--bg-card)"}:{backgroundColor:rbe(fa,Xa?.42:.34)};g.useEffect(()=>{let P=!0;const W=V?`${ua}reports/${V}/report.json`:`${ua}report.json`;$(null),r(null),a(null),o(null),f(null),u(!1),m(0),re(V?W:null);const X=G=>{var te,Q,Ie;const he=new Set((((te=G==null?void 0:G.meta)==null?void 0:te.commanders)||[]).map(le=>String(le)));if(he.size===0)return G;const q=G.stats;return(Q=q==null?void 0:q.leaderboards)!=null&&Q.closestToTag&&(q.leaderboards.closestToTag=q.leaderboards.closestToTag.map(le=>he.has(String(le==null?void 0:le.account))?{...le,value:0}:le)),(Ie=q==null?void 0:q.closestToTag)!=null&&Ie.player&&he.has(String(q.closestToTag.player))&&(q.closestToTag={...q.closestToTag,value:0}),G},ye=G=>{var Ie,le,ne,Xe,je;const he=G==null?void 0:G.stats;if(!he||typeof he!="object")return G;const q=Array.isArray((Ie=he==null?void 0:he.leaderboards)==null?void 0:Ie.downContrib)?he.leaderboards.downContrib:[];if(!q.length)return G;const Q=q.map(ke=>({...ke,value:Number((ke==null?void 0:ke.value)??0)})).filter(ke=>Number.isFinite(ke.value)).sort((ke,Ge)=>Ge.value-ke.value||String((ke==null?void 0:ke.account)||"").localeCompare(String((Ge==null?void 0:Ge.account)||"")))[0];return Q&&(he.maxDownContrib={...he.maxDownContrib||{},value:Number(Q.value||0),player:String(Q.account||((le=he.maxDownContrib)==null?void 0:le.player)||"-"),count:Number(Q.count||((ne=he.maxDownContrib)==null?void 0:ne.count)||0),profession:String(Q.profession||((Xe=he.maxDownContrib)==null?void 0:Xe.profession)||"Unknown"),professionList:Array.isArray(Q.professionList)?Q.professionList:((je=he.maxDownContrib)==null?void 0:je.professionList)||[]}),G},De=G=>{var te,Q,Ie,le,ne;if(K)return;const he=(te=G==null?void 0:G.stats)==null?void 0:te.uiTheme;he==="modern"||he==="classic"||he==="crt"||he==="matte"||he==="kinetic"?de(he):((Q=G==null?void 0:G.stats)==null?void 0:Q.webThemeId)===K0?de("matte"):(((Ie=G==null?void 0:G.stats)==null?void 0:Ie.webThemeId)===G0||((le=G==null?void 0:G.stats)==null?void 0:le.webThemeId)===Kc)&&de("kinetic");const q=K1((ne=G==null?void 0:G.stats)==null?void 0:ne.webThemeId);q?H(q):yy(G==null?void 0:G.stats)&&H(Kc)},F=(G=!1)=>fetch(`${ua}reports/index.json`,{cache:"no-store"}).then(he=>he.ok?he.json():Promise.reject()).then(he=>{P&&a(Array.isArray(he)?he:[])}).catch(()=>{if(P)throw G||$("No report data found."),new Error("index-missing")}),U=()=>fetch(W,{cache:"no-store"}).then(G=>G.ok?G.json():Promise.reject()).then(G=>{if(!P)return;const he=ye(X(G));r(he),De(he)});return be?(F(),()=>{P=!1}):V?(U().catch(()=>{if(V){if(!P)return;$("Report not found yet. It may still be deploying.")}F()}),()=>{P=!1}):(F(!0).catch(()=>{U().catch(()=>{P&&$("No report data found.")})}),()=>{P=!1})},[ua,be,V,K]),g.useEffect(()=>{if(!be||!i){u(!1),f(null),o(null),m(0);return}if(i.length===0){u(!1),f(null),o(AE([])),m(0);return}let P=!0;return u(!0),f(null),m(i.length),(async()=>{const X=[];if(await Promise.all(i.map(async De=>{try{const F=await fetch(`${ua}reports/${De.id}/report.json`,{cache:"no-store"});if(!F.ok)return;const U=await F.json();if(!P)return;X.push(U)}catch{}})),!P)return;const ye=AE(X);o(ye),u(!1),X.length===0&&f("Unable to load any report payloads for All Reports.")})(),()=>{P=!1}},[ua,i,be]),g.useEffect(()=>{if(n){const P=n.meta.dateLabel||EE(n.meta.dateStart,n.meta.dateEnd);document.title=P?`ArcBridge  ${n.meta.title}  ${P}`:`ArcBridge  ${n.meta.title}`;return}if(be){document.title="ArcBridge  All Reports";return}document.title="ArcBridge Reports"},[be,n]),g.useEffect(()=>{var W;if(K)return;const P=K1((W=n==null?void 0:n.stats)==null?void 0:W.webThemeId);if(P){H(P);return}yy(n==null?void 0:n.stats)&&H(Kc)},[n,K]),g.useEffect(()=>{const P=document.body;P.classList.add("web-report"),P.classList.remove("theme-classic","theme-modern","theme-crt","theme-matte","theme-kinetic","theme-kinetic-dark","theme-kinetic-font-original"),Ir?P.classList.add("theme-matte"):Y==="modern"?P.classList.add("theme-modern"):Y==="crt"?P.classList.add("theme-crt"):Y==="kinetic"?(P.classList.add("theme-kinetic"),Ur&&P.classList.add("theme-kinetic-dark"),me==="original"&&P.classList.add("theme-kinetic-font-original")):P.classList.add("theme-classic")},[Y,Ir,Ur,me]),g.useEffect(()=>{var W;if(K||Ao&&((W=n==null?void 0:n.stats)!=null&&W.webThemeId)||yy(n==null?void 0:n.stats))return;let P=!0;return fetch(Da(Ya,"theme.json"),{cache:"no-store"}).then(X=>X.ok?X.json():Promise.reject()).then(X=>{P&&typeof(X==null?void 0:X.id)=="string"&&X.id&&H(X.id)}).catch(()=>{}),()=>{P=!1}},[Ya,Ao,n,K]),g.useEffect(()=>{var F,U;if(K)return;const P=(F=n==null?void 0:n.stats)==null?void 0:F.webThemeId,W=(U=n==null?void 0:n.stats)==null?void 0:U.uiTheme;if((W==="modern"||W==="classic"||W==="crt"||W==="matte"||W==="kinetic")&&!(P===K0&&W!=="matte"||(P===G0||P===Kc)&&W!=="kinetic"||P==="CRT"&&W!=="crt"))return;let De=!0;return fetch(Da(Ya,"ui-theme.json"),{cache:"no-store"}).then(G=>G.ok?G.json():Promise.reject()).then(G=>{if(!De)return;const he=G==null?void 0:G.theme;(he==="modern"||he==="classic"||he==="crt"||he==="matte"||he==="kinetic")&&de(he)}).catch(()=>{}),()=>{De=!1}},[Ya,n,K]),g.useEffect(()=>{let P=!0;return fetch(Da(Ya,"logo.json"),{cache:"no-store"}).then(W=>W.ok?W.json():Promise.reject()).then(W=>{if(!P)return;const X="svg/ArcBridge.svg",ye=W!=null&&W.path?String(W.path):X,De=W!=null&&W.updatedAt?String(W.updatedAt):"",F=Da(Ya,ye),U=De?`${F}?v=${encodeURIComponent(De)}`:F;xe(U),D(!(W!=null&&W.path)||ye===X)}).catch(()=>{P&&(xe(null),D(!1))}),()=>{P=!1}},[Ya]);const pe=g.useMemo(()=>i?[...i].sort((P,W)=>{const X=new Date(P.dateEnd||P.dateStart).getTime();return new Date(W.dateEnd||W.dateStart).getTime()-X}):[],[i]),ze=g.useMemo(()=>{if(!pe.length)return[];const P=ce.trim().toLowerCase();return P?pe.filter(W=>{var De;const X=((De=W.commanders)==null?void 0:De.join(" "))||"";return`${W.title} ${X} ${W.dateLabel}`.toLowerCase().includes(P)}):pe},[pe,ce]),Ne=g.useMemo(()=>{const P=(s==null?void 0:s.sourceReports)||0;return Math.max(0,h-P)},[s,h]),ut=g.useMemo(()=>{const P=new Set;return((s==null?void 0:s.commanderRows)||[]).forEach(W=>{const X=String(W.profession||"").trim();X&&P.add(X)}),["all",...Array.from(P).sort((W,X)=>W.localeCompare(X))]},[s]),Ue=g.useMemo(()=>{const P=new Set;return((s==null?void 0:s.playerRows)||[]).forEach(W=>{const X=String(W.profession||"").trim();X&&P.add(X)}),["all",...Array.from(P).sort((W,X)=>W.localeCompare(X))]},[s]),bt=g.useMemo(()=>{const P=Math.max(1,Number(k||1)),W=p.trim().toLowerCase();return((s==null?void 0:s.commanderRows)||[]).filter(X=>X.runs<P||y!=="all"&&X.profession!==y?!1:W?`${X.account} ${X.profession} ${X.characterNames.join(" ")}`.toLowerCase().includes(W):!0)},[k,y,p,s]),gt=g.useMemo(()=>{const P=Math.max(1,Number(E||1)),W=v.trim().toLowerCase();return((s==null?void 0:s.playerRows)||[]).filter(X=>X.runs<P||N!=="all"&&X.profession!==N?!1:W?`${X.account} ${X.profession} ${X.characterNames.join(" ")}`.toLowerCase().includes(W):!0)},[E,N,v,s]);g.useEffect(()=>{y!=="all"&&(ut.includes(y)||w("all"))},[y,ut]),g.useEffect(()=>{N!=="all"&&(Ue.includes(N)||j("all"))},[N,Ue]);const At=P=>{if(!P){Qxe(H1);return}TE(H1,JSON.stringify({themeId:P}))},Ke=P=>{const W=P===DE?null:P;W&&!Jf.some(X=>X.id===W)||(J(W),At(W),yt(!1))},we=P=>{Ye(P),TE(PE,P),Ae(!1)};g.useEffect(()=>{const P=X=>{if(!Co.current)return;const ye=X.target;Co.current.contains(ye)||jl.current&&jl.current.contains(ye)||(yt(!1),Ae(!1))},W=X=>{X.key==="Escape"&&(yt(!1),Ae(!1))};return window.addEventListener("mousedown",P),window.addEventListener("keydown",W),()=>{window.removeEventListener("mousedown",P),window.removeEventListener("keydown",W)}},[]),g.useEffect(()=>()=>{Gi.current!==null&&(cancelAnimationFrame(Gi.current),Gi.current=null)},[]);const Se=g.useMemo(()=>{if(!K)return"Default";const P=Jf.find(W=>W.id===K);return(P==null?void 0:P.label)||"Default"},[K]),tt=l.jsxs("div",{className:"relative flex items-center gap-2",ref:Co,children:[l.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Theme"}),l.jsxs("button",{type:"button",onClick:()=>yt(P=>!P),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[l.jsx("span",{className:"truncate text-left",children:Se}),l.jsx("span",{className:`transition-transform ${Qe?"rotate-180":""}`,children:""})]}),Qe&&l.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"240px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[l.jsx("button",{type:"button",onClick:()=>Ke(DE),className:"w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] text-gray-200 hover:bg-white/10 transition-colors",children:"Default"}),Jf.map(P=>l.jsx("button",{type:"button",onClick:()=>Ke(P.id),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${K===P.id?"text-[color:var(--accent)]":"text-gray-200"}`,children:P.label},P.id))]})]}),_e=Cr?l.jsxs("div",{className:"relative flex items-center gap-2",ref:jl,children:[l.jsx("div",{className:"text-[9px] uppercase tracking-widest text-gray-400 whitespace-nowrap",children:"Font"}),l.jsxs("button",{type:"button",onClick:()=>Ae(P=>!P),className:"w-[152px] inline-flex items-center justify-between gap-2 rounded-full border px-3 py-1 text-[9px] uppercase tracking-widest text-white transition-colors focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",style:{backgroundColor:"var(--bg-card)",borderColor:"var(--accent-border)"},children:[l.jsx("span",{className:"truncate text-left",children:me==="original"?"Original App":"Kinetic Default"}),l.jsx("span",{className:`transition-transform ${$e?"rotate-180":""}`,children:""})]}),$e&&l.jsxs("div",{className:"absolute right-0 bottom-[calc(100%+6px)] z-20 w-[240px] overflow-y-auto rounded-xl border shadow-2xl backdrop-blur-xl",style:{maxHeight:"180px",backgroundColor:"color-mix(in srgb, var(--bg-card) 92%, black)",borderColor:"var(--accent-border)"},children:[l.jsx("button",{type:"button",onClick:()=>we("default"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${me==="default"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Kinetic Default"}),l.jsx("button",{type:"button",onClick:()=>we("original"),className:`w-full px-3 py-2 text-left text-[10px] uppercase tracking-[0.2em] transition-colors hover:bg-white/10 ${me==="original"?"text-[color:var(--accent)]":"text-gray-200"}`,children:"Original App"})]})]}):null,nt=l.jsxs("div",{className:"rounded-xl border border-white/10 bg-white/5 px-4 py-3 text-[11px] text-gray-500",children:[l.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 mb-2",children:[l.jsx("div",{className:"text-[11px] font-semibold uppercase tracking-[0.35em] text-gray-400",children:"Legal Notice"}),l.jsxs("div",{className:"flex flex-wrap items-end gap-2",children:[l.jsx("div",{className:"min-w-[160px]",children:tt}),_e&&l.jsx("div",{className:"min-w-[160px]",children:_e}),l.jsx("a",{href:"https://github.com/darkharasho/ArcBridge",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"GitHub"}),l.jsx("a",{href:"https://discord.gg/UjzMXMGXEg",target:"_blank",rel:"noreferrer",className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Discord"}),l.jsx("a",{href:"#proof-of-work",onClick:P=>{P.preventDefault(),ot(!0)},className:"px-2.5 py-1 rounded-full text-[9px] uppercase tracking-widest border bg-white/5 text-gray-400 border-white/10 hover:text-white",children:"Proof of Work"})]})]}),l.jsx("p",{children:"ArcBridge is free software by harasho: you can redistribute it and/or modify it under the terms of the GNU General Public License v3.0 only. This program comes with ABSOLUTELY NO WARRANTY."}),l.jsxs("p",{className:"mt-2",children:["Class Icons, artwork, and skill icons are created and owned by Arenanet as detailed in their"," ",l.jsx("a",{href:"https://www.arena.net/en/legal/content-terms-of-use",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"Content Terms of Use"}),". I do not own or profit from this work in any way. Assets were obtained from asset packs distributed by Arenanet. The official statement from the Content Terms of Use:"]}),l.jsx("p",{className:"mt-2",children:" ArenaNet LLC. All rights reserved. NCSOFT, ArenaNet, Guild Wars, Guild Wars 2, GW2, Heart of Thorns, Path of Fire, End of Dragons, Secrets of the Obscure, Janthir Wilds, Visions of Eternity, and all associated logos, designs, and composite marks are trademarks or registered trademarks of NCSOFT Corporation. All other trademarks are the property of their respective owners."}),l.jsxs("p",{className:"mt-2",children:["See the"," ",l.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/LICENSE",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"LICENSE"})," ","and"," ",l.jsx("a",{href:"https://github.com/darkharasho/ArcBridge/blob/main/THIRD_PARTY_NOTICES.md",target:"_blank",rel:"noreferrer",className:"text-blue-300/80 hover:text-blue-200 underline underline-offset-2",children:"THIRD_PARTY_NOTICES.md"})," ","files for full terms and upstream attributions."]})]}),ct=l.jsxs(qxe,{isOpen:Ee,onClose:()=>ot(!1),searchValue:Le,searchFocused:wn,searchResults:Ft,onSearchChange:P=>{ft(P),requestAnimationFrame(()=>_u(P))},onSearchFocus:()=>{tr(!0),requestAnimationFrame(()=>_u(Le))},onSearchBlur:P=>{var W;P&&((W=Ki.current)!=null&&W.contains(P))||tr(!1)},onSearchEnter:()=>{Ft.length>0&&Al(Ft[0].hitId,Ft[0].text)},onSearchResultMouseDown:P=>{tr(!0),Al(P.hitId,P.text)},renderHighlightedMatch:Iu,searchRef:Ki,tocItems:As,activeTocId:Ce,onTocClick:P=>{const W=jo.current;if(!W)return;let X=W.querySelector(`[data-heading-id="${P.id}"]`);if(!X){const ye=P.text.trim().replace(/\s+/g," ");X=Array.from(W.querySelectorAll("h1, h2, h3")).find(F=>(F.textContent||"").trim().replace(/\s+/g," ")===ye)||null}X&&(Kt(P.id),requestAnimationFrame(()=>{const ye=W.getBoundingClientRect(),De=X.getBoundingClientRect(),F=W.scrollTop+(De.top-ye.top)-12;W.scrollTop=Math.max(0,F)}))},contentRef:jo,children:[(Tc.current=new Map,null),l.jsx(wfe,{remarkPlugins:[Ihe],components:{h1:({children:P})=>{const W=Qs(P),X=jr(W);return l.jsx("h1",{id:X,"data-heading-id":X,className:"text-2xl font-bold text-white scroll-mt-6",children:P})},h2:({children:P})=>{const W=Qs(P),X=jr(W);return l.jsx("h2",{id:X,"data-heading-id":X,className:"text-xl font-semibold text-white scroll-mt-6",children:P})},h3:({children:P})=>{const W=Qs(P),X=jr(W);return l.jsx("h3",{id:X,"data-heading-id":X,className:"text-lg font-semibold text-white scroll-mt-6",children:P})},p:({children:P})=>l.jsx("p",{className:"leading-6 text-gray-200",children:P}),ul:({children:P})=>l.jsx("ul",{className:"list-disc pl-5 space-y-1 text-gray-200",children:P}),ol:({children:P})=>l.jsx("ol",{className:"list-decimal pl-5 space-y-1 text-gray-200",children:P}),li:({children:P})=>l.jsx("li",{className:"leading-6",children:P}),blockquote:({children:P})=>l.jsx("blockquote",{className:"border-l-2 border-blue-400/40 pl-4 text-gray-300 italic",children:P}),a:({href:P,children:W})=>l.jsx("a",{className:"text-blue-300 hover:text-blue-200 underline underline-offset-2",href:P,target:"_blank",rel:"noreferrer",children:W}),table:({children:P})=>l.jsx("div",{className:"overflow-x-auto rounded-xl border border-white/10 bg-black/30",children:l.jsx("table",{className:"w-full border-collapse text-left text-sm",children:P})}),th:({children:P})=>l.jsx("th",{className:"border-b border-white/10 bg-white/5 px-3 py-2 text-xs uppercase tracking-wide text-gray-300",children:P}),td:({children:P})=>l.jsx("td",{className:"border-b border-white/10 px-3 py-2 text-gray-200",children:P}),pre:({children:P})=>l.jsx("pre",{className:"overflow-x-auto rounded-xl bg-black/40 p-4 text-xs text-blue-100",children:P}),code:P=>{const{inline:W,children:X}=P;return W===!0?l.jsx("code",{className:"rounded bg-black/40 px-1.5 py-0.5 text-[11px] text-blue-200",children:X}):l.jsx("code",{className:"whitespace-pre-wrap text-blue-100",children:X})}},children:oy})]});if(n){const P=Da(Ya,"svg/ArcBridge.svg"),W=()=>{Gi.current!==null&&(cancelAnimationFrame(Gi.current),Gi.current=null);const Q=window.scrollY||window.pageYOffset||0;if(Q<=1){window.scrollTo({top:0,behavior:"auto"});return}const Ie=320,le=performance.now(),ne=Xe=>{const je=Xe-le,ke=Math.min(1,je/Ie),Ge=1-Math.pow(1-ke,3),rt=Math.max(0,Math.round(Q*(1-Ge)));window.scrollTo({top:rt,behavior:"auto"}),ke<1?Gi.current=requestAnimationFrame(ne):(Gi.current=null,window.scrollTo({top:0,behavior:"auto"}))};Gi.current=requestAnimationFrame(ne)},X=Q=>{cr(()=>{const Ie={};return Yn.forEach(le=>{Ie[le.id]=le.id===Q}),Ie})},ye=Q=>{var le,ne;Cs.current=null,fn(Q);const Ie=Yn.find(Xe=>Xe.id===Q);dn(((ne=(le=Ie==null?void 0:Ie.items)==null?void 0:le[0])==null?void 0:ne.id)||"kdr"),W()},De=Q=>{if(!!!In[Q]){X(Q),ye(Q);return}if(Q!==on){ye(Q);return}cr(le=>({...le,[Q]:!1}))},F=(Q,Ie)=>{In[Q]||X(Q),dn(Ie);const le=Q===on;le||(Cs.current=Ie,fn(Q),requestAnimationFrame(()=>da(Ie))),le&&requestAnimationFrame(()=>da(Ie))},U=Q=>{const Ie=Q.currentTarget;if(!(Ie.scrollHeight>Ie.clientHeight)){window.scrollBy({top:Q.deltaY,behavior:"auto"}),Q.preventDefault();return}const ne=Ie.scrollTop<=0,Xe=Ie.scrollTop+Ie.clientHeight>=Ie.scrollHeight-1;(ne&&Q.deltaY<0||Xe&&Q.deltaY>0)&&(window.scrollBy({top:Q.deltaY,behavior:"auto"}),Q.preventDefault())},G=Q=>{const Ie=Oi.current;if(!Ie)return;const le=Q.target;if(!le||!Ie.contains(le))return;let ne=le;for(;ne&&ne!==Ie;){const je=window.getComputedStyle(ne).overflowY;if((je==="auto"||je==="scroll")&&ne.scrollHeight>ne.clientHeight+1){const Ge=ne.scrollTop<=0,rt=ne.scrollTop+ne.clientHeight>=ne.scrollHeight-1;(Q.deltaY<0&&Ge||Q.deltaY>0&&rt)&&(window.scrollBy({top:Q.deltaY,behavior:"auto"}),Q.preventDefault());return}ne=ne.parentElement}},he=Q=>{const Ie=Math.max(0,6-Q);return{accordionDuration:.5+Ie*.07,itemDuration:.34+Ie*.035,stagger:.05+Ie*.01,delayChildren:.06+Ie*.015}},q=Q=>{const Ie=he(Q);return{open:{transition:{staggerChildren:Ie.stagger,delayChildren:Ie.delayChildren}},closed:{transition:{staggerChildren:Math.max(.02,Ie.stagger*.7),staggerDirection:-1}}}},te={open:{opacity:1,y:0},closed:{opacity:0,y:-2}};return l.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Ir?"var(--bg-base)":Cr?Ur?"#2b3048":"#d8d1c5":Xa?"#0f141c":"#0f172a",backgroundImage:Ir?"none":Po,...ma},children:[!Ir&&!Cr&&l.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),l.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),l.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),l.jsx("div",{className:`fixed inset-0 z-20 bg-black/40 backdrop-blur-sm transition-opacity lg:hidden ${ue?"opacity-100":"opacity-0 pointer-events-none"}`,onClick:()=>S(!1)}),l.jsx("aside",{className:`fixed z-30 top-0 bottom-0 w-64 max-w-[80vw] transition-transform duration-300 lg:hidden ${ue?"translate-x-0":"-translate-x-full"}`,children:l.jsxs("div",{className:"report-nav-sidebar h-full bg-white/5 border-r border-white/10 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.45)] flex flex-col",children:[l.jsxs("div",{className:"px-5 pt-6 pb-4 flex items-center justify-between",children:[l.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"Contents"}),l.jsx("button",{onClick:()=>S(!1),className:"text-gray-400 hover:text-white transition-colors","aria-label":"Close table of contents",children:""})]}),l.jsx("div",{className:"px-5 pb-4",children:l.jsxs("a",{href:Ii,className:"report-back-link w-full inline-flex items-center gap-3 px-4 py-2.5 rounded-xl bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[l.jsx("span",{className:"h-8 w-8 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[l.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),l.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})}),l.jsx("nav",{className:"px-3 pb-6 space-y-2 text-sm overflow-y-auto [overflow-anchor:none]",onWheel:U,children:Yn.map(Q=>{const Ie=Q.icon,le=Q.id===on,ne=!!In[Q.id],Xe=he(Q.items.length),je=q(Q.items.length);return l.jsxs(ao.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-1",children:[l.jsxs("button",{onClick:()=>De(Q.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2 rounded-lg border transition-colors ${le?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[l.jsx(Ie,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),l.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:Q.label}),l.jsx(ao.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:ne?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:l.jsx(pw,{className:"w-4 h-4 text-gray-300"})})]}),l.jsx(ao.div,{initial:!1,animate:ne?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Xe.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:l.jsx(ao.div,{variants:je,initial:!1,animate:ne?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Q.items.map(ke=>{const Ge=ke.icon;return l.jsxs(ao.button,{variants:te,transition:{duration:Xe.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>{F(Q.id,ke.id),S(!1)},className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-md text-[12px] border transition-colors transform-gpu ${Aa===ke.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[l.jsx(Ge,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),ke.label]},ke.id)})})},`${Q.id}-submenu-mobile`)]},Q.id)})})]})}),l.jsx("aside",{className:"report-nav-sidebar hidden lg:flex fixed inset-y-0 left-0 w-64 border-r border-white/10 bg-white/5 backdrop-blur-xl shadow-[0_20px_60px_rgba(0,0,0,0.5)] z-20",children:l.jsxs("div",{className:"flex flex-col w-full",children:[l.jsx("div",{className:"px-6 pt-6 pb-5",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-2xl border border-white/20",style:{backgroundColor:Tl,maskImage:`url(${P})`,WebkitMaskImage:`url(${P})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"65%",WebkitMaskSize:"65%"},"aria-label":"ArcBridge logo"}),l.jsxs("div",{children:[l.jsx("div",{className:"text-[11px] uppercase tracking-[0.4em] text-gray-400",children:"ArcBridge Reports"}),l.jsx("div",{className:"text-sm font-semibold text-white",children:"Navigation"})]})]})}),l.jsx("nav",{className:"px-4 space-y-2 text-sm flex-1 overflow-y-auto [overflow-anchor:none]",onWheel:U,children:Yn.map(Q=>{const Ie=Q.icon,le=Q.id===on,ne=!!In[Q.id],Xe=he(Q.items.length),je=q(Q.items.length);return l.jsxs(ao.div,{layout:"position",transition:{duration:.3,ease:[.22,1,.36,1]},className:"space-y-1",children:[l.jsxs("button",{onClick:()=>De(Q.id),className:`report-nav-group-btn w-full text-left flex items-center gap-3 px-3 py-2.5 rounded-xl border transition-colors ${le?"bg-white/10 text-white border-white/20":"text-gray-300 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[l.jsx(Ie,{className:"report-nav-group-icon w-4 h-4 text-[color:var(--accent)]"}),l.jsx("span",{className:"report-nav-group-label text-[11px] uppercase tracking-[0.22em] whitespace-nowrap min-w-0 truncate",children:Q.label}),l.jsx(ao.span,{className:"report-nav-chevron ml-auto inline-flex shrink-0",animate:{rotate:ne?0:-90},transition:{type:"spring",stiffness:260,damping:28,mass:.86},children:l.jsx(pw,{className:"w-4 h-4 text-gray-300"})})]}),l.jsx(ao.div,{initial:!1,animate:ne?"open":"closed",variants:{open:{height:"auto",opacity:1},closed:{height:0,opacity:0}},transition:{duration:Xe.accordionDuration,ease:[.2,.9,.25,1]},className:"overflow-hidden will-change-[height,opacity]",children:l.jsx(ao.div,{variants:je,initial:!1,animate:ne?"open":"closed",className:"report-nav-submenu space-y-1 pl-2 pt-1","data-nav-submenu-content":!0,children:Q.items.map(ke=>{const Ge=ke.icon;return l.jsxs(ao.button,{variants:te,transition:{duration:Xe.itemDuration,ease:[.2,.9,.25,1]},onClick:()=>F(Q.id,ke.id),className:`report-nav-item-btn w-full text-left flex items-center gap-2 px-2 py-1.5 rounded-lg text-[12px] border transition-colors transform-gpu ${Aa===ke.id?"text-white border-white/20 bg-white/10":"text-gray-200 border-transparent hover:border-white/10 hover:bg-white/10"}`,children:[l.jsx(Ge,{className:"w-3.5 h-3.5 text-[color:var(--accent)]"}),ke.label]},ke.id)})})},`${Q.id}-submenu-desktop`)]},Q.id)})}),l.jsx("div",{className:"border-t border-white/10",children:l.jsxs("a",{href:Ii,className:"report-back-link w-full inline-flex items-center gap-3 px-6 py-4 bg-[color:var(--accent-glow)] text-[10px] uppercase tracking-[0.35em] text-gray-100 transition-colors hover:bg-[color:var(--accent-border)]",children:[l.jsx("span",{className:"h-9 w-9 rounded-full border border-[color:var(--accent-border)] inline-flex items-center justify-center text-[color:var(--accent-strong)]",children:l.jsxs("svg",{className:"h-4 w-4",viewBox:"0 0 24 24",fill:"none","aria-hidden":"true",children:[l.jsx("path",{d:"M19 12H6.5",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round"}),l.jsx("path",{d:"M12 6L6 12L12 18",stroke:"currentColor",strokeWidth:"2.6",strokeLinecap:"round",strokeLinejoin:"round"})]})}),"Back to Reports"]})})]})}),l.jsxs("div",{className:"max-w-[1600px] mx-1 sm:mx-2 lg:mx-auto px-4 pt-3 pb-5 sm:px-6 sm:pt-4 sm:pb-6 lg:pl-[17rem] lg:pr-10 mobile-bottom-pad",children:[l.jsx("div",{className:`${Ai} p-5 sm:p-6 mb-6 mx-1 sm:mx-1 lg:mx-0`,style:O,children:l.jsxs("div",{className:"flex flex-col gap-4 sm:gap-5 lg:flex-row lg:items-center lg:justify-between",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 text-center sm:text-left",children:[Z&&(_?l.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Tl,maskImage:`url(${Z})`,WebkitMaskImage:`url(${Z})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):l.jsx("img",{src:Z,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),l.jsxs("div",{className:"min-w-0",children:[l.jsx("div",{className:"report-brand-label text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge Log Report"}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-1",children:n.meta.title}),l.jsx("div",{className:"text-xs sm:text-sm text-gray-400 mt-2",children:n.meta.dateLabel||EE(n.meta.dateStart,n.meta.dateEnd)})]})]}),l.jsxs("button",{onClick:()=>S(!0),className:"hidden sm:flex lg:hidden px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-xs uppercase tracking-widest text-gray-300 hover:border-white/30 transition-colors items-center gap-2",children:[l.jsx(wC,{className:"w-4 h-4"}),"Contents"]}),l.jsxs("div",{className:"grid grid-cols-2 gap-2 sm:flex sm:flex-wrap sm:overflow-visible pr-1 sm:pr-2",children:[l.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2 min-w-0 justify-start",children:[l.jsx(O8,{className:"w-4 h-4 text-[color:var(--accent)]"}),n.meta.dateLabel||"Log Range"]}),l.jsxs("div",{className:"col-span-2 sm:col-span-1 px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[l.jsx(Cd,{className:"w-4 h-4 text-[color:var(--accent)]"}),l.jsx("span",{className:"truncate",children:n.meta.commanders.length?n.meta.commanders.join(", "):"No Commanders"})]}),l.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 flex items-center gap-2 min-w-0",children:[l.jsx(rI,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Report ",n.meta.appVersion?`v${n.meta.appVersion}`:"build"]})]})]})}),l.jsxs("div",{className:"sm:hidden mb-4",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400 mb-2",children:"Jump to"}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pr-2 pb-1 snap-x snap-mandatory",children:((ur==null?void 0:ur.items)||[]).map(Q=>{const Ie=Q.icon;return l.jsxs("button",{onClick:()=>F((ur==null?void 0:ur.id)||"overview",Q.id),className:`group flex items-center gap-2 px-3 py-2 rounded-full text-[10px] uppercase tracking-widest whitespace-nowrap border bg-gradient-to-br shadow-[0_10px_25px_rgba(0,0,0,0.35)] backdrop-blur-xl transition-all duration-200 active:translate-y-0 active:scale-[0.98] snap-start ${Aa===Q.id?"text-white border-[color:var(--accent-border)] from-[color:var(--accent-glow)] via-white/10 to-transparent":"text-gray-200 border-white/15 from-white/10 via-white/5 to-transparent hover:-translate-y-0.5 hover:border-[color:var(--accent-border)] hover:shadow-[0_18px_35px_rgba(0,0,0,0.45)]"}`,children:[l.jsx("span",{className:"flex items-center justify-center w-6 h-6 rounded-full bg-white/10 border border-white/10 group-hover:border-[color:var(--accent-border)] group-hover:bg-[color:var(--accent-glow)] transition-colors",children:l.jsx(Ie,{className:"w-3 h-3 text-[color:var(--accent)]"})}),Q.label]},`chip-${Q.id}`)})})]}),l.jsx("div",{ref:Oi,onWheelCapture:G,className:"flex-1 min-w-0",children:l.jsx("div",{id:"stats-view-top",children:l.jsx($oe,{logs:[],onBack:()=>{},mvpWeights:void 0,precomputedStats:n.stats,statsViewSettings:(xt=n.stats)==null?void 0:xt.statsViewSettings,embedded:!0,uiTheme:Y,sectionVisibility:Q=>Or.has(Q),dashboardTitle:`Statistics Dashboard - ${(ur==null?void 0:ur.label)||"Overview"}`})})}),l.jsx("div",{className:"mt-10",children:nt})]}),l.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-30 sm:hidden mobile-action-bar",children:l.jsxs("div",{className:"flex items-center justify-between gap-2 rounded-2xl bg-slate-950/70 border border-white/15 backdrop-blur-xl px-3 py-2 shadow-[0_20px_50px_rgba(0,0,0,0.45)]",children:[l.jsxs("a",{href:Ii,className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[l.jsx(hw,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back"]}),l.jsxs("button",{onClick:()=>S(!0),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[l.jsx(wC,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Contents"]}),l.jsxs("button",{onClick:()=>window.scrollTo({top:0,behavior:"smooth"}),className:"flex items-center gap-2 px-3 py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] uppercase tracking-widest text-gray-200",children:[l.jsx(E8,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Top"]})]})}),ct]})}return be?l.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Ir?"var(--bg-base)":Cr?Ur?"#2b3048":"#d8d1c5":Xa?"#0f141c":"#0f172a",backgroundImage:Ir?"none":Po,...ma},children:[!Ir&&!Cr&&l.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),l.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),l.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),l.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[l.jsxs("div",{className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[l.jsxs("div",{className:`${Ai} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:O,children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[Z&&(_?l.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Tl,maskImage:`url(${Z})`,WebkitMaskImage:`url(${Z})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):l.jsx("img",{src:Z,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"All Reports"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Combined commander and player stats across every hosted report."})]})]}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 sm:items-end",children:[l.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center gap-2",children:[l.jsx(um,{className:"w-4 h-4 text-[color:var(--accent)]"}),(s==null?void 0:s.uniqueRaids)||0," Raids"]}),l.jsxs("a",{href:Ii,className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300 inline-flex items-center justify-center gap-2 hover:border-[color:var(--accent-border)] transition-colors",children:[l.jsx(hw,{className:"w-4 h-4 text-[color:var(--accent)]"}),"Back To Reports"]})]})]}),T&&l.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:O,children:[l.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),l.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:T})]}),!T&&!i&&l.jsx("div",{className:`${Ai} p-6 text-gray-300`,style:O,children:"Loading reports..."}),!T&&i&&l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:"grid grid-cols-2 xl:grid-cols-4 gap-3 mb-6",children:[l.jsxs("div",{className:`${Ai} p-4`,style:O,children:[l.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:"Duplicate Uploads"}),l.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:(s==null?void 0:s.duplicateReportsCollapsed)||0})]}),l.jsxs("div",{className:`${Ai} p-4`,style:O,children:[l.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:"Included Raids"}),l.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:(s==null?void 0:s.uniqueRaids)||0})]}),l.jsxs("div",{className:`${Ai} p-4`,style:O,children:[l.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:"Commanders"}),l.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:(s==null?void 0:s.commanderRows.length)||0})]}),l.jsxs("div",{className:`${Ai} p-4`,style:O,children:[l.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:"Players"}),l.jsx("div",{className:"mt-2 text-2xl font-semibold text-white",children:(s==null?void 0:s.playerRows.length)||0})]})]}),(c||d||s)&&l.jsxs("div",{className:`${Ai} px-4 py-3 mb-6 text-xs sm:text-sm text-gray-300`,style:O,children:[c&&l.jsxs("div",{children:["Loading All Reports from ",h," reports..."]}),!c&&d&&l.jsx("div",{className:"text-amber-200",children:d}),!c&&s&&l.jsxs("div",{className:"flex flex-col gap-1",children:[l.jsxs("div",{children:["Loaded ",s.sourceReports," of ",h," hosted reports and aggregated ",s.uniqueRaids," unique raids."]}),(Ne>0||s.duplicateReportsCollapsed>0||s.raidsSkippedMissingRequiredData>0||s.reportsMissingCommanderDetails>0||s.reportsMissingAttendanceDetails>0)&&l.jsxs("div",{className:"text-gray-400",children:[Ne>0?`${Ne} failed to load. `:"",s.duplicateReportsCollapsed>0?`${s.duplicateReportsCollapsed} duplicate uploads were collapsed. `:"",s.raidsSkippedMissingRequiredData>0?`${s.raidsSkippedMissingRequiredData} raid windows were skipped because they did not have both commander and attendance data. `:"",s.reportsMissingCommanderDetails>0?`${s.reportsMissingCommanderDetails} lacked detailed commander stats. `:"",s.reportsMissingAttendanceDetails>0?`${s.reportsMissingAttendanceDetails} lacked attendance data.`:""]})]})]}),!c&&s&&l.jsxs("div",{className:"flex flex-col gap-6",children:[l.jsxs("div",{className:`${Ai} p-4 sm:p-5`,style:O,children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-2 mb-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-[11px] uppercase tracking-widest text-[color:var(--accent-soft)]",children:"Commanders"}),l.jsx("h2",{className:"text-lg sm:text-xl font-semibold mt-1",children:"All Commander Runs"})]}),l.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:"Runs are counted per unique raid"})]}),s.commanderRows.length===0?l.jsx("div",{className:"text-sm text-gray-400",children:"No commander data found yet."}):l.jsxs("div",{className:"rounded-2xl border border-white/5 bg-black/25 overflow-hidden",children:[l.jsx("div",{className:"border-b border-white/5 px-3 py-3 sm:px-4",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_180px_140px_140px] gap-3",children:[l.jsx("input",{type:"search",value:p,onChange:P=>x(P.target.value),placeholder:"Search commanders, character names, or class...",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),l.jsx("select",{value:y,onChange:P=>w(P.target.value),className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",children:ut.map(P=>l.jsx("option",{value:P,className:"bg-slate-900 text-white",children:P==="all"?"All Classes":P},P))}),l.jsxs("select",{value:k,onChange:P=>C(P.target.value),className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",children:[l.jsx("option",{value:"1",className:"bg-slate-900 text-white",children:"Any Raids"}),l.jsx("option",{value:"2",className:"bg-slate-900 text-white",children:"2+ Raids"}),l.jsx("option",{value:"5",className:"bg-slate-900 text-white",children:"5+ Raids"}),l.jsx("option",{value:"10",className:"bg-slate-900 text-white",children:"10+ Raids"})]}),l.jsxs("div",{className:"flex items-center justify-start lg:justify-end px-1 text-[11px] uppercase tracking-widest text-gray-400",children:["Showing ",bt.length," of ",s.commanderRows.length]})]})}),l.jsx("div",{className:"px-3 pb-3 sm:px-4 sm:pb-4",children:l.jsx("div",{className:"max-h-[32rem] overflow-auto rounded-xl border border-white/5",children:l.jsxs("table",{className:"w-full min-w-[860px] text-sm",children:[l.jsx("thead",{className:"sticky top-0 text-[11px] uppercase tracking-widest text-white/85 z-10",style:z,children:l.jsxs("tr",{className:"border-b border-white/10",children:[l.jsx("th",{className:"text-left py-3 pr-4 pl-4 sm:pl-5 font-medium",children:"Commander"}),l.jsx("th",{className:"text-left py-3 pr-4 font-medium",children:"Class"}),l.jsx("th",{className:"text-right py-3 pr-4 font-medium",children:"Runs"}),l.jsx("th",{className:"text-right py-3 pr-4 font-medium",children:"Fights"}),l.jsx("th",{className:"text-right py-3 pr-4 font-medium",children:"KDR"}),l.jsx("th",{className:"text-right py-3 pr-4 font-medium",children:"Kills"}),l.jsx("th",{className:"text-right py-3 pr-4 font-medium",children:"Deaths"}),l.jsx("th",{className:"text-right py-3 pr-4 font-medium",children:"Win %"}),l.jsx("th",{className:"text-right py-3 pr-4 sm:pr-5 font-medium",children:"Last Run"})]})}),l.jsxs("tbody",{children:[bt.map(P=>{const W=P.wins+P.losses,X=W>0?P.wins/W*100:0;return l.jsxs("tr",{className:"border-b border-white/5 align-top hover:bg-white/[0.03]",children:[l.jsxs("td",{className:"py-3 pr-4 pl-4 sm:pl-5",children:[l.jsx("div",{className:"font-medium text-white",children:P.account}),l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:P.characterNames.length>0?P.characterNames.join(", "):"No character names recorded"})]}),l.jsx("td",{className:"py-3 pr-4 text-gray-300",children:P.profession||"--"}),l.jsx("td",{className:"py-3 pr-4 text-right text-white",children:P.runs}),l.jsx("td",{className:"py-3 pr-4 text-right text-white",children:P.fightsLed}),l.jsx("td",{className:"py-3 pr-4 text-right text-white",children:_E(P.kdr)}),l.jsx("td",{className:"py-3 pr-4 text-right text-white",children:P.kills}),l.jsx("td",{className:"py-3 pr-4 text-right text-white",children:P.commanderDeaths}),l.jsxs("td",{className:"py-3 pr-4 text-right text-white",children:[_E(X),"%"]}),l.jsx("td",{className:"py-3 pr-4 sm:pr-5 text-right text-gray-300",children:OE(P.lastSeenTs)})]},P.account)}),bt.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:9,className:"px-4 py-8 text-center text-sm text-gray-400",children:"No commanders match the current filters."})})]})]})})})]})]}),l.jsxs("div",{className:`${Ai} p-4 sm:p-5`,style:O,children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-2 mb-4",children:[l.jsxs("div",{children:[l.jsx("div",{className:"text-[11px] uppercase tracking-widest text-[color:var(--accent-soft)]",children:"Players"}),l.jsx("h2",{className:"text-lg sm:text-xl font-semibold mt-1",children:"Everyone Who Joined"})]}),l.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:"Last seen is based on the report end time"})]}),s.playerRows.length===0?l.jsx("div",{className:"text-sm text-gray-400",children:"No attendance data found yet."}):l.jsxs("div",{className:"rounded-2xl border border-white/5 bg-black/25 overflow-hidden",children:[l.jsx("div",{className:"border-b border-white/5 px-3 py-3 sm:px-4",children:l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-[minmax(0,1fr)_180px_140px_140px] gap-3",children:[l.jsx("input",{type:"search",value:v,onChange:P=>b(P.target.value),placeholder:"Search players, character names, or class...",className:"w-full bg-white/5 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),l.jsx("select",{value:N,onChange:P=>j(P.target.value),className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",children:Ue.map(P=>l.jsx("option",{value:P,className:"bg-slate-900 text-white",children:P==="all"?"All Classes":P},P))}),l.jsxs("select",{value:E,onChange:P=>R(P.target.value),className:"bg-white/5 border border-white/10 rounded-xl px-4 py-2.5 text-sm text-white focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]",children:[l.jsx("option",{value:"1",className:"bg-slate-900 text-white",children:"Any Raids"}),l.jsx("option",{value:"2",className:"bg-slate-900 text-white",children:"2+ Raids"}),l.jsx("option",{value:"5",className:"bg-slate-900 text-white",children:"5+ Raids"}),l.jsx("option",{value:"10",className:"bg-slate-900 text-white",children:"10+ Raids"})]}),l.jsxs("div",{className:"flex items-center justify-start lg:justify-end px-1 text-[11px] uppercase tracking-widest text-gray-400",children:["Showing ",gt.length," of ",s.playerRows.length]})]})}),l.jsx("div",{className:"px-3 pb-3 sm:px-4 sm:pb-4",children:l.jsx("div",{className:"max-h-[32rem] overflow-auto rounded-xl border border-white/5",children:l.jsxs("table",{className:"w-full min-w-[900px] text-sm",children:[l.jsx("thead",{className:"sticky top-0 text-[11px] uppercase tracking-widest text-white/85 z-10",style:z,children:l.jsxs("tr",{className:"border-b border-white/10",children:[l.jsx("th",{className:"text-left py-3 pr-4 pl-4 sm:pl-5 font-medium",children:"Player"}),l.jsx("th",{className:"text-left py-3 pr-4 font-medium",children:"Main Class"}),l.jsx("th",{className:"text-right py-3 pr-4 font-medium",children:"Runs"}),l.jsx("th",{className:"text-right py-3 pr-4 font-medium",children:"Combat Time"}),l.jsx("th",{className:"text-right py-3 pr-4 font-medium",children:"Squad Span"}),l.jsx("th",{className:"text-right py-3 pr-4 sm:pr-5 font-medium",children:"Last Raid"})]})}),l.jsxs("tbody",{children:[gt.map(P=>l.jsxs("tr",{className:"border-b border-white/5 align-top hover:bg-white/[0.03]",children:[l.jsxs("td",{className:"py-3 pr-4 pl-4 sm:pl-5",children:[l.jsx("div",{className:"font-medium text-white",children:P.account}),P.characterNames.length>0&&l.jsx("div",{className:"text-xs text-gray-400 mt-1",children:P.characterNames.join(", ")})]}),l.jsx("td",{className:"py-3 pr-4 text-gray-300",children:P.profession||"--"}),l.jsx("td",{className:"py-3 pr-4 text-right text-white",children:P.runs}),l.jsx("td",{className:"py-3 pr-4 text-right text-white",children:IE(P.combatTimeMs)}),l.jsx("td",{className:"py-3 pr-4 text-right text-white",children:IE(P.squadTimeMs)}),l.jsx("td",{className:"py-3 pr-4 sm:pr-5 text-right text-gray-300",children:OE(P.lastSeenTs)})]},P.account)),gt.length===0&&l.jsx("tr",{children:l.jsx("td",{colSpan:6,className:"px-4 py-8 text-center text-sm text-gray-400",children:"No players match the current filters."})})]})]})})})]})]})]})]})]}),l.jsx("div",{className:"mt-8",children:nt})]}),ct]}):l.jsxs("div",{className:"min-h-screen text-white relative overflow-x-hidden",style:{backgroundColor:Ir?"var(--bg-base)":Cr?Ur?"#2b3048":"#d8d1c5":Xa?"#0f141c":"#0f172a",backgroundImage:Ir?"none":Po,...ma},children:[!Ir&&!Cr&&l.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[l.jsx("div",{className:"absolute -top-32 -right-24 h-80 w-80 rounded-full blur-[140px]",style:{backgroundColor:"var(--accent-glow)"}}),l.jsx("div",{className:"absolute top-40 -left-20 h-72 w-72 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}}),l.jsx("div",{className:"absolute bottom-10 right-10 h-64 w-64 rounded-full blur-[120px]",style:{backgroundColor:"var(--accent-glow-soft)"}})]}),l.jsxs("div",{className:"max-w-[1600px] mx-auto px-4 pt-4 pb-8 sm:px-6 sm:pt-5 sm:pb-10",children:[l.jsxs("div",{id:"report-list-container",className:"rounded-2xl border border-white/5 bg-black/20 p-4 sm:p-6",children:[l.jsxs("div",{id:"report-top",className:`${Ai} p-5 sm:p-6 mb-6 flex flex-col gap-4 lg:flex-row lg:items-center lg:justify-between`,style:O,children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4 min-h-[56px] text-center sm:text-left",children:[Z&&(_?l.jsx("div",{className:"w-16 h-16 sm:w-24 sm:h-24 mx-auto sm:mx-0",style:{backgroundColor:Tl,maskImage:`url(${Z})`,WebkitMaskImage:`url(${Z})`,maskRepeat:"no-repeat",WebkitMaskRepeat:"no-repeat",maskPosition:"center",WebkitMaskPosition:"center",maskSize:"contain",WebkitMaskSize:"contain"},"aria-label":"ArcBridge logo"}):l.jsx("img",{src:Z,alt:"Squad logo",className:"w-16 h-16 sm:w-24 sm:h-24 rounded-lg object-cover mx-auto sm:mx-0"})),l.jsxs("div",{children:[l.jsx("div",{className:"text-xs uppercase tracking-[0.3em] text-[color:var(--accent-soft)]",children:"ArcBridge"}),l.jsx("h1",{className:"text-2xl sm:text-3xl font-bold mt-2",children:"Command Reports"}),l.jsx("p",{className:"text-xs sm:text-sm text-gray-400 mt-1",children:"Select a report to view the full stats dashboard."})]})]}),l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-end gap-3",children:l.jsxs("div",{className:"px-2.5 py-1.5 sm:px-3 sm:py-2 rounded-xl bg-white/5 border border-white/10 text-[10px] sm:text-xs uppercase tracking-widest text-gray-300",children:[ze.length," Reports"]})})]}),l.jsxs("div",{className:`${Ai} px-4 py-3 mb-6 flex flex-col md:flex-row gap-3 md:items-center md:justify-between`,style:O,children:[l.jsx("input",{type:"search",value:ce,onChange:P=>ve(P.target.value),placeholder:"Search reports, commanders, or date...",className:"w-full md:flex-1 bg-white/5 border border-white/10 rounded-lg px-4 py-2 text-sm text-white placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-soft)]"}),l.jsxs("div",{className:"text-[11px] sm:text-xs text-gray-400",children:["Showing ",l.jsx("span",{className:"text-[color:var(--accent)]",children:ze.length})," of"," ",l.jsx("span",{className:"text-[color:var(--accent)]",children:pe.length})]})]}),T&&l.jsxs("div",{className:"mb-6 rounded-2xl border border-amber-400/40 bg-amber-500/10 px-6 py-5 text-amber-100 shadow-xl backdrop-blur-md",style:O,children:[l.jsx("div",{className:"text-sm uppercase tracking-widest text-amber-200/70",children:"Warning"}),l.jsx("div",{className:"mt-2 text-base font-semibold text-white",children:T}),I&&l.jsxs("div",{className:"text-xs text-amber-100/80 mt-2",children:["Looking for: ",l.jsx("span",{className:"text-amber-50",children:I})]})]}),!T&&!i&&l.jsx("div",{className:`${Ai} p-6 text-gray-300`,style:O,children:"Loading reports..."}),!T&&i&&pe.length>0&&l.jsxs("a",{href:Pa,className:`${Ai} mb-4 px-5 py-4 transition-all duration-200 group block overflow-hidden relative hover:-translate-y-0.5`,style:{...O,borderColor:"rgba(var(--accent-rgb), 0.55)",backgroundImage:"linear-gradient(135deg, rgba(var(--accent-rgb), 0.28), rgba(var(--accent-rgb), 0.1) 52%, rgba(255,255,255,0.02) 100%)",boxShadow:"0 22px 50px rgba(0, 0, 0, 0.28), inset 0 1px 0 rgba(255,255,255,0.05)"},children:[l.jsx("div",{className:"absolute inset-y-0 left-0 w-1.5",style:{background:"linear-gradient(180deg, rgba(var(--accent-rgb), 0.95), rgba(var(--accent-rgb), 0.35))"},"aria-hidden":"true"}),l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3 sm:gap-4",children:[l.jsxs("div",{className:"min-w-0 block text-left pl-1 sm:pl-2",children:[l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-[color:var(--accent-border)] bg-[color:var(--accent-glow)] px-2.5 py-1 text-[10px] font-semibold uppercase tracking-[0.2em] text-white",children:[l.jsx(um,{className:"w-3.5 h-3.5"}),"All Reports"]}),l.jsx("span",{className:"text-[11px] uppercase tracking-widest text-white/60",children:"Overview"})]}),l.jsx("div",{className:"text-base sm:text-lg font-semibold mt-2 text-white",children:"Combined Stats Across Every Included Report"}),l.jsxs("div",{className:"text-xs text-gray-300 mt-1 flex items-center gap-2",children:[l.jsx(Er,{className:"w-4 h-4 text-[color:var(--accent)]"}),l.jsx("span",{children:"Cross-report commander totals, roster attendance, and recent participation in one place."})]})]}),l.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-white/60",children:"Source Reports"}),l.jsx("div",{className:"text-lg text-white font-semibold",children:pe.length}),l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-[color:var(--accent-soft)]",children:"Open Summary"})]}),l.jsx("div",{className:"h-10 w-10 rounded-full border border-[color:var(--accent-border)] bg-[color:var(--accent-glow)] inline-flex items-center justify-center",children:l.jsx(yC,{className:"w-5 h-5 text-[color:var(--accent)] opacity-90"})})]})]})]}),ze.length>0&&l.jsx("div",{className:"flex flex-col gap-3",children:ze.map(P=>{var W,X,ye,De;return l.jsx("a",{href:Jxe(Ga,P.id,ie),className:`${Ai} px-5 py-4 hover:border-[color:var(--accent-border)] transition-colors group`,style:O,children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3 sm:gap-4",children:[l.jsxs("div",{className:"min-w-0 block text-left",children:[l.jsx("div",{className:"text-[11px] uppercase tracking-widest text-gray-400",children:P.dateLabel}),l.jsx("div",{className:"text-base sm:text-lg font-semibold mt-1 truncate",children:nbe(P.dateStart)}),l.jsxs("div",{className:"text-xs text-gray-400 mt-1 flex items-center gap-2",children:[l.jsx(Er,{className:"w-4 h-4 text-[color:var(--accent)]"}),l.jsx("span",{className:"truncate",children:P.commanders.length?P.commanders.join(", "):"No Commanders"})]})]}),l.jsxs("div",{className:"flex items-center justify-between sm:justify-end gap-3 sm:gap-4 sm:mt-0 mt-2 w-full sm:w-auto",children:[l.jsx("div",{className:"flex flex-col items-center gap-1 text-[10px] text-gray-400",children:(W=P.summary)!=null&&W.mapSlices&&P.summary.mapSlices.length>0?l.jsxs(l.Fragment,{children:[l.jsx(ibe,{slices:P.summary.mapSlices}),l.jsx("span",{className:"uppercase tracking-widest",children:"Maps"})]}):l.jsxs(l.Fragment,{children:[l.jsx(abe,{value:(X=P.summary)==null?void 0:X.borderlandsPct}),l.jsx("span",{className:"uppercase tracking-widest",children:"Borderlands"})]})}),l.jsxs("div",{className:"flex flex-col items-end gap-1",children:[l.jsx("div",{className:"text-[10px] uppercase tracking-widest text-gray-400",children:"Avg Squad / Enemy"}),l.jsxs("div",{className:"text-sm text-white font-semibold",children:[((ye=P.summary)==null?void 0:ye.avgSquadSize)??"--"," / ",((De=P.summary)==null?void 0:De.avgEnemySize)??"--"]})]}),l.jsx(yC,{className:"w-5 h-5 text-[color:var(--accent)] opacity-60 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity"})]})]})},P.id)})}),!T&&i&&pe.length===0&&l.jsx("div",{className:`${Ai} p-6 text-gray-300`,style:O,children:"No reports uploaded yet."}),!T&&i&&pe.length>0&&ze.length===0&&l.jsx("div",{className:`${Ai} p-6 text-gray-300`,style:O,children:"No reports match your search."})]}),l.jsx("div",{className:"mt-8",children:nt})]}),ct]})}document.documentElement.classList.add("web-report");document.body.classList.add("web-report");wy.createRoot(document.getElementById("root")).render(l.jsx(lx.StrictMode,{children:l.jsx(sbe,{})}));
